/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client=self.webpackChunkwhatsapp_web_client||[]).push([[7964],{92744:e=>{"use strict";e.exports=JSON.parse('{"v":"5.7.4","fr":29.9900054931641,"ip":0,"op":333.000060994453,"w":190,"h":120,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Graphic Outlines 3","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[95,60,0]},"a":{"a":0,"k":[93,58,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[-19.412,-1.227],[-3.848,-0.447],[-24.798,4.416],[-6.722,4.072],[0,0],[0,0]],"o":[[0,0],[0,0],[10.548,0.667],[4.615,0.537],[15.816,-2.817],[3.841,-2.326],[0,0],[0,0]],"v":[[17.037,36.952],[13.568,101.171],[51.662,105.227],[76.735,112.498],[130.934,106.817],[177.896,98.49],[171.776,61.758],[166.995,46.289]],"c":true}},"o":{"a":0,"k":100},"x":{"a":0,"k":0},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.077,0.547],[-0.547,-0.076],[0,0],[0.078,-0.547],[0.546,0.077],[0,0]],"o":[[0.078,-0.547],[0,0],[0.547,0.076],[-0.077,0.547],[0,0],[-0.547,-0.077]],"v":[[-6.272,-0.881],[-5.141,-1.733],[5.422,-0.247],[6.271,0.882],[5.141,1.732],[-5.422,0.248]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[36.164,61.282]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 3","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.078,0.547],[-0.547,-0.077],[0,0],[0.077,-0.547],[0.547,0.077],[0,0]],"o":[[0.078,-0.547],[0,0],[0.547,0.077],[-0.077,0.547],[0,0],[-0.547,-0.077]],"v":[[-8.913,-1.253],[-7.782,-2.104],[8.062,0.123],[8.913,1.252],[7.781,2.103],[-8.062,-0.124]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[39.269,58.352]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 4","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-1.777,-0.25],[0,0],[-0.252,1.778],[0,0],[1.777,0.25],[0,0],[-0.271,-0.271],[0,0],[0.236,-1.664],[0,0]],"o":[[0,0],[1.777,0.25],[0,0],[0.252,-1.778],[0,0],[-0.38,-0.054],[0,0],[1.189,1.187],[0,0],[-0.251,1.776]],"v":[[-9.684,5.488],[11.088,8.407],[14.762,5.641],[15.7,-0.959],[12.938,-4.629],[-15.342,-8.603],[-15.68,-7.925],[-13.525,-5.774],[-12.012,-1.245],[-12.447,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.725,60.837]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 5","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-1.777,-0.25],[0,0],[-0.252,1.778],[0,0],[1.777,0.25],[0,0],[-0.271,-0.271],[0,0],[0.236,-1.664],[0,0]],"o":[[0,0],[1.777,0.25],[0,0],[0.252,-1.778],[0,0],[-0.38,-0.054],[0,0],[1.189,1.187],[0,0],[-0.251,1.776]],"v":[[-9.684,5.488],[11.088,8.407],[14.762,5.641],[15.7,-0.959],[12.938,-4.629],[-15.342,-8.603],[-15.68,-7.925],[-13.525,-5.774],[-12.012,-1.245],[-12.447,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.725,60.837]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 6","bm":0,"hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.171},"t":158,"s":[-10.391,53.124],"to":[1.732,-8.854],"ti":[-1.732,8.854]},{"t":177.000032420475,"s":[0,0]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":268,"s":[100]},{"t":287.000052568792,"s":[0]}]},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 31","bm":0,"hd":false},{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.075,0.547],[-0.547,0.077],[0,0],[-0.076,-0.548],[0.546,-0.076],[0,0]],"o":[[-0.077,-0.547],[0,0],[0.547,-0.077],[0.076,0.547],[0,0],[-0.547,0.076]],"v":[[-6.271,0.882],[-5.419,-0.248],[5.144,-1.732],[6.272,-0.881],[5.419,0.248],[-5.143,1.734]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[141.883,62.682]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 15","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.075,0.547],[-0.547,0.077],[0,0],[-0.076,-0.548],[0.547,-0.077],[0,0]],"o":[[-0.076,-0.548],[0,0],[0.547,-0.077],[0.077,0.547],[0,0],[-0.548,0.077]],"v":[[-8.911,1.253],[-8.059,0.123],[7.784,-2.104],[8.912,-1.252],[8.061,-0.123],[-7.783,2.104]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[144.059,59.01]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 16","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[1.776,-0.25],[0,0],[0.252,1.778],[0,0],[-1.777,0.249],[0,0],[0.272,-0.271],[0,0],[-0.235,-1.664],[0,0]],"o":[[0,0],[-1.779,0.249],[0,0],[-0.252,-1.777],[0,0],[0.38,-0.054],[0,0],[-1.19,1.187],[0,0],[0.252,1.777]],"v":[[9.685,5.488],[-11.087,8.408],[-14.763,5.641],[-15.7,-0.959],[-12.938,-4.628],[15.341,-8.603],[15.68,-7.925],[13.525,-5.773],[12.011,-1.245],[12.446,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[147.837,61.04]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 17","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[1.776,-0.25],[0,0],[0.252,1.778],[0,0],[-1.777,0.249],[0,0],[0.272,-0.271],[0,0],[-0.235,-1.664],[0,0]],"o":[[0,0],[-1.779,0.249],[0,0],[-0.252,-1.777],[0,0],[0.38,-0.054],[0,0],[-1.19,1.187],[0,0],[0.252,1.777]],"v":[[9.685,5.488],[-11.087,8.408],[-14.763,5.641],[-15.7,-0.959],[-12.938,-4.628],[15.341,-8.603],[15.68,-7.925],[13.525,-5.773],[12.011,-1.245],[12.446,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.882000014361,1,0.779999976065,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[147.837,61.04]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 18","bm":0,"hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.171},"t":166,"s":[10.082,50.817],"to":[-1.68,-8.47],"ti":[1.68,8.47]},{"t":186.000034068974,"s":[0,0]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":276,"s":[100]},{"t":295.000054034125,"s":[0]}]},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 32","bm":0,"hd":false}],"ip":150.000027474979,"op":331.00006062812,"st":150.000027474979,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Graphic Outlines","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[95,60,0]},"a":{"a":0,"k":[93,58,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[-19.412,-1.227],[-3.848,-0.447],[-24.798,4.416],[-6.722,4.072],[0,0],[0,0]],"o":[[0,0],[0,0],[10.548,0.667],[4.615,0.537],[15.816,-2.817],[3.841,-2.326],[0,0],[0,0]],"v":[[17.037,36.952],[13.568,101.171],[51.662,105.227],[76.735,112.498],[130.934,106.817],[177.896,98.49],[171.776,61.758],[166.995,46.289]],"c":true}},"o":{"a":0,"k":100},"x":{"a":0,"k":0},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.077,0.547],[-0.547,-0.076],[0,0],[0.078,-0.547],[0.546,0.077],[0,0]],"o":[[0.078,-0.547],[0,0],[0.547,0.076],[-0.077,0.547],[0,0],[-0.547,-0.077]],"v":[[-6.272,-0.881],[-5.141,-1.733],[5.422,-0.247],[6.271,0.882],[5.141,1.732],[-5.422,0.248]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[36.164,61.282]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 3","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.078,0.547],[-0.547,-0.077],[0,0],[0.077,-0.547],[0.547,0.077],[0,0]],"o":[[0.078,-0.547],[0,0],[0.547,0.077],[-0.077,0.547],[0,0],[-0.547,-0.077]],"v":[[-8.913,-1.253],[-7.782,-2.104],[8.062,0.123],[8.913,1.252],[7.781,2.103],[-8.062,-0.124]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[39.269,58.352]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 4","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-1.777,-0.25],[0,0],[-0.252,1.778],[0,0],[1.777,0.25],[0,0],[-0.271,-0.271],[0,0],[0.236,-1.664],[0,0]],"o":[[0,0],[1.777,0.25],[0,0],[0.252,-1.778],[0,0],[-0.38,-0.054],[0,0],[1.189,1.187],[0,0],[-0.251,1.776]],"v":[[-9.684,5.488],[11.088,8.407],[14.762,5.641],[15.7,-0.959],[12.938,-4.629],[-15.342,-8.603],[-15.68,-7.925],[-13.525,-5.774],[-12.012,-1.245],[-12.447,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.725,60.837]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 5","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-1.777,-0.25],[0,0],[-0.252,1.778],[0,0],[1.777,0.25],[0,0],[-0.271,-0.271],[0,0],[0.236,-1.664],[0,0]],"o":[[0,0],[1.777,0.25],[0,0],[0.252,-1.778],[0,0],[-0.38,-0.054],[0,0],[1.189,1.187],[0,0],[-0.251,1.776]],"v":[[-9.684,5.488],[11.088,8.407],[14.762,5.641],[15.7,-0.959],[12.938,-4.629],[-15.342,-8.603],[-15.68,-7.925],[-13.525,-5.774],[-12.012,-1.245],[-12.447,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.725,60.837]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 6","bm":0,"hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":8,"s":[-10.391,53.124],"to":[1.732,-8.854],"ti":[-1.732,8.854]},{"t":25.0000045791631,"s":[0,0]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":118,"s":[100]},{"t":137.000025093814,"s":[0]}]},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 31","bm":0,"hd":false},{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.075,0.547],[-0.547,0.077],[0,0],[-0.076,-0.548],[0.546,-0.076],[0,0]],"o":[[-0.077,-0.547],[0,0],[0.547,-0.077],[0.076,0.547],[0,0],[-0.547,0.076]],"v":[[-6.271,0.882],[-5.419,-0.248],[5.144,-1.732],[6.272,-0.881],[5.419,0.248],[-5.143,1.734]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[141.883,62.682]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 15","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.075,0.547],[-0.547,0.077],[0,0],[-0.076,-0.548],[0.547,-0.077],[0,0]],"o":[[-0.076,-0.548],[0,0],[0.547,-0.077],[0.077,0.547],[0,0],[-0.548,0.077]],"v":[[-8.911,1.253],[-8.059,0.123],[7.784,-2.104],[8.912,-1.252],[8.061,-0.123],[-7.783,2.104]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[144.059,59.01]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 16","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[1.776,-0.25],[0,0],[0.252,1.778],[0,0],[-1.777,0.249],[0,0],[0.272,-0.271],[0,0],[-0.235,-1.664],[0,0]],"o":[[0,0],[-1.779,0.249],[0,0],[-0.252,-1.777],[0,0],[0.38,-0.054],[0,0],[-1.19,1.187],[0,0],[0.252,1.777]],"v":[[9.685,5.488],[-11.087,8.408],[-14.763,5.641],[-15.7,-0.959],[-12.938,-4.628],[15.341,-8.603],[15.68,-7.925],[13.525,-5.773],[12.011,-1.245],[12.446,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[147.837,61.04]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 17","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[1.776,-0.25],[0,0],[0.252,1.778],[0,0],[-1.777,0.249],[0,0],[0.272,-0.271],[0,0],[-0.235,-1.664],[0,0]],"o":[[0,0],[-1.779,0.249],[0,0],[-0.252,-1.777],[0,0],[0.38,-0.054],[0,0],[-1.19,1.187],[0,0],[0.252,1.777]],"v":[[9.685,5.488],[-11.087,8.408],[-14.763,5.641],[-15.7,-0.959],[-12.938,-4.628],[15.341,-8.603],[15.68,-7.925],[13.525,-5.773],[12.011,-1.245],[12.446,1.819]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.882000014361,1,0.779999976065,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[147.837,61.04]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 18","bm":0,"hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":16,"s":[10.082,50.817],"to":[-1.68,-8.47],"ti":[1.68,8.47]},{"t":34.0000062276618,"s":[0,0]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":126,"s":[100]},{"t":145.000026559146,"s":[0]}]},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 32","bm":0,"hd":false}],"ip":0,"op":150.000027474979,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Graphic Outlines 2","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[95,60,0]},"a":{"a":0,"k":[93,58,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.717,0.104],[0.099,-0.71],[-0.716,-0.104],[-0.099,0.71]],"o":[[-0.72,-0.104],[-0.099,0.706],[0.72,0.104],[0.099,-0.706]],"v":[[0.185,-1.292],[-1.303,-0.183],[-0.185,1.292],[1.303,0.183]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[29.352,19.516]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 1","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.717,0.104],[0.099,-0.71],[-0.716,-0.104],[-0.099,0.71]],"o":[[-0.72,-0.104],[-0.099,0.706],[0.72,0.104],[0.099,-0.706]],"v":[[0.185,-1.292],[-1.303,-0.183],[-0.185,1.292],[1.303,0.183]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[29.352,19.516]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 2","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.394,-2.817],[0,0],[2.817,0.395],[0,0],[-0.394,2.816],[0,0],[-2.816,-0.396],[0,0],[0,0],[0,0]],"o":[[0,0],[-0.394,2.815],[0,0],[-2.816,-0.394],[0,0],[0.395,-2.817],[0,0],[0,0],[0,0],[2.817,0.396]],"v":[[26.064,-36.057],[15.164,41.852],[9.351,46.236],[-21.678,41.874],[-26.064,36.057],[-15.165,-41.85],[-9.351,-46.234],[-4.565,-45.561],[16.891,-42.546],[21.677,-41.873]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.7},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.874,59.969]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 7","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.394,-2.817],[0,0],[2.817,0.395],[0,0],[-0.394,2.816],[0,0],[-2.816,-0.396],[0,0],[0,0],[0,0]],"o":[[0,0],[-0.394,2.815],[0,0],[-2.816,-0.394],[0,0],[0.395,-2.817],[0,0],[0,0],[0,0],[2.817,0.396]],"v":[[26.064,-36.057],[15.164,41.852],[9.351,46.236],[-21.678,41.874],[-26.064,36.057],[-15.165,-41.85],[-9.351,-46.234],[-4.565,-45.561],[16.891,-42.546],[21.677,-41.873]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.933000033509,0.995999983245,0.980000035903,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.874,59.969]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 8","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.91,-0.549],[0,0],[0.547,-3.91],[0,0],[3.91,0.549],[0,0],[-0.547,3.911],[0,0]],"o":[[0,0],[3.91,0.55],[0,0],[-0.547,3.911],[0,0],[-3.91,-0.55],[0,0],[0.547,-3.911]],"v":[[-9.926,-49.345],[23.083,-44.706],[29.173,-36.63],[17.997,43.259],[9.925,49.345],[-23.083,44.706],[-29.173,36.63],[-17.997,-43.259]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.7},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[39.123,60.3]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 9","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.91,-0.549],[0,0],[0.547,-3.91],[0,0],[3.91,0.549],[0,0],[-0.547,3.911],[0,0]],"o":[[0,0],[3.91,0.55],[0,0],[-0.547,3.911],[0,0],[-3.91,-0.55],[0,0],[0.547,-3.911]],"v":[[-9.926,-49.345],[23.083,-44.706],[29.173,-36.63],[17.997,43.259],[9.925,49.345],[-23.083,44.706],[-29.173,36.63],[-17.997,-43.259]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[39.123,60.3]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 10","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.909,-0.549],[0,0],[0.547,-3.908],[0,0],[3.909,0.548],[0,0],[-0.547,3.909],[0,0]],"o":[[0,0],[3.909,0.549],[0,0],[-0.546,3.909],[0,0],[-3.909,-0.55],[0,0],[0.546,-3.909]],"v":[[-9.926,-49.342],[23.083,-44.702],[29.17,-36.63],[17.993,43.259],[9.926,49.342],[-23.083,44.703],[-29.17,36.63],[-17.993,-43.258]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.706},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.79,63.987]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 11","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.909,-0.549],[0,0],[0.547,-3.908],[0,0],[3.909,0.548],[0,0],[-0.547,3.909],[0,0]],"o":[[0,0],[3.909,0.549],[0,0],[-0.546,3.909],[0,0],[-3.909,-0.55],[0,0],[0.546,-3.909]],"v":[[-9.926,-49.342],[23.083,-44.702],[29.17,-36.63],[17.993,43.259],[9.926,49.342],[-23.083,44.703],[-29.17,36.63],[-17.993,-43.258]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[38.79,63.987]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 12","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.717,-0.098],[-0.101,-0.71],[-0.716,0.099],[0.102,0.71]],"o":[[-0.722,0.099],[0.1,0.706],[0.722,-0.098],[-0.099,-0.706]],"v":[[-0.178,-1.293],[-1.303,0.184],[0.177,1.292],[1.302,-0.184]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[128.168,23.801]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 13","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0.717,-0.098],[-0.101,-0.71],[-0.716,0.099],[0.102,0.71]],"o":[[-0.722,0.099],[0.1,0.706],[0.722,-0.098],[-0.099,-0.706]],"v":[[-0.178,-1.293],[-1.303,0.184],[0.177,1.292],[1.302,-0.184]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[128.168,23.801]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 14","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.397,-2.81],[0,0],[2.81,-0.394],[0,0],[0.395,2.808],[0,0],[-2.811,0.395],[0,0],[0,0],[0,0]],"o":[[0,0],[0.397,2.81],[0,0],[-2.81,0.394],[0,0],[-0.398,-2.81],[0,0],[0,0],[0,0],[2.811,-0.395]],"v":[[15.104,-41.842],[26.101,36.052],[21.731,41.854],[-9.297,46.216],[-15.103,41.844],[-26.1,-36.051],[-21.731,-41.854],[-16.944,-42.527],[4.511,-45.542],[9.297,-46.215]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.724},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[148.471,60.063]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 19","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.397,-2.81],[0,0],[2.81,-0.394],[0,0],[0.395,2.808],[0,0],[-2.811,0.395],[0,0],[0,0],[0,0]],"o":[[0,0],[0.397,2.81],[0,0],[-2.81,0.394],[0,0],[-0.398,-2.81],[0,0],[0,0],[0,0],[2.811,-0.395]],"v":[[15.104,-41.842],[26.101,36.052],[21.731,41.854],[-9.297,46.216],[-15.103,41.844],[-26.1,-36.051],[-21.731,-41.854],[-16.944,-42.527],[4.511,-45.542],[9.297,-46.215]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.933000033509,0.995999983245,0.980000035903,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[148.471,60.063]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 20","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.904,0.549],[0,0],[-0.551,-3.904],[0,0],[3.904,-0.549],[0,0],[0.552,3.903],[0,0]],"o":[[0,0],[3.903,-0.548],[0,0],[0.55,3.903],[0,0],[-3.903,0.549],[0,0],[-0.551,-3.904]],"v":[[-23.14,-44.686],[9.869,-49.325],[17.935,-43.25],[29.212,36.624],[23.141,44.686],[-9.869,49.324],[-17.935,43.25],[-29.211,-36.624]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.724},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[148.849,60.347]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 21","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.904,0.549],[0,0],[-0.551,-3.904],[0,0],[3.904,-0.549],[0,0],[0.552,3.903],[0,0]],"o":[[0,0],[3.903,-0.548],[0,0],[0.55,3.903],[0,0],[-3.903,0.549],[0,0],[-0.551,-3.904]],"v":[[-23.14,-44.686],[9.869,-49.325],[17.935,-43.25],[29.212,36.624],[23.141,44.686],[-9.869,49.324],[-17.935,43.25],[-29.211,-36.624]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[148.849,60.347]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 22","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.911,0.549],[0,0],[-0.553,-3.91],[0,0],[3.91,-0.55],[0,0],[0.552,3.91],[0,0]],"o":[[0,0],[3.91,-0.55],[0,0],[0.552,3.91],[0,0],[-3.91,0.549],[0,0],[-0.552,-3.91]],"v":[[-23.142,-44.697],[9.867,-49.336],[17.947,-43.252],[29.223,36.623],[23.142,44.698],[-9.867,49.337],[-17.947,43.253],[-29.223,-36.622]],"c":true}},"nm":"Path 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.19199999641,0.39199999641,0.455000005984,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":1.7},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[149.223,63.987]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 23","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-3.911,0.549],[0,0],[-0.553,-3.91],[0,0],[3.91,-0.55],[0,0],[0.552,3.91],[0,0]],"o":[[0,0],[3.91,-0.55],[0,0],[0.552,3.91],[0,0],[-3.91,0.549],[0,0],[-0.552,-3.91]],"v":[[-23.142,-44.697],[9.867,-49.336],[17.947,-43.252],[29.223,36.623],[23.142,44.698],[-9.867,49.337],[-17.947,43.253],[-29.223,-36.622]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.795999983245,0.647000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[149.223,63.987]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 24","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[-0.304,-0.304],[0.259,-0.344],[0,0],[0.839,0.84],[-0.951,0.712]],"o":[[0.344,-0.258],[0.305,0.305],[0,0],[-0.712,0.95],[-0.84,-0.84],[0,0]],"v":[[2.833,-4.044],[3.963,-3.964],[4.043,-2.833],[-0.103,2.788],[-3.462,3.462],[-3.253,0.521]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[93.5,56.7]},"a":{"a":0,"k":[-2.5,2.4]},"s":{"a":0,"k":[100,100]},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":33,"s":[710]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":60,"s":[710]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":63,"s":[720]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":91,"s":[720]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":94,"s":[730]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":120,"s":[730]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":123,"s":[740]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":150,"s":[740]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":153,"s":[750]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":180,"s":[750]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":183,"s":[760]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":210,"s":[760]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":213,"s":[770]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":240,"s":[770]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":243,"s":[780]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":270,"s":[780]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":273,"s":[790]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":295,"s":[790]},{"t":312.000057147956,"s":[1070]}]},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 25","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,-7.456],[-7.456,0],[0,0],[0,5.799],[-5.799,0]],"o":[[0,0],[-7.456,0],[0,7.456],[0,0],[-5.799,0],[0,-5.799],[0,0]],"v":[[6.75,-13.5],[6.75,-13.5],[-6.75,0],[6.75,13.5],[6.75,10.5],[-3.75,0],[6.75,-10.5]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[86.251,56]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 26","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.33,0.211],[0.445,0.699],[0.698,-0.446],[0.271,-0.142],[-0.383,-0.734],[-0.735,0.383]],"o":[[0.699,-0.446],[-0.446,-0.699],[-0.258,0.164],[-0.735,0.383],[0.384,0.734],[0.349,-0.183]],"v":[[0.505,11.387],[0.963,9.315],[-1.108,8.858],[-1.901,9.317],[-2.538,11.34],[-0.514,11.977]],"c":true}},"nm":"Path 1","hd":false},{"ind":1,"ty":"sh","ks":{"a":0,"k":{"i":[[-0.182,0.348],[0.735,0.384],[0.383,-0.734],[0.164,-0.258],[-0.699,-0.446],[-0.444,0.698]],"o":[[0.383,-0.736],[-0.733,-0.383],[-0.142,0.271],[-0.447,0.698],[0.697,0.445],[0.211,-0.331]],"v":[[5.226,6.237],[4.59,4.212],[2.567,4.849],[2.109,5.642],[2.566,7.713],[4.636,7.256]],"c":true}},"nm":"Path 2","hd":false},{"ind":2,"ty":"sh","ks":{"a":0,"k":{"i":[[0.009,0.195],[0.828,-0.036],[-0.035,-0.828],[0,-0.154],[0.007,-0.153],[-0.827,-0.036],[-0.035,0.827],[0,0.197]],"o":[[-0.035,-0.828],[-0.827,0.035],[0.007,0.152],[0,0.155],[-0.035,0.827],[0.828,0.035],[0.009,-0.196],[0,-0.196]],"v":[[6.737,-0.588],[5.174,-2.022],[3.74,-0.459],[3.75,0],[3.74,0.46],[5.174,2.023],[6.737,0.589],[6.75,0]],"c":true}},"nm":"Path 3","hd":false},{"ind":3,"ty":"sh","ks":{"a":0,"k":{"i":[[0.211,0.33],[0.697,-0.445],[-0.447,-0.698],[-0.142,-0.271],[-0.733,0.383],[0.383,0.735]],"o":[[-0.444,-0.698],[-0.699,0.446],[0.164,0.257],[0.383,0.735],[0.735,-0.383],[-0.182,-0.349]],"v":[[4.636,-7.255],[2.566,-7.713],[2.109,-5.641],[2.567,-4.848],[4.59,-4.212],[5.226,-6.236]],"c":true}},"nm":"Path 4","hd":false},{"ind":4,"ty":"sh","ks":{"a":0,"k":{"i":[[0.349,0.182],[0.384,-0.734],[-0.735,-0.383],[-0.258,-0.163],[-0.446,0.699],[0.699,0.446]],"o":[[-0.735,-0.383],[-0.383,0.735],[0.271,0.141],[0.698,0.446],[0.445,-0.698],[-0.33,-0.211]],"v":[[-0.514,-11.976],[-2.538,-11.34],[-1.901,-9.316],[-1.108,-8.858],[0.963,-9.315],[0.505,-11.386]],"c":true}},"nm":"Path 5","hd":false},{"ind":5,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[-0.153,-0.006],[-0.036,0.828],[0.828,0.036],[0.197,0]],"o":[[0.154,0],[0.827,0.036],[0.035,-0.828],[-0.195,-0.008],[0,0]],"v":[[-6.75,-10.5],[-6.29,-10.49],[-4.727,-11.924],[-6.162,-13.487],[-6.75,-13.5]],"c":true}},"nm":"Path 6","hd":false},{"ind":6,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[-0.195,0.008],[0.035,0.827],[0.827,-0.036],[0.154,0]],"o":[[0.197,0],[0.828,-0.036],[-0.036,-0.828],[-0.153,0.006],[0,0]],"v":[[-6.75,13.5],[-6.162,13.488],[-4.727,11.925],[-6.29,10.491],[-6.75,10.5]],"c":true}},"nm":"Path 7","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.536999990426,0.481999984442,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[99.75,56]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 27","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,2.872],[-2.882,0],[-0.452,-0.127],[-3.481,0],[0,-4.308],[0,0],[-0.761,0],[0,-2.299],[2.306,0]],"o":[[0,0],[-2.882,0],[0,-2.873],[0.493,0],[1.017,-3.132],[4.323,0],[0,0],[0.614,-0.354],[2.306,0],[0,2.298],[0,0]],"v":[[-8.833,7.801],[-8.872,7.801],[-14.091,2.601],[-8.872,-2.6],[-7.449,-2.405],[0,-7.802],[7.828,0],[7.828,0.036],[9.916,-0.52],[14.091,3.641],[9.916,7.801]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[74.091,87.801]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 28","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[0,2.872],[-2.882,0],[-0.452,-0.127],[-3.481,0],[0,-4.309],[0,0],[-0.761,0],[0,-2.297],[2.305,0]],"o":[[-2.882,0],[0,-2.872],[0.493,0],[1.017,-3.132],[4.323,0],[0,0],[0.614,-0.354],[2.305,0],[0,2.298],[0,0]],"v":[[-8.872,7.801],[-14.091,2.6],[-8.872,-2.601],[-7.449,-2.405],[0,-7.802],[7.828,0],[7.828,0.036],[9.916,-0.52],[14.091,3.64],[9.916,7.801]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[167.091,39.801]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 29","bm":0,"hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[-21.078,6.951],[2.365,29.357],[27.324,-13.139],[26.548,0],[2.517,-25.241],[-27.153,-8.154]],"o":[[21.814,-7.195],[-3.596,-44.604],[-37.066,17.824],[-19.773,0],[-1.824,18.295],[49.419,14.839]],"v":[[56.81,46.564],[92.775,-10.294],[17.995,-52.824],[-50.314,-32.078],[-92.737,2.499],[-60.07,44.918]],"c":true}},"nm":"Path 1","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8,0.936999990426,0.922000002394,1]},"o":{"a":0,"k":100},"r":1,"bm":0,"nm":"Fill 1","hd":false},{"ty":"tr","p":{"a":0,"k":[93,58]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"Group 30","bm":0,"hd":false}],"ip":0,"op":340.000062276618,"st":0,"bm":0}],"markers":[]}')},78077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a=3988292384,n=4294967295;let r;function i(e,t){let n=t;for(r||(r=function(){const e=new Uint32Array(256);for(let t=0,n=0,r=0;t<256;n=++t){for(r=0;r<8;++r)n=1&n?n>>>1^a:n>>>1;e[t]=n}return e}());e.size();)n=r[255&(n^e.readUint8())]^n>>>8;return~n>>>0}t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return e.peek(i,t)}},33693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=e.findIndex(t);if(-1===a)return;if(a>=e.length-1)return;return e[a+1]}},63116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a,n=!1;for(a=0;a<e.length;a++)if(e[a]===t){n=!0;break}if(n){const t=e[a];e.splice(a,1),e.unshift(t)}}},13752:(e,t)=>{"use strict";function a(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(((e,a)=>n(e,t[a])))}},52047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(null==e)return;let n=[];n.push(e);for(;n.length;){const e=n.shift();if(!0===a(e))return e;n=n.concat(t(e))}}},9384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return/\s\s+/.test(e)?e.replace(/\s\s+/g,(e=>{let a="";for(let n=0;n<e.length;n++){a+=!0===t&&"\n"===e[n]?"\n":" "}return a})):e}},51498:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AddToCartStatus=void 0,t.addProductToCart=function(e){const{id:t,name:a,imageHash:n,currency:c}=e,f=e.catalogWid.toString(),h=r.CartCollection.findCart(f),p=h.cartItemCollection.get(t),m=(null==p?void 0:p.quantity)||0,g=Math.min(m+1,i.MAX_QUANTITY),_={id:t,priceAmount1000:(0,s.getActivePrice)(e),currency:c,name:a,imageHash:n,quantity:g};h.cartItemCollection.add(_,{merge:!0}),h.trigger("change:cartItemCollection");const v=m+1>i.MAX_QUANTITY?d.QUANTITY_LIMIT_REACHED:d.SUCCESS;return(0,u.default)(h,l.QuickLogMarkerId.WHATSAPP_CART_ADD).then((()=>{v===d.SUCCESS?o.QPL.markerEnd(l.QuickLogMarkerId.WHATSAPP_CART_ADD,o.QuickLogActionType.SUCCESS):v===d.QUANTITY_LIMIT_REACHED&&o.QPL.markerDrop(l.QuickLogMarkerId.WHATSAPP_CART_ADD)})).catch((()=>{o.QPL.markerEnd(l.QuickLogMarkerId.WHATSAPP_CART_ADD,o.QuickLogActionType.FAIL)})),{newCount:g,status:v}};var r=a(12392),i=a(9581),s=a(13151),o=a(48870),l=a(27798),u=n(a(38260));const d=a(76672).Mirrored(["SUCCESS","QUANTITY_LIMIT_REACHED"]);t.AddToCartStatus=d},56829:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,l){const{CartFlowLoadable:u}=a(95568);if(t&&t.id.toString()===e)return(0,o.jsx)(u,{sellerJid:e,chat:t});r.ModalManager.open((0,o.jsx)(s.OpenChatFlow,{chatId:(0,i.createWid)(e),onSuccess:t=>{window.setTimeout((()=>{n.DrawerManager.openDrawerRight((0,o.jsx)(u,{sellerJid:e,chat:t}),"slide-left",void 0,l||void 0)}),100)},msgText:null}),{transition:"modal-flow"})};var n=a(41455),r=a(14597),i=a(45454),s=a(61585),o=a(85893)},38260:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.updateCart)(e,t)};var n=a(6878)},48456:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("function"==typeof BigInt?BigInt:Number)(String(Date.now())+Math.random().toFixed(4).slice(-4)).toString(36).toUpperCase()}},9538:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOrder=function(e,t){return(0,n.createOrder)(e,t)},t.queryOrder=function(e,t,a,r,i){return(0,n.queryOrder)(e,t,a,r,i)};var n=a(68825)},96866:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openOrderDetailDrawer=function(e,t){n.DrawerManager.openDrawerRight((0,s.jsx)(i.ProductDetailsFlowLoadable,{chat:e.chat,sellerJid:e.sender.toJid(),orderInfo:(0,r.getOrderInfo)(e),processedOrderMessage:e}),"slide-left",t)};var n=a(41455),r=a(34841),i=a(67455),s=a(85893)},50218:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.openShopStorefront=function(e){r.default.open(`https://facebook.com/${e}/shop/`)};var r=n(a(79264))},20052:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.removeDirectConnectionKeysForChat=_,t.sendDelete=function(e){return b((0,p.unproxy)(e))};var r=n(a(48926)),i=a(88555),s=a(8139),o=a(94816),l=a(48360),u=a(46331),d=a(63183),c=a(77772),f=n(a(14296)),h=a(16770),p=a(18146),m=a(85893);function g(e){let t;switch(e){case d.CHAT_KIND.GROUP:t=f.default.t(53);break;case d.CHAT_KIND.BROADCAST:t=f.default.t(13);break;case d.CHAT_KIND.CHAT:default:t=f.default.t(22)}return new u.ActionType(t)}function _(){return v.apply(this,arguments)}function v(){return(v=(0,r.default)((function*(e){const{removeDirectConnectionKeys:t}=yield a.e(2191).then(a.bind(a,43119));yield t(e)}))).apply(this,arguments)}function b(e){if(e.promises.sendDelete)return e.promises.sendDelete;const t=e.getLastMsgKeyForAction(),a=t?e.msgs.get(t):void 0,n=e.promises.sendDelete=(0,c.sendConversationDelete)(e.id,t,e.getLastMsgKeyForAction.bind(e)),p=e.kind,v=n.then(function(){var t=(0,r.default)((function*(t){if(200===t.status)switch(h.LabelCollection.removeAllLabelsMD(e),p===d.CHAT_KIND.CHAT&&(yield _(e.id)),p){case d.CHAT_KIND.GROUP:return(0,i.isMDBackend)()&&!(0,s.clearOrDeleteChatSyncEnabled)()?new u.ActionType(l.fbt._("Group deleted from this device",null,{hk:"28gtyJ"})):new u.ActionType(f.default.t(52));case d.CHAT_KIND.BROADCAST:return(0,i.isMDBackend)()&&!(0,s.clearOrDeleteChatSyncEnabled)()?new u.ActionType(l.fbt._("Broadcast list deleted from this device",null,{hk:"4uAgbk"})):new u.ActionType(f.default.t(12));case d.CHAT_KIND.CHAT:return(0,i.isMDBackend)()&&!(0,s.clearOrDeleteChatSyncEnabled)()?new u.ActionType(l.fbt._("Chat deleted from this device",null,{hk:"mDV46"})):new u.ActionType(f.default.t(21))}else if(t.status>=400)switch(p){case d.CHAT_KIND.GROUP:return new u.ActionType(f.default.t(51));case d.CHAT_KIND.BROADCAST:return new u.ActionType(f.default.t(11));case d.CHAT_KIND.CHAT:return new u.ActionType(f.default.t(20))}}));return function(){return t.apply(this,arguments)}}()).catch((function(){let t;switch(__LOG__(3)`models:chat:sendDelete dropped`,p){case d.CHAT_KIND.GROUP:t=f.default.t(51);break;case d.CHAT_KIND.BROADCAST:t=f.default.t(11);break;case d.CHAT_KIND.CHAT:default:t=f.default.t(20)}return new u.ActionType(t,{actionText:f.default.t(122),actionHandler:()=>b(e)})}));return o.ToastManager.open((0,m.jsx)(u.ActionToast,{id:(0,u.genId)(),initialAction:g(p),pendingAction:v})),n.then((function(n){if(200===n.status&&!n._duplicate){const n=e.getLastMsgKeyForAction();t&&t.equals(n)||t===n?e.delete():e.deleteMsgsBeforeMsgInclusive(a)}})).finally((()=>{e.promises.sendDelete=null}))}},65100:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.eagerlyEstablishE2EESessionForMedia=function(e){if((0,i.isLegacyWebdBackend)())return;(0,s.mediaUploadPrekeysFetchEnabled)()&&u((0,l.unproxy)(e))},t.eagerlyEstablishE2EESessionWhenTyping=function(e){var t,a;if((0,i.isLegacyWebdBackend)())return;const n=(0,l.unproxy)(e),r=(0,s.proactivePrekeysFetchGroupSizeLimit)();r>0&&n.isGroup&&(null!==(t=null===(a=n.groupMetadata)||void 0===a?void 0:a.participants)&&void 0!==t?t:[]).length<r&&u(n)};var r=n(a(48926)),i=a(88555),s=a(8139),o=a(1133),l=a(18146);function u(){return d.apply(this,arguments)}function d(){return(d=(0,r.default)((function*(e){(0,i.isLegacyWebdBackend)()||e.hasEstablishedE2EESession||(e.hasEstablishedE2EESession=!0,yield(0,o.eagerlyEstablishE2EESession)(e))}))).apply(this,arguments)}},23817:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.bulkChangeEphemeralDuration=function(e,t){const a=e.map((e=>y(e,t)));return Promise.allSettled(a)},t.changeEphemeralDuration=y;var r=n(a(48926)),i=a(40234),s=a(12380),o=n(a(65212)),l=a(15461),u=a(78820),d=n(a(96563)),c=a(24606),f=a(57490),h=a(75887),p=n(a(50039)),m=a(58871);function g(){return _.apply(this,arguments)}function _(){return(_=(0,r.default)((function*(e,t){if(e.isGroup)throw __LOG__(4,void 0,new Error,!0)`chat.changeChatEphemeralDuration should not be called for group ${e.id.toString()}`,SEND_LOGS("change-ephemeral-duration"),new Error("changeChatEphemeralDuration should not be called for group. Use changeEphemeralDuration which handles both 1-1 and group cases");const a=e.contact;if(a.isUser&&a.isContactBlocked)return Promise.reject(new d.default("changing ephemeral setting for contact is blocked",a));const n={id:new o.default({id:o.default.newId(),remote:e.id,fromMe:!0}),from:(0,u.getMaybeMeUser)(),to:e.id,t:i.Clock.globalUnixTime(),type:l.MSG_TYPE.PROTOCOL,subtype:"ephemeral_setting",ephemeralDuration:t,local:!0,isNewMsg:!0,self:"out"},r=null==e.ephemeralSettingTimestamp?1:e.ephemeralSettingTimestamp+1;(0,p.default)(e,r),yield(0,h.addAndSendMsgToChat)(e,n)[1],yield(0,m.updateLocal)(e.id,{ephemeralDuration:t,disappearingModeInitiator:c.DisappearingModeInitiator.ChangedInChat}),e.ephemeralDuration=t,e.disappearingModeInitiator=c.DisappearingModeInitiator.ChangedInChat,__LOG__(2)`chat.changeEphemeralDuration chatId=${e.id.toString()} ephemeralDuration=${t}`}))).apply(this,arguments)}function v(){return b.apply(this,arguments)}function b(){return(b=(0,r.default)((function*(e,t){if(!e.isGroup)throw new Error("changeGroupEphemeralDuration should not be called for 1-1 chats. Use changeEphemeralDuration which handles both 1-1 and group cases");yield(0,f.sendSetGroupProperty)(e.id,s.GROUP_SETTING_TYPE.EPHEMERAL,t)}))).apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return(C=(0,r.default)((function*(e,t){if(!e.shouldShowEphemeralSetting())throw new Error(`user cannot change group ephemeral duration for chat ${e.id.toString()}`);e.isGroup?yield v(e,t):yield g(e,t)}))).apply(this,arguments)}},92375:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genMinimalLinkPreview=function(e){if(!e||!e.url)return null;return{url:e.url,data:{title:e.domain,description:e.url,canonicalUrl:e.url,matchedText:e.url,richPreviewType:n.Message$ExtendedTextMessagePreviewType.NONE,thumbnail:void 0,doNotPlayInline:!0}}};var n=a(24808)},19146:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=n(a(88306)),s=a(88555),o=a(51650),l=a(24808),u=a(92375),d=a(56233),c=a(81093),f=n(a(56891));function h(){return(h=(0,r.default)((function*(e){if((0,s.isMDBackend)()){const t=(0,c.parseAPICmd)(e.url);return t.resultType===o.APICmd.CATALOG?(0,d.getProductOrCatalogLinkPreview)(e.url,t.data.catalogOwnerJid):t.resultType===o.APICmd.PRODUCT?(0,d.getProductOrCatalogLinkPreview)(e.url,t.data.businessOwnerJid,t.data.productId):(0,u.genMinimalLinkPreview)(e)}const{title:t,description:a,canonicalUrl:n,matchedText:r,preview:i,thumbnail:h,doNotPlayInline:p}=yield f.default.queryLinkPreview(e.url);return r&&(t||a)?{url:e.url,data:{title:t||void 0,description:a||void 0,canonicalUrl:n||void 0,matchedText:r,richPreviewType:"video"===i?l.Message$ExtendedTextMessagePreviewType.VIDEO:l.Message$ExtendedTextMessagePreviewType.NONE,thumbnail:h||void 0,doNotPlayInline:p}}:null}))).apply(this,arguments)}var p=(0,i.default)((function(){return h.apply(this,arguments)}),(e=>e.url));t.default=p},32231:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return d.apply(this,arguments)};var r=n(a(48926)),i=a(92844),s=a(81572),o=a(8139),l=a(16116),u=a(50101);function d(){return(d=(0,r.default)((function*(e){const t=yield(0,u.findChat)(e.sender);(yield s.Cmd.openChatBottom(t))&&((0,o.btmThreadsLoggingEnabled)()&&s.Cmd.addChatMsgSentLogAttributes(t,{handleMultiple(){(0,l.handleActivitiesForChatThreadLogging)([{activityType:"groupPrivateReplies",ts:(0,i.unixTime)(),chatId:t.id}])}}),t.composeQuotedMsg=e,e.chat&&(t.composeQuotedMsgRemoteJid=e.chat.id))}))).apply(this,arguments)}},22540:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){const n=(0,l.getMaybeMeUser)(),c=e.msgContextInfo(a.id),f=(0,r.default)((0,r.default)({type:"buttons_response",ack:i.ACK.CLOCK,from:n,id:new o.default({from:n,to:a.id,id:o.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:s.Clock.globalUnixTime(),to:a.id},c),{},{buttonsResponse:{selectedButtonId:t.id,selectedDisplayText:t.displayText,type:u.Message$ButtonsResponseMessageType.DISPLAY_TEXT},body:t.displayText||""});return(0,d.addAndSendMsgToChat)(a,f)[1]};var r=n(a(81109)),i=a(35470),s=a(40234),o=n(a(65212)),l=a(78820),u=a(24808),d=a(75887);a(13705)},13164:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=e.chat,n=e.msgContextInfo(a.id),c=(0,l.getMaybeMeUser)(),f=(0,r.default)((0,r.default)({type:"list_response",ack:i.ACK.CLOCK,from:c,id:new o.default({from:c,to:a.id,id:o.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:s.Clock.globalUnixTime(),to:a.id},n),{},{listResponse:{listType:u.Message$ListResponseMessageListType.SINGLE_SELECT,title:t.title,description:t.description,singleSelectReply:{selectedRowId:t.rowId}},body:(t.title||"")+(t.description?`\n${t.description}`:"")});return(0,d.addAndSendMsgToChat)(a,f)[1]};var r=n(a(81109)),i=a(35470),s=a(40234),o=n(a(65212)),l=a(78820),u=a(24808),d=a(75887);a(13705)},28224:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return c.apply(this,arguments)};var r=n(a(48926)),i=a(35470),s=a(40234),o=n(a(65212)),l=a(78820),u=a(75887),d=a(13705);function c(){return(c=(0,r.default)((function*(e,t,a,n){const r=f(e,t,a,n);try{const t=yield(0,u.addAndSendMsgToChat)(e,r)[1];if(!t||t!==d.SendMsgResult.OK)throw new Error("Location message SendMsgResult failure status")}catch(e){throw __LOG__(3)`Location message send to chat failure: ${e}`,e}}))).apply(this,arguments)}function f(e,t,a,n){const r=(0,l.getMaybeMeUser)();return{type:"location",ack:i.ACK.CLOCK,from:r,id:new o.default({from:r,to:e.id,id:o.default.newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:s.Clock.globalUnixTime(),to:e.id,lat:t,lng:a,loc:n}}},5524:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendTextMsgToChat=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return w((0,M.unproxy)(e),t,a)};var r=n(a(48926)),i=n(a(41609)),s=n(a(91747)),o=n(a(57557)),l=a(24674),u=a(35470),d=a(88555),c=a(40234),f=n(a(26947)),h=n(a(65212)),p=a(15461),m=a(8197),g=a(78820),_=a(45454),v=a(98706),b=a(77975),y=a(84886),C=a(30097),S=a(17304),E=a(29731),T=a(371),x=a(19708),M=(a(13705),a(18146)),k=n(a(87798));function w(){return P.apply(this,arguments)}function P(){return(P=(0,r.default)((function*(e,t){var n,M;let w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const P=(t||"").trim(),{linkPreview:A,quotedMsg:j,mentionedJidList:I,quotedMsgAdminGroupJid:O,quotedMsgAdminGroupSubject:N,quotedMsgAdminParentGroupJid:R,selectedId:D,selectedIndex:L,ctwaContext:B}=w;if(""===P)return Promise.resolve();(0,T.clearPresence)(e);const F=e.id,G=(0,g.getMaybeMeUser)();let U;(0,d.isMDBackend)()&&e.isGroup&&(U=(0,_.toUserWid)(G));const V=new h.default({from:G,to:F,id:h.default.newId(),participant:U,selfDir:"out"});let W;j?W=j.msgContextInfo(e.id):null!=O&&null!=N&&null!=R?W={quotedRemoteJid:O,quotedGroupSubject:N,quotedParentGroupJid:R}:null!=O&&(W={quotedRemoteJid:O});const H=null==A||null==A.mediaKeyTimestamp||(0,k.default)(A.mediaKeyTimestamp)?A:(0,o.default)(A,["mediaKey","mediaKeyTimestamp","thumbnailHQ","thumbnailDirectPath","thumbnailSha256","thumbnailEncSha256","thumbnailHeight","thumbnailWidth"]),q=(0,s.default)({id:V,body:P,type:"chat",subtype:H&&!(0,i.default)(H)?"url":null,t:c.Clock.globalUnixTime(),from:G,to:F,self:"out",isNewMsg:!0,local:!0,ack:u.ACK.CLOCK,urlText:e.urlText,urlNumber:e.urlNumber},H||{},W||{},{mentionedJidList:I},{ctwaContext:B});if(e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),null!=L&&(q.type="template_button_reply",q.selectedId=D,q.selectedIndex=L),q.type!==p.MSG_TYPE.PROTOCOL){e.isEphemeralSettingOn()&&(q.ephemeralDuration=e.getEphemeralSetting());const t=e.getEphemeralSettingTimestamp();null!=t&&(q.ephemeralSettingTimestamp=t);const a=e.getDisappearingModeInitiator();null!=a&&(q.disappearingModeInitiator=a)}const Y=(0,m.getContactPrivacyMode)(e.id);null!=Y&&(q.privacyModeWhenSent=Y),(0,v.attributeAgentToMessage)(q);const z=new S.Msg(q),K=(0,f.default)(z,e);(0,d.isMDBackend)()&&(z.wamMessageSendPerfReporter=new C.MessageSendPerfReporter(z.to,z.getWamMediaType(),z.getWamMessageType())),null===(n=z.wamMessageSendPerfReporter)||void 0===n||n.startRenderedStage(),K&&e.msgs.add(K),e.msgs.add(z),null===(M=z.wamMessageSendPerfReporter)||void 0===M||M.postRenderedStage();const $=K?[K,q]:[q];if(j&&j.type===p.MSG_TYPE.PRODUCT&&(0,b.logProductMessageBusinessSend)(j,j.sessionId),(0,d.isMDBackend)()&&e.isGroup){const t=a(63928).default;yield t.find(e.id)}return new E.NonPersistJob("sendMessage",(0,r.default)((function*(){var t,a;return null===(t=z.wamMessageSendPerfReporter)||void 0===t||t.startSavedStage(),yield(0,y.storeMessages)($,e.id),null===(a=z.wamMessageSendPerfReporter)||void 0===a||a.postSavedStage(),(0,x.sendMsgRecord)(z)})),{priority:l.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}))).apply(this,arguments)}},59992:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setArchive=function(e,t,a){return p((0,c.unproxy)(e),t,a)};var i=a(89385),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),o=a(94816),l=a(46331),u=a(77982),d=r(a(14296)),c=a(18146),f=a(85893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function p(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,l.genId)();if(e.archive===t)return Promise.reject(new s.ActionError);const{promises:c}=e;if(c.setArchive)return c.setArchive.promise;const h=e.getLastMsgKeyForAction(),m=new n,g=m.signal,_=(0,u.sendConversationArchive)(e.id,t,h),v=t?new l.ActionType(d.default.t(16)):new l.ActionType(d.default.t(38)),b=_.then((n=>{if(g.aborted)throw new i.AbortError;let s;return 200===n.status?(s=t?d.default.t(15):d.default.t(37),new l.ActionType(s,{actionText:d.default.t(126),actionHandler:()=>p(e,!t,a,r)})):n.status>=400?t?new l.ActionType(d.default.t(14)):new l.ActionType(d.default.t(36)):void 0})).catch((0,i.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`models:chat:setArchive dropped`;const n=t?d.default.t(14):d.default.t(36);return new l.ActionType(n,{actionText:d.default.t(122),actionHandler:()=>p(e,t,a,r)})}));a&&o.ToastManager.open((0,f.jsx)(l.ActionToast,{id:r,initialAction:v,pendingAction:b}));const y=_.then((a=>{200!==a.status||a._duplicate||(e.archive=t,t&&(e.pin=void 0))})).finally((()=>{c.setArchive=null}));return c.setArchive={promise:y,abortController:m},c.setArchive.archive=t,y}},10236:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setPin=function(e,t){return h((0,c.unproxy)(e),t)};var i=a(89385),s=a(92844),o=a(94816),l=a(46331),u=r(a(14296)),d=a(29894),c=a(18146),f=a(85893);function h(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.genId)();const{promises:r}=e;r.setPin&&r.setPin.abortController.abort();let c,p=0;const m=(0,s.unixTimeMs)();t?p=m:c=e.pin;const g=new n,_=g.signal,v=(0,d.setPin)(e.id,p,c,m),b=t?new l.ActionType(u.default.t(35)):new l.ActionType(u.default.t(45)),y=v.then((()=>{if(_.aborted)throw new i.AbortError;const n=t?u.default.t(34):u.default.t(44);return new l.ActionType(n,{actionText:u.default.t(126),actionHandler:()=>h(e,!t,a)})})).catch((0,i.catchAbort)((()=>{}))).catch((n=>{if(405===n.status)return new l.ActionType(u.default.t(33));if(n.status>=400)return t?new l.ActionType(u.default.t(32)):new l.ActionType(u.default.t(43));__LOG__(3)`models:chat:setPin dropped`;const r=t?u.default.t(32):u.default.t(43);return new l.ActionType(r,{actionText:u.default.t(122),actionHandler:()=>h(e,t,a)})}));o.ToastManager.open((0,f.jsx)(l.ActionToast,{id:a,initialAction:b,pendingAction:y}));const C=v.then((t=>{t._duplicate||(e.pin=p)})).finally((()=>{r.setPin=null}));return r.setPin={promise:C,abortController:g},C}},44663:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findCommonGroups=function(e){const t=(0,u.unproxy)(e),{commonGroups:n,id:d,promises:c}=t;if(c.findCommonGroups)return c.findCommonGroups;if(n&&!n.stale)return Promise.resolve();return c.findCommonGroups=(0,l.default)(d).then((e=>{const i=(0,r.default)(e.map((e=>a(69951).ChatCollection.get(e))));return n?(n.set(i),n.stale=!1):t.commonGroups=new o.default(i,d),!0})).catch((0,i.filteredCatch)(s.ServerStatusCodeError,(e=>(__LOG__(3)`models:Contact:findCommonGroups error: ${e.status}`,Promise.reject(new Error("models:Contact:findCommonGroups error: "+e.status)))))).finally((()=>{c.findCommonGroups=null}))};var r=n(a(39693)),i=a(50796),s=a(92574),o=n(a(89265)),l=n(a(77486)),u=a(18146)},72768:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.handleCopyPhoneNumber=function(e,t,a){(0,i.default)(e),l.ToastManager.open((0,p.jsx)(h.Toast,{msg:d.fbt._("Copied to clipboard.",null,{hk:"3JjQpO"}),id:(0,h.genId)()})),(0,s.hyperlinkedPhoneNumbersPsLoggingEnabled)()&&new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.CLICK_COPY_PHONE_NUMBER,isPhoneNumHyperlinkOwner:a,phoneNumberStatusOnWa:Boolean(t)}).commit()},t.handleOpenChat=function(e,t,a){if(o.ModalManager.open((0,p.jsx)(f.OpenChatFlow,{chatId:t,onSuccess:e=>{m(e,a)},msgText:null}),{transition:"modal-flow"}),(0,s.hyperlinkedPhoneNumbersPsLoggingEnabled)()){const e=t.equals((0,u.getMaybeMeUser)());new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.CLICK_MESSAGE_ON_WHATSAPP,isPhoneNumHyperlinkOwner:e,phoneNumberStatusOnWa:!0}).commit()}},t.logClickOnPhoneNumber=function(e,t){if(!(0,s.hyperlinkedPhoneNumbersPsLoggingEnabled)())return;new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.CLICK_PHONE_NUM_HYPERLINK,isPhoneNumHyperlinkOwner:t,phoneNumberStatusOnWa:Boolean(e)}).commit()},t.logCloseDialog=function(e,t){if(!(0,s.hyperlinkedPhoneNumbersPsLoggingEnabled)())return;new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.CLOSE_DIALOG_BOX,isPhoneNumHyperlinkOwner:t,phoneNumberStatusOnWa:Boolean(e)}).commit()},t.logMessageSentByPhoneNumber=m;var r=a(81572),i=n(a(88755)),s=a(8139),o=a(14597),l=a(94816),u=a(78820),d=a(48360),c=n(a(11339)),f=a(61585),h=a(50452),p=a(85893);function m(e,t){(0,s.hyperlinkedPhoneNumbersPsLoggingEnabled)()&&e&&r.Cmd.addChatMsgSentLogAttributes(e,{handleOnce(){new c.default.PsPhoneNumberHyperlink({phoneNumHyperlinkAction:c.default.PHONE_NUM_HYPERLINK_ACTION_TYPE.MESSAGE_SENT,isPhoneNumHyperlinkOwner:t,phoneNumberStatusOnWa:!0}).commit()}})}},60356:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){const s=e.map(p.vcardFromContactModel),c=1===s.length?s[0]:(0,p.mergeVcards)(s),f=`${c.displayName.toString()}.vcf`,m=(0,u.createFile)([c.vcard],f,{type:y}),v=m.size/1024;if(0!==_.ServerProps.vcardAsDocumentSizeKb&&v>_.ServerProps.vcardAsDocumentSizeKb)return void function(){C.apply(this,arguments)}(m,e.length,t,a,n);!function(e,t,a,n,s){const u=n&&n.msgContextInfo(t.id),c=(0,h.getMaybeMeUser)(),f=(0,r.default)((0,r.default)({ack:o.ACK.CLOCK,from:c,id:new d.default({from:c,to:t.id,id:d.default.newId(),participant:t.isGroup?c:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:l.Clock.globalUnixTime(),to:t.id},u),{},{ctwaContext:s}),p=1===e.length?(0,r.default)((0,r.default)({type:"vcard",vcardFormattedName:e[0].displayName.toString(),body:e[0].vcard},f),S(t)):(0,r.default)((0,r.default)({type:"multi_vcard",vcardList:e},f),S(t));(0,i.default)((function*(){try{yield(0,g.addAndSendMsgToChat)(t,p)[1]}catch(e){throw __LOG__(2)`Error sending contact: ${e}`,e}}))()}(s,t,0,a,n)};var r=n(a(81109)),i=n(a(48926)),s=n(a(45095)),o=a(35470),l=a(40234),u=a(65885),d=n(a(65212)),c=a(15461),f=a(94816),h=a(78820),p=a(93778),m=n(a(14075)),g=a(75887),_=a(64551),v=a(50452),b=a(85893);const y="text/vcard";function C(){return(C=(0,i.default)((function*(e,t,a,n,r){const o={file:e,type:c.MSG_TYPE.DOCUMENT,filename:e.name,mimetype:y,isVcardOverMmsDocument:!0,documentPageCount:t},l=new m.default({chatParticipantCount:a.getParticipantCount()});yield l.processAttachments([o]);const{errorMsgs:u}=l.uiProcessMsgs();if(u)return void f.ToastManager.open((0,b.jsx)(v.Toast,{msg:u,id:(0,v.genId)()}));const d=(0,s.default)(l.getValidMedias()[0],"collection.getValidMedias()[0]");(0,i.default)((function*(){try{yield d.sendToChat(a,{quotedMsg:n,ctwaContext:r})}catch(e){throw __LOG__(2)`Error sending contact: ${e}`,e}}))()}))).apply(this,arguments)}function S(e){const t={};e.isEphemeralSettingOn()&&(t.ephemeralDuration=e.getEphemeralSetting());const a=e.getEphemeralSettingTimestamp();null!=a&&(t.ephemeralSettingTimestamp=a);const n=e.getDisappearingModeInitiator();return null!=n&&(t.disappearingModeInitiator=n),t}},56635:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(14597),i=a(48360),s=n(a(52665)),o=a(85893);var l=function(){let{title:e=i.fbt._("WhatsApp Web can't show this message.",null,{hk:"1cx2RA"}),body:t=i.fbt._("Use WhatsApp on your mobile device to view it.",null,{hk:"3jYSKM"})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.ModalManager.open((0,o.jsx)(s.default,{title:e,okText:i.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>r.ModalManager.close(),children:t}))};t.default=l},73058:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.joinGroupViaInvite=function(){return d.apply(this,arguments)},t.queryGroupInviteCode=function(e){return function(e){if(e.groupInviteCodePromise)return e.groupInviteCodePromise;return e.groupInviteCodePromise=(0,l.sendQueryGroupInviteCode)(e.id).then((t=>{e.inviteCode=t})).finally((()=>{e.groupInviteCodePromise=null}))}((0,u.unproxy)(e))},t.revokeGroupInvite=function(e){return function(e){if(e.revokeGroupInvitePromise)return e.revokeGroupInvitePromise;return e.revokeGroupInvitePromise=(0,l.sendRevokeGroupInviteCode)(e.id).then((t=>{e.inviteCode=t})).catch((0,i.filteredCatch)(s.ServerStatusCodeError,(e=>{throw e}))).catch((()=>{__LOG__(3)`models:groupMetadata:participantCollection:revokeGroupInvite dropped`})).finally((()=>{e.revokeGroupInvitePromise=null}))}((0,u.unproxy)(e))};var r=n(a(48926)),i=a(50796),s=a(92574),o=a(50101),l=a(69586),u=a(18146);function d(){return(d=(0,r.default)((function*(e){const t=yield(0,l.sendJoinGroupViaInvite)(e);return(0,o.findChat)(t)}))).apply(this,arguments)}},42906:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.processSubgroups=c,t.queryAndUpdateSubgroupsMetadata=function(){return d.apply(this,arguments)},t.querySubgroupInfo=function(){return h.apply(this,arguments)};var r=n(a(48926)),i=a(88555),s=a(47066),o=a(22062),l=n(a(73213)),u=a(55316);function d(){return(d=(0,r.default)((function*(e){if((0,i.isLegacyWebdBackend)())return Promise.resolve();const t=yield(0,s.queryAllSubgroups)(e);yield c(t,e)}))).apply(this,arguments)}function c(){return f.apply(this,arguments)}function f(){return(f=(0,r.default)((function*(e,t){const a=(0,u.getUnjoinedSubgroups)(e),n=a.map((e=>e.id));yield(0,o.updateUnjoinedSubgroupsJob)(a,t),yield(0,o.cleanUnjoinedSubgroupsJob)(n,t),(0,u.updateUnjoinedSubgroupsInCollection)(a,t),(0,u.cleanUnjoinedSubgroupsInCollection)(n,t)}))).apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e,t){if((0,i.isLegacyWebdBackend)())return Promise.resolve();const a=yield(0,s.querySubgroup)(e,t),n=l.default.get(e.toString());return null!=n?(n.set({subject:a.subject,participants:a.participants,desc:a.desc}),n):void 0}))).apply(this,arguments)}},66155:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDesc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g((0,h.unproxy)(e),t)};var r=a(50796),i=a(87614),s=a(92574),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),l=a(94816),u=a(48360),d=a(46331),c=n(a(14296)),f=a(57490),h=a(18146),p=a(85893);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function g(e){var t,a,n;let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,d.genId)(),_=h&&h.trim();if(_===(null===(t=e.groupMetadata)||void 0===t?void 0:t.desc))return Promise.reject(new o.ActionError);""===_&&(_=null);const v=(0,f.sendSetGroupDescription)(e.id,_,(0,i.randomHex)(8),null===(a=e.groupMetadata)||void 0===a?void 0:a.descId),b=null===(n=e.groupMetadata)||void 0===n?void 0:n.desc,y=new d.ActionType(u.fbt._("Changing group description",null,{hk:"3KCi4Y"})),C=v.then((()=>new d.ActionType(u.fbt._("Group description changed",null,{hk:"44gagH"}),{actionText:c.default.t(126),actionHandler:()=>g(e,b,m)}))).catch((0,r.filteredCatch)(s.ServerStatusCodeError,(e=>{if(e.status>=400)return new d.ActionType(u.fbt._("Group description change failed",null,{hk:"eSNfo"}))}))).catch((()=>(__LOG__(3)`models:chat:setGroupDesc dropped`,new d.ActionType(u.fbt._("Group description change failed",null,{hk:"eSNfo"}),{actionText:c.default.t(122),actionHandler:()=>g(e,_,m)}))));return l.ToastManager.open((0,p.jsx)(d.ActionToast,{id:m,initialAction:y,pendingAction:C})),v.then((t=>{var a;t._duplicate||(null===(a=e.groupMetadata)||void 0===a||a.set({desc:_||""}))})).catch((0,r.filteredCatch)(s.ServerStatusCodeError,(()=>{})))}},50760:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupSubject=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return m((0,c.unproxy)(e),t)};var r=a(50796),i=a(92574),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),o=a(94816),l=a(46331),u=n(a(14296)),d=a(57490),c=a(18146),f=a(27211),h=a(85893);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.genId)();const n=t.trim();if(!n)return Promise.reject(new s.ActionError);if(n===e.contact.name)return Promise.reject(new s.ActionError);const c=(0,d.sendSetGroupSubject)(e.id,n),p=e.contact.name,g=new l.ActionType(u.default.t(68)),_=c.then((()=>new l.ActionType(u.default.t(67,{subject:n}),{actionText:u.default.t(126),actionHandler:()=>m(e,p,a)}))).catch((0,r.filteredCatch)(i.ServerStatusCodeError,(e=>{if(e.status>=400)return new l.ActionType(u.default.t(66))}))).catch((()=>(__LOG__(3)`models:chat:setSubject dropped`,new l.ActionType(u.default.t(66),{actionText:u.default.t(122),actionHandler:()=>m(e,n,a)}))));return o.ToastManager.open((0,h.jsx)(l.ActionToast,{id:a,initialAction:g,pendingAction:_})),c.then((t=>{if(!t._duplicate){const t={name:n};return(0,f.updateLocal)(e.contact.id,t).then((()=>{e.contact.set(t)}))}})).catch((0,r.filteredCatch)(i.ServerStatusCodeError,(()=>{})))}},17879:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeToMD=function(e){let t,a,n;if(e){t="light"===(0,v.getTheme)()?"intro-md-beta-logo-light":"intro-md-beta-logo-dark",a=l.fbt._("New WhatsApp Web available",null,{hk:"2f2RlC"});const e=(0,y.jsx)(d.ExternalLink,{href:(0,r.getMdOptInFaqUrl)(),children:l.fbt._("Learn more",null,{hk:"1L9NkE"})}),s=(0,i.mdMigrationExperience)()?(0,y.jsx)(p.default,{id:702,params:{learn_more:e}},"learnmorelink"):(0,y.jsx)(p.default,{id:701,params:{learn_more:e}},"learnmorelink");n=[s,l.fbt._("This update will log out WhatsApp Web, and you can link immediately with your phone.",null,{hk:"1d1Nr9"})]}else t="light"===(0,v.getTheme)()?"logout-notice-light":"logout-notice-dark",a=l.fbt._("Logout Information",null,{hk:"2tycqT"}),n=[l.fbt._("This update will log out WhatsApp Web, and you can link immediately with your phone.",null,{hk:"3vigK5"})];s.ModalManager.open((0,y.jsx)(u.default,{onOK:C,type:m.ModalTheme.Upgrade,okText:h.default.t(283),onCancel:()=>s.ModalManager.close(),cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,y.jsxs)(c.FlexColumn,{align:"center",justify:"center",children:[(0,y.jsx)(g.default,{name:t}),(0,y.jsx)(_.TextDiv,{theme:"popup-title",className:f.default.upgradeModalTitle,children:a}),n.map(((e,t)=>(0,y.jsx)(_.TextDiv,{theme:"small",className:f.default.upgradeModalText,children:e},`content${t}`)))]})}))};var r=a(21310),i=a(8139),s=a(14597),o=a(55452),l=a(48360),u=n(a(52665)),d=a(12591),c=a(29623),f=n(a(31190)),h=n(a(14296)),p=n(a(56074)),m=a(57224),g=n(a(23217)),_=a(13923),v=a(97628),b=a(36089),y=a(85893);function C(){const e=()=>{(0,o.setMdOptedIn)(!1),(0,o.setShowMdUpgradeCompleteMsg)(!1),s.ModalManager.open((0,y.jsx)(u.default,{onOK:C,type:m.ModalTheme.Upgrade,okText:l.fbt._("Try Again",null,{hk:"1UTnaS"}),onCancel:()=>s.ModalManager.close(),cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,y.jsxs)(c.FlexColumn,{align:"center",justify:"center",children:[(0,y.jsx)(g.default,{name:"light"===(0,v.getTheme)()?"internet-disconnected-light":"internet-disconnected-dark"}),(0,y.jsx)(_.TextDiv,{className:f.default.upgradeModalErrorText,theme:"small",children:l.fbt._("Check your internet connection and try again.",null,{hk:"Os6BU"})})]})}))};s.ModalManager.close(),(0,o.setMdOptedIn)(!0),(0,o.setShowMdUpgradeCompleteMsg)(!0),(0,b.sendUpgradeToMD)().then((t=>{let{status:a}=t;200!==a&&e()})).catch((t=>{__LOG__(2)`Error while sending MdOptIn ${t}`,e()}))}},370:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setKeepInChat=function(){return s.apply(this,arguments)},t.undoKeepInChat=function(){return o.apply(this,arguments)};var r=n(a(48926)),i=a(97563);function s(){return(s=(0,r.default)((function*(e,t){yield(0,i.updateLocalAndModel)(e,{keptBy:t})}))).apply(this,arguments)}function o(){return(o=(0,r.default)((function*(e){yield(0,i.updateLocalAndModel)(e,{keptBy:void 0})}))).apply(this,arguments)}},30734:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.canMarkPlayed=function(e){return f((0,c.unproxy)(e))},t.markPlayed=function(e){return function(e){f(e)?(0,u.default)(e).then((()=>{e.ack=i.ACK.PLAYED,e.isViewOnce&&(0,l.handleActivitiesForChatThreadLogging)([{activityType:"viewOnceOpen",ts:e.t,chatId:e.id.remote}])})).catch((0,r.filteredCatch)(s.WebdDrop,(()=>{}))):__LOG__(2)`Msg:msg should not call sendPlayed`}((0,c.unproxy)(e))};var r=a(50796),i=a(35470),s=a(92574),o=a(15461),l=a(16116),u=n(a(58355)),d=a(64551),c=a(18146);function f(e){return!e.isSentByMe&&(!(e.ack>=i.ACK.PLAYED)&&(e.type===o.MSG_TYPE.PTT||!!e.isViewOnce&&(d.ServerProps.viewOnceRead||d.ServerProps.viewOnceWrite)))}},23094:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getPaymentMessageBackgroundImageBuffer=function(){return l.apply(this,arguments)};var r=n(a(48926)),i=a(88555),s=a(50854),o=a(20625);function l(){return(l=(0,r.default)((function*(e){if(null==e.id||(0,i.isLegacyWebdBackend)())return;const{id:t}=e;let a=yield(0,o.getPaymentBackgroundImageBuffer)(t);return a||(a=yield(0,s.downloadPaymentBackgroundImage)({paymentBackground:e}),a?(yield(0,o.addPaymentBackground)({id:t,imageBuffer:a}),a):null)}))).apply(this,arguments)}},21357:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendReactionToMsg=function(){return T.apply(this,arguments)};var r=n(a(48926)),i=n(a(91747)),s=a(24674),o=a(35470),l=a(40234),u=n(a(65212)),d=a(67811),c=a(78820),f=a(45454),h=a(90981),p=a(84886),m=a(30097),g=n(a(11339)),_=a(17304),v=a(54676),b=a(29731),y=a(76332),C=a(57162),S=a(19708),E=a(13705);function T(){return(T=(0,r.default)((function*(e,t){const a=e.chat.id,n=(0,c.getMaybeMeUser)(),T=e.chat.isGroup?(0,f.toUserWid)(n):void 0,x=e.id,M=yield C.ReactionsCollection.find(x.toString()),k=l.Clock.globalUnixTime();let w=1e3*k;const P=M.reactionByMe;P&&(w=Math.max(P.timestamp+1,w));const A=new u.default({from:n,to:a,id:u.default.newId(),participant:T,selfDir:"out"}),j=(0,i.default)({id:A,reactionParentKey:(0,v.getReferentialKey)(e),type:"reaction",t:k,from:n,to:a,self:"out",isNewMsg:!0,local:!0,ack:o.ACK.CLOCK,reactionText:t,reactionTimestamp:w}),I=new _.Msg(j),O={msgKey:A.toString(),parentMsgKey:e.id.toString(),senderUserJid:n.toString(),reactionText:t,timestamp:w,orphan:0,read:!0,ack:o.ACK.CLOCK};var N;(I.wamMessageSendPerfReporter=new m.MessageSendPerfReporter(I.to,I.getWamMediaType(),I.getWamMessageType()),t!==d.REVOKED_REACTION_TEXT)&&(I.wamMessageSendPerfReporter.startRenderedStage(),yield(0,y.addOrUpdateReactions)(O,!1),null===(N=I.wamMessageSendPerfReporter)||void 0===N||N.postRenderedStage());return new b.NonPersistJob("sendMessage",(0,r.default)((function*(){try{var a,n;null===(a=I.wamMessageSendPerfReporter)||void 0===a||a.startSavedStage(),yield(0,p.storeMessages)([j],e.chat.id),null===(n=I.wamMessageSendPerfReporter)||void 0===n||n.postSavedStage()}catch(e){throw __LOG__(4,!0,new Error,!0)`sendReaction: failed to store sent reaction message into Message storage`,SEND_LOGS("storeSentReaction failed"),e}if(P){const a=t!==d.REVOKED_REACTION_TEXT?g.default.REACTION_ACTION_TYPE.UPDATE:g.default.REACTION_ACTION_TYPE.DELETE;new g.default.ReactionActions({mediaType:e.getWamMediaType(),messageType:e.getWamMessageType(),reactionAction:a}).commit(),yield(0,h.getTable)().remove(P.msgKey)}const r=yield(0,S.sendMsgRecord)(I);if(r===E.SendMsgResult.OK&&t===d.REVOKED_REACTION_TEXT&&(yield(0,y.addOrUpdateReactions)(O,!1)),r!==E.SendMsgResult.OK)throw new Error("Reactions send Error");return r})),{priority:s.JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}))).apply(this,arguments)}},67774:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.dismissNux=function(e){return o(e,!0)},t.viewNux=o;var r=a(74315),i=a(61653),s=n(a(34610));function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=(0,r.getNUX)(e),n=null!=a?a:{views:0},o=(0,i.getNuxMaxViews)(e),l=t?o:n.views+1;if((0,r.setNUX)(e,{views:l}),l>=o){const t=(0,i.getNuxSyncKey)(e);if(t)return s.default.markNuxAsSeen(t)}return Promise.resolve()}},65376:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setDisappearingMode=function(){return u.apply(this,arguments)};var r=n(a(48926)),i=a(40234),s=a(78820),o=a(91036),l=a(68462);function u(){return(u=(0,r.default)((function*(e){yield(0,l.setDisappearingMode)(e),yield(0,o.updateDisappearingMode)((0,s.getMaybeMeUser)(),e,i.Clock.globalUnixTime())}))).apply(this,arguments)}},83610:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addStickerMsgToFavorites=function(e){if((0,r.isLegacyWebdBackend)())return;i.default.addNewSticker(new s.StickerModel({id:e.filehash,mimetype:e.mimetype,width:e.width,height:e.height,filehash:e.filehash,encFilehash:e.encFilehash,directPath:e.directPath,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp}))},t.addStickerToFavorites=function(e){if((0,r.isLegacyWebdBackend)())return;i.default.addNewSticker(new s.StickerModel({id:e.id,mimetype:e.mimetype,width:e.width,height:e.height,filehash:e.filehash,encFilehash:e.encFilehash,directPath:e.directPath,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp}))},t.isStickerFilehashFavorited=function(e){return null!=i.default.get(e)},t.removeStickerFromFavorites=function(e){if((0,r.isLegacyWebdBackend)())return;i.default.removeAndSave(e.filehash)},t.removeStickerMsgFromFavorites=function(e){if((0,r.isLegacyWebdBackend)())return;i.default.removeAndSave(e.filehash)};var r=a(88555),i=n(a(70723)),s=a(99718)},79991:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFirstPartyStickerPack=function(){return b.apply(this,arguments)},t.fetchFirstPartyStickerPacks=function(){return v.apply(this,arguments)};var r=n(a(48926)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),s=n(a(76139)),o=a(78820),l=a(92059),u=n(a(26847)),d=n(a(14296)),c=n(a(11339)),f=n(a(53565));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const p="https://static.whatsapp.net/sticker";function m(){return g.apply(this,arguments)}function g(){return(g=(0,r.default)((function*(e,t){const a=s.default.build(p,e),n=yield(0,u.default)(a,{signal:t.signal}),r=new c.default.StickerCommonQueryToStaticServer;if(r.set({httpResponseCode:n.status,params:new f.default(e).toString(),queryType:c.default.QUERY_TYPE.STICKER_PACK_DATA}),r.commit(),!n.ok)throw new i.InvalidServerResponseError(a,n.status.toString(),"Invalid response from WhatsApp stickers endpoint");const o=yield n.json();if(null==o||0===o.length)throw new i.InvalidServerResponseError(a,n.status.toString(),`Invalid response from WhatsApp stickers endpoint: ${JSON.stringify(o)}`);return o}))).apply(this,arguments)}function _(e,t){const a={id:e["sticker-pack-id"],name:e.name,publisher:e.publisher,description:e.description,fileSize:Number(e["file-size"]),imageDataHash:e["image-data-hash"],animated:1===e.animated,previewImageIds:e["preview-image-ids"],trayImageId:e["tray-image-id"],trayImagePreview:e["tray-image-preview"]};return null!=t&&(a.index=t),a}function v(){return(v=(0,r.default)((function*(e){var t;const a=d.default.getLocale(),n=(0,l.getCountryShortcodeByPhone)(null===(t=(0,o.getMaybeMeUser)())||void 0===t?void 0:t.user)||"default";return(yield m({cat:"sticker_store_data",id:"all",lg:a,country:n},{signal:e.signal})).map(((e,t)=>_(e,t)))}))).apply(this,arguments)}function b(){return(b=(0,r.default)((function*(e){const t=d.default.getLocale(),a={cat:"sticker_pack_data",id:e.id,lg:t};return _((yield m(a,{signal:e.signal}))[0])}))).apply(this,arguments)}},88577:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.searchFirstPartyStickers=function(){return g.apply(this,arguments)};var r=n(a(81109)),i=n(a(48926)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),o=n(a(76139)),l=a(78820),u=a(92059),d=n(a(26847)),c=n(a(11339)),f=a(99718),h=n(a(53565));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const m="https://static.whatsapp.net/sticker";function g(){return(g=(0,i.default)((function*(e,t){var a;const n=(0,u.getCountryShortcodeByPhone)(null===(a=(0,l.getMaybeMeUser)())||void 0===a?void 0:a.user)||"default";let i=0,p=0;for(;i<=250;)i+=3+encodeURIComponent(e[p++]).length;const g=e.slice(0,p-1).join(","),_={country:n},v=o.default.build(m,(0,r.default)({cat:"sticker_search",terms:g},_)),b=yield(0,d.default)(v,{signal:null==t?void 0:t.signal}),y=new c.default.StickerCommonQueryToStaticServer;if(y.set({httpResponseCode:b.status,params:new h.default(_).toString(),queryType:c.default.QUERY_TYPE.STICKER_SEARCH}),y.commit(),!b.ok)throw new s.InvalidServerResponseError(v,b.status.toString(),"Invalid response from WhatsApp stickers endpoint");const C=yield b.json();if(null==C)throw new s.InvalidServerResponseError(v,b.status.toString(),`Invalid response from WhatsApp stickers endpoint: ${JSON.stringify(C)}`);return C.map(((e,t)=>new f.StickerModel({mimetype:e.mimetype,width:e.width,height:e.height,filehash:e["file-hash"],directPath:e["direct-path"],mediaKey:e["media-key"],id:e["file-hash"],encFilehash:e["enc-file-hash"],mediaKeyTimestamp:0,index:t})))}))).apply(this,arguments)}},85330:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendStickerToChat=function(e,t,a){return function(){return c.apply(this,arguments)}((0,u.unproxy)(e),t,a)};var r=n(a(6479)),i=n(a(48926)),s=a(78986),o=n(a(11339)),l=n(a(34949)),u=(a(13705),a(18146));const d=["stickerSendOrigin"];function c(){return(c=(0,i.default)((function*(e,t,n){a(91692).RecentStickerCollection.enqueue([t]),t.mediaData&&t.mediaData.mediaBlob instanceof l.default&&t.mediaData.mediaBlob.retain();const{stickerSendOrigin:i}=n,u=(0,r.default)(n,d),c=yield(0,s.prepSticker)(t).sendToChat(e,u);return new o.default.StickerSend({stickerSendOrigin:i,stickerIsAnimated:Boolean(t.mediaData.isAnimated),stickerIsFirstParty:Boolean(t.mediaData.isFirstParty),stickerIsFromStickerMaker:Boolean(t.mediaData.isFromStickerMaker)}).commit(),c}))).apply(this,arguments)}},98248:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=n.ChatCollection.getActive();if(null==a)return void __LOG__(4,void 0,new Error)`Cannot call sendStickerToActiveChat without an active chat`;const{ctwaContextLinkData:s,ctwaContext:o}=a.getComposeContents(),l={stickerSendOrigin:t,quotedMsg:a.composeQuotedMsg,ctwaContext:(0,r.prepareCtwaContextSend)(s,o)};a.composeQuotedMsg=null,(0,i.sendStickerToChat)(a,e,l)};var n=a(69951),r=a(77853),i=a(85330)},71055:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.refreshCartMD=function(){return h.apply(this,arguments)},t.refreshCartResponse=void 0;var r=n(a(48926)),i=a(31914),s=a(71914),o=a(92574),l=a(8139),u=n(a(57291)),d=a(24747),c=a(39410);const f=new s.WapParser("refreshCartResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("cart"),a=t.maybeChild("price"),n={},r=null==a?void 0:a.maybeChild("subtotal");r&&(n.subtotal=r.contentString());const i=null==a?void 0:a.maybeChild("total");i&&(n.total=i.contentString());const s=null==a?void 0:a.maybeChild("currency");s&&(n.currency=s.contentString());const o=null==a?void 0:a.maybeChild("price_status");o&&(n.price_status=o.contentString());const l=[];return t.forEachChildWithTag("product",(e=>{const t=e.child("id").contentString(),a=e.maybeChild("name"),n=a?a.contentString():null,r=e.maybeChild("price"),i=r?r.contentString():null,s=e.maybeChild("currency"),o=s?s.contentString():null;let u;const d=e.maybeChild("media"),c=d?d.maybeChild("image"):null;if(null!=c){u={image:{}};const e=c.maybeChild("id");e&&e.hasContent()&&(u.image.id=e.contentString());const t=c.maybeChild("request_image_url");t&&t.hasContent()&&(u.image.request_image_url=t.contentString())}const f={id:t,name:n,price:i,currency:o,media:u},h=e.maybeChild("sale_price");var p,m;h&&(f.sale_price={price:h.child("price").contentString(),start_date:null===(p=h.maybeChild("start_date"))||void 0===p?void 0:p.contentString(),end_date:null===(m=h.maybeChild("end_date"))||void 0===m?void 0:m.contentString()});const g=e.maybeChild("status");g&&(f.status=g.contentString()),l.push(f)})),{price:n,products:l}}));function h(){return(h=(0,r.default)((function*(e,t,a,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if((0,l.commerceFeaturesDisabledBySanctions)())return Promise.reject(new o.E451);const s=(0,i.wap)("iq",{to:i.S_WHATSAPP_NET,smax_id:"11",xmlns:"fb:thrift_iq",id:(0,i.generateId)(),type:"get"},(0,i.wap)("cart",{op:(0,i.CUSTOM_STRING)("refresh"),biz_jid:(0,c.USER_JID)(e)},t.map((e=>(0,i.wap)("product",null,(0,i.wap)("id",null,e)))).concat((0,u.default)([(0,i.wap)("image_dimensions",null,(0,i.wap)("width",null,a.toString()),(0,i.wap)("height",null,n.toString())),r?(0,i.wap)("direct_connection_encrypted_info",null,r):null])))),h=yield(0,d.sendIq)(s,f);if(h.success)return h.result;if(451===h.errorCode)throw new o.E451;throw new o.ServerStatusCodeError(h.errorCode)}))).apply(this,arguments)}t.refreshCartResponse=f},35654:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.joinGroupViaInvite=function(){return m.apply(this,arguments)},t.queryGroupInviteCode=function(e){return f((0,i.wap)("iq",{type:"get",xmlns:"w:g2",to:(0,d.GROUP_JID)(e),id:(0,i.generateId)()},(0,i.wap)("invite",null)))},t.resetGroupInviteCode=function(e){return f((0,i.wap)("iq",{type:"set",xmlns:"w:g2",to:(0,d.GROUP_JID)(e),id:(0,i.generateId)()},(0,i.wap)("invite",null)))};var r=n(a(48926)),i=a(31914),s=a(71914),o=a(92574),l=a(81663),u=a(24747),d=a(39410);const c=new s.WapParser("queryGroupInviteCodeParser",(e=>({code:e.child("invite").attrString("code")})));function f(){return h.apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){const t=yield(0,u.sendIq)(e,c);return t.success?t.result:(__LOG__(2)`sendGroupInviteIq failed: ${t.errorCode} : ${t.errorType}`,Promise.reject(new o.ServerStatusCodeError(t.errorCode,t.errorText)))}))).apply(this,arguments)}const p=new s.WapParser("joinGroupViaInviteParser",(e=>{e.assertTag("iq"),e.assertAttr("from","g.us"),e.assertAttr("type","result");const t=e.child("group");return{gid:(0,l.groupJidToWid)(t.attrGroupJid("jid"))}}));function m(){return(m=(0,r.default)((function*(e){const t=(0,i.wap)("iq",{type:"set",xmlns:"w:g2",to:i.G_US,id:(0,i.generateId)()},(0,i.wap)("invite",{code:(0,i.CUSTOM_STRING)(e)})),a=yield(0,u.sendIq)(t,p);return a.success?a.result:(__LOG__(2)`joinGroupInvite failed: ${a.errorCode}:${a.errorType}`,Promise.reject(new o.ServerStatusCodeError(a.errorCode,a.errorText)))}))).apply(this,arguments)}},50551:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.joinSubgroup=function(){return h.apply(this,arguments)};var r=n(a(48926)),i=a(31914),s=a(71914),o=a(92574),l=a(81663),u=a(24747),d=a(55981),c=a(39410);const f=new s.WapParser("joinSubgroupParser",(e=>{e.assertTag("iq"),e.assertAttr("type","result");let t=200;if(e.hasChild("error")){t=e.child("error").attrInt("code")}return{gid:(0,l.groupJidToWid)(e.attrGroupJid("from")),status:t}}));function h(){return(h=(0,r.default)((function*(e,t,a){const n=a===d.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?"default_sub_group":"sub_group",r=(0,i.wap)("iq",{type:"set",xmlns:"w:g2",to:(0,c.JID)(e),id:(0,i.generateId)()},(0,i.wap)("join_linked_group",{type:n,jid:(0,c.JID)(t)})),s=yield(0,u.sendIq)(r,f);return s.success?s.result:(__LOG__(2)`joinSubgroup failed: ${s.errorCode}:${s.errorType}`,Promise.reject(new o.ServerStatusCodeError(s.errorCode)))}))).apply(this,arguments)}},77287:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDescription=function(e,t,a,n){const r=t?(0,i.wap)("description",{id:(0,i.CUSTOM_STRING)(a),prev:(0,i.MAYBE_CUSTOM_STRING)(n)},(0,i.wap)("body",null,t)):(0,i.wap)("description",{delete:"true",prev:(0,i.MAYBE_CUSTOM_STRING)(n)});return f((0,i.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},r))},t.setGroupProperty=function(e,t,a){let n;switch(t){case l.GROUP_SETTING_TYPE.ANNOUNCEMENT:n=1===a?(0,i.wap)("announcement",null):(0,i.wap)("not_announcement",null);break;case l.GROUP_SETTING_TYPE.RESTRICT:n=1===a?(0,i.wap)("locked",null):(0,i.wap)("unlocked",null);break;case l.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:n=1===a?(0,i.wap)("no_frequently_forwarded",null):(0,i.wap)("frequently_forwarded_ok",null);break;case l.GROUP_SETTING_TYPE.EPHEMERAL:n=a>0?(0,i.wap)("ephemeral",{expiration:(0,i.INT)(a)}):(0,i.wap)("not_ephemeral",null);break;default:return Promise.reject(new Error(`invalid group property ${t}`))}return f((0,i.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},n))},t.setGroupSubject=function(e,t){return f((0,i.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"set",xmlns:"w:g2",id:(0,i.generateId)()},(0,i.wap)("subject",null,t)))};var r=n(a(48926)),i=a(31914),s=a(71914),o=a(92574),l=a(12380),u=a(24747),d=a(39410);const c=new s.WapParser("setGroupInfoParser",(e=>{if(e.hasChild("error")){const t=e.child("error");return{errorCode:t.attrInt("code"),errorText:t.hasAttr("text")?t.attrString("text"):""}}return{success:!0}}));function f(){return h.apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){const t=yield(0,u.sendIq)(e,c);if(!t.success)return Promise.reject(new o.ServerStatusCodeError(t.errorCode,t.errorText))}))).apply(this,arguments)}},47066:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryAllSubgroups=function(){return h.apply(this,arguments)},t.querySubgroup=function(){return p.apply(this,arguments)};var r=n(a(48926)),i=a(31914),s=a(71914),o=a(92574),l=a(24747),u=a(59036),d=a(39410);const c=new s.WapParser("queryAllSubgroupsParser",(e=>e.child("sub_groups").mapChildren(u.parseSubgroupNode))),f=new s.WapParser("querySubgroupParser",(e=>e.child("linked_group").mapChildren(u.parseSubgroupInfoNode)));function h(){return(h=(0,r.default)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.generateId)();const a=(0,i.wap)("iq",{to:(0,d.GROUP_JID)(e),type:"get",xmlns:"w:g2",id:t},(0,i.wap)("sub_groups",null)),n=yield(0,l.sendIq)(a,c);return n.success?n.result:(__LOG__(2)`queryAllSubgroups failed: ${n.errorCode}:${n.errorType}`,Promise.reject(new o.ServerStatusCodeError(n.errorCode,n.errorText)))}))).apply(this,arguments)}function p(){return(p=(0,r.default)((function*(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.generateId)();const n=(0,i.wap)("iq",{to:(0,d.GROUP_JID)(t),type:"get",xmlns:"w:g2",id:a},(0,i.wap)("query_linked",{type:"sub_group",jid:(0,d.GROUP_JID)(e)})),r=yield(0,l.sendIq)(n,f);return r.success?r.result[0]:(__LOG__(2)`queryAllSubgroups failed: ${r.errorCode}:${r.errorType}`,Promise.reject(new o.ServerStatusCodeError(r.errorCode,r.errorText)))}))).apply(this,arguments)}},26409:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFanOutListJob=function(e){return(0,i.NonPersistJob)("getFanOutList",(e=>(0,r.getFanOutList)(e)),{priority:n.JOB_PRIORITY.SKIP}).waitUntilCompleted({wids:e})};var n=a(24674),r=a(16104),i=a(29731)},63262:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.cartItemToNode=c,t.createOrderMD=function(){return f.apply(this,arguments)},t.createOrderResponse=void 0;var r=n(a(48926)),i=a(31914),s=a(71914),o=a(92574),l=a(24747),u=a(39410);const d=new s.WapParser("createOrderResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("order"),a=t.attrString("id"),n=t.attrString("token"),r=t.maybeChild("price"),i={},s=null==r?void 0:r.maybeChild("subtotal");s&&(i.subtotal=s.contentString());const o=null==r?void 0:r.maybeChild("total");o&&(i.total=o.contentString());const l=null==r?void 0:r.maybeChild("currency");l&&(i.currency=l.contentString());const u=null==r?void 0:r.maybeChild("price_status");return u&&(i.price_status=u.contentString()),{id:a,token:n,price:i}}));function c(e){const t=null!=e.priceAmount1000?(0,i.wap)("price",null,e.priceAmount1000.toString()):void 0,a=e.currency?(0,i.wap)("currency",null,e.currency):void 0;return(0,i.wap)("product",null,(0,i.wap)("id",null,e.id),(0,i.wap)("name",null,e.name),t,a,(0,i.wap)("quantity",null,e.quantity.toString()))}function f(){return(f=(0,r.default)((function*(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=(0,i.wap)("iq",{to:i.S_WHATSAPP_NET,smax_id:"10",xmlns:"fb:thrift_iq",id:(0,i.generateId)(),type:"set"},(0,i.wap)("order",{op:(0,i.CUSTOM_STRING)("create"),biz_jid:(0,u.USER_JID)(e)},t.map((e=>c(e))).concat(a?(0,i.wap)("direct_connection_encrypted_info",null,a):[]))),r=yield(0,l.sendIq)(n,d);if(r.success)return r.result;if(451===r.errorCode)throw new o.E451;throw new o.ServerStatusCodeError(r.errorCode)}))).apply(this,arguments)}t.createOrderResponse=d},49693:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.queryOrder=function(){return c.apply(this,arguments)},t.queryOrderResponse=void 0;var r=n(a(48926)),i=a(31914),s=a(71914),o=a(92574),l=a(8139),u=a(24747);const d=new s.WapParser("queryOrderResponse",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("order"),a=t.hasAttr("creation_ts")?t.attrTime("creation_ts"):null,n=t.maybeChild("price"),r=null==n?void 0:n.maybeChild("subtotal"),i=r?parseInt(r.contentString(),10):null,s=null==n?void 0:n.maybeChild("currency"),o=s?s.contentString():null,l=null==n?void 0:n.maybeChild("tax"),u=l?parseInt(l.contentString(),10):null,d=null==n?void 0:n.maybeChild("total"),c=d?parseInt(d.contentString(),10):null,f=[];return t.forEachChildWithTag("product",(e=>{const t=e.child("id").contentString(),a=e.child("name").contentString(),n=e.maybeChild("price"),r=n?parseInt(n.contentString(),10):null,i=e.maybeChild("quantity"),s=i?parseInt(i.contentString(),10):null,o=e.maybeChild("currency"),l=o?o.contentString():null;let u=null,d=null;const c=e.maybeChild("image");if(null!=c){const e=c.maybeChild("url");d=e&&e.hasContent()?e.contentString():null;const t=c.maybeChild("id");u=t&&t.hasContent()?t.contentString():null}f.push({id:t,price:r,thumbnailId:u,thumbnailUrl:d,currency:l,name:a,quantity:s})})),{currency:o,createdAt:a,products:f,subtotal:i,total:c,tax:u}}));function c(){return(c=(0,r.default)((function*(e,t,a,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if((0,l.commerceFeaturesDisabledBySanctions)())return Promise.reject(new o.E451);const s=(0,i.wap)("iq",{to:i.S_WHATSAPP_NET,smax_id:"5",xmlns:"fb:thrift_iq",id:(0,i.generateId)(),type:"get"},(0,i.wap)("order",{op:(0,i.CUSTOM_STRING)("get"),id:(0,i.CUSTOM_STRING)(e)},(0,i.wap)("image_dimensions",null,(0,i.wap)("width",null,t.toString()),(0,i.wap)("height",null,a.toString())),(0,i.wap)("token",null,n),r?(0,i.wap)("direct_connection_encrypted_info",null,r):null)),c=yield(0,u.sendIq)(s,d);if(c.success)return c.result;if(451===c.errorCode)throw new o.E451;throw new o.ServerStatusCodeError(c.errorCode)}))).apply(this,arguments)}t.queryOrderResponse=d},76815:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return h.apply(this,arguments)};var r=n(a(48926)),i=a(15688),s=a(31914),o=a(71914),l=a(92574),u=a(45454),d=a(24747),c=a(24808);const f=new o.WapParser("ctwaContext",(e=>{e.assertTag("iq"),e.assertFromServer();const t=e.child("context"),a={};return e.hasChild("error")?(function(e){const t=e&&e.maybeAttrString("code"),a=e&&e.maybeAttrString("text");__LOG__(3)`getCtwaContext error: code ${t} text ${a}`}(e.child("error")),Promise.reject(new Error("invalid response"))):(a.sourceUrl=t.child("source").child("url").contentString(),a.sourceId=t.child("source").child("id").contentString(),a.sourceType=t.child("source").child("type").contentString(),t.hasChild("headline")&&(a.title=t.child("headline").contentString()),t.hasChild("body")&&(a.description=t.child("body").contentString()),t.hasChild("thumbnail")&&(t.child("thumbnail").hasChild("url")&&(a.thumbnailUrl=t.child("thumbnail").child("url").contentString()),t.child("thumbnail").hasChild("bytes")&&(a.thumbnail=(0,i.encodeB64)(t.child("thumbnail").child("bytes").contentBytes())),t.hasChild("video")?(a.mediaUrl=t.child("video").child("url").contentString(),a.mediaType=c.ContextInfo$ExternalAdReplyInfoMediaType.VIDEO):a.mediaType=c.ContextInfo$ExternalAdReplyInfoMediaType.IMAGE),a)}));function h(){return(h=(0,r.default)((function*(e,t,a){const n=(0,u.createWid)(e).toString({legacy:!0}),r=(0,s.wap)("iq",{xmlns:"fb:thrift_iq",id:(0,s.generateId)(),type:"get",to:s.S_WHATSAPP_NET,smax_id:"4"},(0,s.wap)("account_number",null,n),(0,s.wap)("code",null,t),(0,s.wap)("expected_source_url",null,a)),i=yield(0,d.sendIq)(r,f);if(i.success)return i.result;throw new l.ServerStatusCodeError(i.errorCode)}))).apply(this,arguments)}},71504:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return m.apply(this,arguments)};var r=n(a(48926)),i=a(31914),s=a(35470),o=a(68387),l=a(55452),u=a(57849),d=a(24747),c=a(90981),f=a(74727),h=a(39410);function p(e){if(e.isGroup())return f.RECEIPT_TYPE.PLAYED;const t=(0,u.getABPropConfigValue)("played_self_enabled");return(0,l.getUserPrivacySettings)().readReceipts===o.ALL_NONE.none&&!0===t?f.RECEIPT_TYPE.PLAYED_SELF:f.RECEIPT_TYPE.PLAYED}function m(){return(m=(0,r.default)((function*(e,t){const a=e.broadcastId||t,n=e.id.id,r=a.isUser()?null:e.author,o=p(t),l=(0,i.wap)("receipt",{to:(0,h.CHAT_JID)(a),type:o,id:(0,i.CUSTOM_STRING)(n),t:(0,i.CUSTOM_STRING)(Date.now().toString()),participant:r?(0,h.DEVICE_JID)(r):i.DROP_ATTR});return yield(0,d.sendStanzaAndWaitForAck)(l,{id:n,class:"receipt",type:o,from:a,participant:r}),(0,c.getTable)().merge(e.id.toString(),{ack:s.ACK.PLAYED})}))).apply(this,arguments)}},68462:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.setDisappearingMode=function(){return u.apply(this,arguments)};var r=n(a(48926)),i=a(31914),s=a(71914),o=a(24747);const l=new s.WapParser("setDMResponseParser",(e=>{e.assertTag("iq"),e.assertAttr("type","result")}));function u(){return(u=(0,r.default)((function*(e){const t=(0,i.wap)("iq",{xmlns:"disappearing_mode",to:i.S_WHATSAPP_NET,type:"set",id:(0,i.generateId)()},(0,i.wap)("disappearing_mode",{duration:(0,i.CUSTOM_STRING)(String(e))})),a=yield(0,o.sendIq)(t,l);if(!a.success){const{errorCode:e,errorText:t}=a;throw __LOG__(3)`setDisappearingMode: failed ${e}, ${t}`,new Error({errorCode:e,errorText:t})}}))).apply(this,arguments)}},59036:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseSubgroupInfoNode=function(e){var t;let a;try{a=(0,s.createWid)(`${e.attrString("id")}@g.us`)}catch(e){__LOG__(2)`parseSubgroupNode failed: ${e}`}if(!(null===(t=a)||void 0===t?void 0:t.isGroup))throw Error("parseSubgroupNode: invalid group id");const n=(0,l.extractDescription)(e),u=e.mapChildrenWithTag("participant",(e=>{const t=e.attrEnumOrDefault("type",o.GROUP_PARTICIPANT_TYPES,o.GROUP_PARTICIPANT_TYPES.participant);return{id:(0,i.userJidToUserWid)(e.attrUserJid("jid")),isSuperAdmin:t===o.GROUP_PARTICIPANT_TYPES.superadmin,isAdmin:t===o.GROUP_PARTICIPANT_TYPES.admin||t===o.GROUP_PARTICIPANT_TYPES.superadmin}}));return(0,r.default)({id:a,owner:e.hasAttr("creator")?(0,i.userJidToUserWid)(e.attrUserJid("creator")):void 0,creation:e.attrTime("creation"),subject:e.attrString("subject"),subjectTime:e.hasAttr("s_t")?e.attrTime("s_t"):void 0,participants:u,size:e.hasAttr("size")?e.attrInt("size"):void 0},n)},t.parseSubgroupNode=function(e){var t,a;let n;try{n=(0,s.createWid)(`${e.attrString("id")}@g.us`)}catch(e){__LOG__(2)`parseSubgroupNode failed: ${e}`}if(!(null===(t=n)||void 0===t?void 0:t.isGroup))throw Error("parseSubgroupNode: invalid group id");return{id:n,subject:e.attrString("subject"),subjectTime:e.hasAttr("s_t")?e.attrTime("s_t"):void 0,defaultSubgroup:null!==(a=e.hasChild("default_sub_group"))&&void 0!==a&&a}};var r=n(a(81109)),i=a(81663),s=a(45454),o=a(46920),l=a(2182)},77690:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconnect=void 0;var n=a(8080),r=a(65044);const i=(new class{constructor(){this.isReconnecting=!1,this.reconnectIfDisconnected=()=>{this.isReconnecting||n.Stream.displayInfo!==n.StreamInfo.OFFLINE||(this.isReconnecting=!0,r.Socket.poke(),r.Socket.summary(),setTimeout((()=>this.isReconnecting=!1),3e3))}}}).reconnectIfDisconnected;t.reconnect=i},93202:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=a(35470),s=a(88555),o=a(8139),l=n(a(65212)),u=a(78820),d=n(a(89867));var c={parseWebMessageInfo:function(e,t){const a=e.key,n=this.decodeJid(a.remoteJid),c=(0,u.getMaybeMeUser)(),f=a.fromMe?n:c,h=a.fromMe?c:n;let p=this.decodeJid(a.participant),m=this.decodeJid(e.participant);(0,s.isMDBackend)()&&(d.default.isGroup(n)||d.default.isStatusV3(n))&&(null==p&&(null!=e.participant?p=this.decodeJid(e.participant):a.fromMe&&(p=c)),m=m||p);let g,_="in";if(c.equals(n)&&(_=a.fromMe?"out":"in"),"broadcast"===f)return void __LOG__(3)`drop: broadcast`;try{g=new l.default({fromMe:(0,r.default)(a.fromMe,"key.fromMe"),remote:n,id:(0,r.default)(a.id,"key.id"),participant:p})}catch(e){return void __LOG__(3)`drop: cannot create MsgKey: ${e.stack}`}let v=!1;(0,o.parseWMIReaction)()&&(v=e.reactions.some((e=>null!=e.text)));const b={id:g,from:h,to:f,self:_,participant:p,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?i.ACK.SENT:e.status-1,author:m,invis:!!e.ignore,star:!!e.starred,broadcast:a.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256),shareDuration:e.duration,labels:e.labels,ephemeralStartTimestamp:e.ephemeralStartTimestamp,ephemeralOutOfSync:e.ephemeralOutOfSync,bizPrivacyStatus:e.bizPrivacyStatus,verifiedBizName:e.verifiedBizName,reactions:e.reactions,hasReaction:v,agentId:e.agentId};return e.message?this.parseMsgProto(e.message,b,t,e.paymentInfo,e.finalLiveLocation,e.quotedPaymentInfo):this.parseMsgStubProto(e,b)}};t.default=c},13016:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=n(a(41609)),s=n(a(52628)),o=a(15688),l=a(50796),u=n(a(45095)),d=a(92574),c=a(38184),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),h=a(8139),p=a(78820),m=n(a(89867)),g=n(a(33330)),_=n(a(5433)),v=a(60868),b=n(a(70257)),y=n(a(66405)),C=n(a(78496)),S=n(a(26453)),E=a(72472),T=n(a(51783)),x=a(99662),M=a(91692),k=n(a(12761)),w=n(a(68132)),P=n(a(69686)),A=a(66299),j=a(65044);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}var O,N={epochCount:0,epoch:0,epochSend:function(e){return 0===this.epochCount&&this.epoch++,e||this.epochCount++,__LOG__(2)`wap:epochCount: ${this.epochCount} epoch: ${this.epoch}`,this.epoch.toString()},epochRecv:function(){this.epochCount>0?this.epochCount--:__LOG__(3)`wap:epochRecv: NEGATIVE`,__LOG__(2)`wap:epochCount: ${this.epochCount} epoch: ${this.epoch}`},setSubProtocol:function(e){if(-1===e)this.BinaryProtocol=new _.default,this.N=this.BinaryProtocol.Node;else{if(null==e||0===e)throw __LOG__(3)`Wap:setSubProtocol unknown ${String(e)}`,new f.UpdateImmediately(`${this.version}_unknown_version`);this.BinaryProtocol=new g.default(e),this.N=this.BinaryProtocol.Node}},clearBPQueue:function(){return new Promise((e=>{this.BinaryProtocol.dropAllBecauseLogout(),e()}))},upgradeProtoVersion(e){if(e.BinaryProtocol instanceof _.default){const t=e.BinaryProtocol.getWriteQueue();for(;t.length;){const{n:e,resolve:a,reject:n}=t.shift();this.BinaryProtocol.write(e).then(a).catch(n)}}},delete:function(){this.epochCount=0,this.epoch=0},cannotReachPhone:function(){this.epochRecv()},dropIfConditionMet:function(e,t){return e.reduce((function(e,t){return e||t}),!1)?void 0:t},pruneUndefinedProps:function(e){for(const t in e){void 0===e[t]&&delete e[t]}},callFeatureFlagFun:function(e,t){if(c.LegacyPhoneFeatures.supportsFeature(e)){const e=[];for(let t=2;t<arguments.length;t++)e.push(arguments[t]);return this[t](...e)}},safeParseInt:function(e,t){const a=parseInt(this.N.attr(t,e),10);return Number.isNaN(a)?void 0:a},wrap:function(e){return t=>{if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;this.epochRecv(),e(t)}},wrap02:function(e){return function(t){if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;e(t)}},binWrap:function(e,t){return a=>{if(a&&"object"==typeof a&&"number"==typeof a.status){if(401===a.status)throw this.epochRecv(),new d.E401;if(a.status>=500)return a;this.epochRecv(),t(a)}else this.epochRecv(),e(a)}},binSend:(O=(0,r.default)((function*(e,t,a,n,r){const i=n.epochIneligible?a:e=>{this.epochRecv(),a(e)};delete n.epochIneligible;try{const a=yield this.BinaryProtocol.write(t);r.debugObj||(r.debugObj=t),r.metric=this.M[r.metricName],r.ackRequest=!1,n.data=a,n.binaryOpts=r,j.Socket[e](n)}catch(e){return i(e)}})),function(){return O.apply(this,arguments)}),msgGetTarget:function(e){return m.default.equals(e.from,(0,p.getMaybeMeUser)())?e.to:e.from},thumbFromMediaXml:function(e){return"raw"===this.N.attr("encoding",e)?this.N.children(e)instanceof ArrayBuffer?(0,o.encodeB64)(this.N.children(e)):"":this.N.dataStr(e)},actionNode:function(e,t,a){return["action",{type:e,epoch:this.epochSend(a)},t]},queryNode:function(e,t){let a=e;return a||(a={}),a.epoch=this.epochSend(),["query",a,t]},responseNode:function(e,t){let a=e;return a||(a={}),a.epoch=this.epochSend(),["response",a,t]},errorNode:function(e){return["error",{code:e.toString(),epoch:this.epochSend()},void 0]},actionGetMeta:function(e){const t={};if("action"!==this.N.tag(e))return t;const a=this.N.attr("add",e),n=this.N.attr("missing",e),r=this.N.attr("checksum",e);switch(a){case"unread":t.unreadId=this.N.attr("index",e),t.unreadFromMe="true"===this.N.attr("owner",e),t.unreadParticipant=this.N.attr("participant",e);case"after":case"before":case"last":t.pendingMsgsDone="true"===this.N.attr("last",e),t.resume="true"===this.N.attr("resume",e);case"relay":case"update":t.add=a}switch(n){case"remove":t.missing=n}return r&&(t.checksum=r),t},groupActionsByType:function(e){const t={};if(!Array.isArray(e))return t;let a,n;const r=e.length;for(n=0;n<r;n++)switch(a=e[n],this.N.tag(a)){case"broadcast":switch(this.N.attr("type",a)){case"create":case"add":case"remove":t.msg||(t.msg=[]),t.msg.push(a);break;case"modify":t.bcUpdate||(t.bcUpdate=[]),t.bcUpdate.push(a)}break;case"message":case"groups_v2":case"notification":case"call_log":case"security":t.msg||(t.msg=[]),t.msg.push(a);break;case"read":case"log":case"identity":t.cmd||(t.cmd=[]),t.cmd.push(a);break;case"received":t.ack||(t.ack=[]),t.ack.push(a);break;case"user":t.contact||(t.contact=[]),t.contact.push(a);break;case"contacts":t.contacts||(t.contacts=[]),t.contacts.push(a);break;case"chat":switch(this.N.attr("type",a)){case"mute":t.mute||(t.mute=[]),t.mute.push(a);break;default:t.chat||(t.chat=[]),t.chat.push(a)}break;case"battery":t.battery||(t.battery=[]),t.battery.push(a);break;case"location":t.location||(t.location=[]),t.location.push(a);break;case"label":t.label||(t.label=[]),t.label.push(a);break;case"group":t.group||(t.group=[]),t.group.push(a);break;case"quick_reply":t.quickReply||(t.quickReply=[]),t.quickReply.push(a);break;case"call":t.call||(t.call=[]),t.call.push(a);break;case"stickerPack":case"sticker_pack":t.stickerPack||(t.stickerPack=[]),t.stickerPack.push(a);break;case"recent_stickers":t.recentStickers||(t.recentStickers=[]),t.recentStickers.push(a);break;case"starred_stickers":t.starredStickers||(t.starredStickers=[]),t.starredStickers.push(a);break;case"notice":t.notice||(t.notice=[]),t.notice.push(a);break;case"archive_v2":t.archiveSetting||(t.archiveSetting=[]),t.archiveSetting.push(a);break;case"disappearing_mode":t.disappearingModeSetting||(t.disappearingModeSetting=[]),t.disappearingModeSetting.push(a);break;default:__LOG__(3,!0)`Wap:groupActionsByType unknown action: ${this.N.toString(a)}`}return t},handleResponse:function(e,t,a){if(0===e.indexOf("preempt"))switch(this.N.attr("type",t)){case"chat":{__LOG__(2)`bin-recv: ${e},response,chat`;const n=this.N.children(t)||[];if(Array.isArray(n)){const e=n.length,t=[];for(let a=0;a<e;a++){const e=this.parseChat(n[a]);e&&t.push(e)}(0,b.default)([{cmd:"preempt",response:t,binarySize:a}])}break}case"contacts":{__LOG__(2)`bin-recv: ${e},response,contact`;const n=this.N.children(t);if(Array.isArray(n)){const e=n.length,r=[];for(let t=0;t<e;t++){const e=this.parseContact(n[t]);e&&r.push(e)}(0,C.default)([{cmd:"preempt",checksum:this.N.attr("checksum",t),response:r,binarySize:a}])}break}default:__LOG__(3)`Wap:handle unknown response type: ${this.N.toString(t,!0)}`}else __LOG__(3)`Wap:handle non-preemptive response: ${this.N.toString(t,!0)}`},handleActionMsg:function(e,t,a,n){const r=n.length;switch(a.add){case"relay":case"update":{const t=this.parseMsg(n[0],"relay");if(1!==r&&__LOG__(3)`Wap:handle action msg relay length not 1`,t){__LOG__(2)`bin-recv: ${[e,"action","msg",a.add,t.type,t.from,t.to,t.id,t.author].join(",")}`;const n=this.msgGetTarget(t);(0,S.default)([{meta:a,chat:n,msg:t}])}else __LOG__(3)`Wap:handle action msg relay dropped`;break}case"last":{const i=[];for(let e=0;e<r;e++){const t=this.parseMsg(n[e],"last");t?i.push(t):__LOG__(3)`Wap:handle action msg last dropped`}if(i.length>0){__LOG__(2)`bin-recv: ${[e,"action","msg","last",n.length].join(",")}`;const r={recent:!0,meta:a,binarySize:t};for(let e=0;e<i.length;e++)r[this.msgGetTarget(i[e])]=i[e];(0,S.default)([r])}else __LOG__(3)`Wap:handle action msg last dropped to 0`;break}case"before":case"after":case"unread":if(r>0){const i=[];for(let e=0;e<r;e++){const t=this.parseMsg(n[e],a.add);t?i.push(t):__LOG__(3)`Wap:handle action msg before/after dropped`}if(i.length>0){const n=this.msgGetTarget(i[0]);__LOG__(2)`bin-recv: ${[e,"action","msg",a.add,n,i.length].join(",")}`,(0,S.default)([{meta:a,chat:n,msgs:i,binarySize:t}])}else __LOG__(3)`Wap:handle action msg ${a.add} dropped to 0`}else __LOG__(3)`Wap:handle action msg before/after 0 msgs`;break;default:__LOG__(3)`Wap:handle action msg no meta.add`}},handleAction:function(e,t,n){const r=this.actionGetMeta(t),o=this.groupActionsByType(this.N.children(t)),l=Object.keys(o);if(!Array.isArray(l))return void __LOG__(3)`Wap:handle:action keys not array: ${typeof l}`;const d=l.length;if(0!==d||"last"!==r.add)for(let f=0;f<d;f++){const d=l[f],p=o[d],m=p.length;switch(d){case"msg":this.handleActionMsg(e,n,r,p,t);break;case"cmd":for(let t=0;t<m;t++){const n=this.parseCmd(p[t]);if(n){const t=(0,s.default)(n).join(",");__LOG__(2)`bin-recv: ${[e,"action","cmd",t].join(",")}`,a(98423).handle([n])}else __LOG__(3)`Wap:handle action cmd invalid`}break;case"bcUpdate":{const t=[];for(let e=0;e<m;e++){const a=this.parseBCUpdate(p[e]);a?t.push(a):__LOG__(3)`Wap:handle action bc update invalid`}if(__LOG__(2)`bin-recv: ${[e,"action","bcUpdate",t.length].join(",")}`,t.length>0){a(63928).default.handle(t)}break}case"ack":for(let t=0;t<m;t++){const a=this.parseAck(p[t]);a?(__LOG__(2)`bin-recv: ${[e,"action","ack",a.to,a.id,a.ack].join(",")}`,(0,S.default)([a])):__LOG__(3)`Wap:handle action ack invalid`}break;case"contact":{const t=[];for(let e=0;e<m;e++){const a=this.parseContact(p[e]);a?t.push(a):__LOG__(3)`Wap:handle action contact dropped`}if(__LOG__(2)`bin-recv: ${[e,"action","contact",t.length,r.missing].join(",")}`,t.length>0){const e=[t];(r.missing||r.checksum)&&e.push(r),(0,C.default)(e)}break}case"contacts":{const t=this.parseContacts(p[0]);__LOG__(2)`bin-recv: ${[e,"action","contacts"].join(",")}`,t?(0,C.default)([t]):__LOG__(3)`Wap:handle:action:contacts dropped`;break}case"chat":{const t=[];for(let e=0;e<m;e++){const a=this.parseChat(p[e]);a?t.push(a):__LOG__(3)`Wap:handle action chat dropped`}__LOG__(2)`bin-recv: ${[e,"action","chat",t.length].join(",")}`,t.length>0&&(0,b.default)([t]);break}case"battery":{const t=this.parseBattery(p[0]);t?(__LOG__(2)`bin-recv: ${[e,"action","battery",t.battery,t.plugged].join(",")}`,(0,y.default)([t])):__LOG__(3)`Wap:handle action battery dropped`;break}case"mute":{const t=[];for(let e=0;e<m;e++){const a=this.parseChat(p[e]);a?t.push(a):__LOG__(3)`Wap:handle action mute dropped`}__LOG__(2)`bin-recv: ${[e,"action","mute",t.length].join(",")}`,t.length>0&&E.MuteCollection.handle(t);break}case"location":{const t=[];for(let n=0;n<m;n++){const r=this.parseLocation(p[n]);r?t.push(r):__LOG__(3)`Wap:handle:location dropped`,__LOG__(2)`bin-recv:${[e,"action,location",t.length].join()}`,t.length>0&&a(85865).LiveLocationCollection.handle(t)}break}case"label":{const t=[];for(let n=0;n<m;n++){const i=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.LABELS_DISPLAY,"parseLabel",p[n]);i?t.push(i):__LOG__(3)`Wap:handle:label dropped`,__LOG__(2)`bin-recv:${[e,"action,label",t.length].join()}`,t.length>0&&a(16770).LabelCollection.handle({checksum:r.checksum,labels:t})}break}case"group":for(let t=0;t<m;t++){const n=this.parseInviteUpdate(p[t]);if(__LOG__(2)`bin-recv:${[e,"action,group_v4_pending_invites",null==n?void 0:n.length].join()}`,void 0!==n){a(63928).default.handlePendingInvite({gid:n.gid,participants:n.participants})}}break;case"quickReply":{const t=[];for(let a=0;a<m;a++){const n=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.QUICK_REPLIES_QUERY,"parseQuickReply",p[a]);n?t.push(n):__LOG__(3)`Wap:handle:quickReply dropped`,__LOG__(2)`bin-recv:${[e,"action,quickReply",t.length].join()}`,t.length>0&&x.QuickReplyCollection.handle({checksum:r.checksum,quickReplies:t})}break}case"call":{const t=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.VOIP_INDIVIDUAL_INCOMING,"parseCall",p[0]);__LOG__(2)`bin-recv:${[e,"action","call"].join()}`,t?v.CallCollection.handle([t]):__LOG__(3)`Wap:handle:action:call dropped`;break}case"stickerPack":case"sticker_pack":{const t=[];for(let a=0;a<m;a++){const n=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.STICKER_PACK_QUERY,"parseStickerPackUpdate",p[a]);n?(t.push(n),A.StickerPackCollection.sync(r.checksum)):__LOG__(3)`Wap:handle:stickerPack dropped`,__LOG__(2)`bin-recv:${[e,"action,stickerPack",t.length].join()}`}break}case"recentStickers":if((0,h.isRecentStickersEnabled)())for(let t=0;t<m;t++){const a=(0,k.default)(p[t],this.N);a?(M.RecentStickerCollection.setChecksum(r.checksum),M.RecentStickerCollection.remove(a),__LOG__(2)`bin-recv:${[e,"action,recentStickers",a].join()}`):__LOG__(3)`Wap:handle:recentStickers dropped`}break;case"starredStickers":if((0,h.isStarredStickersEnabled)())for(let t=0;t<m;t++){const n=(0,P.default)(p[t],this.N);if(n){const{type:t,filehash:r,sticker:i}=n,s=a(16774).StarredStickerCollection;switch(t){case"add":s.add((0,u.default)(i,"sticker"),{at:0,sort:!1},!0);break;case"delete":s.remove(r)}__LOG__(2)`bin-recv:${[e,"action,starredStickers",t,r].join()}`}else __LOG__(3)`Wap:handle:starredStickers dropped`}break;case"notice":{const t=[];for(let a=0;a<m;a++){const n=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.USER_NOTICE,"parseNotice",p[a]);n?!(0,i.default)(n)&&t.push(n):__LOG__(3)`Wap:handle:notice dropped`,__LOG__(2)`bin-recv:${[e,"action,notice",t.length].join()}`,T.default.handleResponse(t)}break}case"archiveSetting":for(let t=0;t<m;t++){const a=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.SETTINGS_SYNC,"parseSetting",p[t]);a||__LOG__(3)`Wap:handle:setting dropped`,__LOG__(2)`bin-recv:${[e,"action,setting,archive"].join()}`,w.default.handleResponse([a])}break;case"disappearingModeSetting":for(let t=0;t<m;t++){const a=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.SETTINGS_SYNC,"parseSetting",p[t]);a||__LOG__(3)`Wap:handle:setting dropped`,__LOG__(2)`bin-recv:${[e,"action,setting,disappearing_mode"].join()}`,w.default.handleResponse([a])}break;default:__LOG__(3)`Wap:handle action unknown ${d}`}}else(0,S.default)([{recent:!0,meta:r,binarySize:n}])},handleQuery:function(e,t){const a=this.N.children(t);if(Array.isArray(a))for(let t=0;t<a.length;t++){const n=a[t],r=this.N.tag(n);let i;switch(__LOG__(2)`bin-recv:${[e,"query",r].join()}`,r){case"call":i=this.callFeatureFlagFun(c.LegacyPhoneFeatures.F.VOIP_INDIVIDUAL_INCOMING,"handleCallQuery",n);break;default:__LOG__(3)`wap:handle:query unknown ${r}`}i||(i=Promise.resolve(this.errorNode(501))),i.then((t=>{this.BinaryProtocol.write(t).then((a=>{j.Socket.send({tag:e,data:a,onSend:this.wrap((()=>{})),onDrop:this.wrap((()=>{})),retryOn5xx:!0,binaryOpts:{debugString:["response",r].join(),debugObj:t,metricName:"QUERY_RESPONSE",ackRequest:!0}})})).catch((()=>{this.epochRecv()}))}))}},handle:function(e,t,n,r){return this.BinaryProtocol.read(e).then((e=>{switch(this.N.tag(e)){case"response":this.handleResponse(n,e,r,t);break;case"action":this.handleAction(n,e,r,t);break;case"query":this.handleQuery(n,e,r);break;case"read":const i=this.parseCmd(e);if(i){const e=(0,s.default)(i).join();__LOG__(2)`bin-recv:${[n,"action",e].join()}`,a(98423).handle([i])}else __LOG__(3)`Wap:handle read invalid`;break;default:__LOG__(3,!0)`TODO ${this.N.toString(e,!0)}`}return!0})).catch((0,l.filteredCatch)(d.LogoutDrop,(e=>{__LOG__(3)`LogoutDrop error: ${e.toString()}`}))).catch((e=>{throw __LOG__(2)`BinaryProtocol read error with tag ${n}, size: ${r}`,__LOG__(2)`BinaryProtocol read error stack: ${e.stack||""}`,new Error(`BinaryProtocol read error: ${e}`)}))}};t.default=N},5433:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(92574),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),s=n(a(36129));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var l=class{constructor(){this._writeQueue=[],this.Node=s.default}read(){return __LOG__(3)`Attempted to call \`read\` on BinaryProtocolQueue`,Promise.reject(new i.Disconnected)}write(e){return new Promise(((t,a)=>{this._writeQueue.push({resolve:t,reject:a,n:e})}))}dropAllBecauseLogout(){const e=new r.LogoutDrop("cancelled binary protocol call");for(;this._writeQueue.length;){this._writeQueue.shift().reject(e)}}getWriteQueue(){return this._writeQueue}};t.default=l},33330:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=n(a(91747)),s=n(a(30236)),o=a(20461),l=a(88555),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),d=n(a(18629)),c=n(a(42916)),f=n(a(94569)),h=n(a(86968)),p=n(a(11801)),m=n(a(14857)),g=n(a(25327)),_=n(a(60039)),v=n(a(2434)),b=n(a(60569)),y=n(a(10853)),C=n(a(53995)),S=n(a(893)),E=n(a(69171));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}const x=(e,t)=>{if(Array.isArray(e)&&t)return e.concat(t)},M=(e,t)=>{if(e.Dictionary){const a={};(0,s.default)(a,t.Dictionary,e.Dictionary,x),e.Dictionary=a}return(0,i.default)(e,t)},k={OutputStream:b.default,Writer:S.default,InputStream:v.default,Reader:y.default,Dictionary:c.default,Crypto:d.default},w=M({Dictionary:f.default},k),P=M({Dictionary:h.default},w),A=M({Dictionary:p.default},P),j=M({Dictionary:m.default},A),I=M({Dictionary:g.default},j),O=M({Writer:E.default,Reader:C.default,Dictionary:_.default},I),N={"01":!0,"03":!0,"04":!0,"05":!0,"06":!0,v1:!0,v2:!0,v3:!0,v4:!0},R={v5:k,v6:w,v7:P,v8:A,v9:j,v10:I,v11:O};t.default=class{constructor(e){const t="number"==typeof e?`v${e}`:e;if(N[t])throw __LOG__(3)`binaryProtocol deprecated version: ${t}`,new u.DeprecatedProtocolVersion("bp_deprecated_version");const n=R[t];if(!n)throw __LOG__(3)`binaryProtocol unknown version: ${t}`,new u.UpdateImmediately("bp_unknown_version");const i=n.OutputStream,s=new n.Writer(n.Dictionary),d=n.InputStream,c=new n.Reader(n.Dictionary),f=n.Crypto;this.Node=a(36129).default,(0,l.isMDBackend)()?this.read=e=>Promise.resolve(c.readNode(new d(e))):this.read=function(){var e=(0,r.default)((function*(e){const t=yield f.decrypt(e);return c.readNode(new d(t))}));return function(){return e.apply(this,arguments)}}(),this.write=(0,o.promiseWrapSync)((e=>{const t=new i;return s.writeNode(t,e),f.encrypt(t.toBuffer())})),this.dropAllBecauseLogout=()=>f.dropAllBecauseLogout()}}},25327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["vname","old_jid","new_jid","announcement","locked","prop","label","color","call","offer","call-id"]}},26362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,JID_AD:247,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},60039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["quick_reply","sticker","pay_t","accept","reject","sticker_pack","invalid","canceled","missed","connected","result","audio","video","recent"]}},53995:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t="",a="";const n=e.singleByte,i=e.doubleByte,l=e.nibbleDecode;this.readNode=function(e){let a=e.readByte();const n=this.readListSize(e,a);if(a=e.readByte(),a===s.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());const r=this.readString(e,a);if(t=r,0===n||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());const i=this.readAttributes(e,n-2+n%2>>1);if(n%2==1)return[r,i,void 0];let o;if(a=e.readByte(),this.isListTag(a))o=this.readList(e,a);else if(a===s.default.BINARY_8){const t=e.readByte();o=e.readBytes(t)}else if(a===s.default.BINARY_20){const t=e.readInt20();o=e.readBytes(t)}else if(a===s.default.BINARY_32){const t=e.readInt32();o=e.readBytes(t)}else o=this.readString(e,a);return[r,i,o]},this.isListTag=function(e){return e===s.default.LIST_EMPTY||e===s.default.LIST_8||e===s.default.LIST_16},this.readListSize=function(e,t){if(t===s.default.LIST_EMPTY)return 0;if(t===s.default.LIST_8)return e.readByte();if(t===s.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,n){let i,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(-1===n)throw new Error("invalid start token readString"+e.debugInfo());if(n>2&&n<236){let e=this.getToken(n);return"s.whatsapp.net"===e&&(e="c.us"),e}switch(n){case s.default.DICTIONARY_0:case s.default.DICTIONARY_1:case s.default.DICTIONARY_2:case s.default.DICTIONARY_3:const u=e.readByte();return this.getTokenDouble(n-s.default.DICTIONARY_0,u);case s.default.LIST_EMPTY:return;case s.default.BINARY_8:return i=e.readString(e.readByte()),this.isAttr&&l&&r.default.isWid(i)?o(i):i;case s.default.BINARY_20:return i=e.readString(e.readInt20()),this.isAttr&&l&&r.default.isWid(i)?o(i):i;case s.default.BINARY_32:return i=e.readString(e.readInt32()),this.isAttr&&l&&r.default.isWid(i)?o(i):i;case s.default.JID_PAIR:{const t=this.readString(e,e.readByte()),a=this.readString(e,e.readByte());if(void 0!==t&&void 0!==a){const e=t+"@"+a;return l&&r.default.isWid(e)?o(e):e}if(void 0!==a)return a;throw new Error("invalid jid "+t+","+a+" "+e.debugInfo())}case s.default.JID_AD:{const t=e.readByte(),a=e.readByte(),n=this.readString(e,e.readByte());if(void 0!==n)return o(t&&a?n+"."+t+":"+a+"@c.us":t?n+"."+t+"@c.us":a?n+":"+a+"@c.us":n+"@c.us");throw new Error(`invalid JID_AD agent:${t} device:${a} user:${n}`)}case s.default.NIBBLE_8:case s.default.HEX_8:return this.readPacked8(n,e);default:throw __LOG__(2,!0)`Unexpected token in binary protocol read. Token : ${n}
lastTag: ${t}
lastAttributeKey: ${a}
${e.debugInfoWithPadding()}`,new Error("invalid string "+n)}},this.getToken=function(e){let t;if(e>=0&&e<n.length&&(t=n[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){let a;const n=256*e+t;if(n>=0&&n<i.length&&(a=i[n]),void 0===a)throw new Error("invalid double byte token "+e+" "+t);return a},this.readAttributes=function(e,t){let n,i;this.isAttr=!0;const s=t?{}:void 0;for(let o=0;o<t;o++)n=this.readString(e,e.readByte()),a=n,i=this.readString(e,e.readByte(),r.default.canBeWid(n)),s[n]=i;return this.isAttr=!1,s},this.readList=function(e,t){const a=[],n=this.readListSize(e,t);for(let t=0;t<n;t++)a.push(this.readNode(e));return a},this.readPacked8=function(e,t){const a=t.readByte();let n="";for(let r=0;r<(127&a);r++){const a=t.readByte();n+=this.unpackByte(e,(240&a)>>4),n+=this.unpackByte(e,15&a)}return a>>7&&(n=n.substring(0,n.length-1)),n},this.unpackByte=function(e,t){switch(e){case s.default.NIBBLE_8:return this.unpackNibble(t);case s.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!l.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return l[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}};var r=n(a(89867)),i=a(45454),s=n(a(26362));function o(e){try{return(0,i.createWid)(e)}catch(t){return e}}},69171:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;const a={},n=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(a[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(a[e.doubleByte[t]]=t+o.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(!t)return;if(3!==t.length)throw new Error("invalid node");const a=t[1]?2*Object.keys(t[1]).filter((function(e){return!!t[1][e]})).length:0;this.writeListStart(e,1+a+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])},this.writeString=function(e,t,n){if("string"!=typeof t&&!(t instanceof i.default))throw __LOG__(3)`writer:writeString passed non-string/wid type: ${typeof t}`,new Error("invalid string");if(t instanceof i.default)return void this.writeJid(e,t);const r=a.hasOwnProperty(t)?a[t]:void 0;let l,u;if("c.us"!==t||n)if(void 0===r){if(t.indexOf("@")<1)this.writeStringRaw(e,t);else try{const a=(0,s.createWid)(t);this.writeJid(e,a)}catch(a){this.writeStringRaw(e,t)}}else{if(r<o.default.SINGLE_BYTE_MAX)this.writeToken(e,r);else{const e=r-o.default.SINGLE_BYTE_MAX;switch(u=e%256,e>>8){case 0:l=o.default.DICTIONARY_0;break;case 1:l=o.default.DICTIONARY_1;break;case 2:l=o.default.DICTIONARY_2;break;case 3:l=o.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+r)}}this.writeToken(e,l),this.writeToken(e,u)}else this.writeToken(e,a["s.whatsapp.net"])},this.writeStringRaw=function(e,t){const a=(0,r.numUtf8Bytes)(t);if(a>=4294967296)throw new Error("string too large to encode (len = "+a+"): "+t);a>=1<<20?(e.pushByte(o.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(o.default.BINARY_20),e.pushInt20(a)):(e.pushByte(o.default.BINARY_8),e.pushByte(a)),e.pushString(t)},this.writeJid=function(e,t){const a=t.user,n=t.server,r=t.agent,i=t.device;if(r||i){if(r>255||i>255||"c.us"!==n&&"s.whatsapp.net"!==n)throw new Error(`invalid agent:${r} or device:${i} or server:${n} for wid ${t.toString()}`);e.pushByte(o.default.JID_AD),e.pushByte(r||0),e.pushByte(i||0),a?this.writePackedBytesStringFallback(e,a):this.writeToken(e,o.default.LIST_EMPTY)}else e.pushByte(o.default.JID_PAIR),a?this.writePackedBytesStringFallback(e,a):this.writeToken(e,o.default.LIST_EMPTY),this.writeString(e,n)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){this.isAttr=!0;for(const a in t)t[a]&&(this.writeString(e,a),this.writeString(e,t[a]));this.isAttr=!1}},this.writeChildren=function(e,t){let a;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if(a=t.byteLength,a>=4294967296)throw new Error("invalid children; too long (len = "+a);a>=1<<20?(e.pushByte(o.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(o.default.BINARY_20),e.pushInt20(a)):(e.pushByte(o.default.BINARY_8),e.pushByte(a)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");a=t.length,this.writeListStart(e,a);for(let n=0;n<a;n++)this.writeNode(e,t[n])}},this.writeListStart=function(e,t){0===t?e.pushByte(o.default.LIST_EMPTY):t<256?(e.pushByte(o.default.LIST_8),e.pushByte(t)):(e.pushByte(o.default.LIST_16),e.pushInt16(t))},this.writePackedBytesStringFallback=function(e,t){try{this.writePackedBytes(e,t)}catch(a){__LOG__(3,!0)`writer:encode-fallback "${a.message}"`,this.writeString(e,t)}},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,o.default.NIBBLE_8)}catch(a){__LOG__(3)`writer:enc nib fail, try hex "${a.message}"`,this.writePackedBytesImpl(e,t,o.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,a){const n=(0,r.numUtf8Bytes)(t);if(n>o.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+n);{const r=Math.ceil(n/2),i=[];let s,o=0;n%2>0&&(o=128);const l=o|r;i.push(a),i.push(l);const u=Math.floor(n/2);for(let e=0;e<u;e++)s=this.packBytePair(a,t[2*e],t[2*e+1]),i.push(s);o>0&&(s=this.packBytePair(a,t[n-1],"\0"),i.push(s));const d=new Uint8Array(i);e.pushUint8Array(d)}},this.packBytePair=function(e,t,a){let n,r;switch(e){case o.default.NIBBLE_8:n=this.packNibble(t),r=this.packNibble(a);break;case o.default.HEX_8:n=this.packHex(t),r=this.packHex(a);break;default:throw new Error("invalid byte pack type: "+e)}return n<<4|r},this.packNibble=function(e){if(!n.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return n[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}};var r=a(8584),i=n(a(89867)),s=a(45454),o=n(a(26362))},41769:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},18629:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(27722)),i=n(a(45095)),s=a(92574),o=a(22565),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(66333));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}class d{static encrypt(e){if(!e)return Promise.reject(new Error("Missing ArrayBuffer in cryptoAsync:encrypt"));const t=l.get(),a=(0,o.encryptAndMac)((0,i.default)(t.encKey,"bundle.encKey"),(0,i.default)(t.macKey,"bundle.macKey"),e);return this._encryptQueue.enqueue(a)}static decrypt(e){if(!e)return Promise.reject(new Error("Missing ArrayBuffer in cryptoAsync:decrypt"));const t=l.get(),a=(0,o.macAndDecrypt)((0,i.default)(t.encKey,"bundle.encKey"),(0,i.default)(t.macKey,"bundle.macKey"),e);return this._decryptQueue.enqueue(a)}static dropAllBecauseLogout(){const e=new s.LogoutDrop("cancelled binary protocol call");this._encryptQueue.cancelAll(e),this._decryptQueue.cancelAll(e)}}t.default=d,d._encryptQueue=new r.default,d._decryptQueue=new r.default},42916:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};t.default=a},2434:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(8584);t.default=class{constructor(e){this.binary=new n.Binary(e)}readByte(){return this.binary.readUint8()}readInt16(){return this.binary.readUint16()}readInt20(){return((15&this.binary.readUint8())<<16)+(this.binary.readUint8()<<8)+this.binary.readUint8()}readInt32(){return this.binary.readUint32()}readString(e){return this.binary.readString(e)}readBytes(e){return this.binary.readBuffer(e)}debugInfo(){const e=this.binary;return`offset: ${e._readIndex} byte: ${e._buffer[e._readIndex]}`}debugInfoWithPadding(){const e=this.binary,t=e._buffer.slice(Math.max(0,e._readIndex-20),e._readIndex).toString(),a=e._buffer.slice(e._readIndex,Math.min(e._buffer.length,e._readIndex+20)).toString();return`offset: ${e._readIndex} byte: ${e._buffer[e._readIndex]} previous 20 bytes: ${t}\n        following 20 bytes: ${a}\n        `}}},60569:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(8584);t.default=class{constructor(){this.buf=new n.Binary}pushInt16(e){this.buf.writeUint16(e)}pushInt20(e){if("number"!=typeof e)throw new Error("invalid int20");this.buf.writeUint8((983040&e)>>16),this.buf.writeUint16(65535&e)}pushInt32(e){this.buf.writeUint32(e)}pushByte(e){this.buf.writeUint8(e)}pushBytes(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");this.buf.writeBuffer(e)}pushUint8Array(e){if("[object Uint8Array]"!==Object.prototype.toString.call(e))throw new Error("invalid Uint8Array");this.buf.writeByteArray(e)}pushString(e){if("string"!=typeof e)throw new Error("invalid string");this.buf.writeString(e)}toBuffer(){return this.buf.readBuffer()}}},10853:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t="",a="";const n=e.singleByte,i=e.doubleByte,l=e.nibbleDecode;this.readNode=function(e){let a=e.readByte();const n=this.readListSize(e,a);if(a=e.readByte(),a===s.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());const r=this.readString(e,a);if(0===n||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());t=r;const i=this.readAttributes(e,n-2+n%2>>1);if(n%2==1)return[r,i,void 0];let o;if(a=e.readByte(),this.isListTag(a))o=this.readList(e,a);else if(a===s.default.BINARY_8){const t=e.readByte();o=e.readBytes(t)}else if(a===s.default.BINARY_20){const t=e.readInt20();o=e.readBytes(t)}else if(a===s.default.BINARY_32){const t=e.readInt32();o=e.readBytes(t)}else o=this.readString(e,a);return[r,i,o]},this.isListTag=function(e){return e===s.default.LIST_EMPTY||e===s.default.LIST_8||e===s.default.LIST_16},this.readListSize=function(e,t){if(t===s.default.LIST_EMPTY)return 0;if(t===s.default.LIST_8)return e.readByte();if(t===s.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,n){let i,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(-1===n)throw new Error("invalid start token readString"+e.debugInfo());if(n>2&&n<236){let e=this.getToken(n);return"s.whatsapp.net"===e&&(e="c.us"),e}switch(n){case s.default.DICTIONARY_0:case s.default.DICTIONARY_1:case s.default.DICTIONARY_2:case s.default.DICTIONARY_3:const u=e.readByte();return this.getTokenDouble(n-s.default.DICTIONARY_0,u);case s.default.LIST_EMPTY:return;case s.default.BINARY_8:return i=e.readString(e.readByte()),this.isAttr&&l&&r.default.isWid(i)?o(i):i;case s.default.BINARY_20:return i=e.readString(e.readInt20()),this.isAttr&&l&&r.default.isWid(i)?o(i):i;case s.default.BINARY_32:return i=e.readString(e.readInt32()),this.isAttr&&l&&r.default.isWid(i)?o(i):i;case s.default.JID_PAIR:const d=this.readString(e,e.readByte()),c=this.readString(e,e.readByte());if(void 0!==d&&void 0!==c){const e=d+"@"+c;return l&&r.default.isWid(e)?o(e):e}if(void 0!==c)return c;throw new Error("invalid jid "+d+","+c+" "+e.debugInfo());case s.default.NIBBLE_8:case s.default.HEX_8:return this.readPacked8(n,e);default:throw __LOG__(2,!0)`Unexpected token in binary protocol read. Token : ${n}
lastTag: ${t}
lastAttributeKey: ${a}
${e.debugInfoWithPadding()}`,new Error("invalid string "+n)}},this.getToken=function(e){let t;if(e>=0&&e<n.length&&(t=n[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){let a;const n=256*e+t;if(n>=0&&n<i.length&&(a=i[n]),void 0===a)throw new Error("invalid double byte token "+e+" "+t);return a},this.readAttributes=function(e,t){let n,i;this.isAttr=!0;const s=t?{}:void 0;for(let o=0;o<t;o++)n=this.readString(e,e.readByte()),a=n,i=this.readString(e,e.readByte(),r.default.canBeWid(n)),s[n]=i;return this.isAttr=!1,s},this.readList=function(e,t){const a=[],n=this.readListSize(e,t);for(let t=0;t<n;t++)a.push(this.readNode(e));return a},this.readPacked8=function(e,t){const a=t.readByte();let n="";for(let r=0;r<(127&a);r++){const a=t.readByte();n+=this.unpackByte(e,(240&a)>>4),n+=this.unpackByte(e,15&a)}return a>>7&&(n=n.substring(0,n.length-1)),n},this.unpackByte=function(e,t){switch(e){case s.default.NIBBLE_8:return this.unpackNibble(t);case s.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!l.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return l[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}};var r=n(a(89867)),i=a(45454),s=n(a(41769));function o(e){try{return(0,i.createWid)(e)}catch(t){return e}}},893:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;const a={},n=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(a[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(a[e.doubleByte[t]]=t+s.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(!t)return;if(3!==t.length)throw new Error("invalid node");const a=t[1]?2*Object.keys(t[1]).filter((function(e){return!!t[1][e]})).length:0;this.writeListStart(e,1+a+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])},this.writeString=function(e,t,n){if("string"!=typeof t&&!(t instanceof i.default))throw __LOG__(3)`writer:writeString passed non-string/wid type: ${typeof t}`,new Error("invalid string");if(t instanceof i.default)return void this.writeJid(e,t.user,t.server);const r=a.hasOwnProperty(t)?a[t]:void 0;let o,l;if("c.us"!==t||n)if(void 0===r){const a=t.indexOf("@");if(a<1)this.writeStringRaw(e,t);else{const n=t.substring(0,a),r=t.substring(a+1);this.writeJid(e,n,r)}}else{if(r<s.default.SINGLE_BYTE_MAX)this.writeToken(e,r);else{const e=r-s.default.SINGLE_BYTE_MAX;switch(l=e%256,e>>8){case 0:o=s.default.DICTIONARY_0;break;case 1:o=s.default.DICTIONARY_1;break;case 2:o=s.default.DICTIONARY_2;break;case 3:o=s.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+r)}}this.writeToken(e,o),this.writeToken(e,l)}else this.writeToken(e,a["s.whatsapp.net"])},this.writeStringRaw=function(e,t){const a=(0,r.numUtf8Bytes)(t);if(a>=4294967296)throw new Error("string too large to encode (len = "+a+"): "+t);a>=1<<20?(e.pushByte(s.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(s.default.BINARY_20),e.pushInt20(a)):(e.pushByte(s.default.BINARY_8),e.pushByte(a)),e.pushString(t)},this.writeJid=function(e,t,a){if(e.pushByte(s.default.JID_PAIR),t)try{this.writePackedBytes(e,t)}catch(a){__LOG__(3,!0)`writer:encode-fallback "${a.message}"`,this.writeString(e,t)}else this.writeToken(e,s.default.LIST_EMPTY);this.writeString(e,a)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){this.isAttr=!0;for(const a in t)t[a]&&(this.writeString(e,a),this.writeString(e,t[a]));this.isAttr=!1}},this.writeChildren=function(e,t){let a;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if(a=t.byteLength,a>=4294967296)throw new Error("invalid children; too long (len = "+a);a>=1<<20?(e.pushByte(s.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(s.default.BINARY_20),e.pushInt20(a)):(e.pushByte(s.default.BINARY_8),e.pushByte(a)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");a=t.length,this.writeListStart(e,a);for(let n=0;n<a;n++)this.writeNode(e,t[n])}},this.writeListStart=function(e,t){0===t?e.pushByte(s.default.LIST_EMPTY):t<256?(e.pushByte(s.default.LIST_8),e.pushByte(t)):(e.pushByte(s.default.LIST_16),e.pushInt16(t))},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,s.default.NIBBLE_8)}catch(a){__LOG__(3)`writer:enc nib fail, try hex "${a.message}"`,this.writePackedBytesImpl(e,t,s.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,a){const n=(0,r.numUtf8Bytes)(t);if(n>s.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+n);{const r=Math.ceil(n/2),i=[];let s,o=0;n%2>0&&(o=128);const l=o|r;i.push(a),i.push(l);const u=Math.floor(n/2);for(let e=0;e<u;e++)s=this.packBytePair(a,t[2*e],t[2*e+1]),i.push(s);o>0&&(s=this.packBytePair(a,t[n-1],"\0"),i.push(s));const d=new Uint8Array(i);e.pushUint8Array(d)}},this.packBytePair=function(e,t,a){let n,r;switch(e){case s.default.NIBBLE_8:n=this.packNibble(t),r=this.packNibble(a);break;case s.default.HEX_8:n=this.packHex(t),r=this.packHex(a);break;default:throw new Error("invalid byte pack type: "+e)}return n<<4|r},this.packNibble=function(e){if(!n.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return n[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}};var r=a(8584),i=n(a(89867)),s=n(a(41769))},94569:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["ciphertext","invite"]}},86968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["gif","vcard","frequent"]}},11801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["privacy","blacklist","whitelist","verify"]}},14857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["location","document","elapsed","revoke_invite","expiration","unsubscribe","disable"]}},68953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={sendConversationDismissChangeNumber:function(e){return this.sendConversationOpWithKey("modify",e,void 0,void 0)}};t.default=a},82497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={queryDisappearingMode:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"disappearing_mode",jid:e},void 0);this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let a;if(__LOG__(2)`bin-recv: response,disappearing_mode`,"response"===this.N.tag(e)&&"disappearing_mode"===this.N.attr("type",e)){const t=this.N.attr("duration",e),n=this.N.attr("t",e);null!=t&&null!=n&&(a={duration:t,settingTimestamp:n})}t(a)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:"query,disappearing_mode",metricName:"QUERY_DISAPPEARING_MODE"})}))}};t.default=a},84045:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(78820),i=n(a(30381)),s=a(65044),o={setGroupEphemeralDuration:function(e,t){return new Promise(((a,n)=>{const o=s.Socket.tag(),l=this.wrap(a);l.tag=o;const u=[["ephemeral",{value:t.toString()},void 0]],d=["group",{id:o,jid:e,type:"prop",author:(0,r.getMaybeMeUser)()},u],c=this.actionNode("set",[d]);this.binSend("send",c,n,{clientCacheable:!0,onSend:l,onDrop:this.wrap(n)},{debugString:"action,group,ephemeral,"+t,metricName:"GROUP",expires:(0,i.default)().unix()})}))}};t.default=o},26286:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(51737),i=a(78820),s=n(a(30381)),o=a(65044),l={setGroupDescription:function(e,t,a,n){return new Promise(((l,u)=>{const d=o.Socket.tag(),c=this.wrap(l);let f;c.tag=d,f=(0,r.isString)(t)?[["description",{id:a,prev:n||"none"},t]]:[["description",{prev:n||"none",delete:"true"},void 0]];const h=["group",{id:d,jid:e,type:"description",author:(0,i.getMaybeMeUser)()},f],p=this.actionNode("set",[h]);this.binSend("send",p,u,{clientCacheable:!0,onSend:c,onDrop:this.wrap(u)},{debugString:"action,group,desc",metricName:"GROUP",expires:(0,s.default)().unix()})}))},setGroupProperty:function(e,t,a){return"announcement"!==t&&"restrict"!==t&&"no_frequently_forwarded"!==t?Promise.reject(new Error("invalid group property")):new Promise(((n,r)=>{const l=o.Socket.tag(),u=this.wrap(n);let d;switch(u.tag=l,t){case"announcement":d=[["announcement",{value:(!!a).toString()},void 0]];break;case"restrict":d=[["locked",{value:(!!a).toString()},void 0]];break;case"no_frequently_forwarded":d=[["no_frequently_forwarded",{value:(!!a).toString()},void 0]]}const c=["group",{id:l,jid:e,type:"prop",author:(0,i.getMaybeMeUser)()},d],f=this.actionNode("set",[c]);this.binSend("send",f,r,{clientCacheable:!0,onSend:u,onDrop:this.wrap(r)},{debugString:["action,group,prop",t,a].join(),metricName:"GROUP",expires:(0,s.default)().unix()})}))},demoteParticipants:function(e,t){return this.setGroupParticipants("demote",e,t)}};t.default=l},20207:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(51737),i=a(78820),s=n(a(30381)),o=a(65044),l={createGroup:function(e,t,a,n,l,u,d){return new Promise(((c,f)=>{const h=o.Socket.tag(),p=this.wrap(c);p.tag=h;const m=t.map((e=>["participant",{jid:e},void 0]));(0,r.isString)(a)&&(0,r.isString)(n)&&m.unshift(["description",{id:n},a]),l&&m.unshift(["locked",void 0,void 0]),u&&m.unshift(["announcement",void 0,void 0]),null!=d&&0!==d&&m.unshift(["ephemeral",{value:d.toString()},void 0]),__LOG__(2)`create group tag`;const g=["group",{id:h,type:"create",author:(0,i.getMaybeMeUser)(),subject:e},m],_=this.actionNode("set",[g]);this.binSend("send",_,f,{clientCacheable:!0,onSend:p,onDrop:this.wrap(f)},{debugString:"action,group,create",metricName:"GROUP",expires:(0,s.default)().unix()})}))}};t.default=l},92264:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30381)),i=a(65044),s={findGroupPendingInvitesFromPhone:function(e,t){return new Promise(((a,n)=>{const r=this.queryNode({type:"group",kind:"invite",from:e,jid:t},[]);this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{if("response"!==this.N.tag(e)||"group"!==this.N.attr("type",e))return void a({status:"error",info:"bad format: response incorrect"});const t=this.N.children(e),n=null==t?void 0:t[0];if(!n)return void a({status:"error",info:"bad format: no group node"});const r=[],i=this.N.children(n);Array.isArray(i)&&i.forEach((e=>{switch(this.N.tag(e)){case"participant":r.push({id:this.N.attr("jid",e)})}})),a({participants:r})})).catch(n)}),a),onDrop:this.wrap(n)},{debugString:"query,group_pending_invite",metricName:"QUERY_GROUP",ackRequest:!1})}))},acceptGroupV4Invite:function(e,t,a,n,s){return new Promise(((o,l)=>{const u=i.Socket.tag(),d=this.wrap(o);d.tag=u;const c=[["accept",{admin:t,expiration:n,code:a},void 0]],f=this.actionNode("set",[["group",{id:u,author:s,jid:e,type:"accept"},c]]);this.binSend("send",f,l,{clientCacheable:!0,onSend:d,onDrop:this.wrap(l)},{debugString:"action,group_invite_accept,",ackRequest:!1,expires:(0,r.default)().unix()})}))},revokeGroupV4Invite:function(e,t,a){return new Promise(((n,s)=>{const o=i.Socket.tag(),l=this.wrap(n);l.tag=o;const u=e.map((e=>["participant",{jid:e},void 0])),d=this.actionNode("set",[["group",{id:o,author:a,jid:t,type:"revoke"},u]]);this.binSend("send",d,s,{clientCacheable:!0,onSend:l,onDrop:this.wrap(s)},{debugString:"action,group_invite_revoke,",ackRequest:!1,expires:(0,r.default)().unix()})}))},parseInviteUpdate(e){const t=[],[a,n,r]=[this.N.attr("kind",e),this.N.attr("jid",e),this.N.attr("type",e)];if("update"!==a||"invite"!==r||void 0===n)return;const i=this.N.children(e);for(let e=0;e<i.length;e++){const a=i[e];"participant"===this.N.tag(a)&&t.push(this.N.attr("jid",a))}return{gid:n,participants:t}}};t.default=s},76342:(e,t,a)=>{"use strict";var n=a(95318);t.Z=void 0;var r=n(a(68953)),i=n(a(82497)),s=n(a(84045)),o=n(a(26286)),l=n(a(20207)),u=n(a(92264)),d=n(a(44843)),c=n(a(46262)),f=n(a(88278)),h=n(a(73052)),p=n(a(59153)),m=n(a(45831)),g=n(a(91725)),_=n(a(10467)),v=n(a(74111)),b=a(80208),y=n(a(61584)),C=n(a(13892)),S=n(a(60678)),E=n(a(89998)),T={labelsDisplay:d.default,groupsV3:o.default,groupsV3Create:l.default,changeNumberV2:r.default,queryStatusV3Thumbnail:m.default,queryVname:g.default,voipIndividualIncoming:E.default,quickRepliesQuery:_.default,payments:p.default,stickerPackQuery:C.default,labelsEdit:c.default,mediaUpload:f.default,videoPlaybackUrl:S.default,recentStickersV2:v.default,recentStickersV3:v.default,starredStickers:y.default,groupsV4JoinPermission:u.default,ephemeralMessages:s.default,userNotice:h.default,settingsSync:b.settingsSync,disappearingMode:i.default};t.Z=T},44843:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=n(a(65212));a(59802);const s={chat:["Chat","Contact"],message:["Msg"],contact:["Contact"]};var o={queryLabels:function(){return new Promise(((e,t)=>{const a=this.queryNode({type:"label"});this.binSend("sendEphemeral",a,t,{onSend:this.binWrap((a=>{this.BinaryProtocol.read(a).then((t=>{const a={labels:[]};if(__LOG__(2)`bin-recv: response,label`,"response"===this.N.tag(t)&&"label"===this.N.attr("type",t)){a.checksum=this.N.attr("checksum",t);const e=this.N.children(t);if(Array.isArray(e))for(let t=0;t<e.length;t++){const n=this.parseLabel(e[t]),r=null==n?void 0:n.label;r&&a.labels.push(r)}}e(a)})).catch(t)}),e),onDrop:this.wrap(t)},{debugString:"query,labels",metricName:"QUERY_LABELS"})}))},parseLabel:function(e){if("label"!==this.N.tag(e))return;const t=parseInt(this.N.attr("count",e),10),a=this.N.attr("id",e),n=this.N.attr("name",e),o=this.N.attr("color",e),u=isNaN(t)?void 0:t,d=this.N.attr("type",e);let c;if("update"===d){const t=this.N.children(e);for(let e=0;e<t.length;e++){const a=t[e];let n=null;switch(this.N.tag(a)){case"chat":n=this.N.attr("jid",a);break;case"message":const e=this.N.attr("jid",a),t=this.N.attr("index",a),r="true"===this.N.attr("owner",a),s=this.N.attr("participant",a);n=new i.default({fromMe:r,remote:e,id:t,participant:s})}const o={id:(0,r.default)(n,"updateId"),labels:l(this.N.children(a),this.N.attr),collection:s[this.N.tag(a)]};c=c?c.concat(o):[o]}}const f={label:{id:a,name:n,color:o,count:u},type:d,labelUpdates:c};return this.dropIfConditionMet([!(d||a&&n&&o),d&&"update"!==d&&"delete"!==d],f)}};function l(e,t){return e&&Array.isArray(e)?e.reduce(((e,a)=>[...e,(0,r.default)(t("id",a),"attr('id', label)")]),[]):[]}t.default=o},46262:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30381)),i=a(19380),s={queryNextLabelColor(){return this._queryLabelColor(!0)},queryLabelPalette(){return this._queryLabelColor()},createLabel(e,t){return this._createOrDeleteLabels("create",e,t)},deleteLabel(e){return this._createOrDeleteLabels("delete",void 0,void 0,e)},_queryLabelColor:function(e){const t=e?"next label color":"all label color palette";return new Promise(((a,n)=>{const r=this.queryNode({type:"label",kind:"color",create:e?"true":void 0});this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n={};if(__LOG__(2)`bin-recv: response,${t}`,"response"===this.N.tag(e)&&"label"===this.N.attr("type",e)){n.labelColors=[];const t=this.N.children(e);if(Array.isArray(t))for(let e=0;e<t.length;e++){const a=this.parseLabelColor(t[e]);a&&n.labelColors.push(a)}}a(n)})).catch(n)}),a),onDrop:this.wrap(n)},{debugString:`query,${t}`,metricName:e?"QUERY_NEXT_LABEL_COLOR":"QUERY_LABEL_PALETTE"})}))},addOrRemoveLabels:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(((n,s)=>{const o=this.wrap(n),l=e.map((e=>["label",{id:e.id,type:e.type},void 0])),u=t.map((e=>e instanceof a(69951).ChatCollection.modelClass?["chat",{jid:e.id},void 0]:e instanceof i.ContactCollection.modelClass?["contact",{jid:e.id},void 0]:e instanceof a(59871).MsgCollection.modelClass?["message",{index:e.id.id,owner:void 0===e.id.fromMe?void 0:e.id.fromMe.toString(),jid:e.id.remote},void 0]:void 0)),d=this.actionNode("set",[["label",{type:"update"},u.concat(l)]]);this.binSend("send",d,s,{onSend:o,onDrop:this.wrap(s)},{debugString:"action,label,remove or add",metricName:"ADD_OR_REMOVE_LABELS",expires:(0,r.default)().unix()})}))},_createOrDeleteLabels:function(e,t,a,n){return"delete"!==e&&"create"!==e?Promise.reject(new Error("_createOrDeleteLabels must be called with type of delete or create")):new Promise(((i,s)=>{const o=this.wrap(i),l={type:e,name:t,color:a,id:n||void 0},u=this.actionNode("set",[["label",l,void 0]]);this.binSend("send",u,s,{onSend:o,onDrop:this.wrap(s)},{debugString:"action,label,create or delete",metricName:"CREATE_OR_DELETE_LABELS",expires:(0,r.default)().unix()})}))},editLabel:function(e,t,a){return new Promise(((n,i)=>{const s=this.wrap(n),o={id:e,name:t||void 0,color:a||void 0,type:"update"},l=this.actionNode("set",[["label",o,void 0]]);this.binSend("send",l,i,{onSend:s,onDrop:this.wrap(i)},{debugString:"action,label,edit",metricName:"EDIT_LABELS",expires:(0,r.default)().unix()})}))},parseLabelColor:function(e){if("label"!==this.N.tag(e))return;const t=this.N.attr("color",e);return this.dropIfConditionMet([!t],{color:t})}};t.default=s},88278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a=["url","mediaKey","filehash","encFilehash","width","height","mimetype"],n=["url","mediaKey","filehash","encFilehash","mimetype"];function r(e,t){for(let a=0;a<t.length;a++)if(!e[t[a]])return!1;return!0}var i={mediaUpload:function(e,t){return new Promise(((i,s)=>{const o=this.queryNode({type:"media",kind:e,id:t.toString()},void 0);this.binSend("sendEphemeral",o,s,{onSend:this.binWrap((t=>{this.BinaryProtocol.read(t).then((t=>{if(__LOG__(2)`bin-recv: response,media`,"response"!==this.N.tag(t)||"media"!==this.N.attr("type",t))return __LOG__(3)`wap:mediaUpload:malformed`,void i({status:400});const s=parseInt(this.N.attr("code",t),10)||200;if(200!==s)return __LOG__(3)`wap:mediaUpload:error ${s}`,void i({status:s});switch(e){case"sticker":{const e={directPath:this.N.attr("direct_path",t),url:this.N.attr("url",t),filehash:this.N.attr("filehash",t),encFilehash:this.N.attr("enc_filehash",t),mediaKey:this.N.attr("media_key",t),mimetype:this.N.attr("mimetype",t),height:this.N.attr("height",t),width:this.N.attr("width",t)};return r(e,a)?void i({status:s,sticker:e}):(__LOG__(3)`wap:mediaUpload:missing-field`,void i({status:400}))}case"sticker-pack":{const e={directPath:this.N.attr("direct_path",t),url:this.N.attr("url",t),filehash:this.N.attr("filehash",t),encFilehash:this.N.attr("enc_filehash",t),mediaKey:this.N.attr("media_key",t),mimetype:this.N.attr("mimetype",t)};return r(e,n)?void i({status:s,stickerPack:e}):(__LOG__(3)`wap:mediaUpload:missing-field`,void i({status:400}))}case"quick-reply":throw new Error('"quick-reply" not yet implemented');default:throw new Error(`unknown kind ${e}`)}}))}),i),onDrop:this.wrap(s)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})}))}};t.default=i},73052:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(41609)),s={queryNoticeState:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"notice"},void 0),r=e?"query,notice_state,resume":"query,notice_state";this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a={notices:[],status:parseInt(this.N.attr("code",e),10)||200};if(__LOG__(2)`bin-recv: response,notice_state`,"response"===this.N.tag(e)&&"notice"===this.N.attr("type",e)){const t=this.N.children(e);if(Array.isArray(t))for(let e=0;e<t.length;e++){const n=this.parseNotice(t[e]);(0,i.default)(n)||a.notices.push(n)}}t(a)})).catch(a)}),t),onDrop:this.wrap(a),serverCacheable:Boolean(e)},{debugString:r,metricName:"QUERY_NOTICE_STATE"})}))},parseNotice:function(e){if("notice"!==this.N.tag(e))return;const t=parseInt(this.N.attr("id",e),10),a=parseInt(this.N.attr("version",e),10),n={id:isNaN(t)?void 0:t,blocking:"true"===this.N.attr("blocking",e),version:isNaN(a)?void 0:a};return null!=n.id?n:(0,r.default)({},void 0)}};t.default=s},59153:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(93650),r={parsePaymentInfo:function(e,t){t&&(0,n.parseMsgPaymentInfo)(e,t)}};t.default=r},45831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={statusQueryThumbnail:function(e){return this.profilePicFindThumbFromPhone(e,void 0,!0)}};t.default=a},91725:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={queryVname:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"vname",jid:e},void 0);this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((n=>{this.BinaryProtocol.read(n).then((a=>{let n;__LOG__(2)`bin-recv: response,vname`,"response"===this.N.tag(a)&&"vname"===this.N.attr("type",a)&&(n=this.parseContact(this.N.child("user",a),e)),t(n)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:`query,vname,${e}`,metricName:"QUERY_VNAME"})}))}};t.default=a},10467:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(51737),r={queryQuickReplies:function(e){return this.sendQuickRepliesQuery(e,!1)},flushQuickReplyCounts:function(e){return this.sendQuickRepliesQuery(e,!0)},sendQuickRepliesQuery:function(e,t){return new Promise(((a,n)=>{const r=e?Object.keys(e).map((t=>["quick_reply",{id:t,count:e[t].toString()},void 0])):void 0,i={type:"quick_reply"};t&&(i.kind="count");const s=this.queryNode(i,r);this.binSend("sendEphemeral",s,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n={data:[]};if(__LOG__(2)`bin-recv: response,quick_reply`,"response"===this.N.tag(e)&&"quick_reply"===this.N.attr("type",e)){n.checksum=this.N.attr("checksum",e);const a=this.N.children(e);if(Array.isArray(a))for(let e=0;e<a.length;e++){const r=(t?this.parseQuickReplyCount.bind(this):this.parseQuickReply.bind(this))(a[e]);r&&n.data.push(r)}}a(n)})).catch(n)}),a),onDrop:this.wrap(n)},{debugString:"query,quick_replies",metricName:"QUERY_QUICK_REPLIES"})}))},parseQuickReply:function(e){if("quick_reply"!==this.N.tag(e))return;const t=this.N.attr("id",e),a=this.N.attr("short",e),r=this.N.attr("message",e),i=parseInt(this.N.attr("count",e),10)||0,s=this.N.attr("type",e),o=[];if("delete"!==s){const t=this.N.children(e);if(Array.isArray(t))for(let e=0;e<t.length;e++){const a=t[e];"matched-text"===this.N.tag(a)&&o.push(this.N.dataStr(a))}}const l=[!(s||t&&a&&r&&(0,n.isNumber)(i)),s&&"delete"!==s,"delete"===s&&!t];return this.dropIfConditionMet(l,{id:t,shortcut:a,message:r,count:i,keywords:o,type:s})},parseQuickReplyCount:function(e){if("quick_reply"!==this.N.tag(e))return;const t=this.N.attr("id",e),a=parseInt(this.N.attr("count",e),10)||0,r=[!t||!(0,n.isNumber)(a)];return this.dropIfConditionMet(r,{id:t,count:a})}};t.default=r},74111:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(90511)),i={queryRecentStickers:function(){return new Promise(((e,t)=>{const a=this.queryNode({type:"recent_stickers"},void 0);this.binSend("sendEphemeral",a,t,{onSend:this.binWrap((a=>{this.BinaryProtocol.read(a).then((e=>(0,r.default)(e,this.N,"recent_stickers"))).then(e,t)}),e),onDrop:this.wrap(t)},{debugString:"query,recent_stickers",metricName:"QUERY_RECENT_STICKERS"})}))}};t.default=i},12761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("recent_stickers"!==t.tag(e))return;if("delete"!==t.attr("type",e))return;return t.attr("filehash",e)}},61584:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(90511)),i={queryStarredStickers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return new Promise(((a,n)=>{const i=this.queryNode({type:"starred_stickers",page:e.toString(),count:t.toString()},void 0);this.binSend("sendEphemeral",i,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>(0,r.default)(e,this.N,"starred_stickers"))).then(a,n)}),a),onDrop:this.wrap(n)},{debugString:"query,starred_stickers",metricName:"QUERY_STARRED_STICKERS"})}))}};t.default=i},69686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("starred_stickers"!==t.tag(e))return;const a=t.attr("type",e);if("delete"!==a&&"add"!==a)return;const n=t.attr("filehash",e)||"";if("add"===a){const r={id:n,deprecatedMms3Url:t.attr("url",e)||"",directPath:t.attr("direct_path",e)||"",filehash:n,encFilehash:t.attr("enc_filehash",e),mediaKey:t.attr("media_key",e)||"",width:parseInt(t.attr("width",e)||"0",10),height:parseInt(t.attr("height",e)||"0",10),size:parseInt(t.attr("size",e)||"0",10),mimetype:t.attr("mimetype",e),index:0};return{filehash:n,type:a,sticker:r}}return{filehash:n,type:a}}},91801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a;if("sticker"!==t.tag(e))return;const n=t.attr("filehash",e);if(!n)return __LOG__(4,void 0,new Error,!0)`filehash is missing in sticker from phone`,void SEND_LOGS("sticker-missing-filehash-from-phone");const r={id:n,deprecatedMms3Url:t.attr("url",e),directPath:t.attr("direct_path",e),mediaKey:t.attr("media_key",e),filehash:n,encFilehash:t.attr("enc_filehash",e),mimetype:t.attr("mimetype",e),width:parseInt(t.attr("width",e),10),height:parseInt(t.attr("height",e),10),size:parseInt(t.attr("size",e),10),weight:parseFloat(null!==(a=t.attr("weight",e))&&void 0!==a?a:1)};(!r.mimetype||Number.isNaN(r.width)||Number.isNaN(r.height)||Number.isNaN(r.size))&&__LOG__(3)`sticker:parse missing preferred fields: `;return r}},90511:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){__LOG__(2)`bin-recv: response,${a}`;const n=t.tag(e);if("response"!==n)throw new Error(`node tag for ${a} response is invalid: ${n}`);const s=t.attr("type",e)||"";if(s!==a)throw new Error(`node type for ${a} response is invalid: ${s}`);const o=parseInt(t.attr("code",e),10)||200;if(200!==o)throw new Error(`response status for ${a} is invalid: ${o}`);const l=t.attr("checksum",e)||"",u=parseInt(t.attr("total",e)||"0",10),d=t.children(e)||[];(0,r.default)(Array.isArray(d),"expects an Array of Stickers");const c=d.map((e=>(0,i.default)(e,t))).filter(Boolean);return{checksum:l,total:u,stickers:c}};var r=n(a(41143)),i=n(a(91801))},13892:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=a(8139),s={queryStickerPacks:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new Promise(((a,n)=>{const r={type:(0,i.isThirdPartyStickersEnabled)()?"sticker_pack_v2":"sticker_pack",page:e.toString(),count:t.toString()},s=this.queryNode(r,void 0);this.binSend("sendEphemeral",s,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const t={};if(__LOG__(2)`bin-recv: response,sticker_pack`,"response"===this.N.tag(e)&&"sticker_pack"===this.N.attr("type",e)){const a=parseInt(this.N.attr("code",e),10)||200;t.status=a,t.data=[],t.checksum=this.N.attr("checksum",e);const n=this.N.attr("count",e);t.count=null==n?null:parseInt(n,10);const r=this.N.children(e);if(Array.isArray(r))for(let e=0;e<r.length;e++){const a=this.parseStickerPack(r[e]);a&&t.data.push(a)}}a(t)})).catch(n)}),a),onDrop:this.wrap(n)},{debugString:"query,sticker_pack",metricName:"QUERY_STICKER_PACKS"})}))},queryStickersInStickerPack:function(e){return this.queryStickers({id:e})},queryStickers:function(e){return new Promise(((t,a)=>{const n=(0,r.default)({type:"sticker"},e),i=this.queryNode(n,void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a={};if(__LOG__(2)`bin-recv: response,sticker`,"response"===this.N.tag(e)&&"sticker"===this.N.attr("type",e)){const t=parseInt(this.N.attr("code",e),10)||200;a.status=t,a.data=[];const n=this.N.children(e);if(Array.isArray(n))for(let e=0;e<n.length;e++){const t=this.parseSticker(n[e]);t&&a.data.push(t)}}t(a)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:`query,sticker,${e.id}`,metricName:"QUERY_STICKERS"})}))},parseSticker:function(e){if("sticker"!==this.N.tag(e))return;const t={url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e),width:parseInt(this.N.attr("width",e)||125,10),height:parseInt(this.N.attr("height",e)||125,10),size:parseInt(this.N.attr("size",e)||0,10)||null};return t.filehash?t:void 0},parseStickerPack:function(e){if("sticker_pack"!==this.N.tag(e))return;const t={id:this.N.attr("id",e),name:this.N.attr("name",e),url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e)};return t.id?t:void 0},parseStickerPackUpdate:function(e){if("sticker_pack"!==this.N.tag(e))return;const t=this.N.attr("type",e);return this.dropIfConditionMet([!t],{type:t})}};t.default=s},60678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={queryVideoPlaybackUrl:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"video",url:e},void 0);this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let a;if(__LOG__(2)`bin-recv: response,video_playback_url`,"response"===this.N.tag(e)&&"video"===this.N.attr("type",e)){const t=this.N.attr("url",e);t&&(a={url:t})}t(a)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:"query,video_playback_url",metricName:"QUERY_URL"})}))}};t.default=a},89998:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(84902),r=a(24808),i=a(49835),s={parseCall:function(e){if("call"!==this.N.tag(e))return;const t=this.N.child("offer",e);if(!t)return;const a=this.N.child("call",t);if(!a)return;const i=this.N.children(a),s=(0,n.decodeProtobuf)(r.MessageSpec,i).call;if(!s)return;const o=this.N.attr("from",e),l=this.N.attr("call-id",t),u=s.callKey;return this.dropIfConditionMet([!l,!o,!u],{type:"offer_key",id:l,peerJid:o,key:u})},queryCall:function(e,t){return new Promise(((a,n)=>{const r=this.queryNode({type:"call","call-id":e,kind:t});this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const t={status:400};"response"===this.N.tag(e)&&"call"===this.N.attr("type",e)&&(t.status=parseInt(this.N.attr("code",e),10)||400),a(t)})).catch(n)}),a),onDrop:this.wrap(n)},{debugString:"query,call,"+e,metricName:"QUERY_CALL"})}))},handleCallQuery(){const e=a(60868).CallCollection.handleQuery({});if(e)return e.then((()=>this.responseNode(void 0,[["some",{formatted:"xml"},void 0]])))},sendCallEnd:function(e,t){return new Promise(((a,n)=>{const r={};r.jid=e.jid,r["call-id"]=e["call-id"],r.result=o(e.result),r.audio=e.audio.toString(),r.out=e.out.toString(),r.seconds=e.seconds.toString(),r.t=e.t.toString(),r.group=e.group.toString();const i=t.map((e=>["participant",{jid:e.jid,result:o(e.result)},void 0])),s=this.actionNode("relay",[["call_end",r,i]]);this.binSend("send",s,n,{onSend:this.wrap(a),onDrop:this.wrap(n)},{debugString:`action,call_end,${e["call-id"]}`})}))}};function o(e){return i.CALL_LOG_RESULT[e]||"invalid"}t.default=s},43470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34,QUERY_VNAME:35,QUERY_LABELS:36,CALL:37,QUERY_CALL:38,QUERY_QUICK_REPLIES:39,QUERY_CALL_OFFER:40,QUERY_RESPONSE:41,QUERY_STICKER_PACKS:42,QUERY_STICKERS:43,ADD_OR_REMOVE_LABELS:44,QUERY_NEXT_LABEL_COLOR:45,QUERY_LABEL_PALETTE:46,CREATE_OR_DELETE_LABELS:47,EDIT_LABELS:48,QUERY_RECENT_STICKERS:49,QUERY_NOTICE_STATE:50,QUERY_SETTINGS:51,SET_ARCHIVE_SETTING:51};t.default=a},90826:(e,t,a)=>{"use strict";var n=a(95318);t.Z=void 0;var r=n(a(48926)),i=n(a(81109)),s=n(a(91747)),o=n(a(35161)),l=n(a(82492)),u=n(a(66678)),d=a(15688),c=a(87614),f=a(18412),h=a(35470),p=a(88555),m=a(38184),g=a(8139),_=n(a(65212)),v=n(a(76139)),b=a(78820),y=n(a(89867)),C=a(84902),S=a(60980),E=n(a(30381)),T=n(a(13016)),x=a(93170),M=n(a(71520)),k=a(24808),w=a(6565),P=n(a(43470)),A=n(a(93202)),j=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(13493)),I=a(93650),O=a(66934),N=a(21224),R=a(65044);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}const L=(0,i.default)((0,i.default)((0,i.default)({version:"17",M:P.default,BinaryProtocol:null,N:null,addContact:function(e){return new Promise(((t,a)=>{const n=this.actionNode("set",[["contacts",{type:"add"},e]]);this.binSend("send",n,a,{clientCacheable:!0,onSend:this.binWrap(t,t),onDrop:this.wrap(a)},{debugString:"action,contact,add",metricName:"CONTACT",ackRequest:!0})}))},addParticipants:function(e,t){return this.setGroupParticipants("add",e,t)},changeSubject:function(e,t){return new Promise(((a,n)=>{const r=R.Socket.tag(),i=this.wrap(a);i.tag=r;const s=["group",{id:r,jid:e,type:"subject",author:(0,b.getMaybeMeUser)(),subject:t},void 0],o=this.actionNode("set",[s]);this.binSend("send",o,n,{clientCacheable:!0,onSend:i,onDrop:this.wrap(n)},{debugString:"action,group,subject",metricName:"GROUP",ackRequest:!1,expires:(0,E.default)().unix()})}))},chatFindQuery:function(e,t){return new Promise(((a,n)=>{const r={type:"chat"};"boolean"==typeof e&&e?r.kind="retry":"string"==typeof e&&(r.jid=e);const i=this.queryNode(r,void 0);this.binSend("sendEphemeral",i,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let t=[];const n=this.N.children(e);if("response"===this.N.tag(e)&&"chat"===this.N.attr("type",e))if("true"===this.N.attr("duplicate",e))t="preempted";else if(Array.isArray(n)){let e;const a=n.length;for(e=0;e<a;e++){const a=this.parseChat(n[e]);a&&t.push(a)}}a(t)})).catch(n)}),a),logOnSend:t,onDrop:this.wrap(n)},{debugString:["query","chat",e].join(),metricName:"QUERY_CHAT",ackRequest:!1})}))},contactFindQuery:function(e,t){return new Promise(((a,n)=>{const r=this.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);this.binSend("send",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let t=[];const n=this.N.children(e);if("response"===this.N.tag(e)&&"contacts"===this.N.attr("type",e))if("true"===this.N.attr("duplicate",e))t="preempted";else if(Array.isArray(n)){let e;const a=n.length;for(e=0;e<a;e++){const a=this.parseContact(n[e]);a&&t.push(a)}}a({checksum:this.N.attr("checksum",e),data:t})})).catch(n)}),a),logOnSend:t,onDrop:this.wrap(n)},{debugString:"query,contacts, "+String(e),metricName:"QUERY_CONTACTS",ackRequest:!1})}))},createGroup:function(e,t,a,n,r,i,s){return new Promise(((a,n)=>{const r=R.Socket.tag(),i=this.wrap(a);i.tag=r;const o=t.map((e=>["participant",{jid:e},void 0]));s&&o.unshift(["ephemeral",{value:`${s}`},void 0]),__LOG__(2)`create group tag`;const l=["group",{id:r,type:"create",author:(0,b.getMaybeMeUser)(),subject:e},o],u=this.actionNode("set",[l]);this.binSend("send",u,n,{clientCacheable:!0,onSend:i,onDrop:this.wrap(n)},{debugString:"action,group,create",metricName:"GROUP",ackRequest:!1,expires:(0,E.default)().unix()})}))},deletePicture:function(e){return new Promise(((t,a)=>{const n=R.Socket.tag(),r=this.wrap(t);r.tag=n;const i=["picture",{id:n,jid:e,type:"delete"},void 0],s=this.actionNode("set",[i]);this.binSend("send",s,a,{clientCacheable:!0,onSend:r,onDrop:this.wrap(a)},{debugString:"action,delete_pic,"+e,metricName:"PIC",ackRequest:!1,expires:(0,E.default)().unix()})}))},groupMetadataFindFromPhone:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"group",jid:e},[]);this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((n=>{this.BinaryProtocol.read(n).then((a=>{if("response"!==this.N.tag(a)||"group"!==this.N.attr("type",a))return void t({status:"error",info:"bad format: response incorrect"});const n=this.N.children(a),r=null==n?void 0:n[0];if(!r)return void t({status:"error",info:"bad format: no group node"});if("missing"===this.N.attr("type"))return void t({status:"missing"});const i=[];let s;const o=this.N.children(r);let l=!1;Array.isArray(o)&&o.forEach((e=>{switch(this.N.tag(e)){case"participant":i.push({id:this.N.attr("jid",e),isAdmin:"admin"===this.N.attr("type",e)});break;case"description":s=this.N.dataStr(e);break;case"support":l=!0}})),t({status:"ok",data:{creation:parseInt(this.N.attr("create",r),10)||void 0,desc:s,id:e,owner:this.N.attr("creator",r),participants:i,support:l}})})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:"query,group,"+e,metricName:"QUERY_GROUP",ackRequest:!1})}))},leaveGroup:function(e){return new Promise(((t,a)=>{const n=R.Socket.tag(),r=this.wrap(t);r.tag=n;const i=["group",{id:n,jid:e,type:"leave",author:(0,b.getMaybeMeUser)()},void 0],s=this.actionNode("set",[i]);this.binSend("send",s,a,{clientCacheable:!0,onSend:r,onDrop:this.wrap(a)},{debugString:"action,group,delete",metricName:"GROUP",ackRequest:!1,expires:(0,E.default)().unix()})}))},parseBattery:function(e){if("battery"!==this.N.tag(e))return __LOG__(4,void 0,new Error,!0)`expected tag: battery, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");const t=Math.min(parseInt(this.N.attr("value",e),10)||-1,100),a=this.N.attr("live",e),n={battery:t<0?void 0:t,plugged:a?"true"===a:void 0};return this.dropIfConditionMet([t<0&&!a],n)},parseBCUpdate:function(e){if("broadcast"!==this.N.tag(e)||"modify"!==this.N.attr("type",e))return __LOG__(4,void 0,new Error,!0)`expected tag: broadcast, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");const t=this.N.attr("jid",e),a=this.N.children(e),n=[];if(Array.isArray(a)){const e=a.length;let t,r,i;for(t=0;t<e;t++)r=a[t],i=this.N.attr("jid",r),"recipient"===this.N.tag(r)&&i&&y.default.isUser(i)&&n.push({id:i})}const r=[!t,!y.default.isBroadcast(t),0===n.length];return this.dropIfConditionMet(r,{id:t,participants:n})},parseChat:function(e){if("chat"!==this.N.tag(e))return __LOG__(4,void 0,new Error,!0)`expected tag: chat, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");let t=this.N.attr("kind",e),a=this.N.attr("type",e);const n=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,i=parseInt(this.N.attr("mute",e),10),s=parseInt(this.N.attr("before",e),10)||void 0,o="true"===this.N.attr("archive",e),l="true"===this.N.attr("read_only",e),u=parseInt(this.N.attr("modify_tag",e),10)||void 0,d=this.N.attr("name",e)||void 0,c=this.safeParseInt(e,"count"),f="true"===this.N.attr("message",e),h="true"===this.N.attr("star",e),p="false"===this.N.attr("spam",e),m=parseInt(this.N.attr("pin",e),10)||0,g=this.N.attr("old_jid",e),_=this.N.attr("new_jid",e),v=parseInt(this.N.attr("ephemeral",e),10)||0,b=parseInt(this.N.attr("eph_setting_ts",e),10)||0;switch(t){case"text":case"image":case"video":case"gif":case"audio":case"ptt":case"document":case"location":case"vcard":case"url":case"sticker":break;default:t=void 0}"ahead"===a&&(a="clear");const C=this.N.children(e);let S,E;if(Array.isArray(C)){let e,t;S=[],E=[];const a=C.length;for(e=0;e<a;e++)if(t=C[e],"item"===this.N.tag(t)){const e=this.N.attr("index",t);e&&S.push([e,"true"===this.N.attr("owner",t),this.N.attr("participant",t)])}else if("label"===this.N.tag(t)){const e=this.N.attr("id",t);e&&E.push(e)}else{const e=this.parseMsgMessage(t,"response");e&&S.push(e)}}const T={id:n,t:r,type:a,kind:t,keys:S,before:s,archive:o,isReadOnly:l,unreadCount:c,muteExpiration:isNaN(i)?void 0:i,modifyTag:u,name:d,pendingMsgs:f,star:h,notSpam:p,pin:m,changeNumberOldJid:g,changeNumberNewJid:_,ephemeralDuration:y.default.isUser(n)?v:void 0,ephemeralSettingTimestamp:y.default.isUser(n)?b:void 0,labels:E};this.pruneUndefinedProps(T);const x=[a&&"delete"!==a&&"clear"!==a&&"ephemeral"!==a&&"archive"!==a&&"unarchive"!==a&&"mute"!==a&&"star"!==a&&"unstar"!==a&&"spam"!==a&&"modify_tag"!==a&&"pin"!==a&&"modify"!==a,!a&&!n,o&&a&&"clear"!==a,"clear"!==a&&s&&s>0,"clear"!==a&&"star"!==a&&"unstar"!==a&&S&&S.length>0];return this.dropIfConditionMet(x,T)},parseMsg:function(e,t){switch(this.N.tag(e)){case"message":return this.parseMsgMessage(e,t);default:return __LOG__(4,void 0,new Error,!0)`received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unknown-tag")}},parseIdentity:function(e){const t=this.N.child("raw",e),a=this.N.child("text",e);if(t&&a&&this.N.children(t)instanceof ArrayBuffer&&this.N.dataStr(a))return{jid:this.N.attr("jid",e),binary:this.N.children(t),string:this.N.dataStr(a)}},profilePicFindThumbFromPhone:function(e,t,a){return new Promise(((n,r)=>{const i={type:"preview",jid:e};(null==t?void 0:t.tag)&&t.raw&&(i.id=t.tag),a&&(i.kind="status");const s=this.queryNode(i,[]);this.binSend("sendEphemeral",s,r,{onSend:this.binWrap((a=>{this.BinaryProtocol.read(a).then((a=>{"response"===this.N.tag(a)&&"preview"===this.N.attr("type",a)||r(new Error("Not response or preview"));const i=this.N.children(a),s=null==i?void 0:i[0];if(s||r(new Error("Missing preview node")),"missing"===this.N.attr("type",s))n({id:e,tag:void 0,raw:void 0});else{const a=this.N.attr("id",s);let r;if(t&&a===t.tag&&t.raw)r=t.raw;else{const e=this.N.children(s);r=e?(0,d.encodeB64)(e):void 0}n({id:e,tag:a,raw:r})}})).catch(r)}),n),onDrop:this.wrap(r)},{debugString:"query,thumb,"+e,metricName:"QUERY_PREVIEW",ackRequest:!1})}))},promoteParticipants:function(e,t){return this.setGroupParticipants("promote",e,t)},queryIdentity:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"identity",jid:e},void 0);this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let a;__LOG__(2)`bin-recv: response,identity`,"response"===this.N.tag(e)&&"identity"===this.N.attr("type",e)&&(a=this.parseIdentity(e)),t(a)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:`query,identity,${e}`,metricName:"QUERY_IDENTITY",ackRequest:!1})}))},queryLinkPreview:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"url",url:e},void 0);this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let a;if(__LOG__(2)`bin-recv: response,url`,"response"===this.N.tag(e)&&"url"===this.N.attr("type",e)){const t=this.N.children(e);a={title:this.N.attr("title",e),description:this.N.attr("description",e),canonicalUrl:this.N.attr("canonical-url",e),matchedText:this.N.attr("matched-text",e),preview:this.N.attr("preview",e),thumbnail:t?(0,d.encodeB64)(t):void 0,doNotPlayInline:"true"===this.N.attr("do-not-play-inline",e)}}t(a)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:"query,url",metricName:"QUERY_URL",ackRequest:!1})}))},queryMsgInfo:function(e){const t=e=>{let t,a;const n=[];if(Array.isArray(e)){t=e.length;for(let r=0;r<t;r++)a=e[r],"item"===this.N.tag(a)&&this.N.attr("jid",a)&&this.N.attr("t",a)&&n.push({id:this.N.attr("jid",a),t:parseInt(this.N.attr("t",a),10)||0})}return n};return new Promise(((a,n)=>{const r=this.queryNode({type:"message_info",index:e.id,jid:e.remote},void 0);this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n={played:[],playedRemaining:0,read:[],readRemaining:0,delivery:[],deliveryRemaining:0};if(__LOG__(2)`bin-recv: response,msg,info`,"response"===this.N.tag(e)&&"message_info"===this.N.attr("type",e)){const a=this.N.child("played",e),r=this.N.child("read",e),i=this.N.child("delivery",e),s=this.N.children(a),o=this.N.children(r),l=this.N.children(i),u=parseInt(this.N.attr("count",e),10)||0;n.played=t(s),n.read=t(o),n.delivery=t(l);const d=u-n.played.length,c=u-n.played.length-n.read.length,f=u-n.played.length-n.read.length-n.delivery.length;n.playedRemaining=d<0?0:d,n.readRemaining=c<0?0:c,n.deliveryRemaining=f<0?0:f}a(n)})).catch(n)}),a),onDrop:this.wrap(n)},{debugString:["query,msg,info",e.id,e.remote,e.fromMe].join(),metricName:"QUERY_MESSAGE_INFO",ackRequest:!1})}))},queryReceivedActions:function(e){return new Promise(((t,a)=>{const n=e.map((e=>["item",{id:e},void 0])),r=this.queryNode({type:"action"},n);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let a=[];const n=this.N.children(e);if(__LOG__(2)`bin-recv: response,actions`,"response"===this.N.tag(e)&&"action"===this.N.attr("type",e))if(Array.isArray(n)){let e;const t=n.length;for(e=0;e<t;e++){const t=n[e],r=this.N.attr("id",t),i=parseInt(this.N.attr("code",t),10)||0;"item"===this.N.tag(t)&&r&&0!==i&&a.push({id:r,code:i})}}else"true"===this.N.attr("replaced",e)&&(a="replaced");t(a)})).catch(a)}),t),onDrop:this.wrap(a),serverCacheable:!0},{debugString:"query,actions",metricName:"QUERY_ACTIONS",ackRequest:!1})}))},recentEmojiQuery:function(e){return new Promise(((t,a)=>{const n=Array.isArray(e)?e.map((e=>["item",{code:e.id,value:e.weight.toString()},void 0])):void 0,r=this.queryNode({type:"emoji"},n);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a=[],n=this.N.children(e);if(__LOG__(2)`bin-recv: response,emoji`,"response"===this.N.tag(e)&&"emoji"===this.N.attr("type",e)&&Array.isArray(n)){let e;const t=n.length;for(e=0;e<t;e++){const t=n[e],r=this.N.attr("code",t),i=parseFloat(this.N.attr("value",t))||0;"item"===this.N.tag(t)&&r&&i&&!isNaN(i)&&a.push({id:r,weight:i})}}t(a)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:"query,emoji",metricName:"QUERY_EMOJI",ackRequest:!1})}))},removeParticipants:function(e,t){return this.setGroupParticipants("remove",e,t)},resyncMessages:function(e){return new M.default(((t,a)=>{const n=e.map((e=>{const t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString(),spam:(!e.notSpam).toString(),old_jid:e.changeNumberOldJid,new_jid:e.changeNumberNewJid};return e.mute&&(t.mute=e.mute.toString()),y.default.isUser(e.wid)&&e.ephemeralDuration&&(t.ephemeral=e.ephemeralDuration.toString()),y.default.isUser(e.wid)&&null!=e.ephemeralSettingTimestamp&&(t.eph_setting_ts=e.ephemeralSettingTimestamp.toString()),e.active&&(t.active="true"),y.default.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),e.pin&&(t.pin=e.pin.toString()),["last",t,void 0]})),r=this.queryNode({type:"resume"},n);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a=[],n=this.N.children(e);if(__LOG__(2)`bin-recv: response,resume`,"response"===this.N.tag(e)&&"resume"===this.N.attr("type",e)&&Array.isArray(n)){let e;const t=n.length;for(e=0;e<t;e++){const t=this.parseChat(n[e]);t&&a.push(t)}}t({checksum:this.N.attr("checksum",e),statusChecksum:this.N.attr("status",e),labelsChecksum:this.N.attr("label",e),quickRepliesChecksum:this.N.attr("quick_reply",e),stickerPackChecksum:this.N.attr("sticker_pack",e),recentStickersChecksum:this.N.attr("recent_stickers",e),starredStickersChecksum:this.N.attr("starred_stickers",e),data:a})})).catch(a)}),t),onDrop:this.wrap(a),serverCacheable:!0},{debugString:"query,resume",metricName:"QUERY_RESUME",ackRequest:!1})}))},resyncReceipts:function(e){return new Promise(((t,a)=>{const n=e.map((e=>["last",{jid:e.remote,index:e.id,owner:e.fromMe.toString(),participant:e.participant,t:e.t.toString(),pay_t:e.payT&&e.payT.toString()},void 0])),r=this.queryNode({type:"receipt"},n);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a=[],n=this.N.children(e);if(__LOG__(2)`bin-recv: response,receipt`,"response"===this.N.tag(e)&&"receipt"===this.N.attr("type",e)&&Array.isArray(n)){let e,t,r;const i=n.length;for(e=0;e<i;e++){t=n[e],r=this.N.children(t);const i=this.N.attr("jid",t),s=this.N.attr("t",t),o=this.N.attr("pay_t",t);if("receipt"===this.N.tag(t)&&i&&(s||o)&&Array.isArray(r)){let e;const t=[],n=[],l=r.length;for(e=0;e<l;e++){const a=r[e];if("item"===this.N.tag(a)){const e=this.N.attr("index",a),n="true"===this.N.attr("owner",a),r=parseInt(this.N.attr("status",a),10)||0,i=this.N.attr("participant",a),s=parseInt(this.N.attr("t",a),10)||void 0;e&&0!==r&&r<=4&&t.push({id:e,fromMe:n,participant:i,status:r,t:s})}else if("message"===this.N.tag(a)){const e=this.parseMsgMessage(a);e&&n.push(e)}}t.length>0&&a.push({id:i,t:s&&parseInt(s,10),payT:o&&parseInt(o,10),acks:t,msgs:n})}}}t(a)})).catch(a)}),t),onDrop:this.wrap(a),serverCacheable:!0},{debugString:"query,receipt",metricName:"QUERY_RECEIPT",ackRequest:!1})}))},sendChatstateUpdate:function(e,t){if(["composing","paused","recording"].includes(e))return new Promise(((a,n)=>{const r=this.actionNode("set",[["presence",{type:e,to:t},void 0]],!0);this.binSend("sendEphemeralIgnore",r,n,{onSend:a,onDrop:n,epochIneligible:!0},{debugString:"action,chatstate,"+e,metricName:"PRESENCE",skipOffline:!0,ackRequest:!1})}))},sendConversationArchive:function(e,t,a){return this.sendConversationOpWithKey(t?"archive":"unarchive",e,a)},sendConversationClear:function(e,t,a){return this.sendConversationOpWithKey("clear",e,t,a)},sendConversationDelete:function(e,t){return this.sendConversationOpWithKey("delete",e,t)},sendConversationMute:function(e,t,a){return new Promise(((n,r)=>{const i=t?t.toString():void 0,s=a?a.toString():void 0,o=this.actionNode("set",[["chat",{type:"mute",mute:i,previous:s,jid:e},void 0]]);this.binSend("send",o,r,{clientCacheable:!0,onSend:this.wrap(n),onDrop:this.wrap(r)},{debugString:"action,chat,"+e+", "+(i?"mute,"+i:"unmute"),metricName:"CHAT",ackRequest:!0})}))},sendConversationNotSpam:function(e){return this.sendConversationOpWithKey("spam",e,void 0,!1)},sendConversationOpWithKey:function(e,t,a,n){return new Promise(((r,i)=>{let s,o;switch(e){case"clear":s=(!!n).toString();break;case"spam":o=(!!n).toString()}const l=this.actionNode("set",[["chat",{type:e,jid:t,index:a?a.id:void 0,owner:a?a.fromMe.toString():void 0,participant:a?a.participant:void 0,star:void 0!==s?s:void 0,spam:void 0!==o?o:void 0},void 0]]);this.binSend("send",l,i,{clientCacheable:!0,onSend:this.wrap(r),onDrop:this.wrap(i)},{debugString:"action,chat,"+[e,a,n].join(),metricName:"CHAT",ackRequest:!0})}))},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendMedia:function(e){return new Promise(((t,a)=>{const n=(0,u.default)(e);R.Socket.send({data:["query","sendMedia",n.url],onSend:this.wrap02((e=>{t((0,l.default)(n,e))})),onDrop:a})}))},sendMessageDelete:function(e,t,a){return new Promise(((n,r)=>{const i=t.map((e=>["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0])),s=this.actionNode("set",[["chat",{type:"clear",jid:e,media:a.toString()},i]]);this.binSend("send",s,r,{clientCacheable:!0,onSend:this.wrap(n),onDrop:this.wrap(r)},{debugString:"action,msgs,delete,"+[e,a,t.length].join(),metricName:"CHAT",ackRequest:!0})}))},sendMessagePlayed:function(e){return new Promise(((t,a)=>{const n=this.wrap(t),r=this.actionNode("set",[["received",{type:"played",index:e.id,from:e.remote,participant:e.participant},void 0]]);this.binSend("send",r,a,{onSend:n,onDrop:this.wrap(a)},{debugString:"action,played,"+e.toString(),metricName:"RECEIVED",ackRequest:!0})}))},sendMessageStarred:function(e,t,a){return new Promise(((n,r)=>{const i=t.map((e=>["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0])),s=this.actionNode("set",[["chat",{type:a?"star":"unstar",jid:e},i]]);this.binSend("send",s,r,{clientCacheable:!0,onSend:this.wrap(n),onDrop:this.wrap(r)},{debugString:"action,msgs,star,"+[e,a,t.length].join(),metrics:"CHAT",ackRequest:!0})}))},sendPresenceUpdate:function(e){if(["available","unavailable"].includes(e))return new Promise(((t,a)=>{const n="available"===e,r=this.actionNode("set",[["presence",{type:e},void 0]],!n),i=n?"sendEphemeral":"sendEphemeralIgnore";this.binSend(i,r,a,{onSend:n?this.wrap(t):t,onDrop:n?this.wrap(a):t,epochIneligible:!n},{debugString:"action,presence,"+e,metricName:"PRESENCE",available:"available"===e,ackRequest:n})}))},sendSetBlock:function(e,t){return new Promise(((a,n)=>{const r=t.map((e=>["user",{jid:e.jid},void 0])),i=["block",{type:e?"add":"remove"},r],s=this.actionNode("set",[i]);this.binSend("send",s,n,{clientCacheable:!0,onSend:this.wrap(a),onDrop:this.wrap(n)},{debugString:"action,block,"+e+","+(0,o.default)(t,"jid").join(","),metricName:"BLOCK",ackRequest:!1,expires:(0,E.default)().unix()})}))},sendSetPicture:function(e,t,a){return new Promise(((n,r)=>{const i=v.default.parseDataURL(t).data,s=v.default.parseDataURL(a).data,o=(0,d.decodeB64)(i),l=(0,d.decodeB64)(s),u=R.Socket.tag(),c=this.wrap(n);c.tag=u;const f=["picture",{id:u,jid:e,type:"set"},[["image",void 0,l],["preview",void 0,o]]],h=this.actionNode("set",[f]);this.binSend("send",h,r,{clientCacheable:!0,onSend:c,onDrop:this.wrap(r)},{debugString:"action,set_pic,"+e,metricName:"PIC",ackRequest:!1,expires:(0,E.default)().unix()})}))},sendSetStatus:function(e){return new Promise(((t,a)=>{const n=this.wrap(t),r=this.actionNode("set",[["status",void 0,e]]);this.binSend("send",r,a,{clientCacheable:!0,onSend:n,onDrop:this.wrap(a)},{debugString:"action,status,set",metricName:"STATUS",ackRequest:!1,expires:(0,E.default)().unix()})}))},sendSpamReport:function(e){return new Promise(((t,a)=>{const n=this.actionNode("set",[["spam",{jid:e},void 0]]);this.binSend("send",n,a,{onSend:this.wrap(t),onDrop:this.wrap(a)},{debugString:"action,spam,"+e,metricName:"SPAM",ackRequest:!1,expires:(0,E.default)().unix()})}))},sendUnstarAll:function(e){return new Promise(((t,a)=>{const n=this.actionNode("set",[["chat",{type:"unstar",jid:e||void 0},void 0]]);this.binSend("send",n,a,{clientCacheable:!0,onSend:this.binWrap(t,t),onDrop:this.wrap(a)},{debugString:"action,unstar,all,"+e,metrics:"CHAT",ackRequest:!0,expires:(0,E.default)().unix()})}))},setGroupParticipants:function(e,t,a){return new Promise(((n,r)=>{const i=R.Socket.tag(),s=this.wrap(n),o=a.map((e=>["participant",{jid:e},void 0])),l=["group",{id:i,jid:t,type:e,author:(0,b.getMaybeMeUser)()},o],u=this.actionNode("set",[l]);this.binSend("send",u,r,{tag:i,clientCacheable:!0,onSend:s,onDrop:this.wrap(r)},{debugString:["action,group,participant",e,t].concat(a).join(),metricName:"GROUP",ackRequest:!1,expires:(0,E.default)().unix()})}))},setPushname:function(e){return new Promise(((t,a)=>{const n=this.actionNode("set",[["profile",{name:e},void 0]]);this.binSend("send",n,a,{onSend:this.binWrap(t,t),onDrop:this.wrap(a)},{debugString:"action,pushname",metricName:"PROFILE",ackRequest:!1})}))}},j),A.default),{},{parseSendPaymentMessageProto:function(e,t,a){if((0,p.isMDBackend)())j.parseSendPaymentMessageProto(e,t,a);else{if((0,I.hasUnsupportedCurrency)(a))return e.subtype="phone_only_feature",void __LOG__(2)`[novi] parseSendPaymentMessageProto: does not support novi transactions`;if(e.type="payment",this.callFeatureFlagFun(m.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",e,a),m.LegacyPhoneFeatures.supportsFeature(m.LegacyPhoneFeatures.F.PAYMENTS)){e.subtype="send";const a=t.requestMessageKey;e.paymentRequestMessageKey=t.requestMessageKey?new _.default({fromMe:a.fromMe,remote:this.decodeJid(a.remoteJid),id:a.id,participant:this.decodeJid(a.participant)}):void 0,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg))}}},parseRequestPaymentMessageProto:function(e,t,a){if((0,p.isMDBackend)())j.parseRequestPaymentMessageProto(e,t,a);else{if((0,I.hasUnsupportedCurrency)(a))return e.subtype="phone_only_feature",void __LOG__(2)`[novi] parseRequestPaymentMessageProto: does not support novi transactions`;e.type="payment",this.callFeatureFlagFun(m.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",e,a),m.LegacyPhoneFeatures.supportsFeature(m.LegacyPhoneFeatures.F.PAYMENTS)&&(e.subtype="request",t.currencyCodeIso4217&&!e.paymentCurrency&&(e.paymentCurrency=t.currencyCodeIso4217),t.amount1000&&!e.paymentAmount1000&&(e.paymentAmount1000=t.amount1000),t.requestFrom&&!e.paymentMessageReceiverJid&&(e.paymentMessageReceiverJid=this.decodeJid(t.requestFrom)),t.expiryTimestamp&&!e.paymentExpiryTimestamp&&(e.paymentExpiryTimestamp=t.expiryTimestamp),t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg)))}},parseGroupInviteMessageProto:function(e,t){e.type="groups_v4_invite",e.inviteCode=t.inviteCode,e.inviteCodeExp=t.inviteExpiration,e.inviteGrp=t.groupJid,e.inviteGrpName=t.groupName,e.inviteGrpJpegThum=this.decodeBytes(t.jpegThumbnail),e.comment=j.convertToTextWithoutSpecialEmojis(t.caption)},parseContextInfoProto:function(e,t,a){const n=t.quotedMessage,r=t.mentionedJid;e.quotedMsg=n&&this.parseMsgProto(n,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&a&&this.callFeatureFlagFun(m.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",e.quotedMsg,a),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(r)?r.map(this.decodeJid):r,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration),null!=t.ephemeralSettingTimestamp&&(e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp),null!=t.ephemeralSharedSecret&&(e.ephemeralSharedSecret=t.ephemeralSharedSecret),null!=t.disappearingMode&&this.parseDisappearingModeProto(e,t.disappearingMode)},msgCreateRecord:(B=(0,r.default)((function*(e){const t=yield(0,f.promiseCallSync)((()=>{if(["ptt","audio","image","video","document","sticker","product"].includes(e.type)){const t="ptt"===e.type?"audio":e.type;let a;return e.asMms&&(a=e.isUnsentPhoneMsg()?{type:e.type}:e.avParams()),e.local&&!e.mediaKey?this.sendMedia(a):(0,l.default)({status:200,type:t},a)}})).catch((e=>{throw __LOG__(3)`wap:msgCreateRecord mPromise error (${(0,S.encodeErrorInfo)()}): ${e.stack}`,new Error("wap:msgCreateRecord mPromise error")}));if(t&&200!==t.status)throw __LOG__(3)`wap:msgCreateRecord:sendMedia error ${t.status}`,new Error(`wap:msgCreateRecord:sendMedia error ${t.status}`);const n=e.id.id,r=(0,w.createMessageKey)(e),i=(0,w.createMsgProtobuf)(e,t||{}),s=!!e.multicast||void 0,o=!!e.urlText||void 0,u=!!e.urlNumber||void 0,d=!!e.clearMedia||void 0,c=y.default.isUser(e.id.remote)||null==e.ephemeralDuration?void 0:e.ephemeralDuration,h={key:r,message:i,messageTimestamp:e.t,multicast:s,urlText:o,urlNumber:u,clearMedia:d,ephemeralDuration:c},p=this.actionNode("relay",[["message",void 0,(0,S.encodeProtobuf)(N.WebMessageInfoSpec,h).readBuffer()]]);return new Promise(((t,r)=>{this.binSend("send",p,r,{tag:n,onSend:this.wrap(t),onDrop:this.wrap(r),retryOn5xx:!0,resendGuard:()=>{const t=a(59871).MsgCollection.get(e.id);return"protocol"===e.type||t&&t.id.equals(e.id)}},{debugString:["action","message",e.type,e.subtype,n].join(),debugObj:{xml:p,pb:h},metricName:"MESSAGE",ackRequest:!1})}))})),function(){return B.apply(this,arguments)}),msgFindQuery:function(e,t,a,n){let r=e;return new Promise(((e,s)=>{let o,l="";switch(r){case"after":t.id||(r="before");case"before":o={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l=[t instanceof _.default?t.toString():t.remote,t.count].join();break;case"search":o={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote,canceled:t.tagToCancel},t.label?o=(0,i.default)((0,i.default)({},o),{},{label:t.label}):t.filter&&(o=(0,i.default)((0,i.default)({},o),{},{filter:t.filter})),l=["search",t.page,t.count,t.jid,t.label].join();break;case"star":o={type:"star",media:"gif"===t.media?t.media:void 0,chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l="starred";break;case"media":o={type:"media_message",media:"document"===t.media||"url"===t.media?t.media:void 0,count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},l="media"}const u=this.queryNode(o,void 0);this.binSend("sendEphemeral",u,s,{onSend:this.binWrap((a=>{this.BinaryProtocol.read(a).then((a=>{let n=[];const i=this.N.children(a);if(__LOG__(2)`bin-recv: response,msg`,"response"===this.N.tag(a)&&("message"===this.N.attr("type",a)||"star"===this.N.attr("type",a)||"search"===this.N.attr("type",a)||"media_message"===this.N.attr("type",a)||"label"===this.N.attr("type",a))){if(Array.isArray(i)){let e;const a=i.length;for(e=0;e<a;e++){const a=this.parseMsg(i[e],"response");if(a)switch(r){case"star":("gif"!==t.media||"video"===a.type&&a.isGif)&&n.push(a);break;case"media":"document"===t.media&&"document"===a.type||"url"===t.media&&"chat"===a.type?n.push(a):t.media||n.push(a);break;default:n.push(a)}}}"search"===this.N.attr("type",a)||"label"===this.N.attr("type",a)?n={eof:"true"===this.N.attr("last",a),messages:n}:"media"!==r||t.media||(n={docCount:parseInt(this.N.attr("document",a),10)||void 0,linkCount:parseInt(this.N.attr("url",a),10)||void 0,mediaCount:parseInt(this.N.attr("media",a),10)||void 0,messages:n})}e(n)})).catch(s)}),e),onDrop:this.wrap(s),logOnSend:a,onTag:n,tagToCancel:t.tagToCancel},{debugString:"query,message,"+l,metricName:"search"===r?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})}))},queryVcard:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"vcard",jid:e},void 0);this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a=[],n=this.N.children(e);if("response"===this.N.tag(e)&&"vcard"===this.N.attr("type",e)&&Array.isArray(n)){const e=n.length;for(let t=0;t<e;t++){const e=this.parseMsg(n[t],"response");!e||"vcard"!==e.type&&"multi_vcard"!==e.type||a.push(e)}}t(a)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:`query,vcard,${e}`,metricName:"QUERY_VCARD",ackRequest:!1})}))},parseContacts:function(e){if("contacts"!==this.N.tag(e))return;const t=this.N.attr("type",e),a=this.N.children(e);let n,r,i,s,o;switch(t){case"frequent":if(Array.isArray(a)){r=a.length;for(let e=0;e<r;e++)switch(o=a[e],i=this.N.tag(o),i){case"image":case"video":case"message":s=this.N.attr("jid",o),s&&(n||(n={type:"frequent"}),n[i]?n[i].push(s):n[i]=[s])}}}return n},statusQuery:function(){switch(arguments.length){case 2:case 3:case 4:return this.statusQueryUpdate.apply(this,arguments);case 0:default:return this.statusQueryAll()}},statusQueryAll:function(){return new Promise(((e,t)=>{const a=this.queryNode({type:"status"},void 0);this.binSend("sendEphemeral",a,t,{onSend:this.binWrap((a=>{this.BinaryProtocol.read(a).then((t=>{const a={statuses:[]},n=this.N.children(t);if(__LOG__(2)`bin-recv: response,statusv3`,"response"===this.N.tag(t)&&"status"===this.N.attr("type",t)&&(a.checksum=this.N.attr("checksum",t),Array.isArray(n))){const e=n.length;for(let t=0;t<e;t++){const e=n[t],r=this.N.attr("jid",e),i=this.N.attr("unread",e),s=this.N.attr("count",e),o=this.N.attr("t",e);if("status"===this.N.tag(e)&&r&&s&&o){const t={id:r,unreadCount:parseInt(i,10)||0,totalCount:parseInt(s,10)||0,t:parseInt(o,10)||0,_msgs:[]},n=this.N.children(e);if(Array.isArray(n)){const e=n.length;for(let a=0;a<e;a++)switch(this.N.tag(n[a])){default:case"message":const e=this.parseMsgMessage(n[a],"response");e&&t._msgs.push(e);break;case"picture":const r=this.N.children(n[a]);r instanceof ArrayBuffer&&(t.pic=r)}}a.statuses.push(t)}}}e(a)})).catch(t)}),e),onDrop:this.wrap(t)},{debugString:"query,statusv3",metricName:"QUERY_STATUS",ackRequest:!1})}))},statusQueryUpdate:function(e,t,a,n){return new Promise(((r,i)=>{const s="before"===n?"before":"after",o={type:"status",kind:s,chat:e,count:t.toString(),jid:a?a.remote:void 0,index:a?a.id:void 0,owner:a?a.fromMe.toString():void 0,participant:a?a.participant:void 0},l=this.queryNode(o,void 0);this.binSend("sendEphemeral",l,i,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const t=[],a=this.N.children(e);if(__LOG__(2)`bin-recv: response,statusv3`,"response"===this.N.tag(e)&&"status"===this.N.attr("type",e)&&Array.isArray(a)){const e=a.length;for(let n=0;n<e;n++){const e=this.parseMsg(a[n],"response");e&&t.push(e)}}r(t)})).catch(i)}),r),onDrop:this.wrap(i)},{debugString:["query","statusv3",s,t,a instanceof _.default?a.toString():e].join(),metricName:"QUERY_STATUS_UPDATE",ackRequest:!1})}))},sendConversationSeen:function(e,t,a,n,r){return new Promise(((i,s)=>{const o=this.actionNode("set",[["read",{kind:n?"status":void 0,chat:n?r:void 0,jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:a&&t?a.toString():void 0},void 0]]);this.binSend("send",o,s,{clientCacheable:!0,onSend:this.wrap(i),onDrop:this.wrap(s)},{debugString:"action,"+(n?"status":"chat")+",read,"+JSON.stringify(t)+","+a,metricName:"READ",ackRequest:!0})}))},sendStatusSeen:function(e,t){return this.sendConversationSeen(e.remote,e,void 0,!0,t)},requestMediaReupload:function(e,t){return new Promise(((a,n)=>{const r=e.id,i=Array.isArray(t)?t.map((e=>["user",{jid:e},void 0])):void 0,s=r,o=this.queryNode({type:"media",index:s.id,jid:s.remote,owner:s.fromMe.toString(),participant:s.participant},i);this.binSend("sendEphemeral",o,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{let t;if(__LOG__(2)`bin-recv: response,media`,"response"===this.N.tag(e)&&"media"===this.N.attr("type",e)){const a=parseInt(this.N.attr("code",e),10)||400,n=this.N.attr("url",e);a>=500&&502!==a?(__LOG__(3)`wap:requestMediaReupload:error ${a}`,t={status:a}):200===a&&n?t={status:200,url:n,mediaKey:this.N.attr("media_key",e),mediaKeyTimestamp:this.N.attr("media_key_timestamp",e),encFilehash:this.N.attr("enc_filehash",e),directPath:this.N.attr("direct_path",e)}:200!==a||n?(__LOG__(3)`wap:requestMediaReupload:error ${a}`,t={status:a}):(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("wap:requestMediaReupload:emptyUrl"),t={status:400})}else __LOG__(3)`wap:requestMediaReupload:malformed`,t={status:400};a(t)})).catch(n)}),a),onDrop:this.wrap(n)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})}))},parseCmd:function(e){switch(this.N.tag(e)){case"read":const t=this.N.attr("jid",e),a="false"===this.N.attr("type",e),n="status"===this.N.attr("kind",e),r=this.N.attr("checksum",e),i=this.N.attr("index",e),s="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),l=this.N.attr("chat",e);let u;try{u=new _.default({id:i,fromMe:s,remote:t,participant:o})}catch(e){}const d={type:a?"unread":"read",jid:t,isStatus:n,checksum:r,chat:this.decodeJid(l),key:u},c=[!t,n&&!u];return this.dropIfConditionMet(c,d);case"identity":const f=this.parseIdentity(e);return f?(f.type="identity",f):void 0;default:return}},parseContact:function(e,t){if("user"!==this.N.tag(e))return __LOG__(4,void 0,new Error,!0)`expected tag: user, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");let a=this.N.attr("name",e),n="true"===this.N.attr("enterprise",e);const r=this.N.attr("jid",e)||t,i=this.N.attr("short",e)||void 0,s=this.N.attr("type",e)||"in",o=this.N.attr("notify",e),l=this.N.attr("verify",e),u="true"===this.N.attr("status_mute",e),d=this.N.attr("index",e)||void 0,c=this.N.attr("vname",e),f=parseInt(this.N.attr("dm_duration",e),10)||0,h=parseInt(this.N.attr("dm_t",e),10)||0;let p,m;switch(l){case"true":case"0":case"1":case"2":p=!0,m=parseInt(l,10)||0;break;default:p=!1,n=!1}a||m!==x.VERIFIED_LEVEL.HIGH||(a=c);const g=this.N.children(e),_=[];if(Array.isArray(g))for(let e=0;e<g.length;e++){const t=g[e];if("label"===this.N.tag(t)){const e=this.N.attr("id",t);e&&_.push(e)}}const v={id:r,name:a,type:s,shortName:i,pushname:o,isBusiness:p,verifiedLevel:m,statusMute:u,sectionHeader:d,verifiedName:c,labels:_,isEnterprise:n,disappearingModeDuration:f,disappearingModeSettingTimestamp:h};return this.dropIfConditionMet([!r,"in"!==s&&"out"!==s&&!!s],v)},parseAck:function(e){if("received"!==this.N.tag(e))return __LOG__(4,void 0,new Error,!0)`expected tag: received, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`,void SEND_LOGS("wap-unexpected-tag");const t=this.N.attr("type",e),a=this.N.attr("index",e),n=this.N.attr("jid",e),r="true"===this.N.attr("owner",e),i=this.N.attr("participant",e);let s;switch(t){case"message":s=h.ACK.RECEIVED;break;case"read":s=h.ACK.READ;break;case"played":s=h.ACK.PLAYED;break;case"error":s=h.ACK.FAILED;break;case"pending":default:s=h.ACK.CLOCK}const o=(0,b.getMaybeMeUser)(),l={cmd:"ack",id:a,ack:s,from:r?o:n,to:r?n:o,participant:i,self:r?"out":"in"},u=[!a,!n,y.default.isStatusV3(n),"message"!==t&&"read"!==t&&"played"!==t&&"error"!==t&&"pending"!==t];return this.dropIfConditionMet(u,l)},parseMsgMessage:function(e,t){if("message"!==this.N.tag(e))return void __LOG__(3)`drop: not message`;const a=this.N.children(e);if(a instanceof ArrayBuffer)try{const e=(0,C.decodeProtobuf)(N.WebMessageInfoSpec,a);return this.parseWebMessageInfo(e,t)}catch(e){return __LOG__(2)`wmi error: ${String(e)}`,__LOG__(4,void 0,new Error,!0)`drop: failed parsing wmi`,void SEND_LOGS("parse-error")}else __LOG__(3)`drop: no bytes`},parseProtocolMessageProto:function(e,t,a){if("relay"===a||t.type===k.Message$ProtocolMessageType.EPHEMERAL_SETTING)switch(e.type="protocol",t.type){case k.Message$ProtocolMessageType.REVOKE:const a=t.key,n=new _.default({fromMe:a.fromMe,remote:this.decodeJid(a.remoteJid),id:a.id,participant:this.decodeJid(a.participant)});e.subtype="sender_revoke",e.protocolMessageKey=n;break;case k.Message$ProtocolMessageType.EPHEMERAL_SETTING:e.subtype="ephemeral_setting",e.ephemeralDuration=t.ephemeralExpiration;break;case k.Message$ProtocolMessageType.EPHEMERAL_SYNC_RESPONSE:e.subtype="ephemeral_sync_response",e.ephemeralDuration=t.ephemeralExpiration,e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp;break;default:e.subtype="unknown"}},sendConversationPin:function(e,t,a){return new Promise(((n,r)=>{const i=this.actionNode("set",[["chat",{type:"pin",pin:t?t.toString():void 0,previous:a?a.toString():void 0,jid:e},void 0]]);this.binSend("send",i,r,{clientCacheable:!0,onSend:this.wrap(n),onDrop:this.wrap(r)},{debugString:["action","chat",e,t?"pin,"+t:"unpin,"+a].join(),metricName:"CHAT",ackRequest:!0})}))},subscribeLiveLocation:function(e,t){return new Promise(((a,n)=>{const r=this.queryNode({type:"location",kind:"subscribe",jid:e,participant:t?"true":void 0},void 0);this.binSend("sendEphemeral",r,n,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const n=this.N.children(e),r={participants:[]};if(__LOG__(2)`bin-recv: response,location`,"response"!==this.N.tag(e)||"location"!==this.N.attr("type",e))return void a(r);const i=parseInt(this.N.attr("duration",e),10);if(r.duration=Number.isNaN(i)?void 0:i,!t||!Array.isArray(n))return t&&__LOG__(2)`LiveLocation:response with no participants`,void a(r);const s=n.length;for(let e=0;e<s;e++){const t=n[e],a=this.N.attr("jid",t),i=parseInt(this.N.attr("expiration",t),10),s=parseInt(this.N.attr("elapsed",t),10)||0,o=this.N.children(t);if("participant"!==this.N.tag(t)||!a)continue;const l={id:a,expiration:Number.isNaN(i)?void 0:i,elapsed:s};if(o){const e=(0,C.decodeProtobuf)(k.MessageSpec,o).liveLocationMessage;e&&j.parseLiveLocationMessageProto(l,e)}l.lat&&l.lng?__LOG__(2)`LiveLocation:response with lat/lng`:__LOG__(2)`LiveLocation:response without lat/lng`,r.participants.push(l)}a(r)})).catch(n)}),a),onDrop:this.wrap(n)},{debugString:["query,location",e,t].join(),metricName:"QUERY_LIVE_LOCATIONS"})}))},unsubscribeLiveLocation:function(e){return new Promise(((t,a)=>{const n=this.actionNode("set",[["location",{type:"unsubscribe",jid:e},void 0]]);this.binSend("send",n,a,{clientCacheable:!0,onSend:this.wrap(t),onDrop:this.wrap(a)},{debugString:"action,location,unsubscribe,"+e,metricName:"LIVE_LOCATION"})}))},queryActiveLiveLocation:function(e){return new Promise(((t,a)=>{const n=this.queryNode({type:"location",kind:"participant",jid:e},void 0);this.binSend("sendEphemeral",n,a,{onSend:this.binWrap((e=>{this.BinaryProtocol.read(e).then((e=>{const a=this.N.children(e),n={participants:[]};if(__LOG__(2)`bin-recv: response,location`,"response"!==this.N.tag(e)||"location"!==this.N.attr("type",e))return void t(n);if(!Array.isArray(a))return void t(n);const r=a.length;for(let e=0;e<r;e++){const t=a[e],r=this.N.attr("jid",t),i=parseInt(this.N.attr("expiration",t),10);if("participant"!==this.N.tag(t)||!r)continue;const s={id:r,expiration:Number.isNaN(i)?void 0:i};n.participants.push(s)}t(n)})).catch(a)}),t),onDrop:this.wrap(a)},{debugString:"query,location,participant,"+e,metricName:"QUERY_LIVE_LOCATIONS"})}))},disableLiveLocation:function(e){return new Promise(((t,a)=>{const n=this.actionNode("set",[["location",{type:"disable",jid:e},void 0]]);this.binSend("send",n,a,{clientCacheable:!0,onSend:this.wrap(t),onDrop:this.wrap(a)},{debugString:"action,location,disable,"+e,metricName:"LIVE_LOCATION"})}))},parseLocation:function(e){if("location"!==this.N.tag(e))return;const t=this.N.attr("type",e),a=this.N.attr("jid",e),n=this.N.attr("author",e),r=parseInt(this.N.attr("elapsed",e),10)||0,i=parseInt(this.N.attr("id",e),10)||0,s=this.N.children(e),o={type:t};switch(t){case"update":if(o.jid=a,o.elapsed=r,s){const e=(0,C.decodeProtobuf)(k.MessageSpec,s).liveLocationMessage;e&&j.parseLiveLocationMessageProto(o,e)}o.type="update",o.lat&&o.lng?__LOG__(2)`LiveLocation:update with lat/lng`:__LOG__(2)`LiveLocation:update without lat/lng`;break;case"disable":o.jid=n||a,o.chat=a,o.seq=i}return this.pruneUndefinedProps(o),this.dropIfConditionMet(["update"!==t&&"disable"!==t,!("update"!==t||a&&s),"disable"===t&&!a],o)},parseMsgStubProto:function(e,t){const a=N.WebMessageInfoStubType;switch(e.messageStubType){case a.REVOKE:return t.type="revoked",t.subtype="sender",t;case a.CIPHERTEXT:return t.type="ciphertext",t;case a.OVERSIZED:return t.type="oversized",t;case a.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgStubTemplate:function(e,t){const a=N.WebMessageInfoStubType;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map((t=>e.messageStubType===a.GROUP_CREATE||e.messageStubType===a.GROUP_CHANGE_SUBJECT?t:this.decodeJid(t))):void 0,e.messageStubType){case a.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case a.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case a.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case a.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case a.VERIFIED_HIGH:t.subtype="verified_high";break;case a.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case a.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case a.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case a.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case a.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case a.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case a.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case a.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case a.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case a.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case a.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;case a.GROUP_CREATE:t.type="gp2",t.subtype="create",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case a.GROUP_DELETE:t.type="gp2",t.subtype="delete",t.recipients=[],t.templateParams=void 0;break;case a.GROUP_CHANGE_SUBJECT:t.type="gp2",t.subtype="subject",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case a.GROUP_CHANGE_ICON:t.type="gp2",t.subtype="picture",t.recipients=[],t.body=t.templateParams[0],t.templateParams=void 0;break;case a.GROUP_CHANGE_INVITE_LINK:t.type="gp2",t.subtype="revoke_invite",t.recipients=[];break;case a.GROUP_CHANGE_DESCRIPTION:t.type="gp2",t.subtype="description",t.recipients=[];break;case a.GROUP_CHANGE_RESTRICT:t.type="gp2",t.subtype="restrict",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_CHANGE_ANNOUNCE:t.type="gp2",t.subtype="announce",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:t.type="gp2",t.subtype="no_frequently_forwarded",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:t.type="gp2",t.subtype="announce_msg_bounce",t.recipients=[],t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_ADD:t.type="gp2",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_REMOVE:t.type="gp2",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_PROMOTE:t.type="gp2",t.subtype="promote",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_DEMOTE:t.type="gp2",t.subtype="demote",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_INVITE:t.type="gp2",t.subtype="invite",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_LEAVE:t.type="gp2",t.subtype="leave",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_CHANGE_NUMBER:t.type="gp2",t.subtype="modify",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_V4_ADD_INVITE_SENT:t.type="gp2",t.subtype="v4_add_invite_sent",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:t.type="gp2",t.subtype="v4_add_invite_join",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_INVITE_LINK_GROWTH_LOCKED:t.type="gp2",t.subtype="true"===t.templateParams[0]?"growth_locked":"growth_unlocked",t.body="invite",t.recipients=[],t.templateParams=void 0;break;case a.BROADCAST_CREATE:t.type="broadcast_notification",t.subtype="create",t.body=t.templateParams[0]||"0",t.templateParams=void 0;break;case a.BROADCAST_ADD:t.type="broadcast_notification",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.BROADCAST_REMOVE:t.type="broadcast_notification",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GENERIC_NOTIFICATION:t.type="notification",t.body=t.templateParams[0],t.templateParams=void 0;break;case a.E2E_IDENTITY_CHANGED:t.type="e2e_notification",t.subtype="identity",t.body=t.templateParams[0]instanceof y.default?t.templateParams[0].toString():t.templateParams[0],t.templateParams=void 0;break;case a.E2E_IDENTITY_UNAVAILABLE:t.type="e2e_notification",t.subtype="e2e_identity_unavailable";break;case a.E2E_DEVICE_CHANGED:t.type="e2e_notification",t.subtype="device",t.body=t.templateParams[0]instanceof y.default?t.templateParams[0].toString():t.templateParams[0],t.devicesAdded=parseInt(t.templateParams[1],10),t.devicesRemoved=parseInt(t.templateParams[2],10),t.templateParams=void 0;break;case a.E2E_ENCRYPTED:t.type="e2e_notification",t.subtype="encrypt";break;case a.E2E_ENCRYPTED_NOW:t.type="e2e_notification",t.subtype="encrypt_now";break;case a.CALL_MISSED_VOICE:t.type="call_log",t.subtype="miss";break;case a.CALL_MISSED_VIDEO:t.type="call_log",t.subtype="miss_video";break;case a.CALL_MISSED_GROUP_VOICE:t.type="call_log",t.subtype="miss_group";break;case a.CALL_MISSED_GROUP_VIDEO:t.type="call_log",t.subtype="miss_group_video";break;case a.INDIVIDUAL_CHANGE_NUMBER:t.subtype="change_number";break;case a.CHANGE_EPHEMERAL_SETTING:t.type="gp2",t.subtype="ephemeral",t.author=t.templateParams[1],t.recipients=[];break;case a.PAYMENT_CIPHERTEXT:t.type="payment",t.subtype="ciphertext",this.callFeatureFlagFun(m.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case a.PAYMENT_FUTUREPROOF:t.type="payment",t.subtype="futureproof",this.callFeatureFlagFun(m.LegacyPhoneFeatures.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case a.PAYMENT_ACTION_REQUEST_CANCELLED:t.subtype="payment_transaction_request_cancelled";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:t.subtype="payment_transaction_status_update_failed";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:t.subtype="payment_transaction_status_update_refunded";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:t.subtype="payment_transaction_status_update_refund_failed";break;case a.PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:t.subtype="payment_transaction_status_receiver_pending_setup";break;case a.PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:t.subtype="payment_transaction_status_receiver_success_after_hiccup";break;case a.PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:t.subtype="payment_action_account_setup_reminder";break;case a.PAYMENT_ACTION_SEND_PAYMENT_REMINDER:t.subtype="payment_action_send_payment_reminder";break;case a.PAYMENT_ACTION_SEND_PAYMENT_INVITATION:t.subtype="payment_action_send_payment_invitation";break;case a.PAYMENT_ACTION_REQUEST_DECLINED:t.subtype="payment_action_request_declined";break;case a.PAYMENT_ACTION_REQUEST_EXPIRED:t.subtype="payment_action_request_expired";break;case a.BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:t.subtype="biz_verified_transition_top_to_bottom";break;case a.BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:t.subtype="biz_verified_transition_bottom_to_top";break;case a.BIZ_INTRO_TOP:t.subtype="biz_intro_top";break;case a.BIZ_INTRO_BOTTOM:t.subtype="biz_intro_bottom";break;case a.BIZ_NAME_CHANGE:t.subtype="biz_name_change";break;case a.BIZ_MOVE_TO_CONSUMER_APP:t.subtype="biz_move_to_consumer_app";break;case a.BIZ_TWO_TIER_MIGRATION_TOP:t.subtype="biz_two_tier_migration_top";break;case a.BIZ_TWO_TIER_MIGRATION_BOTTOM:t.subtype="biz_two_tier_migration_bottom";break;case a.BLUE_MSG_BSP_FB_TO_BSP_PREMISE:t.subtype="blue_msg_bsp_fb_to_bsp_premise";break;case a.BLUE_MSG_BSP_FB_TO_SELF_FB:t.subtype="blue_msg_bsp_fb_to_self_fb";break;case a.BLUE_MSG_BSP_FB_TO_SELF_PREMISE:t.subtype="blue_msg_bsp_fb_to_self_premise";break;case a.BLUE_MSG_BSP_FB_UNVERIFIED:t.subtype="blue_msg_bsp_fb_unverified";break;case a.BLUE_MSG_BSP_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_bsp_premise_verified";break;case a.BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_FB_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_self_fb_verified";break;case a.BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_self_premise_verified";break;case a.BLUE_MSG_BSP_FB_VERIFIED:t.subtype="blue_msg_bsp_fb_verified";break;case a.BLUE_MSG_BSP_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_bsp_premise_unverified";break;case a.BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_self_fb_unverified";break;case a.BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_self_premise_unverified";break;case a.BLUE_MSG_BSP_PREMISE_TO_SELF_PREMISE:t.subtype="blue_msg_bsp_premise_to_self_premise";break;case a.BLUE_MSG_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_premise_unverified";break;case a.BLUE_MSG_BSP_PREMISE_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_premise_unverified_to_self_premise_verified";break;case a.BLUE_MSG_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_premise_verified";break;case a.BLUE_MSG_BSP_PREMISE_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_premise_verified_to_self_premise_unverified";break;case a.BLUE_MSG_CONSUMER_TO_BSP_FB_UNVERIFIED:t.subtype="blue_msg_consumer_to_bsp_fb_unverified";break;case a.BLUE_MSG_CONSUMER_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_consumer_to_bsp_premise_unverified";break;case a.BLUE_MSG_CONSUMER_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_consumer_to_self_fb_unverified";break;case a.BLUE_MSG_CONSUMER_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_consumer_to_self_premise_unverified";break;case a.BLUE_MSG_SELF_FB_TO_BSP_PREMISE:t.subtype="blue_msg_self_fb_to_bsp_premise";break;case a.BLUE_MSG_SELF_FB_TO_SELF_PREMISE:t.subtype="blue_msg_self_fb_to_self_premise";break;case a.BLUE_MSG_SELF_FB_UNVERIFIED:t.subtype="blue_msg_self_fb_unverified";break;case a.BLUE_MSG_SELF_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_self_fb_unverified_to_bsp_premise_verified";break;case a.BLUE_MSG_SELF_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_self_fb_unverified_to_self_premise_verified";break;case a.BLUE_MSG_SELF_FB_VERIFIED:t.subtype="blue_msg_self_fb_verified";break;case a.BLUE_MSG_SELF_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_fb_verified_to_bsp_premise_unverified";break;case a.BLUE_MSG_SELF_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_fb_verified_to_self_premise_unverified";break;case a.BLUE_MSG_SELF_PREMISE_TO_BSP_PREMISE:t.subtype="blue_msg_self_premise_to_bsp_premise";break;case a.BLUE_MSG_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_premise_unverified";break;case a.BLUE_MSG_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_self_premise_verified";break;case a.BLUE_MSG_TO_BSP_FB:t.subtype="blue_msg_to_bsp_fb";break;case a.BLUE_MSG_TO_CONSUMER:t.subtype="blue_msg_to_consumer";break;case a.BLUE_MSG_TO_SELF_FB:t.subtype="blue_msg_to_self_fb";break;case a.BLUE_MSG_UNVERIFIED_TO_BSP_FB_VERIFIED:t.subtype="blue_msg_unverified_to_bsp_fb_verified";break;case a.BLUE_MSG_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_unverified_to_bsp_premise_verified";break;case a.BLUE_MSG_UNVERIFIED_TO_SELF_FB_VERIFIED:t.subtype="blue_msg_unverified_to_self_fb_verified";break;case a.BLUE_MSG_UNVERIFIED_TO_VERIFIED:t.subtype="blue_msg_unverified_to_verified";break;case a.BLUE_MSG_VERIFIED_TO_BSP_FB_UNVERIFIED:t.subtype="blue_msg_verified_to_bsp_fb_unverified";break;case a.BLUE_MSG_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_verified_to_bsp_premise_unverified";break;case a.BLUE_MSG_VERIFIED_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_verified_to_self_fb_unverified";break;case a.BLUE_MSG_VERIFIED_TO_UNVERIFIED:t.subtype="blue_msg_verified_to_unverified";break;case a.BIZ_PRIVACY_MODE_INIT_FB:t.subtype="biz_privacy_mode_init_fb";break;case a.BIZ_PRIVACY_MODE_INIT_BSP:t.subtype="biz_privacy_mode_init_bsp";break;case a.BIZ_PRIVACY_MODE_TO_FB:t.subtype="biz_privacy_mode_to_fb";break;case a.BIZ_PRIVACY_MODE_TO_BSP:t.subtype="biz_privacy_mode_to_bsp";break;case a.DISAPPEARING_MODE:t.subtype="disappearing_mode";break;case a.BLOCK_CONTACT:t.subtype="block_contact";break;case a.ADMIN_REVOKE:(0,g.adminRevokeHistorySyncConsumerEnabled)()&&(t.type="revoked",t.subtype="admin",t.revokeSender=t.templateParams[1]instanceof y.default?t.templateParams[1]:void 0,t.revokeSender||__LOG__(2)`ProtocolParser: admin revoke came without admin JID`),t.templateParams=void 0;break;case a.COMMUNITY_LINK_PARENT_GROUP:t.type="gp2",t.subtype="parent_group_link";break;case a.COMMUNITY_LINK_SIBLING_GROUP:t.type="gp2",t.subtype="sibling_group_link";break;case a.COMMUNITY_LINK_SUB_GROUP:t.type="gp2",t.subtype="sub_group_link";break;default:t.templateParams=void 0}return t},sendCallOffer:function(e){return new Promise(((t,a)=>{const n=(0,c.randomHex)(8),r=O.VoipSignaling.formatCallOffer(this,n,e);this.binSend("send",r,a,{tag:n,onSend:this.wrap((e=>{t(e)}),t),onDrop:this.wrap(a),retryOn5xx:!0,isCallOffer:!0},{debugString:["action","call","offer",e.common.peer_jid].join(),debugObj:{xml:r,struct:e},metricName:"CALL"})}))},sendMdOptIn:function(){return new Promise(((e,t)=>{const a=this.actionNode("set",[["MDOptIn",{enabled:"true"},void 0]]);this.binSend("send",a,t,{onSend:this.binWrap((a=>{this.BinaryProtocol.read(a).then((t=>{__LOG__(2)`bin-recv: response,MDOptIn`;const a={status:200};"error"===this.N.tag(t)&&(a.status=this.N.attr("code",t)),e(a)})).catch(t)}),e),onDrop:this.wrap(t)},{debugString:"action,md_opt_in,enabled",metricName:"MD_OPT_IN"})}))},supportsFeatureFlags:!0,implementedFeatures:{}});var B,F=(0,s.default)(L,T.default);t.Z=F},6878:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.refreshCart=function(e,t,a,n,u){if((0,s.commerceFeaturesDisabledBySanctions)())return Promise.reject(new r.E451);let d;!0===u&&(0,l.qplPointCartView)("datasource_start"),d=(0,i.isMDBackend)()?(0,o.attemptWithDirectConnectionRetry)(e,(r=>(0,c.refreshCartMD)(e,t,a,n,r))):f.default.refreshCart(e.toString(),t,a,n);return d.then((e=>(!0===u&&(0,l.qplPointCartView)("datasource_end"),e))),d},t.updateCart=function(e,t){if((0,s.commerceFeaturesDisabledBySanctions)())return Promise.reject(new r.E451);let a=Promise.resolve();if(t&&d.QPL.markerPoint(t,"datasource_start"),(0,i.isMDBackend)())if(e.itemCount>0||e.message&&e.message.length>0){const t=function(e){const t=e.cartItemCollection.map((e=>({id:e.id,priceAmount1000:e.priceAmount1000,currency:e.currency,name:e.name,quantity:e.quantity,imageHash:e.imageHash})));return{id:e.id.toString(),message:e.message,total:e.total,currency:e.currency,itemCount:e.itemCount,products:t}}(e);a=(0,u.getCartTable)().createOrReplace(t)}else a=(0,u.getCartTable)().remove(e.id.toString());return a.then((()=>t&&d.QPL.markerPoint(t,"datasource_end"))).catch((e=>{if(451===e.errorCode)throw new r.E451})),a};var r=a(92574),i=a(88555),s=a(8139),o=a(97951),l=a(90166),u=a(76214),d=a(48870),c=(a(27798),a(71055)),f=n(a(56891))},68825:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createOrder=function(e,t){if((0,s.commerceFeaturesDisabledBySanctions)())return Promise.reject(new r.E451);let a;(0,u.qplPointOrderCreate)("datasource_start"),a=(0,i.isMDBackend)()?(0,o.attemptWithDirectConnectionRetry)(e,(a=>(0,l.createOrderMD)(e,t,a))):c.default.createOrder(e.user,t);return a.then((()=>(0,u.qplPointOrderCreate)("datasource_end"))),a},t.queryOrder=function(e,t,a,n,l){if((0,s.commerceFeaturesDisabledBySanctions)())return Promise.reject(new r.E451);let f;(0,u.qplPointOrderView)("datasource_start"),f=(0,i.isMDBackend)()?(0,o.attemptWithDirectConnectionRetry)(e,(e=>(0,d.queryOrder)(t,a,n,l,e))):c.default.queryOrder(t,a,n,l);return f.then((()=>(0,u.qplPointOrderView)("datasource_end"))),f};var r=a(92574),i=a(88555),s=a(8139),o=a(97951),l=a(63262),u=a(90166),d=a(49693),c=n(a(56891))},35863:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCtwaContextData=function(e){const{phone:t,sourceUrl:a,context:n}=e;if(!t||!a||!n)return Promise.reject(new Error("Invalid params passed to fetchCtwaContextData"));let o;o=(0,r.isMDBackend)()?(0,i.default)(t,n,a):s.default.queryCtwaContext(t,n,a);return o};var r=a(88555),i=n(a(76815)),s=n(a(56891))},77982:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationArchive=function(e,t,a){if((0,o.isLegacyWebdBackend)())return f.default.sendConversationArchive(e,t,a);const n=(0,s.unixTimeMs)();return d.default.getMutationsForArchive(n,t,e).then(function(){var a=(0,r.default)((function*(a){try{return yield(0,c.lockForMessageRangeSync)(["chat"],a,function(){var n=(0,r.default)((function*(n){let[r]=n;if(a[0].action!==i.Actions.Archive)throw new Error("syncd: expected archive action from getMutationsForArchive");return yield(0,u.addActiveMessageRange)(e.toString(),"archive",a[0].binarySyncAction),r.merge(e.toString(),function(e){const t={archive:e};e&&(t.pin=void 0);return t}(t))}));return function(){return n.apply(this,arguments)}}()),{status:200,_duplicate:null}}catch(e){if(e instanceof l.DbOnLogoutAbort)throw e;throw __LOG__(4,!0,new Error,!0)`update chat table failed`,SEND_LOGS("update chat table failed when send conversation to archive"),new Error("update chat table failed")}}));return function(){return a.apply(this,arguments)}}())};var r=n(a(48926)),i=a(60362),s=a(92844),o=a(88555),l=a(35232),u=a(38342),d=n(a(74362)),c=a(19937),f=n(a(56891))},83872:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.broadcastListEnabled=function(){if((0,n.isLegacyWebdBackend)())return!0;return!1};var n=a(88555)},32107:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addChatThreadLoggingActivities=function(e){return(0,n.handleActivitiesForChatThreadLogging)(e)};var n=a(16116)},1133:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.eagerlyEstablishE2EESession=function(){return f.apply(this,arguments)};var r=n(a(48926)),i=a(88555),s=a(78820),o=a(26409),l=a(97398),u=n(a(11339)),d=a(43201),c=a(16860);function f(){return(f=(0,r.default)((function*(e){if((0,i.isLegacyWebdBackend)())return;let t;if(e.isGroup){t=(yield(0,d.getGroupSenderKeyList)(e.id)).skDistribList}else{const a=(0,s.assertGetMe)();t=yield(0,o.getFanOutListJob)([e.id,a])}const a=yield(0,l.ensureE2ESessions)(t);(0,c.postPrekeysDepletionMetric)({count:null==a?void 0:a.depletedPrekeyCount,prekeysFetchReason:u.default.PREKEYS_FETCH_CONTEXT.USER_INTENT_PREFETCH,messageType:e.isGroup?u.default.MESSAGE_TYPE.GROUP:u.default.MESSAGE_TYPE.INDIVIDUAL,chatId:e.id})}))).apply(this,arguments)}},29894:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getNumChatsPinned=function(){if((0,s.isLegacyWebdBackend)())return Promise.resolve(o.ChatCollection.filter((e=>e.pin)).length);return l.default.getLocalPins().then((e=>e.length))},t.setPin=function(){return h.apply(this,arguments)},t.unpinAll=function(){if((0,s.isLegacyWebdBackend)())return Promise.resolve();return l.default.unpinAll()};var r=n(a(48926)),i=a(92574),s=a(88555),o=a(69951),l=n(a(36014)),u=a(38804),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(78375)),c=n(a(56891));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function h(){return(h=(0,r.default)((function*(e,t,a,n){if((0,s.isLegacyWebdBackend)())return c.default.sendConversationPin(e,t,a).then((e=>{if(200!==e.status)throw new i.ServerStatusCodeError(e.status);return e}));const r=0!==t,o=yield l.default.getMutationsForPin(n,r,e);return r||d.addUnsetActionCount(1),(0,u.lockForSync)(["chat"],o,(a=>{let[n]=a;return n.merge(e.toString(),{pin:t})})).then((()=>({status:200,_duplicate:null})))}))).apply(this,arguments)}},77486:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.isLegacyWebdBackend)())return l.default.commonGroupsFind(e).then((e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return e.groups}));const t=e.toString();return(0,o.getParticipantTable)().equals(["participants"],t).then((e=>e.map((e=>(0,s.createWid)(e.groupId)))))};var r=a(92574),i=a(88555),s=a(45454),o=a(76214),l=n(a(56891))},69586:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendJoinGroupViaInvite=function(e){if((0,i.isLegacyWebdBackend)())return o.default.acceptGroupInvite(e).then((e=>{if(200===e.status)return e.gid;throw new r.ServerStatusCodeError(e.status)}));return(0,s.joinGroupViaInvite)(e).then((e=>e.gid))},t.sendQueryGroupInviteCode=function(e){if((0,i.isLegacyWebdBackend)())return o.default.groupInviteCode(e).then((e=>{if(200===e.status)return e.code;throw new r.ServerStatusCodeError(e.status)}));return(0,s.queryGroupInviteCode)(e).then((e=>e.code))},t.sendRevokeGroupInviteCode=function(e){if((0,i.isLegacyWebdBackend)())return o.default.revokeGroupInvite(e).then((e=>{if(200===e.status)return e.code;throw new r.ServerStatusCodeError(e.status)}));return(0,s.resetGroupInviteCode)(e).then((e=>e.code))};var r=a(92574),i=a(88555),s=a(35654),o=n(a(56891))},47990:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendJoinAnnouncementGroup=function(e,t){return u(e,t,o.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)},t.sendJoinSubgroup=function(e,t){return u(e,t,o.GroupType.SUBGROUP)},t.sendJoinSubgroupProxy=u;var r=n(a(48926)),i=a(92574),s=a(88555),o=a(55981),l=a(50551);function u(){return d.apply(this,arguments)}function d(){return(d=(0,r.default)((function*(e,t,a){if((0,s.isLegacyWebdBackend)())return Promise.resolve();const n=yield(0,l.joinSubgroup)(e,t,a);if(200!==n.status)throw new i.ServerStatusCodeError(n.status);return n}))).apply(this,arguments)}},57490:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetGroupDescription=function(e,t,a,n){(0,i.isLegacyWebdBackend)()&&l.default.setGroupDescription(e,t,a,n).then((e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}));return(0,o.setGroupDescription)(e,t,a,n).then((()=>({_duplicate:!1})))},t.sendSetGroupProperty=function(e,t,a){if((0,i.isLegacyWebdBackend)()){let n;return n=t===s.GROUP_SETTING_TYPE.EPHEMERAL?l.default.setGroupEphemeralDuration(e,a):l.default.setGroupProperty(e,t,Boolean(a)),n.then((e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}))}return(0,o.setGroupProperty)(e,t,a).then((()=>({_duplicate:!1})))},t.sendSetGroupSubject=function(e,t){if((0,i.isLegacyWebdBackend)())return l.default.changeSubject(e,t).then((e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}));return(0,o.setGroupSubject)(e,t).then((()=>({_duplicate:null})))};var r=a(92574),i=a(88555),s=a(12380),o=a(77287),l=n(a(56891))},36089:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sendUpgradeToMD=function(){if((0,r.isLegacyWebdBackend)())return i.default.sendMdOptIn();return Promise.reject(new Error("not supported for MD"))};var r=a(88555),i=n(a(56891))},58355:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.isLegacyWebdBackend)())return s.default.sendMessagePlayed(e.id).then((()=>{}));return(0,i.default)(e,e.chat.id),Promise.resolve()};var r=a(88555),i=n(a(71504)),s=n(a(56891))},42874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AVDeviceType=t.AVDeviceStatusContext=t.AVDeviceStatusCode=void 0;t.AVDeviceType={AudioInput:0,AudioOutput:1,Video:2,NotIdentified:3};t.AVDeviceStatusContext={DeviceSetup:0,DeviceMidstream:1,DeviceSelection:2,DeviceStop:3,DeviceOther:4};t.AVDeviceStatusCode={DeviceSuccess:0,FailureNonDevice:1,VideoDeviceNotFound:2,VideoDeviceUnsupportedCapability:3,VideoDeviceUnusable:4,VideoDeviceInUse:5,VideoDeviceUnauthorized:6,VideoDeviceTimeout:7,VideoDeviceOther:127,AudioCaptureDeviceNotFound:128,AudioPlaybackDeviceNotFound:129,AudioDeviceNotFound:130,AudioCaptureDeviceUnusable:131,AudioPlaybackDeviceUnusable:132,AudioDeviceUnusable:133,AudioCaptureDeviceInUse:134,AudioPlaybackDeviceInUse:135,AudioDeviceInUse:136,AudioCaptureDeviceUnauthorized:137,AudioPlaybackDeviceUnauthorized:138,AudioDeviceUnauthorized:139,AudioCaptureDeviceTimeout:140,AudioPlaybackDeviceTimeout:141,AudioDeviceTimeout:142,AudioCaptureDeviceOther:253,AudioPlaybackDeviceOther:254,AudioDeviceOther:255}},19065:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_AV_DEVICE_ID=void 0,t.deviceInfoComparator=function(e,t){if(e.deviceType!==t.deviceType)return e.deviceType-t.deviceType;if(e.isSystemDefault||t.isSystemDefault)return e.isSystemDefault?-1:1;return e.isConnected===t.isConnected?0:e.isConnected?-1:1},t.getAvailableDevices=function(e,t){var a;return null!==(a=null==e?void 0:e.filter((e=>e.deviceType===t&&e.isConnected)))&&void 0!==a?a:[]},t.getDiff=function(e,t){const a=t.filter((t=>!e.some((e=>e.uid===t.uid)))),n=e.filter((e=>!t.some((t=>t.uid===e.uid))));return{added:a,removed:n}},t.getSanitizedDevices=function(e){const t=null==e?void 0:e.map((e=>function(e){return{uid:e.uid,name:e.name,deviceType:Number(e.deviceType),isConnected:Boolean(e.connected),isSelected:Boolean(e.isSelected),isSystemDefault:Boolean(e.isDefault)}}(e))),a=null==t?void 0:t.filter((e=>e.deviceType!==n.AVDeviceType.NotIdentified&&e.isConnected));return null!=a?a:[]},t.getSelectedDevice=i,t.getSelectedDeviceIdOrDefault=function(e,t){var a,n;return null!==(a=null===(n=i(e,t))||void 0===n?void 0:n.uid)&&void 0!==a?a:""},t.getSystemDefaultCamera=function(e){return r(e,n.AVDeviceType.Video)},t.getSystemDefaultDevice=r,t.getSystemDefaultMicrophone=function(e){return r(e,n.AVDeviceType.AudioInput)},t.getSystemDefaultSpeaker=function(e){return r(e,n.AVDeviceType.AudioOutput)};var n=a(42874);function r(e,t){return null==e?void 0:e.find((e=>e.isConnected&&e.isSystemDefault&&e.deviceType===t))}function i(e,t){return null==e?void 0:e.find((e=>e.isConnected&&e.isSelected&&e.deviceType===t))}t.DEFAULT_AV_DEVICE_ID=""},3155:(e,t,a)=>{"use strict";t.y=function(e){e.setHandlers("msg_collection",{processMultipleMessages(e){let{chatId:t,msgObjs:a,meta:n,chatMsgsCollection:r,preserveOrder:s}=e;return i.MsgCollection.processMultipleMessages(t,a,n,r,s)},trigger(e){let{name:t,args:a}=e;i.MsgCollection.trigger(t,a)},updateLastReceipt(e){let{wid:t,t:a}=e;i.MsgCollection.updateLastReceipt(t,a)}}),e.setHandlers("contact_collection",{updatePushname(e){let{contactId:t,pushname:a}=e;const n=r.ContactCollection.gadd(t);return n.pushname!==a&&(n.set({pushname:a}),!0)}}),e.setHandlers("chat_collection",{add(e){let{things:t,options:a}=e;return n.ChatCollection.add(t,a)},trigger(e){let{name:t,args:a}=e;n.ChatCollection.trigger(t,a)}}),e.setHandlers("status_v3_collection",{handleUpdate(e){let{rawMsg:t,checksum:a,isMsgUpdate:n}=e;return o.StatusV3Collection.handleUpdate(t,a,n)}}),e.setHandlers("msg_info_collection",{updateInfo(e){let{id:t,from:a,to:n,ack:r,participant:i,t:o}=e;s.MsgInfoCollection.updateInfo(t,a,n,r,i,o)}})};var n=a(69951),r=a(19380),i=a(59871),s=a(17972),o=a(59387)},12380:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP_SETTING_TYPE=void 0;t.GROUP_SETTING_TYPE={ANNOUNCEMENT:"announcement",RESTRICT:"restrict",NO_FREQUENTLY_FORWARDED:"no_frequently_forwarded",EPHEMERAL:"ephemeral"}},70923:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEVEN_DAYS=t.ONE_DAY=t.OFF=t.NINETY_DAYS=void 0;var n=a(92844);t.OFF=0;const r=n.DAY_SECONDS;t.ONE_DAY=r;const i=7*n.DAY_SECONDS;t.SEVEN_DAYS=i;const s=90*n.DAY_SECONDS;t.NINETY_DAYS=s},71206:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAllDurations=function(){const e=[];(0,s.isEphemeral24HDurationEnabled)()?(e.push({value:24*r.HOUR_SECONDS,label:i.default.t(349,{number:24,_plural:24})}),e.push({value:7*r.DAY_SECONDS,label:i.default.t(348,{number:7,_plural:7})}),e.push({value:90*r.DAY_SECONDS,label:i.default.t(348,{number:90,_plural:90})})):e.push({value:7*r.DAY_SECONDS,label:i.default.t(347)});return e.push({value:0,label:i.default.t(346)}),e};var r=a(92844),i=n(a(14296)),s=a(41566)},79259:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EphemeralL10n=function(e){const{type:t,numSeconds:a=0,name:n}=e;if(a<0)return __LOG__(4,void 0,new Error,!0)`getEphemeralL10nComponent ${t} is given invalid duration ${a}`,SEND_LOGS("invalid-duration"),null;if(0===a)return function(e,t){if(e===u.SettingChangeByOthers&&null!=t)return(0,l.jsx)(s.default,{id:316,params:{name:t}});if(e===u.SettingChangeByYou)return r.fbt._("You turned off disappearing messages.",null,{hk:"CJJkP"});if(e===u.SettingChangeByUnknown)return r.fbt._("Disappearing messages were turned off.",null,{hk:"2o9H09"});if(e===u.SettingChangeByOthersAsAdmin&&null!=t)return(0,l.jsx)(s.default,{id:329,params:{name:t}});if(e===u.SettingChangeByYouAsAdmin)return r.fbt._("You turned off disappearing messages. Click to change.",null,{hk:"ULdpU"});if(e===u.SettingChangeByUnknownAsAdmin)return r.fbt._("Disappearing messages were turned off. Click to change.",null,{hk:"1M6kFu"});if(e===u.Duration)return(0,l.jsx)(s.default,{id:346});if(e===u.OutOfSyncInfo)return r.fbt._("This message will not disappear from the chat. The sender may be on an old version of WhatsApp.",null,{hk:"2d4xYQ"});return __LOG__(4,void 0,new Error,!0)`getEphemeralOffL10nComponent is given invalid type ${e}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,n);if(a<=60)return function(e,t,a){if(e===u.SettingChangeByOthers&&null!=a)return(0,l.jsx)(s.default,{id:320,params:{name:a,number:t},plural:t});if(e===u.SettingChangeByYou)return(0,l.jsx)(s.default,{id:315,params:{number:t},plural:t});if(e===u.SettingChangeByUnknown)return(0,l.jsx)(s.default,{id:311,params:{number:t},plural:t});if(e===u.SettingChangeByOthersAsAdmin&&null!=a)return(0,l.jsx)(s.default,{id:333,params:{name:a,number:t},plural:t});if(e===u.SettingChangeByYouAsAdmin)return(0,l.jsx)(s.default,{id:328,params:{number:t},plural:t});if(e===u.SettingChangeByUnknownAsAdmin)return(0,l.jsx)(s.default,{id:324,params:{number:t},plural:t});if(e===u.Duration)return(0,l.jsx)(s.default,{id:351,params:{number:t},plural:t});if(e===u.OutOfSyncInfo)return(0,l.jsx)(s.default,{id:345,params:{number:t},plural:t});if(e===u.Explanation)return(0,l.jsx)(s.default,{id:339,params:{number:t},plural:t});if(e===u.ModeChangeByOthers&&null!=a)return(0,l.jsx)(s.default,{id:291,params:{name:a,number:t},plural:t});if(e===u.ModeChangeByYou)return(0,l.jsx)(s.default,{id:295,params:{number:t},plural:t});return __LOG__(4,void 0,new Error,!0)`getEphemeralOnSecondsL10nComponent is given type ${e} and name ${a}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,a,n);if(a<=3600){const e=Math.floor(a/60);return function(e,t,a){if(e===u.SettingChangeByOthers&&null!=a)return(0,l.jsx)(s.default,{id:319,params:{name:a,number:t},plural:t});if(e===u.SettingChangeByYou)return(0,l.jsx)(s.default,{id:314,params:{number:t},plural:t});if(e===u.SettingChangeByUnknown)return(0,l.jsx)(s.default,{id:310,params:{number:t},plural:t});if(e===u.SettingChangeByOthersAsAdmin&&null!=a)return(0,l.jsx)(s.default,{id:332,params:{name:a,number:t},plural:t});if(e===u.SettingChangeByYouAsAdmin)return(0,l.jsx)(s.default,{id:327,params:{number:t},plural:t});if(e===u.SettingChangeByUnknownAsAdmin)return(0,l.jsx)(s.default,{id:323,params:{number:t},plural:t});if(e===u.Duration)return(0,l.jsx)(s.default,{id:350,params:{number:t},plural:t});if(e===u.OutOfSyncInfo)return(0,l.jsx)(s.default,{id:344,params:{number:t},plural:t});if(e===u.Explanation)return(0,l.jsx)(s.default,{id:338,params:{number:t},plural:t});if(e===u.ModeChangeByOthers&&null!=a)return(0,l.jsx)(s.default,{id:290,params:{name:a,number:t},plural:t});if(e===u.ModeChangeByYou)return(0,l.jsx)(s.default,{id:294,params:{number:t},plural:t});return __LOG__(4,void 0,new Error,!0)`getEphemeralOnMinutesL10nComponent is given type ${e} and name ${a}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,e,n)}if(a<=86400){const e=Math.floor(a/60/60);return function(e,t,a){if(e===u.SettingChangeByOthers&&null!=a)return(0,l.jsx)(s.default,{id:318,params:{name:a,number:t},plural:t});if(e===u.SettingChangeByYou)return(0,l.jsx)(s.default,{id:313,params:{number:t},plural:t});if(e===u.SettingChangeByUnknown)return(0,l.jsx)(s.default,{id:309,params:{number:t},plural:t});if(e===u.SettingChangeByOthersAsAdmin&&null!=a)return(0,l.jsx)(s.default,{id:331,params:{name:a,number:t},plural:t});if(e===u.SettingChangeByYouAsAdmin)return(0,l.jsx)(s.default,{id:326,params:{number:t},plural:t});if(e===u.SettingChangeByUnknownAsAdmin)return(0,l.jsx)(s.default,{id:322,params:{number:t},plural:t});if(e===u.Duration)return(0,l.jsx)(s.default,{id:349,params:{number:t},plural:t});if(e===u.OutOfSyncInfo)return(0,l.jsx)(s.default,{id:343,params:{number:t},plural:t});if(e===u.Explanation)return(0,l.jsx)(s.default,{id:337,params:{number:t},plural:t});if(e===u.ModeChangeByOthers&&null!=a)return(0,l.jsx)(s.default,{id:289,params:{name:a,number:t},plural:t});if(e===u.ModeChangeByYou)return(0,l.jsx)(s.default,{id:293,params:{number:t},plural:t});return __LOG__(4,void 0,new Error,!0)`getEphemeralOnHoursL10nComponent is given type ${e} and name ${a}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,e,n)}const i=Math.floor(a/24/60/60);return function(e,t,a){if(e===u.SettingChangeByOthers&&null!=a)return(0,l.jsx)(s.default,{id:317,params:{name:a,number:t},plural:t});if(e===u.SettingChangeByYou)return(0,l.jsx)(s.default,{id:312,params:{number:t},plural:t});if(e===u.SettingChangeByUnknown)return(0,l.jsx)(s.default,{id:308,params:{number:t},plural:t});if(e===u.SettingChangeByOthersAsAdmin&&null!=a)return(0,l.jsx)(s.default,{id:330,params:{name:a,number:t},plural:t});if(e===u.SettingChangeByYouAsAdmin)return(0,l.jsx)(s.default,{id:325,params:{number:t},plural:t});if(e===u.SettingChangeByUnknownAsAdmin)return(0,l.jsx)(s.default,{id:321,params:{number:t},plural:t});if(e===u.Duration)return(0,l.jsx)(s.default,{id:348,params:{number:t},plural:t});if(e===u.OutOfSyncInfo)return(0,l.jsx)(s.default,{id:342,params:{number:t},plural:t});if(e===u.Explanation)return(0,l.jsx)(s.default,{id:336,params:{number:t},plural:t});if(e===u.ModeChangeByOthers&&null!=a)return(0,l.jsx)(s.default,{id:288,params:{name:a,number:t},plural:t});if(e===u.ModeChangeByYou)return(0,l.jsx)(s.default,{id:292,params:{number:t},plural:t});return __LOG__(4,void 0,new Error,!0)`getEphemeralOnDaysL10nComponent is given type ${e} and name ${a}`,SEND_LOGS("invalid-ephemeral-string-type"),null}(t,i,n)},t.EphemeralStringType=void 0,t.getDisappearingMessageDurationString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.Duration,e)},t.getDisappearingMessageExplanationString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.Explanation,e)},t.getDisappearingMessageOutOfSyncInfoString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.OutOfSyncInfo,e)},t.getDisappearingMessageSettingOthersAsAdminString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return d(u.SettingChangeByOthersAsAdmin,e,t)},t.getDisappearingMessageSettingOthersString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return d(u.SettingChangeByOthers,e,t)},t.getDisappearingMessageSettingUnknownAsAdminString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.SettingChangeByUnknownAsAdmin,e)},t.getDisappearingMessageSettingUnknownString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.SettingChangeByUnknown,e)},t.getDisappearingMessageSettingYouAsAdminString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.SettingChangeByYouAsAdmin,e)},t.getDisappearingMessageSettingYouString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.SettingChangeByYou,e)},t.getDisappearingModeOtherString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return d(u.ModeChangeByOthers,e,t)},t.getDisappearingModeYouString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(u.ModeChangeByYou,e)};var r=a(48360),i=n(a(14296)),s=n(a(56074)),o=a(41566),l=a(85893);const u=a(76672).Mirrored(["SettingChangeByOthers","SettingChangeByYou","SettingChangeByUnknown","SettingChangeByOthersAsAdmin","SettingChangeByYouAsAdmin","SettingChangeByUnknownAsAdmin","Duration","OutOfSyncInfo","Explanation","ModeChangeByOthers","ModeChangeByYou"]);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;if(t<0)return __LOG__(4,void 0,new Error,!0)`getEphemeralString ${e} is given invalid duration ${t}`,SEND_LOGS("invalid-duration"),"";if(0===t)return c(e,a);if(t<=60)return f(e,t,a);if(t<=3600){return h(e,Math.floor(t/60),a)}if(t<=86400){return p(e,Math.floor(t/60/60),a)}const n=Math.floor(t/24/60/60);return m(e,n,a)}function c(e,t){return e===u.SettingChangeByOthers&&null!=t?i.default.t(316,{name:t}):e===u.SettingChangeByYou?r.fbt._("You turned off disappearing messages.",null,{hk:"CJJkP"}):e===u.SettingChangeByUnknown?r.fbt._("Disappearing messages were turned off.",null,{hk:"2o9H09"}):e===u.SettingChangeByOthersAsAdmin&&null!=t?i.default.t(329,{name:t}):e===u.SettingChangeByYouAsAdmin?r.fbt._("You turned off disappearing messages. Click to change.",null,{hk:"ULdpU"}):e===u.SettingChangeByUnknownAsAdmin?r.fbt._("Disappearing messages were turned off. Click to change.",null,{hk:"1M6kFu"}):e===u.Duration?i.default.t(346):e===u.OutOfSyncInfo?r.fbt._("This message will not disappear from the chat. The sender may be on an old version of WhatsApp.",null,{hk:"2d4xYQ"}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOffString is given invalid type ${e}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}function f(e,t,a){const n=(0,o.isDefaultDisappearingMessagesEnabled)();return e===u.SettingChangeByOthers&&null!=a?i.default.t(320,{name:a,number:t,_plural:t}):e===u.SettingChangeByYou?i.default.t(315,{number:t,_plural:t}):e===u.SettingChangeByUnknown?i.default.t(311,{number:t,_plural:t}):e===u.SettingChangeByOthersAsAdmin&&null!=a?i.default.t(333,{name:a,number:t,_plural:t}):e===u.SettingChangeByYouAsAdmin?i.default.t(328,{number:t,_plural:t}):e===u.SettingChangeByUnknownAsAdmin?i.default.t(324,{number:t,_plural:t}):e===u.Duration?i.default.t(351,{number:t,_plural:t}):e===u.OutOfSyncInfo?i.default.t(345,{number:t,_plural:t}):e===u.Explanation?i.default.t(339,{number:t,_plural:t}):e===u.ModeChangeByOthers?n?r.fbt._({"*":"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} seconds after they're sent. Click to set your own default timer.",_1:"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 second after they're sent. Click to set your own default timer."},[r.fbt._plural(t,"number"),r.fbt._param("name",a)],{hk:"3SWmFy"}):i.default.t(291,{name:a,number:t,_plural:t}):e===u.ModeChangeByYou?n?r.fbt._({"*":"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} seconds after they're sent. Click to change your default timer.",_1:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 second after they're sent. Click to change your default timer."},[r.fbt._plural(t,"number")],{hk:"2Qilmp"}):i.default.t(295,{number:t,_plural:t}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOnSecondsString is given type ${e} and name ${a}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}function h(e,t,a){const n=(0,o.isDefaultDisappearingMessagesEnabled)();return e===u.SettingChangeByOthers&&null!=a?i.default.t(319,{name:a,number:t,_plural:t}):e===u.SettingChangeByYou?i.default.t(314,{number:t,_plural:t}):e===u.SettingChangeByUnknown?i.default.t(310,{number:t,_plural:t}):e===u.SettingChangeByOthersAsAdmin&&null!=a?i.default.t(332,{name:a,number:t,_plural:t}):e===u.SettingChangeByYouAsAdmin?i.default.t(327,{number:t,_plural:t}):e===u.SettingChangeByUnknownAsAdmin?i.default.t(323,{number:t,_plural:t}):e===u.Duration?i.default.t(350,{number:t,_plural:t}):e===u.OutOfSyncInfo?i.default.t(344,{number:t,_plural:t}):e===u.Explanation?i.default.t(338,{number:t,_plural:t}):e===u.ModeChangeByOthers?n?r.fbt._({"*":"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} minutes after they're sent. Click to set your own default timer.",_1:"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 minute after they're sent. Click to set your own default timer."},[r.fbt._plural(t,"number"),r.fbt._param("name",a)],{hk:"ibhrL"}):i.default.t(290,{name:a,number:t,_plural:t}):e===u.ModeChangeByYou?n?r.fbt._({"*":"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} minutes after they're sent. Click to change your default timer.",_1:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 minute after they're sent. Click to change your default timer."},[r.fbt._plural(t,"number")],{hk:"3R3Wfk"}):i.default.t(294,{number:t,_plural:t}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOnMinutesString is given type ${e} and name ${a}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}function p(e,t,a){const n=(0,o.isDefaultDisappearingMessagesEnabled)();return e===u.SettingChangeByOthers&&null!=a?i.default.t(318,{name:a,number:t,_plural:t}):e===u.SettingChangeByYou?i.default.t(313,{number:t,_plural:t}):e===u.SettingChangeByUnknown?i.default.t(309,{number:t,_plural:t}):e===u.SettingChangeByOthersAsAdmin&&null!=a?i.default.t(331,{name:a,number:t,_plural:t}):e===u.SettingChangeByYouAsAdmin?i.default.t(326,{number:t,_plural:t}):e===u.SettingChangeByUnknownAsAdmin?i.default.t(322,{number:t,_plural:t}):e===u.Duration?i.default.t(349,{number:t,_plural:t}):e===u.OutOfSyncInfo?i.default.t(343,{number:t,_plural:t}):e===u.Explanation?i.default.t(337,{number:t,_plural:t}):e===u.ModeChangeByOthers?n?r.fbt._({"*":"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} hours after they're sent. Click to set your own default timer.",_1:"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 hour after they're sent. Click to set your own default timer."},[r.fbt._plural(t,"number"),r.fbt._param("name",a)],{hk:"2V2Gzq"}):i.default.t(289,{name:a,number:t,_plural:t}):e===u.ModeChangeByYou?n?r.fbt._({"*":"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} hours after they're sent. Click to change your default timer.",_1:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 hour after they're sent. Click to change your default timer."},[r.fbt._plural(t,"number")],{hk:"425gbB"}):i.default.t(293,{number:t,_plural:t}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOnHoursString is given type ${e} and name ${a}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}function m(e,t,a){const n=(0,o.isDefaultDisappearingMessagesEnabled)();return e===u.SettingChangeByOthers&&null!=a?i.default.t(317,{name:a,number:t,_plural:t}):e===u.SettingChangeByYou?i.default.t(312,{number:t,_plural:t}):e===u.SettingChangeByUnknown?i.default.t(308,{number:t,_plural:t}):e===u.SettingChangeByOthersAsAdmin&&null!=a?i.default.t(330,{name:a,number:t,_plural:t}):e===u.SettingChangeByYouAsAdmin?i.default.t(325,{number:t,_plural:t}):e===u.SettingChangeByUnknownAsAdmin?i.default.t(321,{number:t,_plural:t}):e===u.Duration?i.default.t(348,{number:t,_plural:t}):e===u.OutOfSyncInfo?i.default.t(342,{number:t,_plural:t}):e===u.Explanation?i.default.t(336,{number:t,_plural:t}):e===u.ModeChangeByOthers?n?r.fbt._({"*":"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} days after they're sent. Click to set your own default timer.",_1:"{name} uses a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 day after they're sent. Click to set your own default timer."},[r.fbt._plural(t,"number"),r.fbt._param("name",a)],{hk:"Vmtxb"}):i.default.t(288,{name:a,number:t,_plural:t}):e===u.ModeChangeByYou?n?r.fbt._({"*":"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat {number} days after they're sent. Click to change your default timer.",_1:"You use a default timer for disappearing messages in new chats. All new messages will disappear from this chat 1 day after they're sent. Click to change your default timer."},[r.fbt._plural(t,"number")],{hk:"3TGIk6"}):i.default.t(292,{number:t,_plural:t}):(__LOG__(4,void 0,new Error,!0)`getEphemeralOnDaysString is given type ${e} and name ${a}`,SEND_LOGS("invalid-ephemeral-string-type"),"")}t.EphemeralStringType=u},41955:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.trim().normalize("NFKD");if((0,n.numCodepoints)(t)>=r.FTS_MIN_CHARS)return!0;if(i.test(t))return!0;if(s.test(t))return!0;return!1};var n=a(64331),r=a(80872);const i=/(?!(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]))(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\uFE0E\uFE0F]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])/,s=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\u3400-\u4DBF\u4E00-\u9FFC\uF900-\uFA6D\uFA70-\uFAD9\uFF66-\uFF6F\uFF71-\uFF9D]|\uD81B[\uDFF0\uDFF1]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67]|\uD83C\uDE00|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/},12733:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStringOrFbt=function(e){return(0,n.isString)(e)||r.fbt.isFbtInstance(e)};var n=a(51737),r=a(48360)},50854:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTED_MIME_TYPE=void 0,t.downloadPaymentBackgroundImage=function(){return h.apply(this,arguments)};var i=r(a(48926)),s=a(89385),o=a(15688),l=r(a(34475)),u=a(26384),d=a(24808),c=a(61596);const f="image/webp";function h(){return(h=(0,i.default)((function*(e){const{paymentBackground:t,isPreload:a,signal:r}=e,{mediaData:i,type:h,mimetype:p}=t;if(p!==f||h===d.PaymentBackgroundType.UNKNOWN)return __LOG__(2)`media.downloadAndGetPaymentBackgroundImage: mimetype or payment background type is not supported`,null;if(null==i)return __LOG__(4,void 0,new Error,!0)`media.downloadAndGetPaymentBackgroundImage: mediaData is null`,SEND_LOGS("media.downloadAndGetPaymentBackgroundImage: mediaData is null"),null;const{fileEncSha256:m,fileSha256:g,mediaKey:_}=i;if(null==m||null==g||null==_)return null;__LOG__(2)`media.downloadAndGetPaymentBackgroundImage: start`;try{const e=yield u.downloadManager.downloadAndDecrypt({directPath:i.directPath,encFilehash:(0,o.encodeB64)(m),filehash:(0,o.encodeB64)(g),mediaKey:(0,o.encodeB64)(_),mediaKeyTimestamp:parseInt(i.mediaKeyTimestamp,10),type:c.MEDIA_TYPES.PAYMENT_BG_IMAGE,signal:r||(new n).signal,userDownloadAttemptCount:0,isPreload:a});return __LOG__(2)`media.downloadAndGetPaymentBackgroundImage: success`,e}catch(e){if(e.name===s.ABORT_ERROR)return void __LOG__(2)`media.downloadAndGetPaymentBackgroundImage aborted`;__LOG__(3,!0)`media.downloadAndGetPaymentBackgroundImage: error\n${(0,l.default)(e)}`}}))).apply(this,arguments)}t.SUPPORTED_MIME_TYPE=f},47011:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.isMDBackend)()&&(0,i.getMsgMediaType)(e)===i.MEDIA_TYPES.DOCUMENT&&!0===(0,r.getABPropConfigValue)("web_abprop_remove_downloaded_files")};var n=a(88555),r=a(57849),i=a(61596)},97869:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=a(35461),s=n(a(55010)),o=a(84866),l=a(58668);function u(e,t){const a=(0,i.useModelValues)(e.mediaData,["filehash","mediaStage"]),n=(0,r.useRef)(null),u=(0,r.useMemo)((()=>o.MediaBlobCache.has(a.filehash)),[a]),d=e=>{const t=o.MediaBlobCache.get(e);if(!t)throw new Error("Cannot call createURL when the blob does not exist.");n.current=t;const a=new Blob([t],{type:t.type});return window.URL.createObjectURL(a)},[c,f]=(0,r.useState)((()=>u?d(a.filehash):null));(0,r.useEffect)((()=>{!u&&a.mediaStage===l.MEDIA_DATA_STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia()}),[]),(0,s.default)((()=>{var e;c&&(e=c,window.URL.revokeObjectURL(e))}));const h=()=>{const e=n.current;if(!e)throw new Error("Cannot call refreshBlob when the blob does not exist.");const t=new Blob([e],{type:e.type}),a=window.URL.createObjectURL(t);c&&window.URL.revokeObjectURL(c),f(a)};return(0,r.useEffect)((()=>{const e=a.filehash;u&&!c&&f(d(e))}),[u,a.filehash,c]),(0,r.useImperativeHandle)(t,(()=>({refreshBlob:h}))),c?e.children(c):e.placeholderRenderer()}var d=(0,r.forwardRef)(u);t.default=d},63793:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.mediaData,["filehash","mediaStage"]),[a,o]=(0,n.useState)((()=>{i.MediaBlobCache.get(t.filehash)}));return(0,n.useEffect)((()=>{a||t.mediaStage!==s.MEDIA_DATA_STAGE.RESOLVED||e.downloadMedia()}),[]),(0,n.useEffect)((()=>{if(a)return;const{filehash:e}=t;i.MediaBlobCache.has(e)&&o(i.MediaBlobCache.get(e))}),[a,t]),a?e.render(a):e.renderPlaceholder()};var n=a(67294),r=a(35461),i=a(84866),s=a(58668)},20553:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{renderProgressively:t=!1,downloadMedia:a}=e,{filehash:n,mediaStage:m,progressiveStage:g}=(0,s.useModelValues)(e.mediaData,["filehash","mediaStage","progressiveStage"]),[_,v]=(0,r.useState)(p),b=(0,r.useMemo)((()=>null!=g?(0,l.getProgressiveMediaCacheKey)(n,g):null),[n,g]),y=null!=b&&m!==d.MEDIA_DATA_STAGE.RESOLVED?b:n,C=(0,r.useMemo)((()=>u.MediaBlobCache.has(y)?u.MediaBlobCache.getOrCreateURL(y):null),[y,m]),[S,E]=(0,r.useState)(n),[T,x]=(0,r.useState)(null);S!==n?(v(null!=C?[C]:[]),E(n),x(C)):null!=C&&C!==T&&(v([..._,C]),x(C));const M=(0,o.default)((()=>{null!=b&&t||null==a||a()}));if((0,r.useEffect)((()=>{M()}),[n,M]),(0,r.useEffect)((()=>{if(null!=C)return u.MediaBlobCache.increaseUsageCount(y),()=>{u.MediaBlobCache.decreaseUsageCount(y)};m!==d.MEDIA_DATA_STAGE.RESOLVED&&null!=b&&(__LOG__(4,void 0,new Error,!0)`Blob missing for trimmed-filehash: ${n.slice(0,10)} with progressive stage: ${g} and mediaStage: ${m}`,SEND_LOGS("missing-progressive-blob"))}),[y,C,m,b,n,g]),null==C)return e.placeholderRenderer();if(!0===t)return(0,c.jsxs)("div",{className:(0,i.default)(f),"data-testid":"media-url-provider",children:[(0,c.jsx)("div",{className:(0,i.default)(h),children:e.placeholderRenderer()}),_.map((t=>(0,c.jsx)("div",{className:(0,i.default)(h),children:e.children(t)},t)))]});return e.children(C)};var r=a(67294),i=n(a(56720)),s=a(35461),o=n(a(89113)),l=a(27126),u=a(84866),d=a(58668),c=a(85893);const f={position:"g0rxnol2",width:"ln8gz9je",height:"ppled2lx"},h={position:"lhggkp7q",zIndex:"jnl3jror",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx"},p=[]},1710:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CoolOffNux=void 0,t.resetCoolOffNuxDate=function(){Object.keys(l.CoolOffPeriodKeys).forEach((e=>{i.userPreferencesStore.setUser(l.CoolOffPeriodKeys[e])}))},t.resetNuxCoolOff=function(e){i.userPreferencesStore.setUser(`${e}_cool_off`)},t.shouldShowNUX=function(e,t){return new d(e,void 0,t).shouldShow()};var r=n(a(81109)),i=a(91442),s=n(a(30381)),o=n(a(11339)),l=a(61653);const u={COOL_OFF_DURATION_IN_DAYS:4,VIEWS_BEFORE_COOL_OFF_IN_DAYS:2,CLICKS_BEFORE_COOL_OFF:1,MAX_DISMISSES:1,MAX_CLICKS:2,MAX_VIEWS_IN_DAYS:4,COOL_OFF_START_STORAGE_KEY:l.CoolOffPeriodKeys.DEFAULT};class d{constructor(e,t,a){this.key=`${e}_cool_off`,this.config=(0,r.default)((0,r.default)({},u),a),this.nux=this._getNUXOptions(),this.coolOffData=this._getCoolOffData(),this.metricField=t}_isValidNuxOptions(e){return null!=e.clicks&&null!=e.dismisses&&null!=e.lastViewedDay&&null!=e.viewDaysBeforeCoolOff&&null!=e.totalViewDays}_getNUXOptions(){let e=i.userPreferencesStore.getUser(this.key);return null!=e&&this._isValidNuxOptions(e)||(this._setNUXOptions({viewDaysBeforeCoolOff:0,totalViewDays:0,clicks:0,dismisses:0,lastViewedDay:(0,s.default)(0)}),e=i.userPreferencesStore.getUser(this.key)),e.lastViewedDay=(0,s.default)(e.lastViewedDay),e}_getCoolOffData(){let e=i.userPreferencesStore.getUser(this.config.COOL_OFF_START_STORAGE_KEY);return null!=e&&null!=e.startDate&&null!=e.duration||(this._setLastCoolOffStartDay((0,s.default)(0)),e=i.userPreferencesStore.getUser(this.config.COOL_OFF_START_STORAGE_KEY)),e.startDate=(0,s.default)(e.startDate),e}_setLastCoolOffStartDay(e){i.userPreferencesStore.setUser(this.config.COOL_OFF_START_STORAGE_KEY,{startDate:e,duration:this.config.COOL_OFF_DURATION_IN_DAYS})}_startNewCoolOff(e){this._setLastCoolOffStartDay(e),this.coolOffData={startDate:e,duration:this.config.COOL_OFF_DURATION_IN_DAYS}}_setNUXOptions(e){i.userPreferencesStore.setUser(this.key,e)}_updateNUXOptions(e){this._setNUXOptions(Object.assign(this.nux,e))}_isTodayCoolOff(){const e=(0,s.default)().diff(this.coolOffData.startDate,"days",!0);return e>=0&&e<this.coolOffData.duration}_logEvent(e){this.metricField&&new o.default.BannerEvent({bannerType:this.metricField,bannerOperation:e}).commit()}shouldShow(){const{totalViewDays:e,dismisses:t,clicks:a}=this.nux,{MAX_VIEWS_IN_DAYS:n,MAX_DISMISSES:r,MAX_CLICKS:i}=this.config;return e<n&&t<r&&a<i&&!this._isTodayCoolOff()}show(){let{lastViewedDay:e,viewDaysBeforeCoolOff:t,totalViewDays:a}=this.nux;const n=(0,s.default)();e.isSame(n,"day")||(t++,a++,t===this.config.VIEWS_BEFORE_COOL_OFF_IN_DAYS&&(t=0,this._startNewCoolOff((0,s.default)(n).add(1,"days"))),this._updateNUXOptions({viewDaysBeforeCoolOff:t,totalViewDays:a,lastViewedDay:n}),this._logEvent(o.default.BANNER_OPERATIONS.SHOWN))}click(){const e=this.nux.clicks+1;e===this.config.CLICKS_BEFORE_COOL_OFF&&this.startCoolOffToday(),this._updateNUXOptions({clicks:e}),this._logEvent(o.default.BANNER_OPERATIONS.CLICK)}dismiss(){this._updateNUXOptions({dismisses:this.nux.dismisses+1}),this._startNewCoolOff((0,s.default)()),this._logEvent(o.default.BANNER_OPERATIONS.DISMISS)}startCoolOffToday(){this._startNewCoolOff((0,s.default)())}}t.CoolOffNux=d},69185:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBizPrivacyInfoString=function(e){switch(e){case r.WebMessageInfoBizPrivacyStatus.E2EE:return n.fbt._("This message was secured with end-to-end encryption.",null,{hk:"23E1FN"});case r.WebMessageInfoBizPrivacyStatus.BSP:return n.fbt._("This business worked with other companies to manage this message.",null,{hk:"1COrne"});case r.WebMessageInfoBizPrivacyStatus.BSP_AND_FB:case r.WebMessageInfoBizPrivacyStatus.FB:return n.fbt._("This business used a secure service from the Facebook company to manage this message.",null,{hk:"3qtygA"})}};var n=a(48360),r=a(21224)},10448:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SingleCollectionDataSource=t.CollectionsDataSource=t.CollectionsContentDataSource=t.CatalogWithCollectionsDataSource=t.CatalogListItemScrollHelper=void 0,t.getProductStatsInFetched=function(e,t,a){const n=l.CatalogCollection.get(e);let r,s;if(!n)return;if(!t&&a){const e=n.productCollection.get(a.id);return r=e&&n.productCollection.indexOf(e),{productIndex:(0,i.isNumber)(r)&&r>-1?r.toString():void 0}}if(t){const e=t&&n.collections.get(t);s=e&&n.collections.indexOf(e);const i=a&&(null==e?void 0:e.productCollection.get(a.id));r=i&&(null==e?void 0:e.productCollection.indexOf(i))}return{collectionIndex:(0,i.isNumber)(s)&&s>-1?s.toString():void 0,productIndex:(0,i.isNumber)(r)&&r>-1?r.toString():void 0}};var r=n(a(48926)),i=a(51737),s=a(41906),o=a(78820),l=a(99989),u=a(48870),d=a(27798);function c(){return f.apply(this,arguments)}function f(){return(f=(0,r.default)((function*(e,t){const a=e.getData().length||0,n=!e.getCanLoadMore()||!h(a,e.listItemHeight),r=(0,o.getMaybeMeUser)();if(t&&u.QPL.markerAnnotate(t,{bool:{IsCached:n,IsConsumer:!r.equals(e.catalog.id)}}),n)return!0;yield e.loadMore(!0);return!h(e.getData().length||0,e.listItemHeight)||e.loadInitialItems()}))).apply(this,arguments)}t.SingleCollectionDataSource=class{constructor(e,t,a,n){var r;(this.loading=null,this.catalog=e,this.collectionId=t,this.forCatalogManager=a,this.listItemHeight=n,t)?this.canLoadMoreCollectionItems=!(e.collections.length>0)||""!==(null===(r=this.catalog.collections.get(t))||void 0===r?void 0:r.afterCursor):this.canLoadMoreAllItems=!(e.productCollection.length>0)||!!this.catalog.afterCursor}loadMore(e){if(this.loading)return this.loading;if(!this.getCanLoadMore())return Promise.resolve();const t=this.collectionId;if(t){const a=e?d.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL:void 0;this.loading=this.catalog.collections.findCollectionProducts(this.catalog.id,t,!1,a).then((()=>{var e;this.canLoadMoreCollectionItems=!!(null===(e=this.catalog.collections.get(t))||void 0===e?void 0:e.afterCursor),this.loading=null}))}else this.loading=l.CatalogCollection.update(this.catalog.id).then((()=>{this.canLoadMoreAllItems=!!this.catalog.afterCursor,this.loading=null}));return this.loading}loadInitialItems(){return c(this,d.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL)}getCanLoadMore(){return this.canLoadMoreCollectionItems||this.canLoadMoreAllItems}getData(){const e=this.collectionId;let t;var a;e?t=(null===(a=this.catalog.collections.get(e))||void 0===a?void 0:a.productCollection.getProductModels(this.forCatalogManager))||[]:t=this.catalog.productCollection.getProductModels(this.forCatalogManager)||[];return t.map((e=>({product:e,collection:void 0})))}};t.CatalogWithCollectionsDataSource=class{constructor(e,t,a,n){this.loading=null,this.catalog=e,this.forCatalogManager=t,this.listItemHeight=a,this.canLoadMoreCollections=!(e.collections.length>0)||!!this.catalog.collections.afterCursor,this.canLoadMoreCatalog=!(e.productCollection.length>0)||!!this.catalog.afterCursor,this.canLogQpl=n}loadMore(e){if(this.loading)return this.loading;if(!this.getCanLoadMore())return Promise.resolve();if(this.canLoadMoreCollections){const t=this.canLogQpl&&!0===e?d.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0;this.loading=this.catalog.collections.findCollectionsList(this.catalog.id,3,this.forCatalogManager,t).then((()=>{this.canLoadMoreCollections=!!this.catalog.collections.afterCursor,this.loading=null}))}else this.loading=l.CatalogCollection.update(this.catalog.id).then((()=>{this.canLoadMoreCatalog=!!this.catalog.afterCursor,this.loading=null}));return this.loading}loadInitialItems(){return c(this,this.canLogQpl?d.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW:void 0)}getCanLoadMore(){return this.canLoadMoreCollections||this.canLoadMoreCatalog}getData(){var e=this;const t=this.catalog.collections.getCollectionModels(this.forCatalogManager),a=t.length>0,n=t.reduce((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;t.push({collection:a,product:void 0});const n=a.productCollection.getProductModels(e.forCatalogManager)||[];return n.length>3&&(n.length=3),t.push(...n.map((e=>({product:e,collection:a})))),t}),[]);if(this.canLoadMoreCollections)return n;a&&n.push({allItems:{totalItemsCount:n.length}});const r=this.catalog.productCollection.getProductModels(this.forCatalogManager).map((e=>({product:e,collection:void 0})));return n.push(...r),n}};t.CollectionsDataSource=class{constructor(e,t,a,n){this.loading=null,this.canLoadMoreCollections=!0,this.catalog=e,this.forCatalogManager=t,this.listItemHeight=a,this.canLogQpl=n}loadMore(e){if(this.loading)return this.loading;if(!this.getCanLoadMore())return Promise.resolve();if(this.canLoadMoreCollections){const t=this.canLogQpl&&!0===e?d.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW:void 0;this.loading=this.catalog.collections.findCollectionsList(this.catalog.id,3,this.forCatalogManager,t).then((()=>{this.canLoadMoreCollections=!!this.catalog.collections.afterCursor,this.loading=null}))}return this.loading||Promise.resolve()}loadInitialItems(){return c(this,this.canLogQpl?d.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW:void 0)}getCanLoadMore(){return this.canLoadMoreCollections}getData(){return this.catalog.collections.getCollectionModels(this.forCatalogManager).map((e=>({collection:e,product:void 0})))}};function h(e,t){return e*t<window.innerHeight}t.CollectionsContentDataSource=class{constructor(e,t,a){this.loading=null,this.canLoadMore=!0,this.catalog=e,this.catalog.stale=!0,this.catalog.markProductCollectionOld(),this.catalog.productCollection.reset(),this.listItemHeight=t,this.collectionId=a}loadMore(){return this.loading?this.loading:this.getCanLoadMore()?(this.canLoadMore&&(this.collectionId?this.loading=l.CatalogCollection.findCollectionMembership(this.catalog.id,this.collectionId).then((()=>{this.canLoadMore=!!this.catalog.afterCursor,this.loading=null})):this.loading=l.CatalogCollection.update(this.catalog.id).then((()=>{this.canLoadMore=!!this.catalog.afterCursor,this.loading=null}))),this.loading||Promise.resolve()):Promise.resolve()}loadInitialItems(){return c(this)}getCanLoadMore(){return this.canLoadMore}getData(){return this.catalog.productCollection.getProductModels(!0).map((e=>({product:e,collection:void 0})))}};t.CatalogListItemScrollHelper=class{constructor(e){this.dataSource=e}isScrollAtBottom(e){return e.scrollTop+s.SCROLL_FUDGE>=e.scrollHeight-e.clientHeight}willLoadMore(e){return Boolean(this.dataSource.loading||this.isScrollAtBottom(e))}onScroll(e,t){var a=this;return(0,r.default)((function*(){return a.dataSource.loading?(yield a.dataSource.loading,!0):!!a.isScrollAtBottom(t)&&(yield a.dataSource.loadMore(),!0)}))()}}},56233:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getProductOrCatalogLinkPreview=function(){return g.apply(this,arguments)};var r=n(a(48926)),i=a(78820),s=n(a(89867)),o=a(45454),l=a(48360),u=a(99989),d=a(19380),c=a(39519),f=a(24808),h=a(75888),p=a(56406);const m=100;function g(){return(g=(0,r.default)((function*(e,t,a){var n,r,g,_;if(!s.default.isWid(t))return null;const v=(0,o.createWid)(t);let b;try{b=yield u.CatalogCollection.find(v)}catch(e){return null}const y=a?b.productCollection.get(a):b.productCollection.getProductModels().find((e=>"APPROVED"===e.reviewStatus&&!e.isHidden));if(null==y||"APPROVED"!==y.reviewStatus||y.isHidden)return null;const C=y.getPreviewImage();let S,E,T,x;if(C&&([S]=yield(0,p.getResizedThumbData)(C.mediaUrl,[{width:m,height:m,imageFormat:"image/jpeg",imageFormatOptions:.75}])),null===(n=(0,i.getMaybeMeUser)())||void 0===n?void 0:n.equals(v)){const e=d.ContactCollection.get(v);if(null==e)return null;E=e.displayName}else{var M;E=null===(M=(yield(0,h.getOrQueryUsyncInfo)(v)).bizInfo)||void 0===M?void 0:M.verifiedName.name}a?(T=l.fbt._("{productName} from {catalogOwnerName} on WhatsApp.",[l.fbt._param("productName",y.name),l.fbt._param("catalogOwnerName",E)],{hk:"1Avc3r"}).toString(),y.description&&null!=y.priceAmount1000&&y.currency?x=`${y.description} · ${(0,c.formatAmount1000)(y.currency,y.priceAmount1000)}`:y.description?x=y.description:null!=y.priceAmount1000&&y.currency&&(x=(0,c.formatAmount1000)(y.currency,y.priceAmount1000))):(T=l.fbt._("View {catalogOwnerName}'s Catalog on WhatsApp",[l.fbt._param("catalogOwnerName",E)],{hk:"1IS0ge"}).toString(),x=l.fbt._("Learn more about their products & services",null,{hk:"W8MSB"}).toString());return{url:e,data:{title:T,description:x||void 0,canonicalUrl:e,matchedText:e,richPreviewType:f.Message$ExtendedTextMessagePreviewType.NONE,thumbnail:null===(r=S)||void 0===r?void 0:r.dataUrl,thumbnailHeight:null===(g=S)||void 0===g?void 0:g.height,thumbnailWidth:null===(_=S)||void 0===_?void 0:_.width,doNotPlayInline:!0}}}))).apply(this,arguments)}},67883:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logShopsManagementEvent=function(e,t){const{shouldLogJid:a=!0,isShopsProductPreviewVisible:n}=null!=t?t:{};new s.default.WaShopsManagement({shopsManagementAction:e,shopsSellerJid:a?o():void 0,isShopsProductPreviewVisible:n}).commit()};var r=a(78820),i=a(17239),s=n(a(11339));function o(){const e=i.Conn.isSMB?(0,r.getMaybeMeUser)():void 0;return null==e?void 0:e.user}},35641:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.initSessionId()}initSessionId(){this.sessionId=this.newSessionId()}newSessionId(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}}},95190:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(((t,a)=>{const n=new r.default;n.onerror=function(e){n.terminate(),a(new i.DecodeWebpResultsError("worker error",e))},n.onmessageerror=function(e){n.terminate(),a(new i.DecodeWebpResultsError("worker message error",e))},n.onmessage=e=>{n.terminate();const a=e.data;t(a)},n.postMessage({webpBuffer:e},[e])}))};var r=n(a(39455)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}},64061:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(8584),i=n(a(78077));function s(e){return(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2}function o(e){return(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}const l=/[^\x00-\x7F]/g;t.default=class{constructor(){this.files=[],this.filenameCount={}}add(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,n=function(e){return e.replace(/\\/,"/").replace(l,"")}(t);this.filenameCount[n]>=0?(this.filenameCount[n]+=1,n=n.replace(/\.(\w+)$/," ("+this.filenameCount[n]+").$1")):this.filenameCount[n]=0,this.files.push([e,{crc:(0,i.default)(e),path:n,date:a}])}create(){let e=0,t=0,a=0;const n=[],i=[];this.files.forEach((l=>{const[u]=l,d=u.size(),c=function(e){let[t,{path:a,crc:n,date:i}]=e;const l=new r.Binary(void 0,!0);return l.ensureCapacity(30+a.length),l.writeUint32(67324752),l.writeUint8(10),l.writeUint8(0),l.writeUint16(0),l.writeUint16(0),l.writeUint16(s(i)),l.writeUint16(o(i)),l.writeUint32(n),l.writeUint32(t.size()),l.writeUint32(t.size()),l.writeUint16(a.length),l.writeUint16(0),l.writeString(a),l}(l),f=function(e,t){let[a,{path:n,crc:i,date:l}]=e;const u=new r.Binary(void 0,!0);return u.ensureCapacity(46+n.length),u.writeUint32(33639248),u.writeUint8(10),u.writeUint8(0),u.writeUint8(10),u.writeUint8(0),u.writeUint16(0),u.writeUint16(0),u.writeUint16(s(l)),u.writeUint16(o(l)),u.writeUint32(i),u.writeUint32(a.size()),u.writeUint32(a.size()),u.writeUint16(n.length),u.writeUint16(0),u.writeUint16(0),u.writeUint16(0),u.writeUint16(0),u.writeUint32(0),u.writeUint32(t),u.writeString(n),u}(l,a),h=c.size()+d;a+=h,e+=h+f.size(),t+=f.size(),i.push(c,u),n.push(f)}));const l=function(e,t,a){const n=new r.Binary(void 0,!0);return n.ensureCapacity(22),n.writeUint32(101010256),n.writeUint16(0),n.writeUint16(0),n.writeUint16(e),n.writeUint16(e),n.writeUint32(t),n.writeUint32(a),n.writeUint16(0),n}(this.files.length,t,a),u=new r.Binary(void 0,!0);return u.ensureCapacity(e+l.size()),u.write(...i,...n,l),u}}},52678:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.zipFiles=function(){return o.apply(this,arguments)};var r=n(a(48926)),i=a(8584),s=n(a(64061));function o(){return(o=(0,r.default)((function*(e){const t=yield Promise.all(e.map((e=>{let{blob:t}=e;return u(t)}))),a=new s.default;return t.forEach(((t,n)=>a.add(t,e[n].name))),l(a.create())}))).apply(this,arguments)}function l(e){return new Blob([e.readByteArray()],{type:"application/zip"})}function u(e){let t;return new Promise(((a,n)=>{t=new FileReader,t.addEventListener("loadend",(()=>{a(i.Binary.build(t.result))})),t.addEventListener("error",(()=>{const e=t.error;n(e)})),t.readAsArrayBuffer(e)}))}},61748:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleIncomingSignalingMessage=function(e,t){const o=r.CallCollection.get(e.call_id);if(!o)return void __LOG__(3)`voip:voip_common_disabled: Received signaling msg type ${e.type} but could not find call for call ID`;switch(e.type){case i.TYPE.OFFER:null!=e.t&&(o.offerTime=e.t),o.isVideo=!!e.isVideoCall,o.setState(s.CALL_STATES.INCOMING_RING);break;case i.TYPE.TERMINATE:if(o.setState(s.CALL_STATES.ENDED),(0,n.isMDBackend)()){switch(t.payload[1].reason){case"timeout":null==l&&(l=a(46167)),l.generateMissedCallLog(e.call_creator,o.offerTime,o.isVideo,!1)}}}};var n=a(88555),r=a(60868),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(45473)),s=a(49835);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}let l=null},21469:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.openModal=d,t.openUnblockModal=function(e){r.ModalManager.open((0,u.jsx)(o.default,{okText:l.default.t(681),onOK:()=>{(0,s.unblockContact)(e).catch((()=>{})),r.ModalManager.close()},cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>{r.ModalManager.close()},children:i.fbt._("Unblock this contact to call them.",null,{hk:"4nqs4Z"})}))},t.soundPortErrorModal=function(){d(i.fbt._("WhatsApp didn't connect to a video or audio device. Try starting the call again. If the problem continues, you may have to restart WhatsApp or your computer.",null,{hk:"1Dz5p8"}),i.fbt._("Call could not be started",null,{hk:"4eKezM"}))},t.videoPortErrorModal=function(){const e=a(74943).default;r.ModalManager.open((0,u.jsx)(o.default,{title:i.fbt._("WhatsApp doesn't work with your camera yet",null,{hk:"xrYuG"}),okText:l.default.t(654),onOK:()=>{r.ModalManager.close(),r.ModalManager.open((0,u.jsx)(e,{}))},cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>{r.ModalManager.close()},children:(0,u.jsx)("div",{children:l.default.t(726)})}))};var r=a(14597),i=a(48360),s=a(80140),o=n(a(52665)),l=n(a(14296)),u=a(85893);function d(e,t){r.ModalManager.open((0,u.jsx)(o.default,{title:t,okText:i.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>r.ModalManager.close(),children:(0,u.jsx)("div",{children:e})}))}},46167:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.callOfferNackToast=function(e,t,a,n){const i=(s=t,s.map((e=>{const t=g.ContactCollection.get(e);return t?t.shortName||t.name||t.displayName:(0,d.widToFormattedUser)(e)})).join(v.default.t(307)));var s;let l=null;switch(e){case 401:l=c.fbt._("WhatsApp Calling is unavailable in your country.",null,{hk:"1yYZyr"});break;case 404:l=v.default.t(735,{callee:i});break;case 405:l=v.default.t(731,{callee:i});break;case 460:case 406:l=a?v.default.t(736,{callee:i}):v.default.t(734,{callee:i});break;case 426:l=a?v.default.t(736,{callee:i}):v.default.t(733,{callee:i});break;case 427:l=S.isGroupCallEnabled()?v.default.t(729,{callee:i,_plural:t.length}):a?c.fbt._("Call could not connect",null,{hk:"bfxCB"}):c.fbt._("Call could not connect",null,{hk:"1PiAbN"});break;case 461:l=(0,r.isMDBackend)()?n?c.fbt._("Couldn't place call: all recipients are using old versions of WhatsApp or incompatible devices.",null,{hk:"2WNZQK"}):v.default.t(732,{callee:i}):a?c.fbt._("Call could not connect",null,{hk:"bfxCB"}):c.fbt._("Call could not connect",null,{hk:"1PiAbN"});break;default:l=a?c.fbt._("Call could not connect",null,{hk:"bfxCB"}):c.fbt._("Call could not connect",null,{hk:"1PiAbN"})}l&&o.ToastManager.open((0,x.jsx)(C.Toast,{msg:l,id:(0,C.genId)()}))},t.canStartCall=P,t.canStartVideoCall=function(e){return P(e)&&f.AvDevices.isVideoAvailable},t.checkIfCanStartCall=function(e){var t;if(!e.isGroup&&!e.contact)return __LOG__(4,void 0,new Error)`voip:checkIfCanStartCall expected contact to be provided`,!1;let a=!0;if(y.Stream.displayInfo!==y.StreamInfo.NORMAL)switch(a=!1,y.Stream.displayInfo){case y.StreamInfo.RESUMING:case y.StreamInfo.TIMEOUT:E.openModal(c.fbt._("Make sure your phone has an active Internet connection and try again.",null,{hk:"10CAgz"}),c.fbt._("Phone not connected to the Internet",null,{hk:"2P4wVF"}));break;case y.StreamInfo.OFFLINE:case y.StreamInfo.OPENING:case y.StreamInfo.CONNECTING:default:E.openModal(c.fbt._("Make sure your computer has an active Internet connection and try again.",null,{hk:"4vFCGY"}),c.fbt._("Computer not connected to the Internet",null,{hk:"1qVij3"}))}else!e.isGroup&&(null===(t=e.contact)||void 0===t?void 0:t.isContactBlocked)?(a=!1,E.openUnblockModal(e.contact)):h.CallCollection.activeCall?(a=!1,E.openModal(c.fbt._("You are already on a WhatsApp call",null,{hk:"UhTPZ"}))):f.AvDevices.isMicrophoneAvailable?f.AvDevices.isSpeakerAvailable?e.isVideo&&!f.AvDevices.isVideoAvailable&&(__LOG__(2)`voip:checkIfCanStartCall false due to camera not available`,a=!1,E.openModal(c.fbt._("WhatsApp needs a camera for video calls. Connect one to your computer.",null,{hk:"3SrC82"}),c.fbt._("WhatsApp could not find a connected camera",null,{hk:"roFZC"}))):(__LOG__(2)`voip:checkIfCanStartCall false due to speaker not available`,a=!1,E.openModal(c.fbt._("WhatsApp needs an audio output device for calls. Connect one to your computer.",null,{hk:"1SpOZO"}),c.fbt._("WhatsApp could not find a connected audio device",null,{hk:"3OFX0i"}))):(__LOG__(2)`voip:checkIfCanStartCall false due to microphone not available`,a=!1,E.openModal(c.fbt._("WhatsApp needs a microphone for calls. Connect one to your computer.",null,{hk:"3IJBYo"}),c.fbt._("WhatsApp could not find a connected microphone",null,{hk:"2BAjeQ"})));return a},t.generateMissedCallLog=function(e,t,a,n){const o=(0,u.toUserWid)(e);if((0,r.isMDBackend)()){let e;e=n?a?"miss_group_video":"miss_group":a?"miss_video":"miss";const r={id:new i.default({remote:o,fromMe:!1,id:i.default.newId()}),type:s.MSG_TYPE.CALL_LOG,subtype:e,from:o,t:null!=t?t:Date.now()/1e3,to:(0,l.assertGetMe)()};(0,b.handleSingleMsgMD)(o,r)}},t.getCallFromCallId=A,t.getGroupCallParticipantNameString=function(e,t){let a;a=e.length<=2?e.map((e=>t?e.shortName:e.name)).join(v.default.t(307)):e[0].name+" "+v.default.t(305)+v.default.t(730,{count:e.length-1,_plural:e.length-1});return a},t.isParticipantRequestingVideoUpgrade=function(e,t){const a=A(e);if(!a||!a.callInfo||!a.callInfo.participants.length)return!1;return!!a.callInfo.participants.find((e=>e.isSelf===t&&e.videoState===T.VideoState.VideoStateUpgradeRequest))},t.isVideoCallEnabledForContact=function(e){return!!m.Conn.isVoipInitialized&&(!!e&&(!e.isEnterprise&&!(0,_.getIsInternalNumber)(e.id.user)&&(e.isUser&&S.isVideoCallEnabled()||e.isGroup&&S.isGroupCallEnabled())))},t.isVoiceCallEnabledForContactOrChat=function(e,t){if(!m.Conn.isVoipInitialized)return!1;if(null!=t&&(t.isUser&&!S.isVoiceCallEnabled()||t.isGroup&&!S.isGroupCallEnabled()))return!1;if(null!=e&&(e.isEnterprise||(0,_.getIsInternalNumber)(e.id.user)))return!1;return!0},t.parseCallInfo=w,t.updateCallWithCallInfo=function(e){const t=e&&A(e.call_id);e&&t&&(t.callInfo=w(e))};var r=a(88555),i=n(a(65212)),s=a(15461),o=a(94816),l=a(78820),u=a(45454),d=a(62054),c=a(48360),f=a(95433),h=a(60868),p=a(69951),m=a(17239),g=a(19380),_=a(17478),v=n(a(14296)),b=a(5819),y=a(8080),C=a(50452),S=k(a(69594)),E=k(a(21469)),T=a(49835),x=a(85893);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}function w(e){return{callId:e.call_id,peerJid:e.peer_jid,initialPeerJid:e.initial_peer_jid,creatorJid:e.creator_jid,callerStatus:Boolean(e.caller_status),callActiveTime:{sec:e.call_active_time.sec,msec:e.call_active_time.msec},callDuration:e.call_duration,audioDuration:e.audio_duration,videoDuration:e.video_duration,canInviteNewParticipant:S.isGroupCallEnabled()&&Boolean(e.can_invite_new_participant),canSwitchAudioVideo:Boolean(e.can_switch_audio_video),isGroupCall:Boolean(e.is_group_call),participantCount:e.participant_count,participants:e.participants.filter((e=>null!=e.jid)).map((e=>{const t=(0,u.createUserWid)(e.jid.user,e.jid.server);return{wid:t.toString(),userJid:t.toString({legacy:!0}),deviceRawJid:e.device_raw_jid,isMuted:Boolean(e.is_muted),isSelf:Boolean(e.is_self),isInterrupted:Boolean(e.is_interrupted),isBackgrounded:Boolean(e.is_backgrounded),orderId:e.order_id,videoOrientation:e.video_orientation,videoRenderStarted:Boolean(e.video_render_started),videoState:e.video_state,state:e.state}})),videoCaptureStarted:Boolean(e.video_capture_started),videoPreviewStarted:Boolean(e.video_preview_started),videoEnabled:Boolean(e.video_enabled),videoEnabledAtCallStart:Boolean(e.video_enabled_at_call_start),rotateVideo:Boolean(e.rotate_video)}}function P(e){const t=p.ChatCollection.get(e.id);return!h.CallCollection.activeCall&&!e.isContactBlocked&&!(null==t?void 0:t.isSuspendedGroup())&&y.Stream.displayInfo===y.StreamInfo.NORMAL}function A(e){if(e)return h.CallCollection.get(e)}},38680:(e,t,a)=>{"use strict";var n=a(95318);t.j=void 0;var r=a(81572),i=a(13042),s=n(a(76521)),o=a(76562),l=a(55452),u=a(91442),d=a(69951),c=a(19380),f=n(a(63236)),h=n(a(11339)),p=a(59871),m=n(a(14528)),g=a(8080);function _(){return Math.floor(window.performance.now())}class v extends s.default{constructor(){var e;super(),this.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0},this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},(null===(e=window.performance)||void 0===e?void 0:e.now)&&((0,l.knowsPhone)()?this.listenToOnce(r.Cmd,"logout",this.init):this.init())}init(){this.timings.startSync=g.Stream.lastSyncStart,this.listenTo(g.Stream,"change:mode",this.changeStreamMode),this.listenTo(d.ChatCollection,i.COLLECTION_HAS_SYNCED,this._handleChatSync),this.listenTo(c.ContactCollection,i.COLLECTION_HAS_SYNCED,this._handleContactSync),this.listenTo(p.MsgCollection,i.COLLECTION_HAS_SYNCED,this._handleMsgSync),this.listenTo(p.MsgCollection,"handle:msg_history",this._handleMsgHistory)}changeStreamMode(){g.Stream.mode===g.StreamMode.SYNCING&&(this.timings.startSync=_(),this.data.webcPersistentLoginEnabled=u.userPreferencesStore.getRememberMe()),g.Stream.mode===g.StreamMode.MAIN&&(this.timings.endSync=_(),this.maybeLogToWam())}_handleChatSync(e){null!=e.timing?this.data.webcSyncChatT=e.timing:this.timings.chatSync=_(),this.data.webcSyncChatCount=e.count,this.data.webcSyncChatSize=e.binarySize,this.maybeLogToWam()}_handleMsgSync(e){e&&(this.timings.msgSync=_(),this.data.webcSyncMessageCount+=e.count,this.data.webcSyncMessageSize+=e.binarySize),this.maybeLogToWam()}_handleContactSync(e){null!=e.timing?this.data.webcSyncContactT=e.timing:this.timings.contactSync=_(),this.data.webcSyncContactCount=e.count,this.data.webcSyncContactSize=e.binarySize,this.maybeLogToWam()}_handleMsgHistory(e){this.data.webcSyncMessageSize+=e.binarySize,this.data.webcSyncMessageCount+=e.count,null!=this.timings.msgSync&&(this.timings.msgSync=_())}maybeLogToWam(){const{contactSync:e,msgSync:t,chatSync:a}=this.timings,n=null!=a&&Number.isFinite(a||this.data.webcSyncChatT),r=null!=e&&Number.isFinite(e||this.data.webcSyncContactT),i=Number.isFinite(t);n&&r&&i&&(this._commitPromise||(this._commitPromise=(0,f.default)().then((e=>this._commitEvent(e))).catch((()=>{__LOG__(3)`wam:Error comitting login event`})).finally((()=>this.reset()))))}_commitEvent(e){const{startSync:t,endSync:a,contactSync:n,msgSync:r,chatSync:i}=this.timings,s=m.default.initialDisplayDate;if(null!=s&&0!==s&&null!=t&&null!=a&&null!=r&&null!=i&&null!=n&&Number.isFinite(s)&&Number.isFinite(t)&&Number.isFinite(a)){this.data.webcQrLoadT=s,this.data.webcQrCodes=m.default.get(),this.data.webcLoginT=t-s,this.data.webcSyncT=a-t,this.data.webcSyncMessageT=r-t,this.data.webcSyncChatT||(this.data.webcSyncChatT=i-t),this.data.webcSyncContactT||(this.data.webcSyncContactT=n-t),this.data.webcBrowserNetworkType=(0,o.getEffectiveNetworkType)(),e&&(this.data.webcBrowserStorageQuotaBytes=e.quota,this.data.webcBrowserStorageQuotaUsedBytes=e.usage);new h.default.WebcLogin(this.data).commit()}else __LOG__(3)`One or more of the login timings was not logged: `}reset(){this.stopListening(),this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},this.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0},this._commitPromise=void 0,this.listenToOnce(r.Cmd,"logout",this.init)}}t.j=()=>new v},87759:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e<4?i.LT4:e<8?i.LT8:e<16?i.LT16:e<32?i.LT32:e<64?i.LT64:e<128?i.LT128:e<256?i.LT256:e<512?i.LT512:e<1e3?i.LT1000:e<1500?i.LT1500:e<2e3?i.LT2000:e<2500?i.LT2500:e<3e3?i.LT3000:e<3500?i.LT3500:e<4e3?i.LT4000:e<4500?i.LT4500:e<5e3?i.LT5000:i.LARGEST_BUCKET};var r=n(a(11339));const{PRECISE_SIZE_BUCKET:i}=r.default},52709:(e,t)=>{"use strict";t.Y=function(){}},93253:(e,t,a)=>{"use strict";var n=a(95318);t.yj=function(){if(!c())return;setInterval((()=>{new o.default.WebcMemoryStat((0,r.default)((0,r.default)({},(0,i.default)(c(),"getMemoryInfo()")),{},{hasVerifiedNumber:u.Stream.mode===u.StreamMode.MAIN,numMessages:l.MsgCollection.length})).commit()}),s.MEMORY_METRIC_INTERVAL)};var r=n(a(81109)),i=n(a(45095)),s=a(24143),o=n(a(11339)),l=a(59871),u=a(8080);const d=Date.now();function c(){var e;const t=null===(e=performance)||void 0===e?void 0:e.memory;if(t)return{uptime:(Date.now()-d)/1e3,jsHeapSizeLimit:t.jsHeapSizeLimit,totalJsHeapSize:t.totalJSHeapSize,usedJsHeapSize:t.usedJSHeapSize}}},24143:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MEMORY_METRIC_INTERVAL=void 0;t.MEMORY_METRIC_INTERVAL=9e5},75629:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(57319);t.default=class{constructor(e){this.ship=e=>{const t=this.bitmap;if(!t)return;const a=Date.now();a>this.lastActiveInMS&&(this.bitmapLength=Math.min(64,Math.ceil(a/1e3-this.startTimeInSec)));const n={sessionId:this.sessionId,startTime:this.startTimeInSec,bitmap:t,bitmapLen:this.bitmapLength,sessionSeq:this.sequenceId,sessionCum:this.cumulativeBitsSet};(e||this.loggingCallback)(n),this.timer.cancel(),this.bitmap=null},this.loggingCallback=e,this.timer=new n.ShiftTimer(this.ship),this._initSession(),this._initArray(Math.floor(Date.now()/1e3))}_initSession(){this.cumulativeBitsSet=0,this.sequenceId=-1,this.sessionId=Math.floor(2147483648*Math.random()).toString(36)}_initArray(e){this.startTimeInSec=e,this.lastActiveInMS=1e3*this.startTimeInSec,this.bitmap=new Int32Array(2),this.bitmap[0]=1,this.bitmapLength=1,this.cumulativeBitsSet+=1,this.sequenceId+=1;this.timer.debounceAndCap(64e3,64e3)}_doUpdate(e){const t=e-this.startTimeInSec;this.bitmap&&(t<0||t>=64)&&this.ship(),this.bitmap?(this.bitmap[t>>5]|=1<<(31&t),this.bitmapLength=t+1,this.cumulativeBitsSet+=1,this.lastActiveInMS=1e3*e):this._initArray(e)}update(e){e>=this.lastActiveInMS&&e-this.lastActiveInMS<1e3||this._doUpdate(Math.floor(e/1e3))}shipAndEndSession(e){this.ship(e),this._initSession()}}},35166:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,o.default)((()=>Date.now())),t=(0,s.useRef)(-1),a=(0,s.useRef)(-1),n=(0,o.default)((()=>new d.default(f))),u=r=>{const i=n.current;if(!i)return;if(r instanceof MouseEvent){if(r.pageX===t.current&&r.pageY===a.current&&"click"!==r.type)return;t.current=r.pageX,a.current=r.pageY}const s=Date.now(),o=s-e.current;o>0?(e.current=s,i.update(e.current)):o<-5&&(e.current=s)},h=e=>{let t=`${e.bitmap[0]}`;for(let a=1;a<e.bitmap.length;++a)t+=`:${e.bitmap[a]}`;const a=`${e.sessionId}:${e.sessionSeq}:${e.sessionCum}:${e.startTime}:${e.bitmapLen}$${t}`;r.default.setItem(i.KEYS.TIME_SPENT_EVENT,a)};(0,s.useEffect)((()=>{const e=r.default.getItem(i.KEYS.TIME_SPENT_EVENT);return e&&((e=>{let[t,a,...n]=e.split("$");if(n.length||!a)return void __LOG__(3)`Invalid stashed time spent event`;if(t=t.split(":"),5!==t.length)return void __LOG__(3)`Invalid stashed time spent event`;a=new Int32Array(a.split(":").map((e=>Number(e))));const r={sessionId:t[0],sessionSeq:Number(t[1]),sessionCum:Number(t[2]),startTime:Number(t[3]),bitmapLen:Number(t[4]),bitmap:a};f(r)})(e),r.default.removeItem(i.KEYS.TIME_SPENT_EVENT)),()=>{n.current&&(n.current.ship(),n.current=null)}}),[]),(0,l.useListener)(window,"beforeunload",(()=>{n.current&&(n.current.ship(h),n.current=null)})),(0,l.useListeners)(c.map((e=>{let{source:t,name:a}=e;return{source:t,eventOrEvents:a,callback:u,opts:{passive:!0,capture:!0}}})));return(0,l.useListener)(null,"BrowserWindow:minimize",(()=>{var e;null===(e=n.current)||void 0===e||e.shipAndEndSession()})),(0,l.useListener)(null,"BrowserWindow:restore",(()=>{var t;n.current?(e.current=Date.now(),null===(t=n.current)||void 0===t||t.update(e.current)):__LOG__(3)`Time Spent Logger not started`})),null};var r=n(a(45234)),i=a(46718),s=a(67294),o=n(a(16223)),l=a(87550),u=n(a(11339)),d=n(a(75629));const c=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}],f=e=>{const t=new u.default.UserActivity({userActivitySessionId:e.sessionId,userActivityStartTime:e.startTime,userActivityBitmapLen:e.bitmapLen,userActivityBitmapLow:e.bitmap[0],userActivitySessionSeq:e.sessionSeq,userActivitySessionCum:e.sessionCum});e.bitmapLen>32&&(t.userActivityBitmapHigh=e.bitmap[1]),t.commit()}},84287:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.IconSectionTheme=t.IconSection=void 0;var r=n(a(94184)),i=a(48360),s=n(a(68991)),o=n(a(38932)),l=n(a(23217)),u=a(85893);const d=a(76672)({SmallMargin:"small-margin",NoMargin:"no-margin",NoMarginSmallGutter:"no-margin-small-gutter"});t.IconSectionTheme=d;t.IconSection=e=>{let{icon:t,iconClass:a,content:n,onEdit:c,type:f="field",emptyText:h,hideEditIcon:p,theme:m,fieldName:g}=e;const _=c?(0,u.jsx)("div",{children:(0,u.jsx)(o.default,{name:"pencil",className:s.default.editPencil,directional:!0,onClick:c,"aria-label":i.fbt._("Click to edit {fieldName}",[i.fbt._param("fieldName",g)],{hk:"Wjo4r"})})}):void 0,v=h&&!n,b=v?h:n,y=t?(0,u.jsx)(l.default,{name:t}):null;return(0,u.jsxs)("div",{className:(0,r.default)(s.default.section,{[s.default.smallMargin]:m===d.SmallMargin,[s.default.noMargin]:m===d.NoMargin,[s.default.noMarginSmallGutter]:m===d.NoMarginSmallGutter}),children:[(0,u.jsx)("div",{className:(0,r.default)(s.default.sectionPrimaryIcon,a,{[s.default.fieldPrimaryIcon]:"field"===f}),children:y}),(0,u.jsx)("div",{className:(0,r.default)(s.default.sectionMain,{[s.default.sectionContainerMain]:"container"===f,[s.default.sectionEmptyText]:v}),children:b}),_]})}},31892:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){const n=(0,s.getMaybeMeUser)();c.QPL.markerAnnotate(f.QuickLogMarkerId.WHATSAPP_CART_ADD,{bool:{IsConsumer:!(null==n?void 0:n.equals(e.catalogWid))}});const g=(0,l.addProductToCart)(e);switch(g.status){case l.AddToCartStatus.SUCCESS:!function(e,t){a=function(){var a=(0,r.default)((function*(){(0,d.qplStartCartView)("Toast"),yield(0,h.default)(e.catalogWid.toString(),void 0,t),(0,u.logCartToastClick)(e.catalogWid.toString(),t)}));return function(){return a.apply(this,arguments)}}(),i.ToastManager.open((0,m.jsx)(p.Toast,{action:{actionText:o.fbt._("View cart",null,{hk:"FzP7d"}),onAction:()=>{a()}},duration:6e3,id:(0,p.genId)(),msg:o.fbt._("Item added to cart",null,{hk:"3cSc2w"})}));var a}(e,t),(0,u.logAddProductToCart)(e,t,g.newCount,a);break;case l.AddToCartStatus.QUANTITY_LIMIT_REACHED:i.ToastManager.open((0,m.jsx)(p.Toast,{action:{onAction:()=>{},actionText:o.fbt._("GOT IT",null,{hk:"175geM"}),dismiss:!0,theme:"success"},duration:6e3,id:(0,p.genId)(),msg:o.fbt._("You can't add any more of this item",null,{hk:"3wdB9l"})}))}};var r=n(a(48926)),i=a(94816),s=a(78820),o=a(48360),l=a(51498),u=a(41868),d=a(82145),c=a(48870),f=a(27798),h=n(a(56829)),p=a(50452),m=a(85893)},24170:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t,onClick:a}=e,n={className:(0,i.default)(t,o.default.addToCartIcon),name:"add_shopping_cart",title:s.fbt._("Add to cart",null,{hk:"2qbS08"})};if(null!=a)return(0,d.jsx)(l.default,(0,r.default)((0,r.default)({},n),{},{"aria-label":s.fbt._("Add to cart",null,{hk:"2qbS08"}),onClick:a}));return(0,d.jsx)(u.default,(0,r.default)({},n))};var r=n(a(81109)),i=n(a(94184)),s=a(48360),o=n(a(65027)),l=n(a(38932)),u=n(a(23217)),d=a(85893)},41868:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getOnCartClickWithLog=function(e,t,a){return()=>{e(),function(e,t){const a=c(e,"ACTION_CART_ICON_CLICK",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));a&&a.commit()}(t,a)}},t.logAddProductToCart=function(e,t,a,n){const i=(0,o.getProductStatsInFetched)(e.catalogWid.toString(),n,e)||void 0,s=c(e.catalogWid.toString(),"ACTION_CART_ADD_PRODUCT",(0,r.default)((0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)),{},{quantity:a,collectionStats:i}));s&&s.commit()},t.logCartAbandon=function(e,t){const a=c(e,"ACTION_CART_ABANDON",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));a&&a.commit()},t.logCartListImpression=function(e,t){const a=c(e,"ACTION_CART_LIST_IMPRESSION",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));a&&a.commit()},t.logCartToastClick=function(e,t){const a=c(e,"ACTION_CART_SNACKBAR_CLICK",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));a&&a.commit()},t.logDeleteProduct=function(e,t){const a=c(e.catalogWid.toString(),"ACTION_CART_DELETE_PRODUCT",(0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)));a&&a.commit()},t.logEditProduct=function(e,t,a){const n=c(e.catalogWid.toString(),"ACTION_CART_EDIT_PRODUCT",(0,r.default)((0,r.default)({},(0,u.toDataForCatalogViewEvents)(t)),{},{quantity:a}));n&&n.commit()};var r=n(a(81109)),i=n(a(6479)),s=a(78820),o=a(10448),l=n(a(11339)),u=a(97567);const d=["bizPlatform","collectionStats"];function c(e,t,a){const n=e===(0,s.getMeUser)().toString(),{bizPlatform:o,collectionStats:u}=a,c=(0,i.default)(a,d);return n&&void 0!==l.default.CATALOG_BIZ_ACTION[t]?new l.default.CatalogBiz((0,r.default)({catalogBizAction:l.default.CATALOG_BIZ_ACTION[t],collectionIndex:null==u?void 0:u.collectionIndex,productIndex:null==u?void 0:u.productIndex},c)):n||void 0===l.default.CATALOG_VIEW_ACTION[t]?void __LOG__(3)`getCartLogAction: unsupported log action - ${t}`:new l.default.CatalogView((0,r.default)({catalogViewAction:l.default.CATALOG_VIEW_ACTION[t],bizPlatform:o,collectionIndex:null==u?void 0:u.collectionIndex,productIndex:null==u?void 0:u.productIndex},c))}},84543:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Labels=function(e){const{labels:t,showName:a,renderAsCircle:n}=e,r=(0,l.default)(),_=(0,o.useMemo)((()=>m(t)),[t]);if((0,u.useListener)(null!=_?c.LabelCollection:null,`label_updated_${null!=_?_:""}`,r),!(0,i.canDisplayLabel)())return null;const v=function(e){const t=m(e);return null==t?null:c.LabelCollection.get(t)}(t);if(!v||!v.name)return null;if(1===t.length){const t=a?(0,p.jsx)("span",{className:f.default.name,children:(0,p.jsx)(d.EmojiText,{text:v.name})}):null,r=(0,s.default)({[f.default.container]:!a&&!n,[f.default.containerCircleIconFull]:!!n,[f.default.containerFull]:a&&!n,[f.default.labelFilter]:"label-filter"===e.theme,[f.default.drawerTitle]:"drawer-title"===e.theme}),i=n?{backgroundColor:v.hexColor}:{},o=n?(0,p.jsx)(h.default,{name:"label",className:f.default.icon}):g(v.hexColor);return(0,p.jsxs)("div",{className:r,children:[(0,p.jsx)("div",{className:(0,s.default)(f.default.iconContainer,{[f.default.circleIcon]:n}),style:i,children:o}),t]})}return(0,p.jsx)("div",{className:f.default.container,children:(0,p.jsxs)("svg",{width:"18px",height:"15px",viewBox:"0 0 18 15",children:[(0,p.jsx)("path",{fill:v.hexColor,d:"M11.208,3.925H2.236C1.556,3.925,1,4.565,1,5.357v7.213C1,13.362,1.556,14,2.236,14h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,4.53C11.993,4.162,11.622,3.925,11.208,3.925z"}),(0,p.jsx)("path",{fill:"currentColor",d:"M15.541,7.832L13.164,3.93 c-0.423-0.698-1.15-1.142-1.956-1.142H2.595V2.432C2.595,1.64,3.151,1,3.831,1h9.1c0.414,0,0.782,0.237,1.005,0.605l2.696,4.433 L15.541,7.832z"})]})})},t.getVisibleLabelId=m,t.renderLabelSvg=g;var r=a(88555),i=a(8139),s=n(a(94184)),o=a(67294),l=n(a(59312)),u=a(87550),d=a(65417),c=a(16770),f=n(a(51340)),h=n(a(23217)),p=a(85893);function m(e){if(0===e.length)return;if((0,r.isLegacyWebdBackend)())return e[0];const t=Math.max(...e.map((e=>parseInt(e,10))));return isNaN(t)?e[0]:t.toString()}function g(e){return(0,p.jsx)("svg",{width:"18px",height:"12px",viewBox:"0 0 18 12",className:f.default.icon,children:(0,p.jsx)("path",{fill:e||"#ffffff",d:"M11.208,0.925H2.236C1.556,0.925,1,1.565,1,2.357V9.57C1,10.362,1.556,11,2.236,11h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,1.53C11.993,1.162,11.622,0.925,11.208,0.925z"})},2)}},79544:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logOrderListImpression=function(e){let{catalogContext:t,catalogOwnerJid:a,orderId:n,productCount:l}=e;(0,o.createCatalogViewEvent)((0,r.default)((0,r.default)({isOwner:(0,o.isCatalogOwner)({catalogOwnerJid:a}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_ORDER_LIST_IMPRESSION,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_ORDER_LIST_IMPRESSION},(0,s.toDataForCatalogViewEvents)(t)),{},{bizActionConfig:{orderId:n,productCount:l}})).commit()},t.logOrderListItemClick=function(e){let{catalogOwnerJid:t,catalogContext:a,orderId:n}=e;(0,o.createCatalogViewEvent)((0,r.default)((0,r.default)({isOwner:(0,o.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_ORDER_LIST_ITEM_CLICK,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_ORDER_LIST_ITEM_CLICK},(0,s.toDataForCatalogViewEvents)(a)),{},{bizActionConfig:{orderId:n}})).commit()},t.logOrderMessageClick=function(e){let{catalogContext:t,catalogOwnerJid:a,orderId:n}=e;(0,o.createCatalogViewEvent)((0,r.default)({isOwner:(0,o.isCatalogOwner)({catalogOwnerJid:a}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_ORDER_MESSAGE_CLICK,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_ORDER_MESSAGE_CLICK},(0,s.toDataForCatalogViewEvents)(t))).commit()},t.logSendOrderMessage=function(e){let{orderId:t,catalogOwnerJid:a,catalogContext:n,isOrderMsgAttached:l,quantity:u}=e;(0,o.createCatalogViewEvent)((0,r.default)((0,r.default)({isOwner:(0,o.isCatalogOwner)({catalogOwnerJid:a}),catalogBizAction:i.default.CATALOG_BIZ_ACTION.ACTION_SEND_ORDER_MESSAGE,catalogViewAction:i.default.CATALOG_VIEW_ACTION.ACTION_SEND_ORDER_MESSAGE,isOrderMsgAttached:l},(0,s.toDataForCatalogViewEvents)(n)),{},{bizActionConfig:{orderId:t,quantity:u}})).commit()};var r=n(a(81109)),i=n(a(11339)),s=a(97567),o=a(14545)},30699:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderDetailProductSummary=function(e){let{productItems:t,totalItemCount:a,productMediaData:n,onClick:r}=e;const o=f(t),p=t.length>1,m=p?(0,c.jsx)(u.default,{name:"chevron-right",color:"secondary",width:20}):void 0;return(0,c.jsx)(i.default,{image:n?(0,c.jsx)(l.ProductThumb,{mediaData:n,theme:"squareThumb"}):null,customImage:!0,primary:(0,c.jsx)(d.TextSpan,{size:"16",children:(0,c.jsx)(s.EmojiText,{text:o,ellipsify:!0})}),secondary:h(t.length,a),detail:m,theme:"media",onClick:p?r:void 0})},t.getOrderDetailItemLabel=h,t.getOrderDetailProductLabel=f;var r=a(48360),i=n(a(44356)),s=a(65417),o=n(a(14296)),l=a(3013),u=n(a(23217)),d=a(13923),c=a(85893);function f(e){return e.slice(0,10).filter(Boolean).map((e=>e.name)).join(o.default.t(307))}function h(e,t){return null!=e&&e>1?r.fbt._({"*":"{number-of-items} items",_1:"1 item"},[r.fbt._plural(e,"number-of-items")],{hk:"3KTLxd"}):r.fbt._("Quantity {item-quantity}",[r.fbt._param("item-quantity",t)],{hk:"39jSdf"})}},26218:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{productId:t,businessOwnerJid:a,msgT:i}=e;const s=(0,n.createWid)(a);if(!s)return;const o=r.CatalogCollection.get(s);if(!o)return;const l=o.productCollection.get(t),u=o.msgProductCollection.get(t);if(u&&l){const e=null!=i?i:u.t;return l.t>=e?(o.msgProductCollection.remove(u),l):u}return l||u};var n=a(45454),r=a(99989)},77975:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logAddProductClick=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_CLICKED,catalogSessionId:e.session.toString(),catalogEntryPoint:e.entryPoint}).commit()},t.logAddProductFailed=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_FAILED,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logAddProductSuccess=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_SUCCESS,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logAppealProductCatalogClick=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_APPEAL_PRODUCT_CLICKED,catalogEntryPoint:l.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:e}).commit()},t.logAppealProductCatalogFailed=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_APPEAL_PRODUCT_FAILED,catalogEntryPoint:l.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,errorCode:t,catalogSessionId:e}).commit()},t.logAppealProductCatalogSuccess=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_APPEAL_PRODUCT_SUCCESS,catalogEntryPoint:l.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:e}).commit()},t.logBusinessProfileCatalogView=function(e){let{catalogOwnerWid:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)((0,r.default)({},(0,u.toDataForCatalogViewEvents)(a)),{},{isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CARD_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_CARD_IMPRESSION})).commit()},t.logCarouselViewMoreClick=function(e){let{catalogOwnerWid:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CARD_MORE_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_CARD_MORE_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logCatalogAttachmentButtonClick=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CATALOG_IN_CONVERSATION_CLICK,catalogEntryPoint:l.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_ATTACHMENT_PANEL,catalogSessionId:e}).commit()},t.logCatalogContextMenuClick=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_MENU_CLICK,catalogEntryPoint:null==t?void 0:t.entryPoint,catalogSessionId:null==t?void 0:t.session.toString(),productId:e}).commit()},t.logCatalogListDetailClick=function(e){let{product:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_LIST_ITEM_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_LIST_ITEM_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logCatalogListView=function(e){let{catalogOwnerWid:t,catalogContext:a,cartToggle:n}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_LIST_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_LIST_IMPRESSION,cartToggle:n},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logCatalogProductHideCancelled=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_HIDE_CANCELLED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductHideClick=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_HIDE_CLICKED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductHideFailed=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_HIDE_FAILED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductHideSuccess=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_HIDE_SUCCESS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductShowCancelled=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_UNHIDE_CANCELLED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductShowClick=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_UNHIDE_CLICKED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductShowFailed=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_UNHIDE_FAILED,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogProductShowSuccess=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_UNHIDE_SUCCESS,catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString(),productId:e}).commit()},t.logCatalogShareLinkClick=function(e){let{catalogOwnerWid:t,catalogContext:a}=e;const n=(0,d.isCatalogOwner)({catalogOwnerWid:t});(0,d.createCatalogViewEvent)((0,r.default)({isOwner:n,catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_CATALOG_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_CATALOG_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logChatCatalogView=function(e){let{catalogOwnerWid:t,catalogContext:a}=e;new l.default.CatalogView((0,r.default)({catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_CHAT_CATALOG_ICON_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logCreateProductCatalogClick=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logCreateProductCatalogFailed=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG_FAILED,catalogEntryPoint:e.entryPoint,errorCode:t,catalogSessionId:e.session.toString()}).commit()},t.logCreateProductCatalogSuccess=function(e){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG_SUCCESS,catalogEntryPoint:e.entryPoint,catalogSessionId:e.session.toString()}).commit()},t.logDeleteProductClick=function(e,t,a){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_CLICKED,catalogEntryPoint:a.entryPoint,productId:e.id.toString(),productCount:t,catalogSessionId:a.session.toString()}).commit()},t.logDeleteProductFailed=function(e,t,a,n){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_FAILED,catalogEntryPoint:a.entryPoint,productId:e.id.toString(),productCount:t,errorCode:n,catalogSessionId:a.session.toString()}).commit()},t.logDeleteProductSuccess=function(e,t,a){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_SUCCESS,catalogEntryPoint:a.entryPoint,productId:e.id.toString(),productCount:t,catalogSessionId:a.session.toString()}).commit()},t.logDetailImageClick=function(e){let{product:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_DETAIL_IMAGE_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMAGE_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logDetailLinkClick=function(e){let{product:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_DETAIL_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logEditProductClick=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_CLICKED,productId:e.id.toString(),catalogEntryPoint:t.entryPoint,catalogSessionId:t.session.toString()}).commit()},t.logEditProductFailed=function(e,t,a){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_FAILED,catalogEntryPoint:t.entryPoint,productId:e.id.toString(),errorCode:a,catalogSessionId:t.session.toString()}).commit()},t.logEditProductSuccess=function(e,t){new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_SUCCESS,catalogEntryPoint:t.entryPoint,productId:e.id.toString(),catalogSessionId:t.session.toString()}).commit()},t.logFullImageView=function(e){let{product:t,catalogSessionId:a}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_FULL_IMAGE_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_IMPRESSION,catalogSessionId:a}).commit()},t.logImageCarouselModalView=function(e){let{product:t,catalogSessionId:a}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_IMAGE_LIST_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_IMAGE_LIST_IMPRESSION,catalogSessionId:a}).commit()},t.logImageListClick=function(e){let{product:t,catalogSessionId:a}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_IMAGE_LIST_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_IMAGE_LIST_CLICK,catalogSessionId:a}).commit()},t.logImageNavigate=function(e){let{product:t,catalogSessionId:a}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_FULL_IMAGE_SWIPE,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_SWIPE,catalogSessionId:a}).commit()},t.logProductDeepLinkOpen=function(e){let{catalogOwnerJid:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerJid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_PRODUCT_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logProductDetailView=function(e){let{product:t,catalogContext:a,cartToggle:n,collectionId:i}=e;const s=i?(0,o.getProductStatsInFetched)(t.catalogWid.toString(),i,t):void 0,c=null==s?void 0:s.productIndex,f=null==s?void 0:s.collectionIndex;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_DETAIL_IMPRESSION,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMPRESSION,cartToggle:n,productIndex:c,collectionIndex:f},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logProductInquiryClick=function(e){let{product:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logProductMessageBusinessClick=function(e,t){(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:e}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_MESSAGE_BUSINESS_BUTTON_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_MESSAGE_BUSINESS_BUTTON_CLICK},(0,u.toDataForCatalogViewEvents)(t))).commit()},t.logProductMessageBusinessSend=function(e,t){let a=!1;if(null!=e.businessOwnerJid){const t=e.businessOwnerJid;a=(0,i.getMeUser)().equals((0,s.createWid)(t))}(0,d.createCatalogViewEvent)({isOwner:a,catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_QUOTED_PRODUCT_MESSAGE_SEND,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_MESSAGE_SEND,catalogSessionId:t||(new c.ProductCatalogSession).toString()}).commit()},t.logProductMessageSent=function(e){let{product:t,catalogSessionId:a}=e;(0,d.createCatalogViewEvent)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SEND_PRODUCT_MESSAGE,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SEND_PRODUCT_MESSAGE,catalogSessionId:a,productId:t.id.toString()}).commit()},t.logProductMsgClick=function(e){let{product:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logProfileProductClick=function(e){let{product:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_CARD_ITEM_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_CARD_ITEM_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logReportProduct=function(e){let{product:t,catalogSessionId:a}=e;new l.default.CatalogView({catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT,catalogSessionId:a}).commit()},t.logReportProductFailure=function(e){let{product:t,catalogSessionId:a}=e;new l.default.CatalogView({catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_FAILURE,catalogSessionId:a}).commit()},t.logReportProductSuccess=function(e){let{product:t,catalogSessionId:a}=e;new l.default.CatalogView({catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_SUCCESS,catalogSessionId:a}).commit()},t.logSendCatalogClick=function(e){let{catalogOwnerWid:t,catalogSessionId:a}=e;new l.default.CatalogBiz({catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SEND_CATALOG_CLICK,catalogSessionId:a}).commit()},t.logShareCatalogCopyLinkClick=function(e){let{catalogOwnerWid:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_CATALOG_COPY_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_CATALOG_COPY_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logShareCatalogViaWALinkClick=function(e){let{catalogOwnerWid:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({catalogOwnerWid:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logShareProductCopyLinkClick=function(e){let{product:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_PRODUCT_COPY_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_COPY_LINK_CLICK,productId:t.id.toString()},(0,u.toDataForCatalogViewEvents)(a))).commit()},t.logShareProductViaWALinkClick=function(e){let{product:t,catalogContext:a}=e;(0,d.createCatalogViewEvent)((0,r.default)({isOwner:(0,d.isCatalogOwner)({product:t}),catalogBizAction:l.default.CATALOG_BIZ_ACTION.ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK,catalogViewAction:l.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK,productId:t.id.toString()},(0,u.toDataForCatalogViewEvents)(a))).commit()};var r=n(a(81109)),i=a(78820),s=a(45454),o=a(10448),l=n(a(11339)),u=a(97567),d=a(14545),c=a(9153)},97567:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildProductCatalogAccidentalContext=o,t.buildProductCatalogContext=s,t.getProductCatalogContext=l,t.getProductCatalogSessionId=function(e){return l(e).session.toString()},t.toDataForCatalogViewEvents=function(e){return{catalogSessionId:e.session.toString(),bizPlatform:e.bizPlatform,catalogEntryPoint:e.entryPoint}};var r=n(a(11339)),i=a(9153);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.ProductCatalogSession,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.BIZ_PLATFORM.UNKNOWN,a=arguments.length>2?arguments[2]:void 0;return{type:"product_catalog",session:e,entryPoint:a,bizPlatform:t}}function o(){return s(new i.ProductCatalogSession(!0))}function l(e){return"product_catalog"===e.type?e:o()}},14545:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isCatalogOwner=t.createCatalogViewEvent=void 0;var r=n(a(81109)),i=n(a(6479)),s=a(78820),o=n(a(89867)),l=a(45454),u=n(a(11339));const d=["isOwner","catalogBizAction","catalogViewAction","bizActionConfig","bizPlatform"];t.isCatalogOwner=e=>{const t=(0,s.getMeUser)();let a;return e.catalogOwnerJid?a=(0,l.createWid)(e.catalogOwnerJid):e.catalogOwnerWid?a=e.catalogOwnerWid:e.product&&(a=e.product.catalogWid),o.default.equals(t,a)};t.createCatalogViewEvent=e=>{const{isOwner:t,catalogBizAction:a,catalogViewAction:n,bizActionConfig:s,bizPlatform:o}=e,l=(0,i.default)(e,d);return t?new u.default.CatalogBiz((0,r.default)((0,r.default)({catalogBizAction:a},l),s)):new u.default.CatalogView((0,r.default)({catalogViewAction:n,bizPlatform:o},l))}},88990:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{onClick:a,checkbox:n,isMuted:L,disableOutOfStockAppearance:B,theme:F,collectionId:G,onProductHideShow:U,onProductDelete:V,onProductShare:W,onCartOpen:H,canManageCatalog:q,detail:Y}=e,z=(0,u.default)(),K=(0,l.useContext)(_.DrawerContext),$=(0,c.useModelValues)(e.product,["id","name","description","availability","url","retailerId","currency","priceAmount1000","salePriceAmount1000","salePriceStartDate","salePriceEndDate","reviewStatus","catalogWid","productImageCollection","imageHash","imageCdnUrl","isHidden"]),Q=(0,l.useRef)(null),X=(0,l.useRef)(null),[J,Z]=(0,l.useState)(null),[ee,te]=(0,l.useState)(!1);(0,d.useListener)(e.active,$.id.toString(),z);const ae=e=>{const t=(0,S.getProductCatalogContext)(K);P.QPL.markerStart(A.QuickLogMarkerId.WHATSAPP_CART_ADD,{annotations:{string:{EntryPoint:"Catalog"}}}),t.session.isAccidental()?P.QPL.markerDrop(A.QuickLogMarkerId.WHATSAPP_CART_ADD):((0,h.default)($,t,G),e.preventDefault(),e.stopPropagation())},ne=e=>{e.preventDefault(),e.stopPropagation(),U&&U((0,j.unproxy)($))},re=e=>{e.preventDefault(),e.stopPropagation(),V&&V($)},ie=()=>{Z(null),i.default.focus(X.current)},se=null===(t=$.getPreviewImage())||void 0===t?void 0:t.mediaData,oe=F||(B||$.availability!==w.ProductAvailability.OUT_OF_STOCK?"product":"product-out-of-stock");let le,ue,de;switch($.reviewStatus){case T.PRODUCT_REVIEW_STATUS.NO_REVIEW:case T.PRODUCT_REVIEW_STATUS.OUTDATED:case T.PRODUCT_REVIEW_STATUS.PENDING:le=(0,D.jsx)(m.default,{theme:"pending",svg:"business-hours"});break;case T.PRODUCT_REVIEW_STATUS.REJECTED:le=(0,D.jsx)(m.default,{theme:"warning",svg:"error"})}$.isHidden&&(ue=(0,D.jsx)(O.default,{name:"hide"}),de=(0,D.jsx)(f.InvisibleLabel,{children:o.fbt._("Item is hidden",null,{hk:"3JLPDQ"})}));const ce=se?(0,D.jsx)(k.ProductThumb,{theme:"list",mediaData:se,badge:le,overlayContent:ue}):null,fe=(0,D.jsx)(b.EmojiText,{text:$.name,ellipsify:!0,titlify:!0}),he=(0,M.isEmptyPrice)($)?null:(0,D.jsx)(x.default,{product:$,showAvailabilityNotice:!0}),pe=he||$.description&&$.description.length>0?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:E.default.description,children:(0,D.jsx)(b.EmojiText,{text:$.description,ellipsify:!0})}),(0,D.jsx)("div",{className:E.default.price,children:he}),de]}):null;let me;J&&(me=(0,D.jsx)(N.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:ie,children:(0,D.jsx)(R.default,{contextMenu:J})}));const ge=null!=Y?Y:!0===q?(0,D.jsxs)("div",{className:E.default.detailContainer,children:[null!=H&&$.reviewStatus===T.PRODUCT_REVIEW_STATUS.APPROVED?(0,D.jsx)(p.default,{onClick:ae}):null,null!=W&&$.reviewStatus===T.PRODUCT_REVIEW_STATUS.APPROVED?(0,D.jsx)(I.default,{"aria-label":"",className:E.default.shareButton,onClick:e=>{e.stopPropagation(),W((0,j.unproxy)($))},name:"link"}):null]}):null;return(0,D.jsxs)(y.HotKeys,{ref:X,handlers:{space:e=>{e.preventDefault(),e.stopPropagation(),r.default.shouldIndicateFocus(),a()},right:()=>{var e;i.default.focus(null===(e=Q.current)||void 0===e?void 0:e.getContextMenuRef())}},onFocus:e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=Q.current)||void 0===t||t.mouseOver(),te(!0)},onBlur:()=>{var e;null===(e=Q.current)||void 0===e||e.mouseLeave(),te(!1)},tabIndex:0,role:"button",children:[(0,D.jsx)(g.default,{a8n:"product-catalog-item",customImage:!0,image:ce,primary:fe,onClick:a,secondary:pe,theme:oe,active:ee||!!J,checkbox:n,idle:L,detail:ge,className:E.default.catalogListItem,contextEnabled:()=>!0===e.canManageCatalog,onContext:e=>{if(J)return void Z(null);const t=(()=>{var e;const t=[];null!=W&&$.reviewStatus===T.PRODUCT_REVIEW_STATUS.APPROVED&&!1===$.isHidden&&t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-share-label",action:e=>{e.stopPropagation(),W((0,j.unproxy)($))},children:o.fbt._("Share",null,{hk:"3MHbpW"})},"ShareLabel"));const a=null===(e=(0,s.getMaybeMeUser)())||void 0===e?void 0:e.equals($.catalogWid);return a&&U&&($.isHidden?t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-show-label",action:ne,children:o.fbt._("Show item",null,{hk:"1TSS6f"})},"ShowLabel")):t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-hide-label",action:ne,children:o.fbt._("Hide item",null,{hk:"a7Kx1"})},"HideLabel"))),$.isHidden||$.reviewStatus!==T.PRODUCT_REVIEW_STATUS.APPROVED||null==H||t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-addcart-label",action:ae,children:o.fbt._("Add to cart",null,{hk:"hOzFs"})},"AddToCartLabel")),a&&V&&t.push((0,D.jsx)(v.DropdownItem,{a8n:"mi-edit-label",action:re,children:o.fbt._("Delete",null,{hk:"336mVv"})},"DeleteLabel")),t})(),a=(0,S.getProductCatalogContext)(K);(0,C.logCatalogContextMenuClick)($.id.toString(),a.session.isAccidental()?void 0:a),Z({menu:t,event:e.event,anchor:e.anchor})},ref:Q,contextMenuControlled:!0},$.id.toString()),me]})};var r=n(a(45120)),i=n(a(52013)),s=a(78820),o=a(48360),l=a(67294),u=n(a(59312)),d=a(87550),c=a(35461),f=a(55712),h=n(a(31892)),p=n(a(24170)),m=n(a(80252)),g=n(a(49107)),_=a(27394),v=a(71174),b=a(65417),y=a(29424),C=a(77975),S=a(97567),E=n(a(66250)),T=a(5641),x=n(a(62089)),M=a(13151),k=a(3013),w=a(6822),P=a(48870),A=a(27798),j=a(18146),I=n(a(38932)),O=n(a(23217)),N=a(18644),R=n(a(24717)),D=a(85893)},9153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductCatalogSession=t.ACCIDENTAL_SESSION=void 0;const a="accidental_session";t.ACCIDENTAL_SESSION=a;t.ProductCatalogSession=class{constructor(e){this.accidental=e||!1,this.initSessionId()}isAccidental(){return this.accidental}initSessionId(){this.sessionId=this.newSessionId()}newSessionId(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}toString(){let e=`${this.sessionId}`;return this.accidental&&(__LOG__(4,void 0,new Error)`Session ID requested without being set, returning a randon accidental session. Please investigate.`,e=`accidental_session_${e}`),e}}},86455:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{product:t,productImageCollection:a,activeProductImage:n,sessionId:p}=e,v=(0,l.useRef)(!1),b=(0,l.useRef)(null),y=(0,l.useRef)(null),C=(0,l.useRef)(null),[S,E]=(0,l.useState)((()=>a.toArray().indexOf(n))),[T,x]=(0,l.useState)(!1),M=(0,d.default)(t),k=(0,d.default)(p),w=(0,d.default)(S),P=e=>{e!==S&&((0,c.logImageNavigate)({product:(0,m.unproxy)(t),catalogSessionId:p}),(0,c.logImageListClick)({product:(0,m.unproxy)(t),catalogSessionId:p})),E(e)},A=e=>{if(e&&e.stopPropagation(),T)return;const t=a.length;P((S+1)%t)},j=e=>{if(e&&e.stopPropagation(),T)return;const t=a.length;P(S-1<0?t-1:(S-1)%t)};(0,u.useListener)(window,"keydown",(e=>{e.keyCode===r.default.LEFT?j(e):e.keyCode===r.default.RIGHT&&A(e)}));const I=function(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=y.current,r=null===(e=C.current)||void 0===e?void 0:e.firstChild,i=null===(t=b.current)||void 0===t?void 0:t.getImageContainerElement();if(!n||!r||!i)return;let o=0;i instanceof HTMLElement&&(o=i.clientWidth/2-n.clientWidth/2),(0,s.default)(i,"stop");let l=0;a&&(l=300),(0,s.default)(i,"scroll",{duration:l,container:r,offset:o,axis:"x",easing:[.1,.82,.25,1]})};(0,l.useEffect)((()=>{I(),y.current&&(0,s.default)(y.current,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}),(0,c.logImageCarouselModalView)({product:(0,m.unproxy)(t),catalogSessionId:p})}),[]),(0,l.useEffect)((()=>{w!==S&&(I(!0),(0,c.logFullImageView)({product:(0,m.unproxy)(t),catalogSessionId:p}))}),[S,w,M,k,t,p]);const O=a.length,N=S>0?j:null,R=S+1<O?A:null;return(0,g.jsxs)("div",{className:T?"img-zoomed-in":null,children:[(0,g.jsx)("div",{className:f.default.thumbsContainer,ref:y,children:(0,g.jsx)("div",{ref:C,className:f.default.scrollContainer,dir:"ltr",children:(0,g.jsx)(o.default,{className:f.default.viewerThumbs,transitionName:"thumb-scale",children:(0,g.jsx)(_,{productImageCollection:a,activeImgIndex:S,activeThumbRef:b,onSelectThumb:P})})})}),(0,g.jsx)(h.default,{mediaData:a.toArray()[S].mediaData,onBack:()=>{i.ModalManager.closeMedia()},onExitAnimation:()=>{y.current&&(0,s.default)(y.current,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},onNext:R,onPrev:N,onImgZoomIn:e=>{x(e)},getZoomNode:e.getZoomNode,zoomIn:v.current,product:t,sessionId:e.sessionId})]})};var r=n(a(57538)),i=a(14597),s=n(a(62831)),o=n(a(40436)),l=a(67294),u=a(87550),d=n(a(37453)),c=a(77975),f=n(a(66223)),h=n(a(61028)),p=a(3013),m=a(18146),g=a(85893);function _(e){let{productImageCollection:t,activeImgIndex:a,activeThumbRef:n,onSelectThumb:r}=e;const i=t.toArray().map(((e,t)=>{const i=t===a;return(0,g.jsx)(p.ProductThumb,{theme:"viewerFlow",active:i,ref:i?n:null,mediaData:e.mediaData,onClick:()=>r(t)},`product-image-${t}`)}));return[(0,g.jsx)("div",{className:f.default.thumbPadding},"padding-left"),i,(0,g.jsx)("div",{className:f.default.thumbPadding},"padding-right")]}},40659:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.useModelValues)(e.mediaData,["renderableUrl"]);const t=(0,i.useModelValues)(e.product,["name","catalogWid"]),a=o.ContactCollection.get(t.catalogWid);let n;if(a){const e=(0,m.jsx)(c.Name,{contact:a,selectable:!0,useVerifiedName:!0}),r=(0,m.jsx)(l.DetailImage,{id:a.id,size:40}),i=(0,m.jsxs)("div",{className:f.default.productName,children:[(0,m.jsx)(h.default,{className:f.default.productNameIcon,name:"business-description",display:"inline"}),(0,m.jsx)(u.EmojiText,{text:t.name,titlify:!0,ellipsify:!0})]});n=(0,m.jsx)(s.default,{idle:!0,image:r,primary:e,secondary:i,theme:"media"})}else n=(0,m.jsx)(p.TextSpan,{theme:"large",className:f.default.infoName,children:(0,m.jsx)(u.EmojiText,{text:t.name,titlify:!0,ellipsify:!0})});return(0,m.jsxs)("div",{className:f.default.mediaPanelHeader,children:[(0,m.jsx)("div",{className:f.default.info,children:n}),(0,m.jsx)("div",{className:f.default.mediaPanelTools,children:(0,m.jsx)(d.MenuBar,{theme:"strong",children:(0,m.jsx)(d.MenuBarItem,{a8nText:"btn-close",icon:(0,m.jsx)(h.default,{name:"x-viewer"}),title:r.fbt._("Close",null,{hk:"19Jpec"}),onClick:e.onClose})},"media-panel-header")})]})};var r=a(48360),i=a(35461),s=n(a(44356)),o=a(19380),l=a(88984),u=a(65417),d=a(46346),c=a(12176),f=n(a(81316)),h=n(a(23217)),p=a(13923),m=a(85893)},61028:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{getZoomNode:t,zoomIn:a,onImgZoomIn:n,onExitAnimation:y,onBack:C}=e,S=(0,l.useRef)(null),E=(0,l.useRef)(!1),T=(0,l.useRef)(!1),x=(0,l.useRef)(!1),M=(0,l.useRef)(null),k=(0,u.useModelValues)(e.mediaData,["mediaStage","renderableUrl","isGif","type"]),w=(0,u.useModelValues)(e.product,["description"]),[P,A]=(0,l.useState)(!1),[j]=(0,l.useState)((()=>k.mediaStage===p.MEDIA_DATA_STAGE.RESOLVED&&a&&t?t():null)),I=()=>{var e;if(T.current)return;if(T.current=!0,(0,i.isFunction)(y)&&y(),!t)return C();const a=t();if(!a)return C();const n=(0,r.default)(null===(e=M.current)||void 0===e?void 0:e.getInsideContainer(),"mediaImageRef.current?.getInsideContainer()"),o=n.getBoundingClientRect(),l=a.getBoundingClientRect();let u=l.top-o.top,d=l.left-o.left;const c=a.clientWidth/n.clientWidth;u-=(n.clientHeight-a.clientHeight)/2,d-=(n.clientWidth-a.clientWidth)/2,(0,s.default)(n,{translateX:[d,0],translateY:[u,0],scale:[c,1]},{duration:200,easing:[.1,.82,.25,1]}).then((()=>{C()}))},O=(0,b.jsx)(h.default,{mediaData:k,onLoad:e=>{if(E.current)return;E.current=!0;const t=j,n=e.currentTarget;t&&n&&a&&n instanceof HTMLElement&&((e,t)=>{const a=t.getBoundingClientRect(),n=e.getBoundingClientRect();let r=n.top-a.top,i=n.left-a.left;const o=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,s.default)(t,{opacity:[1,0],translateX:[0,i],translateY:[0,r],scale:[1,o]},{duration:m.ANIMATION_DURATION,easing:[.1,.82,.25,1]}),S.current&&(0,s.default)(S.current,{opacity:[1,0]},{duration:m.ANIMATION_DURATION})})(t,n)},onImgZoomIn:e=>{const t=M.current;e&&t&&(x.current=t.heightOverflow>0||t.widthOverflow>0),A(e),n(e)},ref:M},k.renderableUrl);let N;if(w.description){const t=e.zoomIn&&(k.isGif||k.type===f.default.TYPE.IMAGE);N=(0,b.jsx)("span",{className:{[_.default.captionHidden]:t},ref:S,children:(0,b.jsx)(c.EmojiText,{text:w.description,className:_.default.mediaCaption})})}const R=(0,o.default)(_.default.media,{[_.default.mediaWithCaption]:!!N}),D=(0,b.jsx)("div",{className:(0,o.default)(_.default.btnMediaNext),children:(0,b.jsx)(d.ChevronButton,{type:d.ButtonType.Next,onClick:e.onNext||(e=>e.stopPropagation()),onKeyDown:e.onNext||(()=>{}),disabled:!e.onNext||P})}),L=(0,b.jsx)("div",{className:(0,o.default)(_.default.btnMediaPrev),children:(0,b.jsx)(d.ChevronButton,{type:d.ButtonType.Prev,onClick:e.onPrev||(e=>e.stopPropagation()),onKeyDown:e.onPrev||(()=>{}),disabled:!e.onPrev||P})}),B=(0,o.default)("overlay",_.default.mediaViewer,{[_.default.mediaViewerAnimate]:e.zoomIn,[_.default.cursorZoomOut]:P}),F=P?null:e=>{Math.abs(e.deltaY)>7&&I()},G=P?null:I,U=P&&x.current?e=>{((e,t)=>{const a=M.current;if(!a)return;const n=a.getInsideContainer();if(!(n&&n instanceof HTMLElement))return;const r=a.getOutsideContainer();if(!(r&&r instanceof HTMLElement))return;const{translateX:i,translateY:o}=a.getTranslatePosition(r,e,t);(0,s.default)(n,"stop"),(0,s.default)(n,{translateX:i,translateY:o,scale:m.ZOOM_IN_FACTOR},{duration:0})})(e.pageX,e.pageY)}:null,V=P?e=>{const t=M.current;t&&P&&t.onClick(e)}:null;return(0,b.jsx)(v.UIE,{displayName:"ProductViewer",escapable:!0,requestDismiss:I,children:(0,b.jsxs)("div",{className:B,"data-animate-media-viewer":!0,onClick:V,onMouseMove:U,children:[(0,b.jsx)(g.default,{mediaData:k,onClose:I,product:w}),(0,b.jsxs)("div",{className:_.default.mediaContent,dir:"ltr",onWheel:F,onClick:G,children:[L,(0,b.jsxs)("div",{className:R,children:[(0,b.jsx)("div",{className:_.default.media,children:O}),N]}),D]})]})})};var r=n(a(45095)),i=a(51737),s=n(a(62831)),o=n(a(94184)),l=a(67294),u=a(35461),d=a(61991),c=a(65417),f=n(a(2320)),h=n(a(76530)),p=a(58668),m=a(8969),g=n(a(40659)),_=n(a(1256)),v=a(18644),b=a(85893)},62089:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{product:t,fallback:a=null,showAvailabilityNotice:n=!1}=e,p=(0,i.default)(e,h);const{currency:m,priceAmount1000:g}=t,_=(0,d.getActivePrice)(t);if(!m||null==g||null==_)return a;const v=e=>s.formatAmount1000(m,e),b=v(_);let y=(0,d.isSalePriceActive)(t)?`${b} ~${v(g)}~`:b;const C=(e=>e.availability===c.ProductAvailability.OUT_OF_STOCK?o.fbt._("Out of Stock",null,{hk:"3YosHQ"}):null)(t);n&&C&&(y+=" • "+C.toString());return(0,f.jsx)(l.EmojiText,(0,r.default)((0,r.default)({},p),{},{text:y,formatters:[[[u.Strikethrough,{selectable:p.selectable}]]],ellipsify:!0}))};var r=n(a(81109)),i=n(a(6479)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(39519)),o=a(48360),l=a(65417),u=a(65375),d=a(13151),c=a(6822),f=a(85893);const h=["product","fallback","showAvailabilityNotice"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}},3013:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductThumb=void 0,t.ProductThumbPlaceholder=c;var r=n(a(94184)),i=a(67294),s=a(35461),o=a(58668),l=n(a(83395)),u=n(a(23217)),d=a(85893);function c(e){let{onClick:t,className:a}=e;return(0,d.jsx)("div",{className:(0,r.default)(a,l.default.mediaCanvas,l.default.placeholder,{[l.default.mediaCanvasClickable]:!!t}),onClick:t,children:(0,d.jsx)(u.default,{name:"business-description"})})}const f=(0,i.forwardRef)(((e,t)=>{const{theme:a,active:n,onClick:u,badge:f,overlayContent:h,imgRef:p}=e,m=(0,i.useRef)(null),g=(0,i.useRef)(null),_=(0,s.useModelValues)(e.mediaData,["mediaStage","mediaBlob","renderableUrl","preview"]);(0,i.useEffect)((()=>(null==p||p(g.current),()=>{null==p||p(null)})),[]);const v=()=>m.current;let b,y;(0,i.useImperativeHandle)(t,(()=>({getImageContainerElement:v}))),_.mediaStage===o.MEDIA_DATA_STAGE.RESOLVED?(b=(0,d.jsx)("div",{className:(0,r.default)(l.default.mediaCanvas,{[l.default.mediaCanvasClickable]:!!u}),style:{backgroundImage:`url(${_.renderableUrl})`},onClick:u,ref:g}),null!=h&&(y=(0,d.jsx)("div",{className:l.default.overlay,children:h}))):b=_.mediaStage===o.MEDIA_DATA_STAGE.PREPARING?(0,d.jsx)(c,{className:e.className,onClick:e.onClick}):_.mediaStage===o.MEDIA_DATA_STAGE.ERROR_MISSING?null:(0,d.jsx)("div",{className:l.default.mediaCanvas});const C=(0,r.default)(e.className,{[l.default.canvasSecondRow]:"hideableSecondRow"===a,[l.default.canvasComponent]:"list"!==a,[l.default.canvasComponentLargeGallerySpacing]:"largeGallerySpacing"===a,[l.default.list]:"list"===a,[l.default.viewerFlow]:"viewerFlow"===a,[l.default.squareThumb]:"squareThumb"===a,[l.default.orderSquareThumb]:"orderSquareThumb"===a,[l.default.active]:!0===n});if(e.large)return(0,d.jsx)("div",{className:l.default.canvasComponentLarge,children:b});const S=(0,d.jsxs)("div",{ref:m,className:C,children:[(0,d.jsx)("div",{className:l.default.canvasBody}),b,y,f]});return"list"===a?(0,d.jsx)("div",{className:l.default.listWrapper,children:S}):S}));t.ProductThumb=f},60809:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const a=null===(t=e.product.getPreviewImage())||void 0===t?void 0:t.mediaData;if(!a)return null;return(0,u.jsx)(d,(0,r.default)({mediaData:a},e))};var r=n(a(81109)),i=a(35461),s=n(a(90233)),o=a(58668),l=n(a(88990)),u=a(85893);const d=function(e){const{product:t,selections:a,active:n,onClick:r}=e,d=(0,i.useModelValues)(e.mediaData,["mediaStage"]).mediaStage!==o.MEDIA_DATA_STAGE.RESOLVED,c=d?()=>{}:r;return(0,u.jsx)(s.default,{model:t,selections:a,disabled:d,children:(0,u.jsx)(l.default,{product:t,onClick:c,active:n,checkbox:!0,disableOutOfStockAppearance:!0,isMuted:d})},t.id.toString())}},73481:(e,t,a)=>{"use strict";t.Z=function(e){a(38680).j(),a(93253).yj(),a(52709).Y();{const e=a(92658).default,t=a(82039).ProfilePicThumbCollection,n=a(64237).default,r=a(25613).default;e.supported&&t.on("change:tag",(e=>{const t=navigator.serviceWorker;(null==t?void 0:t.controller)&&!e.tag&&r.request(t.controller,n.REMOVE_PP,e.id).catch((()=>{}))}))}a(55452).initDailyStatsStartTime();(0,a(16876).default)((0,n.getEmojiTypeFromPlatform)(e));(0,a(46588).Z)();const t=a(52805);return{MainComponent:t.MainComponent,hasPending:t.hasPending,notificationBackend:a(93551),execApiCmd:a(18633).Z}};var n=a(14315)},5280:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,l.useState)(0),[a,n]=(0,l.useState)(!1),C=()=>{const e=p.ChatCollection.filter((e=>e.archive&&(e.optimisticUnreadCount>0||e.optimisticUnreadCount===r.default.MARKED_AS_UNREAD))).length;t(e)},S=()=>{if((0,g.isElevatedImportantMessageEnabled)()){const e=p.ChatCollection.filter((e=>e.archive&&e.isGroup&&(e.optimisticUnreadCount>0||e.optimisticUnreadCount===r.default.MARKED_AS_UNREAD))).some((e=>{var t,a;const n=null!==(t=null===(a=e.groupMetadata)||void 0===a?void 0:a.unreadMentionMetadata.getUnreadMentionCount())&&void 0!==t?t:0,r=!e.archiveAtMentionViewedInDrawer;return n>0&&r}));n(e)}};(0,u.useListener)(p.ChatCollection,"add remove reset change:archive change:optimisticUnreadCount change:muteExpiration",C),(0,u.useListener)(p.ChatCollection,"change:archive change:hasUnreadMention change:archiveAtMentionViewedInDrawer",S),(0,l.useEffect)((()=>{C(),(0,g.isElevatedImportantMessageEnabled)()&&S()}),[]);const E=0===e||a?null:(0,y.jsx)("div",{className:d.default.unreadCountWrapper,children:(0,y.jsx)(b.default,{count:e,transparentBg:!0})}),T=(0,y.jsx)(m.FlexRow,{align:"center",justify:"center",className:d.default.archivedIcon,children:(0,y.jsx)(v.default,{name:"archived"})}),x=a?(0,y.jsx)("div",{className:d.default.iconMentions,children:(0,y.jsx)(v.default,{name:"mentions",className:d.default.iconMentions})},"icon-mentions"):null,M=[o.fbt._("Archived",null,{hk:"1PK2es"}),a?o.fbt._("@ message",null,{hk:"2UzXVt"}):""].join(" "),k=(0,y.jsxs)(y.Fragment,{children:[x,E]});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{"data-tab":s.TAB_ORDER.ARCHIVED_ENTRY_POINT,className:d.default.wrapper,onClick:()=>{new _.default.ChatFolderOpen({activityIndicatorCount:e,folderType:"Archive"}).commit(),i.DrawerManager.openDrawerLeft((0,y.jsx)(c.ArchivedFlowLoadable,{}))},"aria-label":M,children:(0,y.jsx)(h.default,{image:T,primary:o.fbt._("Archived",null,{hk:"1PK2es"}),detail:k,theme:"archive-panel"})}),(0,y.jsx)(f.default,{})]})};var r=n(a(64369)),i=a(41455),s=a(55715),o=a(48360),l=a(67294),u=a(87550),d=n(a(19266)),c=a(78457),f=n(a(22245)),h=n(a(44356)),p=a(69951),m=a(29623),g=a(41566),_=n(a(11339)),v=n(a(23217)),b=n(a(72994)),y=a(85893)},42126:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(a(45095));var r=a(57319),i=a(88555),s=a(81572),o=a(21310),l=a(38184),u=a(14597),d=a(26741),c=(a(55452),n(a(40436))),f=a(67294),h=n(a(16223)),p=a(87550),m=a(35461),g=n(a(55010)),_=n(a(95754)),v=a(17239),b=a(12591),y=a(18671),C=n(a(96876)),S=n(a(11339)),E=a(72472),T=n(a(51783)),x=n(a(18779)),M=n(a(65105)),k=a(64551),w=a(8080),P=a(97628),A=a(85893);function j(e){var t;const{setShowButterBar:a}=e,{theme:n}=(0,f.useContext)(P.ThemeContext);(0,m.useModelValues)(e.stream,["displayInfo","needsUpdate"]),(0,m.useModelValues)(e.notice,["noticeId","blocking","banner","shouldShowButterBar"]);const o=(0,m.useModelValues)(e.mute,["isMuted"]),d=(0,m.useModelValues)(e.mdOptInDeadline,["showAwarenessMsg","showCountDownMsg","daysLeftTillDeadline","expirationTime"]),[b,C]=(0,f.useState)((()=>{const e=v.Conn.battery<15?v.Conn.battery<5?2:1:0;return v.Conn.plugged?0:e})),[E,j]=(0,f.useState)(null===(t=window.Notification)||void 0===t?void 0:t.permission),[N,R]=(0,f.useState)(!1),[D,L]=(0,f.useState)(!1),[B,F]=(0,f.useState)((()=>null)),[G,U]=(0,f.useState)((()=>null)),V=e=>{const t=b;v.Conn.plugged||v.Conn.battery>15||(v.Conn.battery<=5?-2!==t&&e&&H():t>-1&&v.Conn.battery<=15&&e&&H())},W=(0,h.default)((()=>new r.ShiftTimer((()=>V(!1)))));function H(){W.current.onOrBefore(1e4)}const q=(0,h.default)((()=>new r.ShiftTimer((e=>{R(e)})))),Y=(0,h.default)((()=>new r.ShiftTimer((e=>{null==a||a(e)})))),z=()=>l.LegacyPhoneFeatures.supportsFeature(l.LegacyPhoneFeatures.F.USER_NOTICE)&&T.default.shouldShowButterBar&&null!=T.default.noticeId&&null!=T.default.banner&&!1===T.default.blocking;if((0,f.useEffect)((()=>{a&&a(N||D)}),[]),(0,g.default)((()=>{q.current.cancel(),W.current.cancel(),Y.current.cancel()})),(0,p.useListener)(v.Conn,["change:plugged","change:battery"],(()=>{V(!0)})),(0,p.useListener)(T.default,"change:noticeId",(()=>{L(!1)})),(0,p.useListener)(T.default,["change:banner","change:blocking"],(()=>{if(z()&&!D){new S.default.UserNotice({userNoticeId:T.default.noticeId,userNoticeContentVersion:T.default.policyVersion,userNoticeEvent:S.default.USER_NOTICE_EVENT.BANNER_APPEAR}).commit(),L(!0)}})),(0,p.useListener)(s.Cmd,"handle_fatal_error",(()=>{})),(0,p.useListener)(s.Cmd,"handle_low_storage_butter_bar",(()=>{})),(0,i.isMDBackend)()&&(w.Stream.displayInfo===w.StreamInfo.RESUMING||w.Stream.displayInfo===w.StreamInfo.TIMEOUT||b>0))return null;return(0,A.jsxs)(c.default,{transitionName:"butterbar",className:_.default.container,children:[null,null,null,(0,A.jsx)(x.default,{shouldShow:z(),banner:T.default.banner,theme:n,onDismissNotice:0===k.ServerProps.greenAlertBannerDuration?null:()=>{T.default.dismissButterBarNotice()}}),(0,A.jsx)(M.default,{displayInfo:w.Stream.displayInfo,needsUpdate:w.Stream.needsUpdate,needsManualDownload:!1,lowBatteryWarning:b,showNotify:N,isMuted:o.isMuted,notifyPermission:E,showAwarenessMsg:d.showAwarenessMsg,showCountDownMsg:d.showCountDownMsg,daysLeftTillDeadline:d.daysLeftTillDeadline,expirationTime:d.expirationTime,onShowNotify:()=>{q.current.onOrBefore(0,!1)},onShowNotifyDelay:()=>{q.current.onOrBefore(1e4,!0),Y.current.onOrBefore(0,!0)},onRequestPermissions:()=>{u.ModalManager.open((0,A.jsx)(y.GuidePopup,{messaging:y.Messaging.NOTIFICATIONS,onConfirm:I,onCancel:O,type:y.TYPE.GUIDE_ALLOW})),window.Notification.requestPermission((e=>{u.ModalManager.close(),j(e)}))},onDismissLowBatteryWarning:()=>{b>0&&C(-b)}})]})}function I(){u.ModalManager.close()}function O(){switch(d.UA.browser){case d.BROWSER_TYPE.CHROME:return(0,b.openExternalLink)((0,o.getNotificationChromeFaqUrl)());case d.BROWSER_TYPE.FIREFOX:return(0,b.openExternalLink)((0,o.getNotificationFirefoxFaqUrl)());case d.BROWSER_TYPE.SAFARI:return(0,b.openExternalLink)((0,o.getNotificationSafariFaqUrl)());case d.BROWSER_TYPE.OPERA:return(0,b.openExternalLink)((0,o.getNotificationOperaFaqUrl)());case d.BROWSER_TYPE.EDGE:return(0,b.openExternalLink)((0,o.getNotificationEdgeFaqUrl)());default:return(0,b.openExternalLink)((0,o.getNotificationChromeFaqUrl)())}}t.default=e=>{let{setShowButterBar:t}=e;return(0,A.jsx)(j,{stream:w.Stream,notice:T.default,mute:E.MuteCollection.globalMute(),mdOptInDeadline:C.default,setShowButterBar:t})}},30508:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{action:t=null,onDismiss:a,type:n,text:p}=e,m=(0,r.default)(s.default.butterbar,{[s.default.action]:t,[s.default.computer]:"computer"===n||"generalAlert"===n,[s.default.phone]:"phone"===n,[s.default.notification]:"notification"===n,[s.default.battery]:"battery"===n,[s.default.update]:"update"===n,[s.default.notice]:"notice"===n&&!o.Conn.isSMB,[s.default.noticeSmb]:"notice"===n&&o.Conn.isSMB,[s.default.fatal]:"fatal"===n,[s.default.nuxGreen]:"nuxGreen"===n,[s.default.nuxBlue]:"nuxBlue"===n,[s.default.mdOptInAwareness]:"mdOptInAwareness"===n,[s.default.mdOptInCountdown]:"mdOptInCountdown"===n}),g={computer:"alert-computer",phone:"alert-phone",notification:"alert-notification",battery:"alert-battery",update:"alert-update",notice:"alert-notice",fatal:"alert",generalAlert:"alert",nuxGreen:"business-description",nuxBlue:"collections_folder",mdOptInAwareness:"md-opt-in-green-light",mdOptInCountdown:"md-opt-in-yellow-light"},_=a?(0,f.jsx)("div",{className:s.default.controls,children:(0,f.jsx)(d.default,{className:s.default.controlsIcon,"aria-label":i.fbt._("Close",null,{hk:"19Jpec"}),name:"x",onClick:a})}):null,v=e.title?(0,f.jsx)("div",{className:s.default.title,children:e.title}):null,b=(0,f.jsx)(c.default,{name:g[e.type],"aria-label":e.iconDescription}),y=e.iconSvg&&(0,u.sanitizeNoticeSVG)(e.iconSvg),C=y?(0,f.jsx)("span",{"aria-label":e.iconDescription,dangerouslySetInnerHTML:{__html:y}}):b;let S;switch(e.type){case"notice":S=(0,f.jsx)(l.FlexRow,{className:s.default.noticeSvgWrapper,align:"center",justify:"center",children:C});break;case"fatal":S=(0,f.jsx)(l.FlexRow,{className:s.default.fatalSvgWrapper,align:"center",justify:"center",children:(0,f.jsx)(c.default,{name:g[e.type]})});break;case"nuxGreen":S=(0,f.jsx)(l.FlexRow,{className:s.default.nuxGreenSvgWrapper,align:"center",justify:"center",children:(0,f.jsx)(c.default,{name:g[e.type]})});break;case"nuxBlue":S=(0,f.jsx)(l.FlexRow,{className:s.default.nuxBlueSvgWrapper,align:"center",justify:"center",children:(0,f.jsx)(c.default,{name:g[e.type]})});break;case"mdOptInAwareness":S=(0,f.jsx)(c.default,{name:"md-opt-in-green-light"});break;case"mdOptInCountdown":S=(0,f.jsx)(c.default,{name:"md-opt-in-yellow-light"});break;case"generalAlert":S=(0,f.jsx)(l.FlexRow,{className:s.default.fatalSvgWrapper,align:"center",justify:"center",children:(0,f.jsx)(c.default,{name:g[e.type],width:36,height:36})});break;default:S=(0,f.jsx)(c.default,{name:g[e.type]})}return(0,f.jsx)("div",{className:s.default.wrapper,children:(0,f.jsxs)("div",{className:m,onClick:t,children:[(0,f.jsx)("div",{className:s.default.icon,children:S}),(0,f.jsxs)("div",{className:s.default.body,children:[v,(0,f.jsx)(h,{isNotice:"notice"===n,text:p})]}),_]})})};var r=n(a(94184)),i=a(48360),s=n(a(56642)),o=a(17239),l=a(29623),u=a(90995),d=n(a(38932)),c=n(a(23217)),f=a(85893);function h(e){let{isNotice:t,text:a}=e;return a?t?(0,f.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,u.sanitizeNoticeText)(a)},className:s.default.text}):(0,f.jsx)("div",{className:s.default.text,children:a}):null}},18779:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{shouldShow:t,banner:a,theme:n,onDismissNotice:s}=e;if(!t)return null;if(!(null==a?void 0:a.text))return null;const{iconDescription:o,text:l,iconSvg:u}=a;let d;u&&(d="light"===n?u.light:u.dark);return(0,i.jsx)(r.default,{type:"notice",text:l,iconSvg:d,iconDescription:null!=o?o:"",onDismiss:s},"noticebbar")};var r=n(a(30508)),i=a(85893)},28283:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,s.useState)(!0),a=(0,o.default)((()=>new r.ShiftTimer((()=>{t(!0)}))));(0,s.useEffect)((()=>()=>{a.current.cancel()}),[]);const n=()=>{c.Socket.poke(),t(!1),a.current.onOrAfter(3e3)};let h,p;e?(h=(0,f.jsxs)(f.Fragment,{children:[`${d.default.t(483)} `,(0,f.jsx)(l.default,{action:n,children:d.default.t(609)})]}),p=i.fbt._("Computer not connected",null,{hk:"300jSy"})):(h=null,p=d.default.t(260));return(0,f.jsx)(u.default,{type:"computer",title:p,text:h})};var r=a(57319),i=a(48360),s=a(67294),o=n(a(16223)),l=n(a(29237)),u=n(a(30508)),d=n(a(14296)),c=a(65044),f=a(85893)},65105:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{displayInfo:t,needsUpdate:a,needsManualDownload:n,lowBatteryWarning:i,showNotify:f,isMuted:v,notifyPermission:b,showAwarenessMsg:T,showCountDownMsg:x,daysLeftTillDeadline:M,expirationTime:k,onShowNotify:w,onShowNotifyDelay:P,onRequestPermissions:A,onDismissLowBatteryWarning:j}=e,I=null;switch(t){case _.StreamInfo.OFFLINE:I=(0,y.jsx)(m.default,{},"bbar");break;case _.StreamInfo.OPENING:case _.StreamInfo.CONNECTING:I=(0,y.jsx)(g.default,{},"bbar");break;case _.StreamInfo.NORMAL:break;case _.StreamInfo.RESUMING:case _.StreamInfo.TIMEOUT:const e=(0,y.jsxs)(y.Fragment,{children:[l.fbt._("Make sure your phone has an active Internet connection.",null,{hk:"4u0X1o"}),(0,y.jsx)(u.default,{action:S,children:h.default.t(447)})]});I=(0,y.jsx)(d.default,{type:"phone",title:l.fbt._("Phone not connected",null,{hk:"3Whn0S"}),text:e},"bbar")}!I&&i>0&&(I=(0,y.jsx)(d.default,{type:"battery",title:l.fbt._("Phone battery low",null,{hk:"1i4Y04"}),text:h.default.t(178),onDismiss:j},"bbar"));if(T||x){let e,t,a,n;T?(e="mdOptInAwareness",t=l.fbt._("New WhatsApp Web available",null,{hk:"1eBT4N"}),n=(0,s.mdMigrationExperience)()?l.fbt._("With this update, you can use WhatsApp Business on 4 other web devices without keeping your phone online.",null,{hk:"2qKI0w"}):l.fbt._("With this update, your phone won’t need to stay online to use WhatsApp Web.",null,{hk:"4CInCi"}),a=(0,y.jsxs)(y.Fragment,{children:[n,(0,y.jsx)("div",{className:c.default.mdOptInLink,children:l.fbt._("Get update",null,{hk:"10YWVu"})})]})):(e="mdOptInCountdown",t=l.fbt._("Update WhatsApp Web",null,{hk:"2thNci"}),(0,r.isNumber)(M)&&M>0?a=(0,y.jsxs)(y.Fragment,{children:[l.fbt._({"*":"This version expires in {num_days} days. Update to use WhatsApp Web without keeping your phone online.",_1:"This version expires in 1 day. Update to use WhatsApp Web without keeping your phone online."},[l.fbt._plural(M,"num_days")],{hk:"rjbxf"}),(0,y.jsx)("div",{className:c.default.mdOptInLink,children:l.fbt._("Get update",null,{hk:"10YWVu"})})]}):k&&(a=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.default,{id:488,params:{time:k}}),(0,y.jsx)("div",{className:c.default.mdOptInLink,children:l.fbt._("Get update",null,{hk:"10YWVu"})})]}))),I=(0,y.jsx)(d.default,{type:e,title:t,text:a,action:E},"bbar")}if(!I&&a){const e=(0,y.jsx)(u.default,{children:h.default.t(189)});I=(0,y.jsx)(d.default,{type:"update",title:l.fbt._("Update available",null,{hk:"3XIG3f"}),text:e,action:C},"bbar")}if(null==I&&window.Notification&&b===o.PERMISSION_DEFAULT&&!v)if(f){const e=(0,y.jsx)(u.default,{children:h.default.t(304)});I=(0,y.jsx)(d.default,{type:"notification",title:l.fbt._("Get notified of new messages",null,{hk:"1d3TeN"}),text:e,action:A},"bbar")}else P();else f&&w();return I};var r=a(51737),i=a(21310),s=a(8139),o=a(10945),l=a(48360),u=n(a(29237)),d=n(a(30508)),c=n(a(56642)),f=a(12591),h=n(a(14296)),p=n(a(56074)),m=n(a(28283)),g=n(a(77676)),_=a(8080),v=a(83023),b=a(17879),y=a(85893);function C(){v.Updater.restart()}function S(){(0,f.openExternalLink)((0,i.getCannotConnectFaqUrl)())}function E(){(0,b.upgradeToMD)(!0)}},77676:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),g=(0,o.default)(),_=(0,l.default)((()=>new r.ShiftTimer((()=>{t(!0),n(!0)})))),v=(0,l.default)((()=>new r.ShiftTimer((()=>{g()}))));(0,s.useEffect)((()=>(_.current.onOrBefore(3e3),()=>{_.current.cancel(),v.current.cancel()})),[]);const b=()=>{v.current.cancel(),_.current.onOrBefore(3e3),t(!1)};let y,C;if((0,u.useListener)(p.Socket,"change:state",b),h.Stream.displayInfo===h.StreamInfo.OPENING)y=f.default.t(259);else{if(h.Stream.displayInfo!==h.StreamInfo.CONNECTING)return null;y=f.default.t(260)}const S=()=>{p.Socket.poke(),b()};if(e){v.current.onOrAfter(1e3);let e=p.Socket.retryTimestamp-Date.now();if(isNaN(e)||e<1)e=f.default.t(619),setTimeout((()=>{p.Socket.poke()}),0);else if(e<6e4){const t=Math.ceil(e/1e3);e=f.default.t(621,{number:t,_plural:t})}else e=f.default.t(620,{duration:i.default.duration(e).humanize()});C=(0,m.jsxs)(m.Fragment,{children:[e,(0,m.jsx)(d.default,{action:S,children:f.default.t(618)})]})}else C=a?(0,m.jsx)("span",{children:f.default.t(619)}):null;return(0,m.jsx)(c.default,{type:"computer",title:y,text:C})};var r=a(57319),i=n(a(30381)),s=a(67294),o=n(a(59312)),l=n(a(16223)),u=a(87550),d=n(a(29237)),c=n(a(30508)),f=n(a(14296)),h=a(8080),p=a(65044),m=a(85893)},49107:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(99964)),i=n(a(45120)),s=n(a(52013)),o=n(a(40436)),l=n(a(94184)),u=a(48360),d=a(67294),c=n(a(56720)),f=n(a(37453)),h=n(a(44356)),p=a(65417),m=a(30695),g=n(a(54889)),_=a(11054),v=n(a(23217)),b=n(a(46603)),y=a(85893);const C={btnContext:{display:"l7jjieqr",width:"qg8w82as",height:"jdwybkuq",marginStart:"qnz2jpws",color:"s4k44ver",verticalAlign:"fewfhwl7"},btnContextHover:{":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"t5zm8b4w"}},product:{position:"g0rxnol2",top:"cy13c0w7"}};function S(e,t){const{contextEnabled:a,onContext:n}=e,[S,E]=(0,d.useState)(!1),[T,x]=(0,d.useState)(!1),M=(0,f.default)(T),k=(0,b.default)(),w=(0,d.useRef)(null),P=(0,d.useRef)(null),A=()=>P.current,j=()=>{i.default.maybeIndicateFocus(P.current)};Boolean(M)&&Boolean(!e.contextMenu)&&x(!1);const I=e=>{e.stopPropagation()},O=e=>{e.stopPropagation(),(a()||T)&&(e.preventDefault(),null==n||n({anchor:e.target}))},N=e=>{if((0,g.default)(e)){if(e.stopPropagation(),!a()&&!T)return;null==n||n({anchor:w.current})}},R=()=>w.current,D=()=>{(w||e.contextEnabled())&&s.default.focus(w.current)},L=()=>{S||T||!e.contextEnabled()||E(!0)},B=()=>{S&&E(!1)},F=()=>{var e;null===(e=w.current)||void 0===e||e.removeAttribute("aria-hidden")},G=()=>{var e;null===(e=w.current)||void 0===e||e.setAttribute("aria-hidden","true")},U=k&&Boolean(e.active)&&e.contextEnabled(),V=(0,l.default)(e.className,{hoverLocal:T||S||U});(0,d.useImperativeHandle)(t,(()=>({indicateFocus:j,focusOnContextMenuButton:D,mouseOver:L,mouseLeave:B,getContextMenuRef:R,getCellFrameDivRef:A})));const W="string"==typeof e.primary?(0,y.jsx)(p.EmojiText,{text:e.primary,direction:"auto",formatters:m.Configuration.Search({terms:e.searchText?[e.searchText]:[]}),titlify:!0,ellipsify:!0}):e.primary;let H=null,q=null;if(null!=e.pendingAction&&e.pendingAction>0)q=(0,y.jsx)("div",{className:(0,c.default)(C.btnContext,k&&C.btnContextHover),children:(0,y.jsx)(_.Spinner,{size:18,stroke:6,color:"highlight"})});else if(S||e.active){var Y;const t=(0,c.default)(C.btnContext,"product"===e.theme&&C.product),a="chat-info"===e.theme;H=(0,y.jsx)("button",{"data-a8n":r.default.key("context-btn"),className:t,ref:w,onMouseDown:I,onClick:O,"aria-label":null!==(Y=e.contextMenuAriaLabel)&&void 0!==Y?Y:u.fbt._("Open the chat context menu",null,{hk:"2rxtMR"}),onKeyDown:N,onFocus:F,onBlur:G,"aria-hidden":!0,tabIndex:e.contextMenuControlled?-1:0,children:(0,y.jsx)(v.default,{name:"down",color:a?"secondary":null})},"icon-context")}const z=(0,y.jsx)(o.default,{transitionName:"fade",children:q}),K=(0,y.jsx)(o.default,{transitionName:"pop-fast-chat",children:S?H:null});let $,Q;return null!=e.secondary?($=e.primaryDetail,Q=[(0,y.jsx)(d.Fragment,{children:e.secondaryDetail},"prop"),(0,y.jsx)(d.Fragment,{children:z},"spinner"),(0,y.jsx)(d.Fragment,{children:K},"button")]):$=[(0,y.jsx)(d.Fragment,{children:e.primaryDetail},"prop"),(0,y.jsx)(d.Fragment,{children:z},"spinner"),(0,y.jsx)(d.Fragment,{children:K},"button")],(0,y.jsx)(h.default,{a8n:e.a8n,setDivRef:e=>{P.current=e},image:e.image,customImage:e.customImage,className:V,unread:e.unread,active:e.active,idle:e.idle,checkbox:e.checkbox,isMuted:e.isMuted,dragging:e.dragging,theme:e.theme,primary:W,primaryDetail:$,secondary:e.secondary,secondaryDetail:Q,detail:e.detail,onClick:e.onClick,onMouseDown:e.onMouseDown,onContextMenu:e.contextEnabled()?e=>{a()&&(e.stopPropagation(),e.preventDefault(),n&&n({event:e}))}:null,onMouseEnter:S?null:()=>{S||T||!e.contextEnabled()||E(!0)},onMouseOver:S?null:L,onMouseLeave:S?B:null})}var E=(0,d.forwardRef)(S);t.default=E},65511:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Mode=t.Chat=void 0;var r=n(a(48926)),i=a(50796),s=a(92574),o=a(81572),l=a(72312),u=n(a(45120)),d=n(a(52013)),c=a(30764),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=se(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),h=a(8139),p=a(14597),m=n(a(89867)),g=a(48360),_=a(67294),v=a(55712),b=n(a(79928)),y=n(a(49107)),C=a(63183),S=a(69951),E=n(a(24141)),T=n(a(17589)),x=n(a(52665)),M=a(17239),k=a(2732),w=n(a(92726)),P=n(a(39424)),A=a(88984),j=a(71174),I=n(a(63928)),O=n(a(45152)),N=a(29424),R=n(a(46040)),D=a(79259),L=n(a(14296)),B=a(41566),F=a(84387),G=a(47809),U=n(a(75109)),V=n(a(11339)),W=(a(72472),n(a(90922))),H=a(12176),q=n(a(73437)),Y=a(29894),z=n(a(15246)),K=a(78756),$=a(92745),Q=n(a(68132)),X=n(a(65932)),J=a(18146),Z=a(13923),ee=n(a(4478)),te=n(a(55364)),ae=a(18644),ne=n(a(24717)),re=n(a(35148)),ie=a(85893);function se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(se=function(e){return e?a:t})(e)}const oe={LAST:"LAST",INFO:"INFO"};t.Mode=oe;const le="Files";class ue extends _.PureComponent{static getDerivedStateFromProps(e,t){const a={};let n=e.active&&e.active.value instanceof C.Chat&&m.default.equals(e.active.value.id,e.chat.id);e.active&&e.active.value instanceof m.default&&m.default.isGroup(e.active.value)&&(n=m.default.equals(e.active.value,e.chat.id)),t.active!==n&&(a.active=n);const r=e.searchQuery?e.searchQuery.trimmed:"";t.searchText!==r&&(a.searchText=r);const i=e.chat.id;return t.chatId!==i&&(a.chatId=i,a.unreadCount=e.chat.optimisticUnreadCount),a}constructor(e){var t;super(e),t=this,this._hoverCounter=0,this._setCellRef=e=>{this._cellRef=e},this._setHotKeysRef=e=>{this._hotKeysRef=e},this.state={active:!1,dragging:!1,searchText:"",contextMenu:null,chatId:null,unreadCount:0,showUnreadMentonIcon:!1},this._setUnreadCount=()=>{const e=this.props.chat.optimisticUnreadCount;e!==this.state.unreadCount&&this.setState({unreadCount:e})},this._prefetchGroupMetadata=()=>{var e;const{chat:t}=this.props;t.isGroup&&(null===(e=t.groupMetadata)||void 0===e?void 0:e.stale)&&I.default.find(t.id).catch((0,i.filteredCatch)([s.WebdDrop,f.ProtoVersionUndefined],(()=>{})))},this._handleSearch=()=>{this.props.searchQuery?this.setState({searchText:this.props.searchQuery.trimmed}):__LOG__(3)`Chat: prop searchQuery is undefined`},this._handleActiveChange=(e,t)=>{if("focus"===e){const e=this._hotKeysRef;e&&(d.default.focus(e),t&&(0,K.scrollIntoViewIfNeeded)(e))}this.setState({active:!!e})},this.contextEnabled=()=>{const{noContext:e}=this.props;return!e},this.editLabel=()=>{const{selectableState:e,multiSelection:t}=this.props;!this.props.searchQuery||this.props.searchQuery.isEmptyQuery?this.props.chat.archive?this.addOrRemoveLabelOnSelected():e&&t&&(e.setSelectable(!0),t.setVal((0,J.unproxy)(this.props.chat))):this.addOrRemoveLabelOnSelected()},this.addOrRemoveLabelOnSelected=()=>{const e=[(0,J.unproxy)(this.props.chat)];p.ModalManager.open((0,ie.jsx)(G.ManageLabelFlowLoadable,{modelsToUpdate:e}))},this._handleMenu=e=>{if(this.state.contextMenu)return void this.setState({contextMenu:null});const t=this.props.chat,a=[];t.canArchive()&&a.push((0,ie.jsx)(b.default,{onArchive:this._handleArchive,chat:(0,J.unproxy)(t)},"archive")),t.mute.canMute()&&(t.archive&&this.props.hideMuteOption||a.push((0,ie.jsx)(W.default,{onMute:this._handleMute,mute:t.mute,chat:t,settings:Q.default},"mute"))),a.push((0,ie.jsx)(P.default,{onDeleteOrExit:this._handleDeleteOrExit,chat:(0,J.unproxy)(t)},"delete")),M.Conn.platform===M.PLATFORMS.IPHONE&&t.isBroadcast||!t.canPin()||a.push((0,ie.jsx)(z.default,{onPinOrUnpin:this._handlePinOrUnpin,chat:t},"pin")),(0,h.canEditLabelAssociation)()&&a.push((0,ie.jsx)(j.DropdownItem,{a8n:"mi-edit-label",action:this.editLabel,children:g.fbt._("Edit label",null,{hk:"3QX44B"})},"EditLabel")),t.canUnread&&a.push((0,ie.jsx)(U.default,{onMarkUnread:this._handleMarkUnread,chat:(0,J.unproxy)(t)},"mark_unread")),this.setState({contextMenu:{menu:a,event:e.event,anchor:e.anchor}})},this._removeContext=()=>{this.setState({contextMenu:null})},this._handleMute=e=>{o.Cmd.muteChat((0,J.unproxy)(this.props.chat),e)},this._handleArchive=e=>{o.Cmd.archiveChat((0,J.unproxy)(this.props.chat),e)},this._handleDeleteOrExit=()=>{o.Cmd.deleteOrExitChat((0,J.unproxy)(this.props.chat),this)},this._handlePinOrUnpin=function(){var e=(0,r.default)((function*(e){!e||(yield(0,Y.getNumChatsPinned)())<3?o.Cmd.pinChat((0,J.unproxy)(t.props.chat),e):S.ChatCollection.filter((e=>{var t;return e.shouldAppearInList&&(null!==(t=e.pin)&&void 0!==t?t:0)>0})).length>=3?p.ModalManager.open((0,ie.jsx)(x.default,{onOK:()=>p.ModalManager.close(),okText:g.fbt._("OK",null,{hk:"2KEeHb"}),children:L.default.t(33)})):p.ModalManager.open((0,ie.jsx)(x.default,{title:g.fbt._("You can only pin up to 3 chats",null,{hk:"2EThOp"}),onOK:()=>{(0,Y.unpinAll)(),p.ModalManager.close()},okText:g.fbt._("Unpin All",null,{hk:"1C9Xfc"}),onCancel:()=>p.ModalManager.close(),cancelText:g.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,ie.jsx)(Z.TextDiv,{theme:"muted",children:g.fbt._("Some of your pinned chats can't be seen on this device. To pin a different chat, unpin all chats first.",null,{hk:"33NEQP"})})}))}));return function(){return e.apply(this,arguments)}}(),this._handleMarkUnread=e=>{o.Cmd.markChatUnread((0,J.unproxy)(this.props.chat),e),e||this._clearUnreadMentions()},this._handleClick=e=>{const{onClick:t,chat:a}=this.props;t&&t(e,(0,J.unproxy)(a))},this._handleMouseDown=e=>{0===e.button&&this._handleClick(e)},this._handleKeyboardActivation=e=>{e.preventDefault(),e.stopPropagation(),u.default.shouldIndicateFocus(),this._handleClick(e)},this._handleDragEnter=e=>{if(!this.props.chat.canSend)return;new w.default(e.dataTransfer).hasType(le)&&(0===this._hoverCounter&&this.setState({dragging:!0}),this._hoverCounter+=1)},this._handleDragLeave=e=>{if(!this.props.chat.canSend)return;new w.default(e.dataTransfer).hasType(le)&&(this._hoverCounter-=1,0===this._hoverCounter&&this.setState({dragging:!1}))},this._handleDrop=e=>{const{chat:t}=this.props;if(!t.canSend)return;this.setState({dragging:!1});const a=new w.default(e.dataTransfer);(a.hasType(le)||a.hasType("text/uri-list")||a.hasType("text/html"))&&(0,l.getFiles)(e).then((e=>{o.Cmd.openChatFromUnread(t).then((a=>{a&&o.Cmd.attachMediaDrawer({chat:t,attachments:e.map((e=>({file:e}))),fileOrigin:V.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY})}))})).catch((0,i.filteredCatch)(f.MediaDragDropError,(e=>{o.Cmd.openChatFromUnread(t).then((a=>{a&&e.src&&o.Cmd.pasteChatTextInput(t,e.src)}))})))},this.indicateFocus=e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=this._cellRef)||void 0===t||t.indicateFocus()},this._toggleFocusInContact=()=>{this._hotKeysRef&&this._hotKeysRef!==document.activeElement?d.default.focus(this._hotKeysRef):this._cellRef&&this._cellRef.focusOnContextMenuButton()},this._handlers={enter:this._handleKeyboardActivation,space:this._handleKeyboardActivation,right:this._toggleFocusInContact,left:this._toggleFocusInContact},this._throttledSetUnreadCount=this.props.throttle(this._setUnreadCount,0,{leading:!1,tailing:!0})}componentDidMount(){var e;const{chat:t}=this.props;this.initListeners(this.props),t.isGroup&&(null===(e=t.groupMetadata)||void 0===e?void 0:e.stale)&&c.UIBusyTasks.enqueue(this._prefetchGroupMetadata)}componentDidUpdate(e){const{chat:t}=this.props;var a;t!==e.chat&&(t.isGroup&&(null===(a=t.groupMetadata)||void 0===a?void 0:a.stale)&&c.UIBusyTasks.enqueue(this._prefetchGroupMetadata));t.optimisticUnreadCount!==this.state.unreadCount&&this._throttledSetUnreadCount(),this.initListeners(this.props,e)}_clearUnreadMentions(){const{chat:e}=this.props;var t;(0,B.isGroupCatchUpEnabled)()&&e.isGroup&&(null===(t=e.groupMetadata)||void 0===t||t.unreadMentionMetadata.reset())}initListeners(e,t){const{listeners:a,active:n,chat:r,searchQuery:i,frequent:s}=e;(null==t?void 0:t.searchQuery)&&t.searchQuery!==i&&a.remove(t.searchQuery,$.SEARCH_EVENT,this._handleSearch),!i||t&&i===t.searchQuery||a.add(i,$.SEARCH_EVENT,this._handleSearch);const o=null==t?void 0:t.chat.id;if(!r.id.equals(o)&&((null==t?void 0:t.active)&&a.remove(t.active,t.chat.id.toString(),this._handleActiveChange),n)){const e=(s?k.FREQUENT_PREFIX:"")+r.id.toString();a.add(n,e,this._handleActiveChange)}}render(){let{chat:e,mode:t,secondary:a,theme:n,filterPreset:r,ephemeralIcon:i,hideArchivedIcon:s,hideMuteIcon:o,smallUnread:l,hidePin:u,fakePin:d}=this.props;const{searchText:c,active:f,dragging:p,contextMenu:m,unreadCount:g}=this.state;let _,b,C;switch(t){case oe.LAST:_=(0,ie.jsx)(te.default,{chat:e}),null==a&&(a=(0,ie.jsx)(T.default,{chat:e}),b=(0,ie.jsx)(R.default,{chat:e,mute:e.mute,unreadCount:g,hideArchivedIcon:!0===s,hideMuteIcon:!0===o,settings:Q.default,unreadMentionIcon:e.hasUnreadMention,smallUnread:l,hidePin:u,fakePin:d}));break;case oe.INFO:null==a&&(a=e.isGroup||e.isBroadcast?(0,ie.jsx)(q.default,{groupMetadata:e.groupMetadata}):(0,ie.jsx)(re.default,{contact:e.contact,presence:e.presence,chatstate:e.presence.chatstate,location:"list"}))}"chat-info"!==n&&"subgroup"!==n&&"community-tab-subgroup"!==n||(C=40);const S=(0,ie.jsx)(A.DetailImage,{id:e.id,alt:"",ephemeralIcon:i,waitIdle:!0,size:C}),{contact:x}=e,M=!0===this.props.showStatusRingAroundProfilePhoto&&(0,h.isStatusV3ProfilePhotoRingEnabled)()&&!x.statusMute?(0,ie.jsx)(E.default,{contactId:x.id}):null,k=(0,ie.jsxs)(ie.Fragment,{children:[M,S]}),w=this.props.mouseDownAsClick;let P;m&&(P=(0,ie.jsx)(ae.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this._removeContext,children:(0,ie.jsx)(ne.default,{contextMenu:m})}));const j=(0,ie.jsx)(H.Name,{chat:e,firstLabel:null==r?void 0:r.label,highlightText:c,showLabel:!0,titlify:!0,ellipsify:!0});let I=null;const L=e.getEphemeralSetting();return null!=L&&0!==L&&(I=(0,ie.jsx)(v.InvisibleLabel,{children:(0,D.getDisappearingMessageExplanationString)(L)})),(0,ie.jsx)(O.default.Provider,{value:e.groupMetadata,children:(0,ie.jsxs)(N.HotKeys,{ref:this._setHotKeysRef,handlers:this._handlers,onFocus:this.indicateFocus,onDragEnter:this._handleDragEnter,onDragLeave:this._handleDragLeave,onDrop:this._handleDrop,"aria-selected":f,tabIndex:f?0:-1,role:"row",children:[(0,ie.jsx)(y.default,{id:e.id,ref:this._setCellRef,theme:n,contextEnabled:this.contextEnabled,pendingAction:e.pendingAction,contextMenu:!!m,unread:0!==g,active:!!f,isMuted:!1,dragging:!!p,image:k,primary:j,primaryDetail:_,secondary:a,secondaryDetail:b,onClick:w?void 0:this._handleClick,onMouseDown:w?this._handleMouseDown:void 0,onContext:this._handleMenu}),I,P]})})}}ue.CONCERNS={chat:["id","isReadOnly","isGroup","pendingAction","canSend","isUser","contact","presence","groupMetadata","mute","isBroadcast","canUnread","optimisticUnreadCount","labels","archive","hasUnreadMention","kind"]},ue.defaultProps={mode:oe.LAST},ue.displayName="ChatImpl";const de=(0,ee.default)((0,F.ListenerHOC)((0,X.default)(ue,ue.CONCERNS)));t.Chat=de},17589:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useModelValues)(e.chat,["previewMessage","pendingInitialLoading"]);(0,i.useModelValues)(e.chat.presence.chatstate,["id","type"]);const a=(0,i.useModelValues)(e.chat.presence,["hasData","withholdDisplayStage"],{isStrong:!1});if(a.isActive()){const e=a.getFormattedString();if(e)return(0,d.jsx)(o.EmojiText,{className:s.default.chatstateTyping,direction:"inherit",ellipsify:!0,titlify:!0,text:e})}const n=t.previewMessage;if(!n)return(0,r.isMDBackend)()&&t.pendingInitialLoading?(0,d.jsx)(o.EmojiText,{className:s.default.loadingIndicate,direction:"inherit",titlify:!0,ellipsify:!0,text:l.default.t(472)}):null;return(0,d.jsx)(u.default,{msg:n.safe(),msgType:"LastMessage"})};var r=a(88555),i=a(35461),s=n(a(48491)),o=a(65417),l=n(a(14296)),u=n(a(3982)),d=a(85893)},2732:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Contact=function(e){const t=(0,p.useModelValues)(e.contact,["id","pendingAction","notifyName","name","showBusinessCheckmarkAsPrimary","isGroup","statusMute"]),{searchQuery:a,frequent:n}=e,O=(0,c.useRef)(null),N=(0,c.useRef)(null),R=(0,f.default)(),[D,L]=(0,c.useState)(!1),[B,F]=(0,c.useState)(""),G=!!e.active&&(e.active.value instanceof _.default&&t.isProxyOf(e.active.value));D!==G&&L(G);B!==(a?a.trimmed:"")&&F(a?a.trimmed:"");(0,h.useListener)(a,T.SEARCH_EVENT,(()=>{a?F(a.trimmed):__LOG__(3)`Contact: prop searchQuery is undefined`}));const U=(n?I:"")+t.id.toString();(0,h.useListener)(e.active,U,((e,t)=>{if("focus"===e){const e=N.current;e&&(s.default.focus(e),t&&(0,E.scrollIntoViewIfNeeded)(e))}L(!!e)}));const{listenForAdminChange:V,participantCollection:W}=e;(0,h.useListener)(V&&W?W:null,["change:isAdmin","change:isSuperAdmin"],(e=>{l.default.equals(e.id,t.id)&&R()}));const H=t=>{t.stopPropagation();const a=e.onDelete;a&&a(t,(0,x.unproxy)(e.contact))},q=a=>{const{onClick:n}=e;n&&n(a,(0,x.unproxy)(t))},Y=e=>{e.preventDefault(),e.stopPropagation(),q(e)},{secondary:z,onDelete:K,contextEnabled:$,contextMenu:Q,admin:X,showNotifyName:J,waitIdle:Z,theme:ee,useShortName:te,detail:ae,isPendingParticipant:ne,ephemeralIcon:re}=e,ie=(0,u.default)({[v.default.contactSmall]:e.type===j.SMALL});let se,oe,le;!t.name&&J&&t.notifyName&&(le=(0,A.jsx)("span",{className:v.default.screenName,children:(0,A.jsx)(y.EmojiText,{direction:"auto",text:t.notifyName})}));(X||V&&W&&W.assertGet(t.id).isAdmin)&&(oe=(0,A.jsx)("div",{className:v.default.markerAdmin,children:d.fbt._("Group admin",null,{hk:"1Eojfl"})}));ne&&(oe=(0,A.jsx)("div",{className:v.default.markerInvited,children:d.fbt._("Invited",null,{hk:"4yZipP"})}));if(null!=ae)se=ae;else if(K){const t=e.type===j.SMALL?"x-alt-small":"x-alt";se=(0,A.jsx)("div",{"data-a8n":i.default.key("chat-controls"),className:v.default.chatControls,role:"button",onClick:H,children:(0,A.jsx)(P.default,{name:t})})}let ue=z;null==ue&&(ue=(0,A.jsx)(M.default,{id:t.id,waitIdle:Z}));let de=e.type===j.SMALL?26:void 0;"chat-info"===ee&&(de=40);const ce=e.mouseDownAsClick;let fe;if(t.isGroup){const e=(0,r.default)(g.ChatCollection.get(t.id.toString()),"ChatCollection.get(contact.id.toString())");fe=(0,A.jsx)(S.Name,{chat:e,useShortName:te,highlightText:B,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary,showLabel:!0,titlify:!0,ellipsify:!0})}else fe=(0,A.jsx)(S.Name,{contact:t,useShortName:te,highlightText:B,showBusinessCheckmark:t.showBusinessCheckmarkAsPrimary,showLabel:!0,titlify:!0,ellipsify:!0,you:!0});const he="list-names"!==ee||K?ee:"list-names-no-delete",pe=(0,A.jsx)(b.DetailImage,{id:t.id,size:de,ephemeralIcon:re,waitIdle:Z}),me=!0===e.showStatusRingAroundProfilePhoto?k.StatusV3Collection.get(t.id):null,ge=null!=me&&(0,o.isStatusV3ProfilePhotoRingEnabled)()&&!t.statusMute?(0,A.jsx)(w.StatusV3ImageRing,{statusV3:me,size:48,stroke:4,theme:w.RingTheme.ChatList}):null,_e=(0,A.jsxs)(A.Fragment,{children:[ge,pe]});return(0,A.jsx)(C.HotKeys,{ref:N,handlers:{enter:Y,space:Y},onFocus:e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=O.current)||void 0===t||t.indicateFocus()},className:ie,children:(0,A.jsx)(m.default,{ref:O,theme:he,active:D,contextEnabled:$||(()=>!1),contextMenu:Q,pendingAction:t.pendingAction,detail:se,image:_e,primary:fe,primaryDetail:oe,secondary:ue,secondaryDetail:le,onClick:ce?null:q,onMouseDown:ce?e=>{0===e.button&&q(e)}:null,onContext:a=>{var n;null===(n=e.onContext)||void 0===n||n.call(e,a,t)}})})},t.Type=t.FREQUENT_PREFIX=void 0;var r=n(a(45095)),i=n(a(99964)),s=n(a(52013)),o=a(8139),l=n(a(89867)),u=n(a(94184)),d=a(48360),c=a(67294),f=n(a(59312)),h=a(87550),p=a(35461),m=n(a(49107)),g=a(69951),_=n(a(121)),v=n(a(13506)),b=a(88984),y=a(65417),C=a(29424),S=a(12176),E=a(78756),T=a(92745),x=a(18146),M=n(a(73561)),k=a(59387),w=a(24391),P=n(a(23217)),A=a(85893);const j={SMALL:"SMALL",DEFAULT:"DEFAULT"};t.Type=j;const I="freq_";t.FREQUENT_PREFIX=I},46040:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(8139),i=n(a(40436)),s=n(a(89867)),o=n(a(94184)),l=a(48360),u=a(67294),d=n(a(17613)),c=n(a(14296)),f=n(a(65932)),h=n(a(23217)),p=a(97628),m=n(a(72994)),g=a(85893);class _ extends u.PureComponent{constructor(){super(...arguments),this.state={chatId:null,shouldAnimate:!1}}static getDerivedStateFromProps(e,t){const a=e.chat.id;return{chatId:a,shouldAnimate:s.default.equals(t.chatId,a)}}_showMuteIcon(){const{chat:e,mute:t,hideMuteIcon:a,settings:n}=this.props;return e.archive&&(0,r.archiveV2Supported)()&&n.showArchiveV2?!a:t.isMuted}render(){const{chat:e,unreadCount:t,hideArchivedIcon:a,unreadMentionIcon:n,smallUnread:r,hidePin:s,fakePin:u}=this.props,f=this._showMuteIcon()?(0,g.jsx)("div",{className:d.default.icon,"aria-label":l.fbt._("Muted chat",null,{hk:"FRvtZ"}),children:(0,g.jsx)(h.default,{name:"muted"})},"icon-muted"):null,p=!0!==s&&null!=e.pin&&e.pin>0||!0===u?(0,g.jsx)("div",{className:(0,o.default)(d.default.icon,d.default.iconPinned),children:(0,g.jsx)(h.default,{name:"pinned2"})},"icon-pinned"):null,_=!0===r?(0,g.jsx)("div",{className:(0,o.default)(d.default.icon,d.default.iconSmallUnread)},"icon-unread"):(0,g.jsx)("div",{className:d.default.icon,children:(0,g.jsx)(m.default,{count:t})},"icon-unread"),v=0!==t?_:null,b=n?(0,g.jsx)("div",{className:(0,o.default)(d.default.icon,d.default.iconMentions),"aria-label":l.fbt._("@ message",null,{hk:"2UzXVt"}),children:(0,g.jsx)(h.default,{name:"mentions",className:d.default.iconMentions})},"icon-mentions"):null,y=e.archive&&!a?(0,g.jsx)("span",{className:(0,o.default)(d.default.icon,d.default.archived),children:c.default.t(179)},"icon-archived"):null;return(0,g.jsxs)(i.default,{transitionName:"pop",transitionEnter:this.state.shouldAnimate,transitionLeave:this.state.shouldAnimate,children:[f,y,p,b,v]})}}_.CONCERNS={chat:["id","archive","pin"],mute:["isMuted"],settings:["showArchiveV2"]},_.contextType=p.ThemeContext,_.displayName="Icons";var v=(0,f.default)(_,_.CONCERNS);t.default=v},3982:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,h.useModelValues)(e.msg,["ack","asBroadcastNotification","asGroupNotification","asProduct","asRevoked","dir","isGroupMsg","isNotification","isSentByMe","itemCount","rtl","senderObj","type","mediaData","message","isVcardOverMmsDocument","size","mdDowngrade"]),{searchQuery:a=[],msgType:n,author:P}=e,A=(0,c.default)();(0,f.useListener)(o.LegacyPhoneFeatures,o.LegacyPhoneFeatures.FEATURE_CHANGE_EVENT,A),t.type===u.MSG_TYPE.DOCUMENT&&t.isVcardOverMmsDocument&&(!t.mediaData||!t.mediaData.mediaBlob)&&t.isTrusted()&&t.unsafe().size<=1024*M.ServerProps.mmsVcardAutodownloadSizeKb&&t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:S.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1});(0,f.useListener)(t.type===u.MSG_TYPE.DOCUMENT&&t.mediaData&&t.isVcardOverMmsDocument?t.mediaData:null,"change:parsedVcards",A),(0,f.useListener)(t.type===u.MSG_TYPE.REVOKED?m.ContactCollection:null,["add","remove","change:name"],A);const j=(0,l.areStatusQuickRepliesEnabled)(),I=[],O=t.isSentByMe&&!t.asRevoked&&(!j||!t.isStatusReply());(0,s.isMDBackend)()?O&&!t.mdDowngrade&&I.push((0,w.jsx)(E.default,{msg:t.unsafe()},"symbol")):O&&I.push((0,w.jsx)(E.default,{msg:t.unsafe()},"symbol"));const N="Search"!==n&&!t.isSentByMe&&t.isGroupMsg&&!t.isNotification,R=P&&"Search"===n;(N||R)&&(N?I.push((0,w.jsx)(x.Name,{contact:t.senderObj,useShortName:!0},"author")):R&&I.push((0,w.jsx)(g.EmojiText,{text:P,direction:"auto"},"author")),I.push((0,w.jsx)("span",{children:": "},"divider")));!t.hasSymbol()||t.isStatusReply()&&!j||I.push((0,w.jsx)(T.default,{msg:t.unsafe()},"msg-symbol"));"order"===t.type&&null!=t.itemCount&&I.push((0,w.jsxs)("div",{children:[y.default.t(445,{count:t.itemCount||0,_plural:t.itemCount||0}),t.message?(0,w.jsx)("span",{children:": "},"item-divider"):null]},"item-count"));if(null!=t.asGroupNotification)I.push((0,w.jsx)(b.default,{msg:t.asGroupNotification,clickable:!1},"status"));else if(null!=t.asBroadcastNotification)I.push((0,w.jsx)(p.default,{msg:t.asBroadcastNotification,clickable:!1},"broadcast_notification"));else{let e=t.asRevoked;(0,s.isMDBackend)()&&(e=e||t.mdDowngrade);const i=(0,d.default)({[C.default.product]:null!=t.asProduct,[C.default.italic]:e});I.push((0,w.jsx)(g.EmojiText,{className:i,direction:t.dir,text:(0,r.default)((0,v.default)((0,k.unproxy)(t.unsafe()),{stripFormatting:!1,formatAsLastMsg:!0,formatAsSearchResult:"Search"===n}).toString()||"",!0),dirMismatch:t.rtl!==y.default.isRTL(),formatters:_.Configuration[n]({mentions:t.mentionMap(),terms:a}),ellipsify:!0,inlineblock:!0},"status"))}const D=y.default.embedDir((0,v.default)((0,k.unproxy)(t.unsafe()),{stripFormatting:!1,formatAsSearchResult:"Search"===n}).toString()||"",t.rtl);return(0,w.jsx)("span",{className:C.default.last,title:D,"data-a8n":i.default.key("last-msg-status"),children:I})};var r=n(a(9384)),i=n(a(99964)),s=a(88555),o=a(38184),l=a(8139),u=a(15461),d=n(a(94184)),c=n(a(59312)),f=a(87550),h=a(35461),p=n(a(27295)),m=a(19380),g=a(65417),_=a(30695),v=n(a(57130)),b=n(a(76998)),y=n(a(14296)),C=n(a(32376)),S=n(a(11339)),E=n(a(93477)),T=n(a(32281)),x=a(12176),M=a(64551),k=a(18146),w=a(85893)},90463:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(51737),i=n(a(45120)),s=n(a(52013)),o=a(67294),l=n(a(49107)),u=a(29424),d=n(a(3982)),c=a(84387),f=a(17304),h=a(59871),p=a(12176),m=a(78756),g=a(92745),_=n(a(65932)),v=a(18146),b=n(a(55364)),y=a(85893);class C extends o.PureComponent{constructor(){super(...arguments),this.state={searchText:"",active:!1},this._refCell=(0,o.createRef)(),this.indicateFocus=e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=this._refCell.current)||void 0===t||t.indicateFocus()},this._handleClick=e=>{const t=this.props.onClick;if((0,r.isFunction)(t)){const{msg:a,chat:n}=this.props,r=h.MsgCollection.assertGet(a.id),i=n.getSearchContext(r);i.msg=r,t(e,(0,v.unproxy)(n),i)}},this._handleMouseDown=e=>{0===e.button&&this._handleClick(e)},this._handleEnter=e=>{e.preventDefault(),e.stopPropagation(),i.default.shouldIndicateFocus(),this._handleClick(e)},this._handleActiveChange=e=>{if("focus"===e){var t;const e=null===(t=this._refCell.current)||void 0===t?void 0:t.getCellFrameDivRef();e&&(s.default.focus(e),(0,m.scrollIntoViewIfNeeded)(e))}this.setState({active:!!e})},this._handleSearch=()=>{this.setState({searchText:this.props.searchQuery.trimmed})}}static getDerivedStateFromProps(e){const{active:t,msg:a,searchQuery:n}=e,r=t&&t.value instanceof f.Msg&&t.value.id.equals(a.id);return{searchText:n.trimmed,active:r}}initListeners(e,t){const{listeners:a,active:n,msg:r,searchQuery:i}=e;(null==t?void 0:t.searchQuery)&&t.searchQuery!==i&&a.remove(i,g.SEARCH_EVENT,this._handleSearch),!i||t&&i===t.searchQuery||a.add(i,g.SEARCH_EVENT,this._handleSearch);const s=t?t.msg.id:null;s&&!r.id.equals(s)&&((null==t?void 0:t.active)&&a.remove(t.active,t.msg.id.toString(),this._handleActiveChange),n&&a.add(n,r.id.toString(),this._handleActiveChange))}componentDidMount(){this.initListeners(this.props)}componentDidUpdate(e){this.initListeners(this.props,e)}render(){const{msg:e,chat:t,searchQuery:a,filterPreset:n}=this.props,{active:r}=this.state,i=(0,y.jsx)(b.default,{msg:e}),s=(0,y.jsx)(d.default,{msg:e.safe(),msgType:"FTSMessage",searchQuery:a.highlighted}),o={enter:this._handleEnter};return(0,y.jsx)(u.HotKeys,{handlers:o,onFocus:this.indicateFocus,children:(0,y.jsx)(l.default,{ref:this._refCell,contextEnabled:()=>!1,theme:"chat-checkbox"===this.props.theme?"cell-message-checkbox":"cell-message",active:!!r,primary:(0,y.jsx)(p.Name,{chat:t,labels:e.labels,firstLabel:null==n?void 0:n.label,showLabel:!0,titlify:!0,ellipsify:!0}),primaryDetail:i,secondary:s,onClick:this._handleClick})})}}C.CONCERNS={msg:["id","isSentByMe","isGroupMsg","isNotification","senderObj","dir","rtl","type","labels"],chat:["id","isUser","contact","formattedTitle","groupMetadata"]},C.displayName="Message";var S=(0,c.ListenerHOC)((0,_.default)(C,C.CONCERNS));t.default=S},93477:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.msg,["ack"]).ack;let a,n;t<r.ACK.SENT?a="status-time":t===r.ACK.SENT?a="status-check":t===r.ACK.RECEIVED?a="status-dblcheck":(a="status-dblcheck",n=o.default.ackBlue);return(0,u.jsx)("div",{className:(0,i.default)(o.default.ack,n),children:(0,u.jsx)(l.default,{name:a})})};var r=a(35470),i=n(a(94184)),s=a(35461),o=n(a(74558)),l=n(a(23217)),u=a(85893)},32281:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(35470),i=a(38184),s=a(8139),o=a(15461),l=n(a(94184)),u=a(67294),d=n(a(84064)),c=a(84387),f=n(a(57305)),h=n(a(5165)),p=n(a(43309)),m=a(87699),g=n(a(65932)),_=n(a(23217)),v=a(84728),b=a(85893);class y extends u.PureComponent{constructor(){super(...arguments),this.state={parsedVcards:null},this.updateAfterFeatureFlagChange=()=>{this.forceUpdate()}}static getDerivedStateFromProps(e,t){var a;const n=e.msg;var r;return(null===(a=n.mediaData)||void 0===a?void 0:a.parsedVcards)!==t.parsedVcards?{parsedVcards:null===(r=n.mediaData)||void 0===r?void 0:r.parsedVcards}:null}componentDidMount(){const{listeners:e}=this.props;e.add(i.LegacyPhoneFeatures,i.LegacyPhoneFeatures.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}render(){const{msg:e}=this.props,t=function(e,t){if((0,s.areStatusQuickRepliesEnabled)()&&e.isStatusReply())return"e2e-status";switch(e.type){case o.MSG_TYPE.IMAGE:case o.MSG_TYPE.VIDEO:return e.isViewOnce?!0!==t.viewOnceStatic&&(0,v.isViewed)(e.safe())?"view-once-viewed":"view-once":e.isGif?"status-gif":e.type===o.MSG_TYPE.VIDEO?"status-video":"status-image";case o.MSG_TYPE.AUDIO:return e.isGif?"status-gif":"status-audio";case o.MSG_TYPE.VCARD:case o.MSG_TYPE.MULTI_VCARD:return e.isGif?"status-gif":"status-vcard";case o.MSG_TYPE.DOCUMENT:return e.isGif?"status-gif":t.parsedVcards?"status-vcard":"status-document";case o.MSG_TYPE.CIPHERTEXT:return e.isGif?"status-gif":"status-ciphertext";case o.MSG_TYPE.UNKNOWN:return e.isGif?"status-gif":"status-unknown";case o.MSG_TYPE.PRODUCT:return"business-description";case o.MSG_TYPE.STICKER:return"status-sticker";case o.MSG_TYPE.CALL_LOG:switch(e.subtype){case"miss_video":case"miss_group_video":return"status-miss_video"}return"status-miss";case o.MSG_TYPE.PTT:return"status-ptt";case o.MSG_TYPE.REVOKED:return"recalled";case o.MSG_TYPE.LOCATION:return e.isLive?(0,m.liveLocationIcon)(!1):"status-location";case o.MSG_TYPE.GROUPS_V4_INVITE:return"group";case o.MSG_TYPE.PAYMENT:return"status-unknown";case o.MSG_TYPE.ORDER:return"shopping-cart";case o.MSG_TYPE.INTERACTIVE:return e.interactiveType===d.default.SHOPS_STOREFRONT?"shop-filled":e.interactiveType===d.default.NATIVE_FLOW&&e.nativeFlowName===h.default.ORDER_DETAILS?"receipt":"status-unknown";case o.MSG_TYPE.NATIVE_FLOW:return e.nativeFlowName===h.default.ORDER_DETAILS?"receipt":"status-unknown";case o.MSG_TYPE.POLL_CREATION:return"status-poll"}return __LOG__(2)`chat:getClasses Invalid msg type:"${e.type}"`,"status-unknown"}(e,{parsedVcards:this.state.parsedVcards,viewOnceStatic:this.props.viewOnceStatic}),a=(0,l.default)(f.default.symbol,t,{[f.default.margin]:!e.asRevoked,[f.default.miss]:e.type===o.MSG_TYPE.CALL_LOG,[f.default.pttBlue]:e.type===o.MSG_TYPE.PTT&&e.ack===r.ACK.PLAYED,[f.default.pttGreen]:e.type===o.MSG_TYPE.PTT&&e.ack!==r.ACK.PLAYED&&!e.isSentByMe});return(0,b.jsx)("div",{className:a,children:e.type===o.MSG_TYPE.PAYMENT?S(e):(0,b.jsx)(_.default,{name:t})})}}y.CONCERNS={msg:["ack","isGif","isLive","isViewOnce","type","subtype","asRevoked","isSentByMe","paymentCurrency","paymentAmount1000","paymentStatus","paymentTxnStatus","mediaData","interactiveType","nativeFlowName"]},y.displayName="MsgSymbol";var C=(0,c.ListenerHOC)((0,g.default)(y,y.CONCERNS));function S(e){if("invite"===e.subtype)return null;return e.paymentAmount1000&&e.paymentCurrency?(0,b.jsx)(p.default,{currency:e.paymentCurrency,subtype:e.subtype,paymentStatus:e.paymentStatus,paymentTxnStatus:e.paymentTxnStatus,isCompact:!0}):(0,b.jsx)(_.default,{name:"status-unknown"})}t.default=C},73561:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{id:t}=e,[a,n]=(0,i.useState)((()=>p.StatusCollection.get(t))),s=(0,o.default)(t);if((0,i.useEffect)((()=>{if(!a){const e=l.ContactCollection.gadd(t);n(e.getStatus())}}),[]),(0,i.useEffect)((()=>{if(!r.default.equals(t,s)){const e=l.ContactCollection.gadd(t);n(e.getStatus())}}),[t,s]),!a)return g;return(0,m.jsx)(_,{status:a,waitIdle:e.waitIdle})};var r=n(a(89867)),i=a(67294),s=a(35461),o=n(a(37453)),l=a(19380),u=a(65417),d=n(a(76239)),c=n(a(14296)),f=a(18146),h=n(a(40670)),p=a(46133),m=a(85893);const g=(0,m.jsx)("span",{className:h.default.statusLoading,children:c.default.t(265)});function _(e){const t=(0,s.useModelValues)(e.status,["id","stale","status"],{isStrong:!1}),a=(0,m.jsx)(u.EmojiText,{direction:"auto",selectable:!0,titlify:!0,text:t.status,breakWord:!0}),n=(0,f.unproxy)(t).stale?g:a;return(0,m.jsx)(d.default,{id:t.id,onComplex:()=>(p.StatusCollection.find(t.id),void 0!==t.status?a:g),waitIdle:e.waitIdle,children:n})}},55364:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(88555),i=a(40234),s=a(81572),o=n(a(30381)),l=a(67294),u=n(a(59312)),d=a(87550),c=a(35461),f=a(85893);function h(e){const{t}=e,a=(0,u.default)(),n=(0,c.useModelValues)(e.msg,["t"]);(0,d.useListener)(i.Clock,i.HOUR24_FORMAT_CHANGE_EVENT,a);const h=(0,l.useCallback)((()=>(0,r.isMDBackend)()&&null!=t?t:n.t),[n.t,t]),p=(0,l.useMemo)((()=>{const e=(0,o.default)().startOf("day").subtract(7,"day");return h()>=e.unix()}),[h]);return(0,d.useListener)(p?s.Cmd:null,"midnight",a),(0,f.jsx)(f.Fragment,{children:i.Clock.relativeStr(h())})}const p=function(e){const t=(0,c.useModelValues)(e.chat,["previewMessage","t"]);return t.previewMessage?(0,f.jsx)(h,{msg:t.previewMessage,t:t.t}):null},m=h;t.default=e=>{let{chat:t,msg:a}=e;return t?(0,f.jsx)(p,{chat:t}):a?(0,f.jsx)(m,{msg:a}):null}},14421:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t=!1,customSecondaryText:a,active:n,allowBlockedContacts:p,ephemeralIcon:m,onSelect:g,theme:_}=e,[v,b]=(0,i.useState)(null),y=(0,s.useModelValues)(e.contact,["id","isGroup","isContactBlocked","pendingAction","shortName","name"]),C=()=>{b(null)},S=()=>{C(),y.addPendingAction((0,o.unblockContact)(y)).then((()=>g())).catch((()=>{}))};let E;v&&(E=(0,h.jsx)(c.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,children:(0,h.jsx)(f.default,{contextMenu:v})}));let T="chat-checkbox";(t||y.isContactBlocked&&!p)&&(T="multi-select-chat-list"===_?"chat-checkbox-disabled":"chat-checkbox-no-delete");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.Contact,{theme:T,active:n,contact:y,onClick:t?null:e=>{t||(p?g():v?C():y.isContactBlocked?(e=>{const t=[(0,h.jsx)(u.DropdownItem,{a8n:"unblock-contact-in-multi-select",action:S,children:d.default.t(255,{contact:y.shortName||y.name})},"unblock")];b({contactId:y.id.toString(),menu:t,anchor:e.anchor,event:e.event})})({event:e}):g())},secondary:y.isContactBlocked&&!p?r.fbt._("Blocked. Click to unblock",null,{hk:"1eYigB"}):a||null,waitIdle:!0,ephemeralIcon:m}),E]})};var r=a(48360),i=a(67294),s=a(35461),o=a(80140),l=a(2732),u=a(71174),d=n(a(14296)),c=a(18644),f=n(a(24717)),h=a(85893)},72994:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{count:t,transparentBg:a,ariaLabel:n}=e,u="";t>0&&(u=s.default.t(686,{count:s.default.n(t),_plural:t}));n&&(u=n);return(0,o.jsx)("span",{className:(0,i.default)(l.count,r.isOSMac&&l.countMac,a&&l.transparentBg),"aria-label":u,children:t>0?s.default.n(t):null})};var r=a(77144),i=n(a(56720)),s=n(a(14296)),o=a(85893);const l={count:{display:"l7jjieqr",minWidth:"cfzgl7ar",minHeight:"ei5e7seu",paddingTop:"h0viaqh7",paddingEnd:"tpmajp1w",paddingBottom:"c0uhu3dl",paddingStart:"riy2oczp",fontSize:"dsh4tgtl",fontWeight:"sy6s5v3r",lineHeight:"gz7w46tb",color:"lyutrhe2",textAlign:"qfejxiq4",verticalAlign:"fewfhwl7",backgroundColor:"ovhn1urg",borderTopStartRadius:"ap18qm3b",borderTopEndRadius:"ikwl5qvt",borderBottomEndRadius:"j90th5db",borderBottomStartRadius:"aumms1qt"},countMac:{minWidth:"il1gyv3w",paddingTop:"h0viaqh7",paddingEnd:"tpmajp1w",paddingBottom:"k07a8sro",paddingStart:"riy2oczp",fontWeight:"hnx8ox4h"},transparentBg:{color:"io08vzmp",backgroundColor:"thr4l2wc"}}},57355:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(93386)),i=n(a(91966)),s=(n(a(57538)),a(81572)),o=n(a(38224)),l=n(a(52013)),u=a(55715),d=a(48360),c=a(67294),f=a(63183),h=a(65511),p=a(69951),m=a(3198),g=n(a(61837)),_=(n(a(121)),a(2732)),v=a(65417),b=n(a(51099)),y=a(50101),C=a(47915),S=a(30695),E=a(29424),T=n(a(14296)),x=a(84387),M=n(a(90463)),k=(a(17304),a(72472),n(a(11497))),w=n(a(4478)),P=a(18644),A=a(89618),j=a(85893);const I="SEC_CHATS",O="SEC_CONTACTS",N="SEC_GROUPCHATS",R="SEC_STARRED",D="SEC_MSG",L="SEC_MUTED_CHATS",B="ROW_CHATS",F="ROW_CONTACTS",G="ROW_GROUPCHATS",U="ROW_STARRED",V="ROW_MSG";class W extends c.Component{static getDerivedStateFromProps(e){return{ftsStarred:e.ftsResult.filter((e=>{let{star:t}=e;return t})),ftsMessages:e.ftsResult.filter((e=>{let{star:t}=e;return!t}))}}_openSelected(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.props.selection.getVal();t&&(t instanceof f.Chat&&t!==p.ChatCollection.getActive()?s.Cmd.openChatFromUnread(t).then((a=>{a&&e&&s.Cmd.focusChatTextInput(t)})):e&&s.Cmd.focusChatTextInput(t))}constructor(e){super(e),this._handleClick=(e,t,a)=>(e.preventDefault(),e.stopPropagation(),(0,y.findChat)(t).then((e=>a?s.Cmd.openChatAt(e,a).then((t=>(t&&s.Cmd.focusChatTextInput(e),e))):e!==p.ChatCollection.getActive()?s.Cmd.openChatFromUnread(e).then((t=>(t&&s.Cmd.focusChatTextInput(e),e))):(s.Cmd.focusChatTextInput(e),e)))),this._setRefHotKeys=e=>{this._refHotKeys=e},this.setRefUIE=e=>{this.uie=e},this.setRefList=e=>{this.refList=e},this._handleFocusList=()=>{this.refList&&this._refHotKeys&&l.default.focus(this._refHotKeys)},this.requestFocus=()=>{this.props.selection.reset(!1),this.props.selection.index>-1&&document.activeElement===document.body&&this._handleFocusList()},this._handleFocusSearch=e=>{e.stopPropagation(),e.preventDefault(),this.props.onFocusSearch()},this._handleCloseChat=e=>{e===this.props.selection.getVal()&&this.props.selection.unset()},this.restoreFocus=()=>{this.props.selection.reset(!0)},this._handleMessageClick=(e,t,a)=>{const n=this._handleClick(e,t.id,a);n&&n.then((()=>this.props.onItemSelected("message",t)))},this._handleMultiSelect=(e,t,a)=>{const{multiSelection:n}=this.props;n&&n.setVal(e,t,a)},this._renderWrappedItem=(e,t)=>{const{multiSelection:a,selectableState:n}=this.props;return a&&n?(0,j.jsx)(b.default,{reason:"chat-list-item",children:(0,j.jsx)(g.default,{model:t,theme:"chat-checkbox",selectableState:n,multiSelection:a,onSelect:this._handleMultiSelect,children:e})}):e},this._handleChatClick=(e,t)=>{const a=this._handleClick(e,t.id);a&&a.then((()=>{t.isBroadcast?this.props.onItemSelected("broadcast_list",t):t.isGroup?this.props.onItemSelected("group",t):this.props.onItemSelected("chat",t)}))},this._handleContactClick=(e,t)=>{const a=this._handleClick(e,t.id);a&&a.then((e=>this.props.onItemSelected("contact",e)))},this.renderItem=e=>{const{searchQuery:t,filterPreset:a}=this.props;switch(e.type){case I:return(0,j.jsx)(k.default,{header:d.fbt._("Chats",null,{hk:"46DIdr"})});case O:return(0,j.jsx)(k.default,{header:d.fbt._("Contacts",null,{hk:"2jWpt9"})});case N:return(0,j.jsx)(k.default,{header:T.default.t(826)});case R:return(0,j.jsx)(k.default,{header:d.fbt._("Starred messages",null,{hk:"4wVbNG"})});case D:return(0,j.jsx)(k.default,{header:T.default.t(838)});case B:const{data:n}=e;return this._renderWrappedItem((0,j.jsx)(h.Chat,{chat:n,contact:n.contact,mode:h.Mode.LAST,searchQuery:t,filterPreset:a,onClick:this._handleChatClick,mouseDownAsClick:!0,selectableState:this.props.selectableState,multiSelection:this.props.multiSelection,active:this.props.selection,ephemeralIcon:"chat-list",showStatusRingAroundProfilePhoto:!0}),n);case F:const{data:r}=e;return this._renderWrappedItem((0,j.jsx)(_.Contact,{contact:r,active:this.props.selection,searchQuery:t,onClick:this._handleContactClick,mouseDownAsClick:!0,waitIdle:!0}),r);case G:const{data:i}=e,s=i[0],o=this._getGroupChatSubtitle(i);return this._renderWrappedItem((0,j.jsx)(h.Chat,{chat:s,contact:s.contact,secondary:o,mode:h.Mode.LAST,searchQuery:t,filterPreset:a,onClick:this._handleChatClick,mouseDownAsClick:!0,selectableState:this.props.selectableState,multiSelection:this.props.multiSelection,active:this.props.selection}),s);case U:const{data:l}=e;return this._renderWrappedItem((0,j.jsx)(M.default,{msg:l,chat:l.chat,searchQuery:t,filterPreset:a,onClick:this._handleMessageClick,active:this.props.selection}),l);case V:const{data:u}=e;return this._renderWrappedItem((0,j.jsx)(M.default,{msg:u,chat:u.chat,searchQuery:t,filterPreset:a,onClick:this._handleMessageClick,active:this.props.selection}),u);default:throw new C.UnknownDataError(e)}},this._updateSelected=e=>{this._debouncedOpenSelected.cancel(),this.props.selection.setVal(e,!1),this._oldSelection=e},this._handleFocusGain=e=>{if(e.target===this._refHotKeys&&this._listPointerEvents)if(this.props.selection.index<0)this.focusFirst();else{const{uie:e}=this;e&&e.activate(),this.props.selection.reset(!0)}},this._handleListPointerEventsOn=()=>{this._listPointerEvents=!0},this._handleListPointerEventsOff=()=>{this._listPointerEvents=!1},this._listPointerEvents=!0,this._oldSelection=null,this._debouncedOpenSelected=this.props.debounce((()=>{this._openSelected(this._focusComposer),this._focusComposer=!1}),200),this.state={textsize:o.default.get().textsize,ftsStarred:[],ftsMessages:[],mutedChats:[],collapseMutedChatsEnabled:!1,mutedChatsCollapsed:!0}}componentWillUnmount(){const e=this.getSelection(),t=this.props.selection.getVal();!(null==t?void 0:t.isState)||this.props.isSearching||e.length||s.Cmd.closeChat(t)}_getHeight(){const{textsize:e}=this.state;return(0,m.getListHeightForTextsize)(e)}_getGroupChatSubtitle(e){var t;const a=e[1],n=e[0].groupMetadata,s=(null!==(t=null==n?void 0:n.participants)&&void 0!==t?t:[]).map((e=>e.contact)),o=(0,i.default)(s,a),l=(0,r.default)(a,o).map((e=>e.formattedShortNameWithNonBreakingSpaces)).join(T.default.t(307)),u=S.Configuration.Search({terms:[this.props.searchQuery.trimmed]});return(0,j.jsx)(v.EmojiText,{text:l,formatters:u,titlify:!0,direction:"auto"})}getData(){const{chats:e,contacts:t,groupChats:a,isSearching:n,messages:r}=this.props,{ftsStarred:i,ftsMessages:s,mutedChats:o,mutedChatsCollapsed:l,collapseMutedChatsEnabled:u}=this.state,d=[];return n&&e.length>0&&d.push({itemKey:"section-chats",type:I}),!n&&u?(o.length>0&&d.push({itemKey:"section-collapse-muted",contentKey:`${String(l)}-${o.length}`,type:L,height:30}),l||d.push(...o.map((e=>({itemKey:`chat-${e.id.toString()}`,data:e,expanded:!l,type:B})))),d.push(...e.filter((e=>!e.mute.isMuted)).map((e=>({itemKey:`chat-${e.id.toString()}`,data:e,type:B}))))):d.push(...e.map((e=>({itemKey:`chat-${e.id.toString()}`,data:e,type:B})))),n&&t.length>0&&d.push({itemKey:"section-contacts",type:O}),d.push(...t.map((e=>({itemKey:`contact-${e.id.toString()}`,data:e,type:F})))),n&&a.length>0&&d.push({itemKey:"section-groupchats",type:N}),d.push(...a.map((e=>({itemKey:`groupchat-${e[0].id.toString()}-${e[1].map((e=>e.id.toString())).join("-")}`,data:e,type:G})))),n&&i.length>0&&d.push({itemKey:"section-starred",type:R}),d.push(...i.map((e=>({itemKey:`starred-${e.id.toString()}`,data:e,type:U})))),n&&s.length>0&&d.push({itemKey:"section-msg",type:D}),d.push(...s.map((e=>({itemKey:`msg-${e.id.toString()}`,data:e,type:V})))),n&&r.length>0&&d.push({itemKey:"section-msg",type:D}),d.push(...r.map((e=>({itemKey:`msg-${e.id.toString()}`,data:e,type:V})))),d}_scrollListIntoFocusedItem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.refList&&this.refList.scrollIntoViewIfNeeded(this.props.selection.index,e)}componentDidMount(){this.props.selection.init(this.getSelection()),this.props.listeners.add(s.Cmd,"focus_chat_list",this.restoreFocus),this.props.listeners.add(s.Cmd,"focus_next_chat",(e=>{this._handleNextChat(null,!0,e)})),this.props.listeners.add(s.Cmd,"focus_prev_chat",(e=>{this._handlePrevChat(null,!0,e)})),this.props.listeners.add(s.Cmd,"update_chatlist_selection",this._updateSelected),this.props.listeners.add(s.Cmd,"close_chat",this._handleCloseChat),this.props.listeners.add(s.Cmd,"textsize_change",(e=>{this.setState({textsize:e})}))}componentDidUpdate(e){const t=e.selection.getVal();this.props.selection.init(this.getSelection(),!e.isSearching&&!this.props.isSearching);const a=this.props.selection.getVal();e.isSearching&&!this.props.isSearching&&!a&&this._oldSelection&&this.props.selection.setVal(this._oldSelection),a&&a!==t&&(this._focusComposer=!0,this._debouncedOpenSelected())}getSelection(){return[...this.props.chats,...this.props.contacts,...this.props.messages,...this.props.groupChats.map((e=>e[0])),...this.state.ftsStarred,...this.state.ftsMessages]}_handlePrevChat(e,t,a){e&&e.preventDefault();this.props.selection.prev()>-1?(this.props.selection.setPrev(!0),this._focusComposer=a,this._scrollListIntoFocusedItem(),this._debouncedOpenSelected()):t||(this._debouncedOpenSelected.cancel(),this._openSelected(),this.props.onFocusSearch())}_handleNextChat(e,t,a){e&&e.preventDefault();const n=this.props.selection.next();this.props.selection.index!==n&&(this.props.selection.setNext(!0),this._focusComposer=a,this._scrollListIntoFocusedItem(),this._debouncedOpenSelected())}focusFirst(){const{uie:e}=this;e&&e.activate(),this.props.selection.setFirst(),this._scrollListIntoFocusedItem(0),this._debouncedOpenSelected()}render(){var e;const{isSearching:t,chats:a}=this.props;let n;return n=t?d.fbt._("Search results.",null,{hk:"28LBod"}):d.fbt._("Chat list",null,{hk:"iikD9"}),(0,j.jsx)(P.UIE,{displayName:"Chatlist",ref:this.setRefUIE,uimState:A.UIMState.PASSIVE,requestFocus:this.requestFocus,children:(0,j.jsx)(E.HotKeys,{handlers:{down:e=>this._handleNextChat(e,!0),j:e=>this._handleNextChat(e,!0),up:e=>this._handlePrevChat(e,!0),k:e=>this._handlePrevChat(e,!0),"/":e=>this._handleFocusSearch(e)},onFocus:this._handleFocusGain,ref:this._setRefHotKeys,"data-tab":u.TAB_ORDER.CHAT_LIST,children:(0,j.jsx)(C.FlatList,{"aria-label":n,data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical",defaultItemHeight:this._getHeight(),onPointerEventsOff:this._handleListPointerEventsOff,onPointerEventsOn:this._handleListPointerEventsOn,ref:this.setRefList,role:"grid","aria-rowcount":null!==(e=null==a?void 0:a.length)&&void 0!==e?e:0})})})}}W.defaultProps={chats:[],groupChats:[]},W.displayName="Chatlist";const H=(0,x.ListenerHOC)((0,w.default)(W));t.default=class extends H{focusFirst(){return this.getComponent().focusFirst()}}},48654:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,i.useState)(!0);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.default,{setShowButterBar:t}),!e&&(0,r.isMDBackend)()&&(0,l.jsx)(o.default,{})]})};var r=a(88555),i=a(67294),s=n(a(42126)),o=n(a(67161)),l=a(85893)},47451:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{settings:t}=e,a=(0,p.default)(),n=(0,g.useModelValues)(e.mute,["isMuted"]),V=(0,h.useRef)(!1),W=(0,h.useRef)(!1),[H,q]=(0,h.useState)(!1),[Y,z]=(0,h.useState)(!1),[K]=(0,_.useTimeout)((()=>q(!1)),100);(0,h.useEffect)((()=>{T.Conn.isSMB&&b.BusinessProfileCollection.find((0,u.getMaybeMeUser)()).then((()=>{z(!0)}))}),[]);const $=()=>{W.current=!0};(0,m.useListener)(null,"BrowserWindow:focus",(()=>{})),(0,m.useListener)(null,"BrowserWindow:move",(function(){V.current||$(...arguments)}));const Q=(0,h.useMemo)((()=>b.BusinessProfileCollection.get((0,u.getMaybeMeUser)())),[]);(0,m.useListener)(Q,"change:profileOptions",a);const X=()=>{const e=(0,u.getMaybeMeUser)(),t=L.StatusCollection.assertGet(e),a=O.ProfilePicThumbCollection.assertGet(e),n=x.ContactCollection.assertGet(e);i.DrawerManager.openDrawerLeft((0,U.jsx)(I.ProfileDrawerFlowLoadable,{status:t,profilePicThumb:a,contact:n,conn:T.Conn}))},J=()=>{A.MuteCollection.globalMute().unmute(),l.ToastManager.open((0,U.jsx)(G.Toast,{msg:k.default.t(381),id:(0,G.genId)()}))},Z=()=>{(0,s.canManageCollections)()&&N.QPL.markerStart(R.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}}),(0,C.openCatalogManagementFlow)(null,P.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_TOP_BAR)},ee=()=>{o.ModalManager.open((0,U.jsx)(D.default,{}))};let te=null;n.isMuted&&(te=(0,U.jsx)(w.MenuBarItem,{a8nText:"menu-bar-unmute",icon:(0,U.jsx)(F.default,{name:"dnd"}),title:k.default.t(380),onClick:J},"btn-dnd"));let ae,ne=(0,U.jsx)("div",{className:S.default.listUser,children:(0,U.jsx)(M.DetailImage,{id:(0,u.getMaybeMeUser)(),size:40,onClick:X})});if((0,r.isMDBackend)()){if(Y&&!(0,s.blockCatalogCreationECommerceComplianceIndia)(Q)&&T.Conn.isSMB&&(0,v.getABPropConfigValue)("web_abprop_catalog_icon_on_top_bar")){let e;const t=(0,s.bannedShopsEnabled)()&&(0,y.isShopBanned)(Q);(0,y.hasShop)(Q)?t||(e=(0,U.jsx)(w.MenuBarItem,{a8nText:"menu-bar-shops",icon:(0,U.jsx)(F.default,{name:"shop-filled",directional:!0,className:S.default.shopsIcon}),title:f.fbt._("Shop",null,{hk:"Xb7yl"}),onClick:ee})):e=(0,U.jsx)(w.MenuBarItem,{a8nText:"menu-bar-catalog",icon:(0,U.jsx)(F.default,{name:"catalog-filled",directional:!0}),title:f.fbt._("Catalog",null,{hk:"8mkiP"}),onClick:Z}),ae=(0,U.jsx)("div",{className:S.default.commerceIconContainer,children:e})}const e=(0,v.getABPropConfigValue)("md_migration_experience");if(0===e||1===e){const e=(0,U.jsx)("div",{className:S.default.betaIcon,children:(0,U.jsx)("b",{className:S.default.betaIconText,title:f.fbt._("You're using the multi-device beta",null,{hk:"2ZPoxx"}),children:f.fbt._("BETA",null,{hk:"23OBCm"})})});ne=(0,U.jsxs)("div",{className:S.default.listUserBeta,children:[(0,U.jsx)(M.DetailImage,{id:(0,u.getMaybeMeUser)(),size:40,onClick:X}),e]})}}return(0,U.jsxs)("header",{className:(0,c.default)(S.default.header,{[S.default.withCommerceIcon]:null!=ae}),onMouseDown:()=>{},onClickCapture:()=>{},children:[ne,(0,U.jsx)("div",{className:S.default.listControls,children:(0,U.jsx)(w.MenuBar,{children:(0,U.jsxs)(d.default,{transitionName:"btn",children:[te,ae,null,(0,U.jsx)(B.default,{}),(0,U.jsx)(w.MenuBarItem,{a8nText:"menu-bar-chat",icon:(0,U.jsx)(F.default,{name:"chat",directional:!0}),title:f.fbt._("New chat",null,{hk:"2FNCEZ"}),onClick:e=>{e.preventDefault(),i.DrawerManager.openDrawerLeft((0,U.jsx)(j.NewChatFlowLoadable,{}))}}),(0,U.jsx)(w.MenuBarItem,{a8nText:"menu-bar-menu",icon:(0,U.jsx)(F.default,{name:"menu"}),title:k.default.t(504),children:(0,U.jsx)(E.default,{settings:t})})]})},"chatlist-header")})]})};var r=a(88555),i=a(41455),s=a(8139),o=a(14597),l=a(94816),u=a(78820),d=n(a(40436)),c=n(a(94184)),f=a(48360),h=a(67294),p=n(a(59312)),m=a(87550),g=a(35461),_=a(46428),v=a(57849),b=a(93581),y=a(94010),C=a(87912),S=n(a(8702)),E=n(a(95403)),T=(a(81178),a(17239)),x=a(19380),M=a(88984),k=n(a(14296)),w=a(46346),P=n(a(11339)),A=a(72472),j=a(92507),I=a(77117),O=a(82039),N=a(48870),R=a(27798),D=n(a(95042)),L=a(46133),B=n(a(36190)),F=n(a(23217)),G=a(50452),U=a(85893)},95403:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(35470),i=a(41455),s=a(8139),o=a(14597),l=a(78820),u=a(48360),d=a(67294),c=a(78457),f=a(93581),h=a(94010),p=a(87912),m=n(a(70785)),g=n(a(52665)),_=a(17239),v=a(19380),b=(n(a(50485)),a(60811)),y=a(71174),C=n(a(14296)),S=a(90878),E=a(67883),T=(a(93045),n(a(11339))),x=a(59871),M=a(23620),k=a(26489),w=n(a(17085)),P=a(77117),A=a(82039),j=a(48870),I=a(27798),O=a(87956),N=a(64551),R=a(45383),D=n(a(95042)),L=a(82364),B=a(19011),F=a(46133),G=a(65044),U=a(85893);function V(){(0,h.goToCommerceManager)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)())),(0,E.logShopsManagementEvent)(T.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_IN_CATALOG_SETTING)}function W(){const e=x.MsgCollection.some((e=>e.ack===r.ACK.CLOCK&&e.local&&e.isSentByMe));if((0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.LOG_OUT),!e)return G.Socket.logout();o.ModalManager.open((0,U.jsx)(g.default,{title:C.default.t(248),onOK:()=>G.Socket.logout(),okText:C.default.t(496),onCancel:()=>o.ModalManager.close(),cancelText:u.fbt._("Cancel",null,{hk:"H0gNq"}),children:C.default.t(664)}))}function H(){i.DrawerManager.openDrawerLeft((0,U.jsx)(R.SettingsFlowLoadable,{})),(0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.SETTINGS)}function q(){i.DrawerManager.openDrawerLeft((0,U.jsx)(c.ArchivedFlowLoadable,{})),new T.default.ChatFolderOpen({folderType:"Archive"}).commit(),(0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.ARCHIVED)}function Y(){const e=(0,l.getMaybeMeUser)(),t=F.StatusCollection.assertGet(e),a=A.ProfilePicThumbCollection.assertGet(e),n=v.ContactCollection.assertGet(e);i.DrawerManager.openDrawerLeft((0,U.jsx)(P.ProfileDrawerFlowLoadable,{status:t,profilePicThumb:a,contact:n,conn:_.Conn}),void 0,void 0,void 0,O.FocusType.TABBABLE),(0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.PROFILE)}function z(){i.DrawerManager.openDrawerLeft((0,U.jsx)(w.default,{}))}function K(){i.DrawerManager.openDrawerLeft((0,U.jsx)(S.LabelFlowLoadable,{})),(0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.LABELS)}function $(){i.DrawerManager.openDrawerLeft((0,U.jsx)(L.StarredDrawerLoadable,{starredMsgs:B.AllStarredMsgsCollection})),(0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.STARRED)}function Q(){i.DrawerManager.openDrawerLeft((0,U.jsx)(M.NewCommunityFlowLoadable,{}))}function X(){i.DrawerManager.openDrawerLeft((0,U.jsx)(k.NewGroupFlowLoadable,{})),(0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.NEW_GROUP)}function J(){o.ModalManager.open((0,U.jsx)(D.default,{onViewShopClick:()=>{(0,E.logShopsManagementEvent)(T.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_VIEW_SHOPS_IN_SHOPS_SETTING)},onCommerceManagerClick:()=>{(0,E.logShopsManagementEvent)(T.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_COMMERCE_MANAGER_IN_SHOPS_SETTING)},onCancelClick:()=>{(0,E.logShopsManagementEvent)(T.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_IN_SHOPS_SETTING)}})),(0,E.logShopsManagementEvent)(T.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_SHOPS_SETTING)}function Z(){return!(!_.Conn.isSMB||!N.ServerProps.shopsHeaderDropdownMenuItem)&&(0,h.hasShop)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)()))}function ee(){if(Z()){const e=(0,s.bannedShopsEnabled)()&&(0,h.isShopBanned)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)()));o.ModalManager.open((0,U.jsx)(g.default,{title:u.fbt._("Catalog disabled",null,{hk:"2OkL2n"}),onOK:V,okText:u.fbt._("Commerce Manager",null,{hk:"2ZKedl"}),onCancel:()=>{o.ModalManager.close(),(0,E.logShopsManagementEvent)(T.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CANCEL_IN_CATALOG_SETTING)},children:e?u.fbt._("You can’t restore your catalog at this time because we have disabled your shop for not complying with our policies. Learn more in Commerce Manager.",null,{hk:"qAqw2"}):u.fbt._("Your catalog is temporarily disabled because WhatsApp is a sales channel for your shop. To restore your catalog, go to Commerce Manager and set the shop’s visibility to “hidden”, or remove WhatsApp from the Business Manager account.",null,{hk:"pjZ4n"})})),(0,E.logShopsManagementEvent)(T.default.SHOPS_MANAGEMENT_ACTION.ACTION_CLICK_CATALOG_SETTING)}else(0,s.canManageCollections)()&&j.QPL.markerStart(I.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ToolsMenu"}}}),(0,p.openCatalogManagementFlow)(null,T.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS),(0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.CATALOG)}function te(e,t){(0,d.useRef)(-1);(0,d.useEffect)((()=>{(0,m.default)(T.default.WEBC_MENU_ITEM_LABEL.OPEN)}),[]);const a=(0,U.jsx)(y.DropdownItem,{a8n:"mi-new-group menu-item",action:X,children:u.fbt._("New group",null,{hk:"43A4qP"})}),n=(0,s.communityCreationEnabled)()?(0,U.jsx)(y.DropdownItem,{a8n:"mi-new-community menu-item",action:Q,children:u.fbt._("",null,{hk:"GzfEK"})}):null,r=(0,U.jsx)(y.DropdownItem,{a8n:"mi-starred menu-item",action:$,children:u.fbt._("Starred messages",null,{hk:"4Da0Qc"})}),i=(0,s.canEditLabelAssociation)()&&(0,U.jsx)(y.DropdownItem,{a8n:"mi-setting menu-item",action:K,children:u.fbt._("Labels",null,{hk:"t1hII"})}),o=(0,s.orderManagementEnabled)()&&(0,U.jsx)(y.DropdownItem,{a8n:"mi-orders menu-item",action:z,children:String(u.fbt._("Orders",null,{hk:"brape"}))}),c=_.Conn.isSMB&&!(0,s.blockCatalogCreationECommerceComplianceIndia)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)()))?(0,U.jsx)(y.DropdownItem,{a8n:"mi-catalog menu-item",action:ee,children:Z()?u.fbt._("Catalog (temporarily disabled)",null,{hk:"1386cg"}):u.fbt._("Catalog",null,{hk:"3QDkTE"})}):null,p=_.Conn.isSMB?(0,U.jsx)(y.DropdownItem,{a8n:"mi-profile-status menu-item",action:Y,children:C.default.t(500)}):null,g=Z()?(0,U.jsx)(y.DropdownItem,{a8n:"mi-shop menu-item",action:J,children:(0,s.bannedShopsEnabled)()&&(0,h.isShopBanned)(f.BusinessProfileCollection.get((0,l.getMaybeMeUser)()))?u.fbt._("Shop (disabled)",null,{hk:"26yLAy"}):u.fbt._("Shop",null,{hk:"T4w0U"})}):null;return(0,U.jsxs)(b.Dropdown,{ref:t,type:b.MenuType.DropdownMenu,flipOnRTL:!0,dirX:b.DirX.LEFT,testid:"chatlist-header-dropdown",children:[a,null,null,n,p,g,c,o,(0,s.archiveV2Supported)()&&e.settings.showArchiveV2?null:(0,U.jsx)(y.DropdownItem,{a8n:"mi-archived menu-item",action:q,children:u.fbt._("Archived",null,{hk:"2Sj4rE"})}),r,i,(0,U.jsx)(y.DropdownItem,{a8n:"mi-setting menu-item",action:H,testid:"chatlist-dropdown-item-settings",children:C.default.t(502)}),null,(0,U.jsx)(y.DropdownItem,{a8n:"mi-logout menu-item",action:W,children:C.default.t(496)})]},"ChatlistHeader")}var ae=(0,d.forwardRef)(te);t.default=ae},70785:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){new r.default.WebcMenu({webcMenuAction:r.default.WEBC_MENU_TYPE.THREADS_SCREEN_CLICK,webcMenuItemLabel:e}).commit()};var r=n(a(11339))},47488:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(81109)),s=r(a(48926)),o=r(a(82569)),l=r(a(35161)),u=r(a(23279)),d=a(89385),c=r(a(47259)),f=a(57319),h=a(88555),p=a(81572),m=r(a(64369)),g=r(a(38224)),_=a(41455),v=r(a(45120)),b=r(a(52013)),y=a(41906),C=a(38184),S=a(8139),E=r(a(78931)),T=r(a(97039)),x=r(a(62831)),M=(r(a(40436)),r(a(89867)),r(a(94184))),k=a(48360),w=a(67294),P=(r(a(56720)),r(a(5280))),A=a(63183),j=a(69951),I=r(a(57355)),O=r(a(48654)),N=r(a(47451)),R=r(a(96633)),D=a(3198),L=a(19380),B=r(a(58654)),F=a(48256),G=a(85600),U=r(a(51099)),V=a(50101),W=a(44663),H=(a(47915),r(a(44942))),q=r(a(30855)),Y=a(80872),z=r(a(84937)),K=a(29424),$=r(a(41955)),Q=r(a(14296)),X=a(16770),J=a(59802),Z=r(a(48837)),ee=a(84387),te=r(a(11339)),ae=r(a(63538)),ne=a(59871),re=a(72472),ie=r(a(21011)),se=a(92745),oe=r(a(86365)),le=a(64551),ue=r(a(88406)),de=r(a(35641)),ce=a(30152),fe=a(11054),he=r(a(65932)),pe=(r(a(23217)),r(a(4478))),me=a(18644),ge=r(a(90012)),_e=a(85893);const ve=450,be=75;function ye(){return(0,S.canDisplayLabel)()||(0,S.smartFiltersEnabled)()}class Ce extends w.Component{constructor(e){var t;super(e),t=this,this._refPanel=null,this.flatListController=new q.default,this._batchState={},this.setRefSearch=e=>{this.refSearch=e},this._setRefInputHotkey=e=>{this._refInputHotkey=e},this._refChatlist=(0,w.createRef)(),this._smbFilterSession=new de.default,this._hasLabelEditGK=!1,this._refContainer=(0,w.createRef)(),this._debounceSetState=new f.ShiftTimer((()=>{this.setState(this._batchState),this._batchState={}})),this.debounceSetState=(e,t,a)=>{Object.assign(this._batchState,e),void 0===t?this._debounceSetState.onOrBeforeRepaint():void 0===a?this._debounceSetState.debounce(t):this._debounceSetState.debounceAndCap(t,a)},this._updateLabelFeatureFlagChange=()=>{!this._hasLabelEditGK&&(0,S.canEditLabelAssociation)()&&(this._hasLabelEditGK=!0,this.props.listeners.add(X.LabelCollection,"bulk_msg_chat_label_change",(()=>{this.searchQuery&&!this.searchQuery.isEmptyQuery&&(this.ftsMsgs.updateFtsAfterMsgLabelUpdate(),this._handleSearch(this.searchQuery.trimmed,{label:this.searchQuery.filter.label,kind:this.searchQuery.filter.kind}))})),this.selectableState=new oe.default(this.props.selectable||!1),this.props.listeners.add(this._multiSelection,"all",this._updateShowMultiselectBar),this.setState({chatlistKeyId:1}))},this._updateShowMultiselectBar=()=>{const{showMultiSelectBar:e}=this.state,t=this._multiSelection&&this._multiSelection.getSelected().length>0&&!this.props.hideMultiSelectBar;!1===e&&t&&this.setState({showMultiSelectBar:!0})},this._scrollChatListToTop=()=>{const e=this._refPanel;if(e){const t=e.scrollTop;0!==e.scrollTop&&(t<e.clientHeight?(0,x.default)(e,"scroll",{duration:300,container:e,offset:-(e.scrollTop+e.getBoundingClientRect().top)}):e.scrollTop=0)}},this.getFilteredContacts=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("contact"===a.kind||"non_contact"===a.kind||"unread"===a.kind)return[];let r=(e||"").trim();if(!r&&t._isEmptyFilterQuery(a))return[];r=Q.default.accentFold(r);const i=(0,T.default)(r),s=L.ContactCollection.getFilteredContacts();return s.filter((function(e){if(!e.searchMatch(r,i,a.label))return!1;if(!n){const t=j.ChatCollection.get(e.id);if(null==t?void 0:t.shouldAppearInList)return!1}return!0}))},this._getFilteredMessages=function(){var e;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t._isEmptyFilterQuery(a))return;if(!a.label)return;const n=(null===(e=X.LabelCollection.get(a.label))||void 0===e?void 0:e.labelItemCollection.filter((e=>e.parentType===J.LabelItemParentType.Msg)).map((e=>e.parentId)))||[];ne.MsgCollection.getMessagesById(n).then((e=>{t.setState({messages:e.messages})}))},this._getFilteredChats=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||"").trim();if(n||!t._isEmptyFilterQuery(a)){n=Q.default.accentFold(n);const e=(0,T.default)(n);return ye()?j.ChatCollection.filter((t=>{if(!t.shouldAppearInList)return!1;const r=a.label&&t.contact.searchMatch(n,e,a.label),i=!n||t.contact.searchMatch(n,e),s=!a.kind&&!a.label||t.matchFilter(a);return r||i&&s})):j.ChatCollection.filter((t=>t.contact.searchMatch(n,e)&&(t.shouldAppearInList||t.endOfHistoryTransferType===A.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC)))}return j.ChatCollection.filter((e=>!e.archive&&e.shouldAppearInList))},this.fullTextSearch=(e,t)=>{const a=e||this.searchQuery.query;(0,$.default)(a)||(null==t?void 0:t.label)?(this.state.searching||this.debounceSetState({searching:!0}),this._fts()):this.isFTSSearching()?this._cancelSearch():this.ftsMsgs.reset()},this.shouldFTSSearch=e=>!(!this.ftsMsgs.hasMoreMsgs||this.isFTSSearching()||!(0,$.default)(this.searchQuery.query||""))&&e.scrollTop+y.SCROLL_FUDGE>e.scrollHeight-e.clientHeight,this._mapGroupToContacts=(e,t)=>{const a=new Map;for(let n=0;n<e.length;n++){const r=e[n];r&&r.forEach((e=>{e&&(a.has(e)||a.set(e,[]),a.get(e).push(t[n]))}))}const n=[];return a.forEach(((e,t)=>{n.push([t,e])})),n.sort((function(e,t){return e[1].length===t[1].length?null!=e[0].t&&null!=t[0].t?t[0].t-e[0].t:null!=e[0].t?-1:1:t[1].length-e[1].length})),n.slice(0,10)},this._handleSearch=(e,t)=>{const a=ye()?t:{};if(!e&&this._isEmptyFilterQuery(a))return this.searchQuery.updateQuery(e),this.searchQuery.updateLabelQuery({}),void this._handleStopSearch();e===this.searchQuery.query&&this._isEmptyFilterQuery(a)||(this.fullTextSearch(e,a),this._commonGroupSearch(),this._throttledFilteredChats(e,a),this._throttledFilteredContacts(e,a),this.searchQuery.updateQuery(e),this.searchQuery.updateLabelQuery(a))},this._hasSearchText=()=>ye()?!!this.searchQuery.query||!this._isEmptyFilterQuery(this.searchQuery.filter):!!this.searchQuery.query,this.isFTSSearching=()=>{const e=this._batchState;return"searching"in e?e.searching:this.state.searching},this._cancelSearch=()=>{var e,t;this._fts.cancel(),this._commonGroupSearch.cancel(),this.ftsMsgs.resetSearch(),this.ftsMsgs.reset(),null===(e=this._ftsAbortController)||void 0===e||e.abort(),null===(t=this._findCommonGroupsAbortController)||void 0===t||t.abort(),this.setState({groupChats:[]}),this.isFTSSearching()&&this.debounceSetState({searching:!1},be)},this._cancelThrottled=()=>{this._throttledFilteredChats.cancel(),this._throttledFilteredContacts.cancel(),this._throttledOnScroll.cancel()},this._handleStopSearch=()=>new Promise((e=>{var t;this._isEmptyFilterQuery(this.searchQuery.filter)||(t=this._smbFilterSession.sessionId,new te.default.ChatFilterEvent({actionType:te.default.CHAT_FILTER_ACTION_TYPES.SEARCH_WITH_FILTER,filterType:te.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),this._cancelSearch(),this.searchQuery.clear(),this._cancelThrottled(),null!=this.refSearch&&this.refSearch.reset(),this.setState({chats:this._getFilteredChats(),contacts:this.getFilteredContacts(),searching:!1},(()=>e()))})),this._handleFocusList=e=>{var t;e.repeat||this._refChatlist.current&&(this.refSearch&&!this.refSearch.cursorIsAtEnd()||(e.preventDefault(),v.default.shouldIndicateFocus(),null===(t=this._refChatlist.current)||void 0===t||t.focusFirst()))},this._handleOpenFirst=e=>{e.preventDefault();const t=this.searchQuery.query,a=this.searchQuery.filter,n=this._getFilteredChats(t,a)[0]||this.getFilteredContacts(t,a)[0];n&&(0,V.findChat)(n.id).then((e=>{this._handleStopSearch(),v.default.shouldIndicateFocus(),p.Cmd.openChatFromUnread(e).then((t=>{t&&p.Cmd.focusChatTextInput(e)}))}))},this._handleFocusSearch=()=>{_.DrawerManager.existsDrawerLeft((e=>{e||(v.default.shouldIndicateFocus(),b.default.focus(this.refSearch))}))},this.indicateFocus=()=>{v.default.maybeIndicateFocus(this._refInputHotkey)},this._handleScroll=e=>{this._throttledOnScroll(e.target)},this.getEmptyChatlistState=(e,t,a,n)=>(null==e?void 0:e.length)||(null==t?void 0:t.length)||a.length||(null==n?void 0:n.length)?null:this.props.labelFilter?this.state.searching?(0,_e.jsx)("span",{}):(0,_e.jsx)(G.NoResultForLabel,{labelId:this.props.labelFilter}):this.searchQuery.query?this.state.searching?(0,_e.jsx)(G.Searching,{}):(0,_e.jsx)(G.Search,{}):j.ChatCollection.some((e=>e.shouldAppearInList))?(0,_e.jsx)(G.AllArchived,{}):(0,_e.jsx)(G.ListChats,{}),this._setRefPanel=e=>{this._refPanel=e},this._handleCancelLabelSelection=()=>{this.setState({showMultiSelectBar:!1}),this._multiSelection&&this._multiSelection.unsetAll(),this.selectableState&&this.selectableState.setSelectable(!!this.props.selectable)},this._handleItemSelected=(e,t)=>{if((0,S.smartFiltersEnabled)()&&!this.props.labelFilter&&(!this._isEmptyFilterQuery()||this._hasSearchText())){let a;switch(e){case"chat":a=te.default.CHAT_SEARCH_RESULT_TYPE.CHAT;break;case"message":a=te.default.CHAT_SEARCH_RESULT_TYPE.MESSAGE;break;case"contact":a=te.default.CHAT_SEARCH_RESULT_TYPE.CONTACT;break;case"group":a=te.default.CHAT_SEARCH_RESULT_TYPE.GROUP}const n=this.searchQuery.filter,r=this.getFilterType(n),i=this._smbFilterSession.sessionId;new te.default.ChatFilterEvent({actionType:te.default.CHAT_FILTER_ACTION_TYPES.SEARCH_ITEM_SELECTED,filterType:r,sessionId:i,targetScreen:te.default.CHAT_FILTER_TARGET_SCREEN.CHAT_LIST,searchResultType:a}).commit(),t&&p.Cmd.addChatMsgSentLogAttributes(t,{handleOnce(){new te.default.ChatFilterEvent({actionType:te.default.CHAT_FILTER_ACTION_TYPES.SEARCH_MSG_SENT,filterType:r,sessionId:i,searchResultType:a}).commit()}})}},this.ftsMsgs=new z.default,this.selection=new ue.default([],(e=>e.id.toString())),this.searchQuery=new se.SearchQuery,this._multiSelection=this.props.multiSelection||new E.default([],(e=>e.id.toString())),this._fts=this.props.debounce((()=>{var e;this.props.labelFilter||this.logSearchEvent();const t=this.searchQuery.trimmed;null===(e=this._ftsAbortController)||void 0===e||e.abort(),this._ftsAbortController=new n;const a=this._ftsAbortController.signal,r=this.props.getUnmountSignal(),i=Promise.resolve().then((()=>{this.isFTSSearching()||this.debounceSetState({searching:!0},be)})).then((()=>this.ftsMsgs.search({count:Y.FTS_NUM_RESULTS,filter:this.searchQuery.filter,searchTerm:t})));this._ftsPromise=(0,c.default)(i,a).then((e=>{r.aborted||e&&!e.canceled&&this.debounceSetState({searching:!1},be)})).catch((0,d.catchAbort)((()=>{}))).finally((()=>{this._ftsPromise=void 0,this._ftsAbortController=void 0})).catch((()=>{this.isFTSSearching()&&this.debounceSetState({searching:!1},be)}))}),Y.FTS_TYPING_DELAY),this._throttledFilteredChats=this.props.throttle(((e,t)=>{const a=this._getFilteredChats(e,t);this.debounceSetState({chats:a},be,50)}),ve,{leading:!1,trailing:!0}),this._throttledFilteredContacts=this.props.throttle(((e,t)=>{const a=this.getFilteredContacts(e,t);this.debounceSetState({contacts:a},be,50)}),ve,{leading:!1,trailing:!0}),this._throttledOnScroll=this.props.throttle((e=>{this.shouldFTSSearch(e)&&this.fullTextSearch()}),100),this._commonGroupSearch=(0,u.default)((()=>{var e;const t=this.searchQuery.trimmed;if(!t)return void this.setState({groupChats:[]});if("contact"===this.searchQuery.filter.kind||"non_contact"===this.searchQuery.filter.kind)return void this.setState({groupChats:[]});const a=this.getFilteredContacts(t,{},!0);if(0===a.length||a.length>5)return void this.setState({groupChats:[]});const r=(0,l.default)(a,function(){var e=(0,s.default)((function*(e){try{return yield(0,W.findCommonGroups)(e),e.commonGroups}catch(e){throw __LOG__(4,!0,new Error,!0)`get from participants table failed`,SEND_LOGS("get from participants table failed when finding common groups: "+e),new Error("get from participants table failed")}}));return function(){return e.apply(this,arguments)}}());null===(e=this._findCommonGroupsAbortController)||void 0===e||e.abort(),this._findCommonGroupsAbortController=new n;const i=this._findCommonGroupsAbortController.signal;this._findCommonGroupsPromise=(0,c.default)(Promise.all(r),i).then((e=>{if(t===this.searchQuery.trimmed){const t=this._mapGroupToContacts(e,a);this.setState({groupChats:t})}})).catch((()=>{})).finally((()=>{this._findCommonGroupsPromise=null,this._findCommonGroupsAbortController=null}))}),750);const{labelFilter:a}=this.props,r=this.props.labelFilter?{label:a}:void 0;this.state=(0,i.default)({searching:!!r,chats:this._getFilteredChats("",r),contacts:this.getFilteredContacts("",r),groupChats:[],showMultiSelectBar:!1,chatlistKeyId:0,filterPreset:r,textsize:g.default.get().textsize},{}),this.searchQuery.updateLabelQuery(r),this._getFilteredMessages(r)}componentDidMount(){const{labelFilter:e,listeners:t}=this.props;e&&this._handleSearch("",{label:e}),this._updateLabelFeatureFlagChange(),t.add(C.LegacyPhoneFeatures,C.LegacyPhoneFeatures.FEATURE_CHANGE_EVENT,this._updateLabelFeatureFlagChange),this.props.listeners.add(j.ChatCollection,"remove",(e=>{if(this.searchQuery.query){const t=(0,o.default)(this.state.chats,e);this.state.chats&&t.length!==this.state.chats.length&&this.debounceSetState({chats:t})}else this._throttledFilteredChats.cancel(),this.debounceSetState({chats:this._getFilteredChats()})})),this.props.listeners.add(L.ContactCollection,"remove",(e=>{if(this.searchQuery.query||!this._isEmptyFilterQuery(this.searchQuery.filter)){const t=(0,o.default)(this.state.contacts,e);this.state.contacts&&t.length!==this.state.contacts.length&&this.debounceSetState({contacts:t})}else this._throttledFilteredContacts.cancel(),this.debounceSetState({contacts:this.getFilteredContacts()})})),this.props.listeners.add(j.ChatCollection,"sort change:archive",(()=>{!this.searchQuery.query&&this._isEmptyFilterQuery(this.searchQuery.filter)&&(this._throttledFilteredChats.cancel(),this.debounceSetState({chats:this._getFilteredChats()}))})),this.props.listeners.add(L.ContactCollection,"sort",(()=>{!this.searchQuery.query&&this._isEmptyFilterQuery(this.searchQuery.filter)&&(this._throttledFilteredContacts.cancel(),this.debounceSetState({contacts:this.getFilteredContacts()}))})),this.props.listeners.add(this.ftsMsgs,"bulk_remove reset",(()=>{!this.searchQuery.query&&this._isEmptyFilterQuery(this.searchQuery.filter)&&(this._throttledFilteredChats.cancel(),this.debounceSetState({chats:this._getFilteredChats()}))})),this.props.listeners.add(p.Cmd,"focus_chat_search",this._handleFocusSearch),this.props.listeners.add(p.Cmd,"textsize_change",(e=>{this.debounceSetState({textsize:e})})),this.props.listeners.add(ne.MsgCollection,m.default.NEW_MSG_SENT,(()=>{this._hasSearchText()||!this._isEmptyFilterQuery(this.searchQuery.filter)?this._handleStopSearch().then((()=>this._scrollChatListToTop())):this._scrollChatListToTop()}))}getClientWidth(){var e;return null===(e=this._refContainer.current)||void 0===e?void 0:e.clientWidth}containsDOMNode(e){return!!this._refContainer.current&&this._refContainer.current.contains(e)}componentWillUnmount(){this._cancelSearch(),this._cancelThrottled(),this._debounceSetState.cancel()}_isEmptyFilterQuery(e){return!e||!(e.label||e.kind)}_showUnread(){}_showArchivedPanel(){return(0,S.archiveV2Supported)()&&this.props.settings.showArchiveV2&&!this.state.showMultiSelectBar&&this.searchQuery.isEmptyQuery&&this.state.chats&&this.state.chats.length>0&&j.ChatCollection.some((e=>e.archive&&e.shouldAppearInList))}getFilterType(e){if(!e||this._isEmptyFilterQuery(e))return te.default.CHAT_FILTER_TYPES.NONE;switch(e.kind){case ce.SMB_SEARCH_FILTERS.UNREAD:return te.default.CHAT_FILTER_TYPES.UNREAD;case ce.SMB_SEARCH_FILTERS.GROUP:return te.default.CHAT_FILTER_TYPES.GROUP;case ce.SMB_SEARCH_FILTERS.BROADCAST:return te.default.CHAT_FILTER_TYPES.BROADCAST_LIST;case ce.SMB_SEARCH_FILTERS.CONTACT:return te.default.CHAT_FILTER_TYPES.CONTACT;case ce.SMB_SEARCH_FILTERS.NON_CONTACT:return te.default.CHAT_FILTER_TYPES.NON_CONTACT;default:return te.default.CHAT_FILTER_TYPES.OTHER_LABELS}}logSearchEvent(){if((0,S.smartFiltersEnabled)()){const e=this.searchQuery.filter;new te.default.ChatFilterEvent({actionType:te.default.CHAT_FILTER_ACTION_TYPES.SEARCH,filterType:this.getFilterType(e),sessionId:this._smbFilterSession.sessionId,targetScreen:te.default.CHAT_FILTER_TARGET_SCREEN.CHAT_LIST}).commit()}}render(){var e;const{chats:t,contacts:a,groupChats:n,filterPreset:r,messages:i}=this.state,s=this.ftsMsgs.toArray();let o=this.getEmptyChatlistState(t,a,s,i);null==o&&(o=(0,_e.jsx)(I.default,{ref:this._refChatlist,flatListController:this.flatListController,chats:t,contacts:a||[],messages:i||[],filterPreset:r,groupChats:n,isSearching:!!this._hasSearchText(),searchQuery:this.searchQuery,ftsResult:s,selection:this.selection,onFocusSearch:this._handleFocusSearch,multiSelection:this._multiSelection,selectableState:this.selectableState,onItemSelected:this._handleItemSelected},this.state.chatlistKeyId));const l={down:this._handleFocusList},u=this.state.searching&&this.props.labelFilter||this.state.searching&&this.ftsMsgs.length?(0,_e.jsx)("div",{className:R.default.spinner,children:(0,_e.jsx)(fe.Spinner,{stroke:6,size:24})},"spinner"):null,d=(0,D.getTextsizeClassForScale)(this.state.textsize),c=(0,M.default)(R.default.chatListPanel,d),f=this.ftsMsgs.hasMoreMsgs&&s.length||this._showUnread()?this._handleScroll:void 0;let p,m,g,_,v=null;return this.state.showMultiSelectBar?p=(0,_e.jsx)(me.UIE,{displayName:"MultiSelect",escapable:!0,requestDismiss:this._handleCancelLabelSelection,children:(0,_e.jsx)(ae.default,{theme:"chatlist-panel",selectedModels:this._multiSelection,labelEditEnabled:!0,iconColor:"#8d9194",onCancel:this._handleCancelLabelSelection})},"multiSelectBar"):m=(0,_e.jsx)(K.HotKeys,{handlers:l,onFocus:this.indicateFocus,ref:this._setRefInputHotkey,className:R.default.panelSearch,children:(0,_e.jsx)(Z.default,{ref:this.setRefSearch,onSearch:this._handleSearch,onEnter:this._handleOpenFirst,loading:this.state.searching,smbFilterSession:this._smbFilterSession,listFilterEnabled:!0})},"ListSearchHotKey"),this.props.labelFilter||(v=(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(N.default,{mute:re.MuteCollection.globalMute(),settings:this.props.settings}),(0,_e.jsx)(O.default,{}),m,p]})),this._showArchivedPanel()&&(g=(0,_e.jsx)(P.default,{})),(0,h.isMDBackend)()&&this._hasSearchText()&&(_=(0,_e.jsx)(B.default,{theme:"md-chat-search-list",children:k.fbt._("Use WhatsApp on your phone to search for older chats or messages.",null,{hk:"1nGygN"})})),(0,_e.jsxs)("div",{id:"side",className:c,ref:this._refContainer,children:[(0,_e.jsx)(U.default,{reason:"app-header",children:v}),(0,_e.jsx)(U.default,{reason:"chat-list",children:(0,_e.jsxs)(H.default,{flatListControllers:[this.flatListController],ref:this._setRefPanel,className:R.default.panelBody,onScroll:f,id:"pane-side",children:[g,o,u,null!==(e=_)&&void 0!==e?e:(0,_e.jsx)(F.E2eMessageChatList,{})]})}),le.ServerProps.pttOotPlayback&&(0,_e.jsx)(U.default,{reason:"out-of-chat-player",children:(0,_e.jsx)(ie.default,{})})]})}}Ce.CONCERNS={settings:["showArchiveV2"]},Ce.displayName="ChatlistPanel";const Se=(0,ge.default)((0,pe.default)((0,ee.ListenerHOC)((0,he.default)(Ce,Ce.CONCERNS))));t.default=class extends Se{getClientWidth(){return this.getComponent().getClientWidth()}containsDOMNode(e){return this.getComponent().containsDOMNode(e)}}},3198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getListHeightForTextsize=function(e){var t,n;return null!==(t=null===(n=a.get(e))||void 0===n?void 0:n.height)&&void 0!==t?t:72},t.getTextsizeClassForScale=function(e){var t;return null===(t=a.get(e))||void 0===t?void 0:t.classname};const a=new Map([[-1,{classname:"textsize-small",height:64}],[-2,{classname:"textsize-xsmall",height:58}],[-3,{classname:"textsize-xxsmall",height:52}],[1,{classname:"textsize-large",height:72}],[2,{classname:"textsize-xlarge",height:72}],[3,{classname:"textsize-xxlarge",height:72}]])},61837:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=a(67294),s=a(16593),o=n(a(29439)),l=a(84387),u=a(85893);class d extends i.Component{constructor(e){super(e),this._handleSelectableChange=()=>{this.forceUpdate()},this._handleSelectChange=e=>{this.state.selected!==e&&this.setState({selected:e})},this._handleSelect=e=>{if(null==e?void 0:e.isDefaultPrevented())return;e&&e.stopPropagation();const{onSelect:t,model:a}=this.props,{selected:n}=this.state;let r;n?(this.setState({selected:!1,partialSelected:!1}),r=!1):r=!0,null==t||t(a,r,!1)};const{multiSelection:t,initialSelection:a,model:n}=this.props;let r=!1,i=!1;switch(a){case 0:r=!1,i=!1;break;case 1:r=!0,i=!1;break;case 2:r=!0,i=!0;break;default:r=t.isSelected(n),i=!1}this.state={selected:r,partialSelected:i,modelId:n.id.toString()}}static getDerivedStateFromProps(e,t){const{modelId:a}=t,{multiSelection:n,model:r}=e,i=r.id.toString();return n&&a!==i?{modelId:i,selected:n.isSelected(r)}:null}componentDidMount(){this.props.listeners.add(this.props.multiSelection,this.props.model.id.toString(),this._handleSelectChange),this.props.selectableState&&this.props.listeners.add(this.props.selectableState,"all",this._handleSelectableChange)}componentDidUpdate(e){const{model:t,multiSelection:a,listeners:n}=e,r=t.id.toString(),i=this.props.model.id.toString();a&&r!==i&&(n.remove(a,r,this._handleSelectChange),n.add(a,i,this._handleSelectChange))}render(){const{theme:e,selectableState:t,children:a}=this.props,n=(0,r.default)(o.default.checkboxChatControl,{[o.default.labelSelection]:"label-selection"===this.props.theme}),l=t.isSelectable,d={};if(l&&e&&Object.assign(d,{theme:e}),l&&Object.assign(d,{noContext:!0}),null==a)return null;const c=i.Children.toArray(a)[0],f="label-selection"===e?this._handleSelect:null;return(0,u.jsxs)("div",{className:o.default.checkboxChatWrapper,onClick:f,children:[l&&(0,u.jsx)("div",{className:n,onClick:this._handleSelect,children:(0,u.jsx)(s.CheckBox,{onChange:this._handleSelect,checked:this.state.selected,theme:this.state.selected&&this.state.partialSelected?s.CHECKBOX_THEME.PARTIAL:void 0})}),(0,i.cloneElement)(c,d)]})}}d.displayName="CheckboxWrapper";var c=(0,l.ListenerHOC)(d);t.default=c},35375:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{useShortName:t,isDisabled:a,onDelete:n,selections:l}=e,f=(0,i.useRef)(null),h=(0,s.default)();return(0,o.useListener)(l,"all",((e,t)=>{h(),t&&f.current instanceof HTMLDivElement&&f.current.scrollIntoView({behavior:"smooth"})})),(0,d.jsxs)(r.default,{transitionName:"slide-up-down-footer",className:u.default.selectedListContainer,children:[(0,d.jsx)(c,{useShortName:t,isDisabled:a,onDelete:n,contacts:e.selections.getSelected()}),(0,d.jsx)("div",{className:u.default.bottomDiv,ref:f})]})};var r=n(a(40436)),i=a(67294),s=n(a(59312)),o=a(87550),l=a(2732),u=n(a(37058)),d=a(85893);function c(e){let{useShortName:t,isDisabled:a,onDelete:n,contacts:r}=e;if(!r.length)return null;return r.map((e=>(0,d.jsx)(l.Contact,{contact:e,useShortName:null!=t&&t,onDelete:(null==a?void 0:a(e))?n:void 0,type:l.Type.SMALL,theme:"list-names",waitIdle:!0},e.id.toString())))}},48837:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=n(a(99964)),s=n(a(64369)),o=n(a(45120)),l=a(8139),u=a(55715),d=n(a(40436)),c=n(a(94184)),f=a(48360),h=a(67294),p=n(a(16223)),m=a(87550),g=n(a(55010)),_=n(a(89113)),v=a(46428),b=a(83872),y=a(71174),C=n(a(18888)),S=n(a(14296)),E=a(16770),T=a(84543),x=n(a(64968)),M=n(a(11339)),k=a(59871),w=a(30152),P=a(11054),A=n(a(23217)),j=a(18644),I=n(a(24717)),O=a(85893);const N=()=>{};function R(e){let{kind:t,icon:a,label:n,onClick:r}=e;return(0,O.jsx)(y.DropdownItem,{a8n:`chat_filter_${t||""}`,action:r,children:(0,O.jsxs)("div",{className:x.default.kind,children:[(0,O.jsx)(A.default,{name:a}),(0,O.jsx)("div",{className:x.default.kindName,children:n})]})})}function D(){return(0,l.canDisplayLabel)()||(0,l.smartFiltersEnabled)()}function L(e){let{updateSearchFilter:t}=e;const a=[(0,O.jsx)(R,{kind:w.SMB_SEARCH_FILTERS.UNREAD,icon:"search-unread",label:f.fbt._("Unread chats",null,{hk:"4w3TsP"}),onClick:()=>t({kind:w.SMB_SEARCH_FILTERS.UNREAD})},"unread")];return(0,l.smartFiltersEnabled)()&&a.push((0,O.jsx)(R,{kind:w.SMB_SEARCH_FILTERS.CONTACT,icon:"contacts",label:f.fbt._("Contacts",null,{hk:"wlOV2"}),onClick:()=>t({kind:w.SMB_SEARCH_FILTERS.CONTACT})},"contact"),(0,O.jsx)(R,{kind:w.SMB_SEARCH_FILTERS.NON_CONTACT,icon:"non_contacts",label:f.fbt._("Non-contacts",null,{hk:"1SVQl1"}),onClick:()=>t({kind:w.SMB_SEARCH_FILTERS.NON_CONTACT})},"non_contact")),a.push((0,O.jsx)(R,{kind:w.SMB_SEARCH_FILTERS.GROUP,icon:"group",label:S.default.t(826),onClick:()=>t({kind:w.SMB_SEARCH_FILTERS.GROUP})},"group")),(0,b.broadcastListEnabled)()&&a.push((0,O.jsx)(R,{kind:w.SMB_SEARCH_FILTERS.BROADCAST,icon:"search-broadcasts",label:f.fbt._("Broadcast lists",null,{hk:"2tM8Ez"}),onClick:()=>t({kind:w.SMB_SEARCH_FILTERS.BROADCAST})},"broadcast")),[(0,O.jsx)("div",{className:x.default.filterTitle,children:f.fbt._("Chats",null,{hk:"46DIdr"})},"chat_filter_kind_header"),...a]}function B(e){let{updateSearchFilter:t}=e;const a=E.LabelCollection.toArray().reduce(((e,a)=>a.name&&a.count&&0!==a.count?[...e,(0,O.jsx)(y.DropdownItem,{a8n:`label_item_${a.id}`,action:()=>t({label:a.id}),children:(0,O.jsx)("button",{className:x.default.labels,children:(0,O.jsx)(T.Labels,{labels:[a.id],showName:!0,theme:"label-filter"})})},`label_item_${a.id}`)]:e),[]);if(a.length>0){return[(0,O.jsx)("div",{className:x.default.filterTitle,children:f.fbt._("Labels",null,{hk:"3ONS1h"})},"chat_filter_label_header"),...a]}return[]}function F(e,t){const{loading:a,placeholder:n,spellCheck:b,listFilterEnabled:y,onSearch:T,type:R,smbFilterSession:F}=e,U=(0,h.useRef)(null),V=(0,h.useRef)(null),W=(0,p.default)(C.default),H=(0,h.useRef)(!1),[q,Y]=(0,h.useState)(""),[z,K]=(0,h.useState)(null),[$,Q]=(0,h.useState)(null),[X,J]=(0,h.useState)(!1),[Z,ee]=(0,h.useState)(null),te=()=>{const e=U.current;e&&!Z&&(e.reset(),e.blur(),Y(""),K(null),Q(null),J(!1),T("",void 0))};(0,m.useListener)(k.MsgCollection,s.default.NEW_MSG_SENT,(()=>{($||z)&&te()}));const ae=(0,_.default)((()=>{if(!X||q||z||$)return;const e=V.current;e&&e.contains(document.activeElement)||te()}));(0,h.useEffect)((()=>{ae()}),[ae,X,q,z,$]),(0,g.default)((()=>{te()}));let ne=null;const[re]=(0,v.useTimeout)((()=>{q||z||$||te()}),0),ie=e=>{var t;Z&&ee(null),K(e.label),Q(null!==(t=e.kind)&&void 0!==t?t:null),F&&function(e,t){const a=new M.default.ChatFilterEvent({actionType:M.default.CHAT_FILTER_ACTION_TYPES.SELECT_FILTER,filterType:G(t),sessionId:e});(0,l.smartFiltersEnabled)()&&(a.targetScreen=M.default.CHAT_FILTER_TARGET_SCREEN.CHAT_LIST);a.commit()}(F.sessionId,e),T("",e)},se=()=>{(0,r.default)(U.current,"inputRef.current").focus()},oe=e=>{e.stopPropagation(),se();const t=U.current;t&&(t.reset(),K(null),Q(null),T("",void 0))},[le]=(0,v.useTimeout)(se,0),ue=e=>{F&&function(e){const t=new M.default.ChatFilterEvent({actionType:M.default.CHAT_FILTER_ACTION_TYPES.OPEN,filterType:M.default.CHAT_FILTER_TYPES.NONE,sessionId:e});(0,l.smartFiltersEnabled)()&&(t.targetScreen=M.default.CHAT_FILTER_TARGET_SCREEN.CHAT_LIST);t.commit()}(F.newSessionId()),e.stopPropagation(),ee({menu:(0,O.jsxs)(O.Fragment,{children:["chat-msg-search"!==R?(0,O.jsx)(L,{updateSearchFilter:ie}):null,(0,O.jsx)(B,{updateSearchFilter:ie})]}),anchor:e.target})},de=()=>{ee(null)},ce=e=>(0,O.jsx)("div",{"data-a8n":i.default.key("input-placeholder"),className:x.default.labelSearchPlaceholder,children:e}),fe=()=>(0,r.default)(U.current,"inputRef.current").cursorIsAtEnd(),he=()=>{(0,r.default)(U.current,"inputRef.current").select()},pe=()=>{const e=U.current;e&&e.reset()},me=()=>{o.default.shouldIndicateFocus(),o.default.maybeIndicateFocus(V.current)};let ge;(0,h.useImperativeHandle)(t,(()=>({cursorIsAtEnd:fe,select:he,reset:pe,focus:se,indicateFocus:me}))),X&&(a?ne=(0,O.jsx)("div",{className:x.default.iconSpinner,onClick:oe,children:(0,O.jsx)(P.Spinner,{size:20,stroke:5,color:"highlight"})},"icon-clear-search"):q.length||z||$?ne=(0,O.jsx)("button",{className:x.default.iconCloseSearch,onClick:oe,children:(0,O.jsx)(A.default,{name:"x-alt"})},"icon-clear-search"):D()&&y&&(ne=(0,O.jsx)("button",{className:x.default.iconLabelSelect,"aria-label":f.fbt._("Filters menu",null,{hk:"LNvK6"}),onClick:ue,children:(0,O.jsx)(A.default,{name:"filter"})},"icon-select-label"))),X&&(ge=(0,O.jsx)(j.UIE,{displayName:"ListSearch",escapable:!0,requestDismiss:te,requestFocus:se,requestRecentFocusOnUnmount:!1}));const _e=n||S.default.t(635),ve=X?te:()=>{se()},be=(0,c.default)(x.default.listSearch,{[x.default.active]:X||z||$});let ye,Ce;Z&&(ye=(0,O.jsx)(j.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:de,requestRecentFocusOnUnmount:!1,children:(0,O.jsx)(I.default,{contextMenu:Z})})),!q&&D()&&(z?Ce=ce(S.default.t(446,{labelName:E.LabelCollection.assertGet(z).name})):$===w.SMB_SEARCH_FILTERS.GROUP?Ce=ce(f.fbt._("Search in Groups",null,{hk:"3j9ioP"})):$===w.SMB_SEARCH_FILTERS.UNREAD?Ce=ce(f.fbt._("Search unread chats",null,{hk:"1CT4IU"})):$===w.SMB_SEARCH_FILTERS.BROADCAST?Ce=ce(f.fbt._("Search in Broadcast lists",null,{hk:"4EwaXm"})):$===w.SMB_SEARCH_FILTERS.CONTACT?Ce=ce(f.fbt._("Search in chats with contacts",null,{hk:"1DAA9Y"})):$===w.SMB_SEARCH_FILTERS.NON_CONTACT&&(Ce=ce(f.fbt._("Search in chats with non contacts",null,{hk:"1eIAdx"}))));const Se=X?f.fbt._("Chat list",null,{hk:"iikD9"}):f.fbt._("Search or start new chat",null,{hk:"TdYzC"}),Ee=W.current,Te=f.fbt._("Search input textbox",null,{hk:"56hij"});return(0,O.jsxs)("div",{ref:V,onMouseEnter:()=>{D()&&(H.current=!0)},onMouseLeave:()=>{H.current=!1},className:be,children:[(0,O.jsxs)("button",{"data-a8n":i.default.key("icon-search-morph"),className:x.default.iconSearchMorph,onMouseDown:ve,"aria-label":Se,children:[(0,O.jsx)("div",{className:(0,c.default)(x.default.iconMorph,x.default.iconMorphBack),children:(0,O.jsx)(A.default,{name:"back"})}),(0,O.jsx)("div",{className:(0,c.default)(x.default.iconMorph,x.default.iconMorphSearch),children:(0,O.jsx)(A.default,{name:"search"})})]}),(0,O.jsxs)(d.default,{transitionName:"pop",children:[ne,ye]}),(0,O.jsx)("div",{"data-a8n":i.default.key("input-placeholder"),className:x.default.inputPlaceholder,children:q?null:_e}),Ce,(0,O.jsx)("label",{className:x.default.contInputSearch,children:(0,O.jsx)(Ee,{a8n:"chat-list-search",title:Te,ref:U,theme:"list-search",tabOrder:u.TAB_ORDER.CHAT_LIST_SEARCH,spellCheck:b,onBlur:()=>{H.current||re()},onFocus:X?N:()=>{J(!0),le()},onChange:X?e=>{Y(e),T(e,{label:z,kind:$})}:N,onEnter:e.onEnter})}),ge]})}function G(e){switch(e.kind){case w.SMB_SEARCH_FILTERS.UNREAD:return M.default.CHAT_FILTER_TYPES.UNREAD;case w.SMB_SEARCH_FILTERS.GROUP:return M.default.CHAT_FILTER_TYPES.GROUP;case w.SMB_SEARCH_FILTERS.BROADCAST:return M.default.CHAT_FILTER_TYPES.BROADCAST_LIST;case w.SMB_SEARCH_FILTERS.CONTACT:return M.default.CHAT_FILTER_TYPES.CONTACT;case w.SMB_SEARCH_FILTERS.NON_CONTACT:return M.default.CHAT_FILTER_TYPES.NON_CONTACT;default:return M.default.CHAT_FILTER_TYPES.OTHER_LABELS}}var U=(0,h.forwardRef)(F);t.default=U},1211:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OocMarquee=function(e){let{children:t}=e;return(0,s.jsxs)("div",{className:(0,r.default)(o.childWrapper,o.animation,i.default.isRTL()?o.animationRTL:o.animationLTR),children:[t,(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:(0,r.default)(o.delimiter)}),t,(0,s.jsx)("span",{className:(0,r.default)(o.delimiter)})]})]})};var r=n(a(56720)),i=n(a(14296)),s=a(85893);const o={animation:{animationDuration:"kb1vfvhz",animationIterationCount:"tkmeqcnu",animationTimingFunction:"f8mos8ky"},animationLTR:{animationName:"i2cyxsuq"},animationRTL:{animationName:"joi2o88i"},childWrapper:{position:"g0rxnol2",width:"ltyqj8pj"},delimiter:{display:"l7jjieqr",width:"jswlwoyz",height:"ppled2lx"}}},21011:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{outOfChatPlayerMessage:e}=(0,g.useModelValues)(E.PttPrefs,["outOfChatPlayerMessage"]),t=(0,l.useMsgAudioPlaybackController)(e);return e&&t?(0,w.jsx)(I,{msg:e,playbackController:t,onPlayNext:e=>{E.PttPrefs.outOfChatPlayerMessage=e}}):null};var r=n(a(45095)),i=n(a(79622)),s=a(81572),o=a(55715),l=a(53395),u=n(a(40436)),d=n(a(94184)),c=a(67294),f=n(a(56720)),h=n(a(65789)),p=a(87550),m=n(a(48711)),g=a(35461),_=a(88984),v=a(12176),b=a(1211),y=a(68400),C=a(67880),S=a(16538),E=a(56989),T=n(a(4947)),x=n(a(23217)),M=a(97628),k=n(a(1784)),w=a(85893);const P={container:{position:"lhggkp7q",zIndex:"b9fczbqn",backgroundColor:"f09rd1o5",display:"p357zi0d",width:"ln8gz9je",height:"noboit18",boxShadow:"amd08ebk"},avatar:{marginEnd:"t9wpllip",width:"qssinsw9",height:"lniyxyh2",minWidth:"byvcucqk",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",flexWrap:"lkhkxwyq",position:"g0rxnol2"},audioAvatar:{borderTopStartRadius:"ig3kka7n",borderTopEndRadius:"a57u14ck",borderBottomEndRadius:"a4bg1r4i",borderBottomStartRadius:"h1a3x9ys",overflowX:"gfz4du6o",overflowY:"r7fjleex"},forwardedPttAvatar:{backgroundColor:"k8kmlv7u"},micContainer:{zIndex:"mb8var44",position:"lhggkp7q",top:"a70a3vn1",marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",end:"r76eoqdq"},senderContainer:{width:"ln8gz9je",height:"ppled2lx",overflowX:"gfz4du6o",overflowY:"r7fjleex",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",position:"g0rxnol2"},senderButton:{maxWidth:"laorhtua",height:"ppled2lx",display:"p357zi0d",overflowX:"gfz4du6o",overflowY:"r7fjleex",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",":hover":{opacity:"gnd3v8n5"}},authorSection:{whiteSpace:"le5p0ye3",textOverflow:"kupmgzgy",overflowX:"gfz4du6o",overflowY:"r7fjleex",maxWidth:"laorhtua",height:"ppled2lx",display:"p357zi0d",alignItems:"gndfcl4n"},senderName:{color:"iqn2u7bu",fontSize:"enbbiyaj"},buttonContainer:{minWidth:"f8zw8ovf",height:"ppled2lx",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n"},progressContainer:{width:"ln8gz9je",position:"lhggkp7q",top:"dbs0ofhi",height:"d9lyu8cj"},progress:{width:"ln8gz9je",height:"ppled2lx"},progressLight:{backgroundColor:"qpsqveag",opacity:"cats8p75"},progressDark:{backgroundColor:"qj9ovlz3",opacity:"ge6flnsz"},measurementContainer:{width:"tfi85p4o",height:"ppled2lx",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"lhggkp7q"},measurementDiv:{visibility:"kojwoqec",position:"lhggkp7q",top:"p6im964z",start:"f88dsuqf"}},A=T.default.outOfChat,j=T.default.forwardedOutOfChat;function I(e){let{msg:t,playbackController:a,onPlayNext:n}=e;const{audio:i,pttPlaybackLogger:l}=a,d=function(e){const{isOocPlayerClosedByUser:t}=(0,g.useModelValues)(E.PttPrefs,["isOocPlayerClosedByUser"]),{active:a}=(0,g.useModelValues)(e.chat,["active"]);return!t&&!a}(t),[h,m]=(0,c.useState)(!i.paused),_=(0,c.useRef)(!1),v=()=>_.current=!1;(0,c.useEffect)((()=>{v()}),[t]);const b=()=>m(!i.paused);return(0,p.useListener)(i,"playing",(()=>{b()})),(0,p.useListener)(i,"timeupdate",(()=>{b(),d&&(l.markAsPlayedInOoc(),_.current||(_.current=!0,(0,C.incrementPttDailyCount)(C.PttDailyCountKind.OOC_PLAYBACK,(0,r.default)(t.chat.kind,"msg.chat.kind"))))})),(0,p.useListener)(i,"pause",b),(0,p.useListener)(i,"ended",(()=>{b(),d&&v()})),(0,p.useListener)(s.Cmd,"status_viewer_open",(()=>{i.pause()})),(0,p.useListener)(t.chat,"remove",(()=>{i.pause(),E.PttPrefs.closeOocPlayer()})),(0,p.useListener)(t,"change:asRevoked",(()=>{t.asRevoked&&(i.pause(),E.PttPrefs.closeOocPlayer())})),(0,w.jsx)(u.default,{transitionName:"ptt-out-of-chat",children:d&&(0,w.jsxs)("div",{className:(0,f.default)(P.container),children:[(0,w.jsx)("div",{className:(0,f.default)(P.buttonContainer),children:(0,w.jsx)(S.PttPlayPauseButton,{onConfirm:e=>{h?(i.pause(),l.increaseOocPauseCount()):i.play(),e.preventDefault()},paused:!h,dataTab:o.TAB_ORDER.PTT_OOC_BUTTON,disabled:!d,theme:"out-of-chat-playback"})}),(0,w.jsx)("div",{className:(0,f.default)(P.senderContainer),children:(0,w.jsxs)(k.default,{dataTab:o.TAB_ORDER.PTT_OOC_BUTTON,xstyle:P.senderButton,onClick:e=>{if(e.defaultPrevented)return;const{chat:a}=t;s.Cmd.openChatAt(a,a.getSearchContext(t.unsafe())),l.increaseOocClickToChatCount()},children:[(0,w.jsx)(N,{msg:t}),(0,w.jsx)(O,{author:t.senderObj,chat:t.chat})]})}),(0,w.jsx)("div",{className:(0,f.default)(P.buttonContainer),children:(0,w.jsx)(y.PttCloseButton,{onConfirm:e=>{i.pause(),E.PttPrefs.closeOocPlayer(),E.PttPrefs.setPlayingMessage(null),l.markAsOocClosedByUser(),l.commit(!0),e.preventDefault()},dataTab:o.TAB_ORDER.PTT_OOC_BUTTON,disabled:!d,theme:"out-of-chat-playback"})}),(0,w.jsx)(B,{audio:i,isPlaying:h})]})})}function O(e){const{author:t,chat:a}=e,[n,{width:r}]=(0,m.default)(),[i,{width:s}]=(0,m.default)(),o=a.isGroup?(0,w.jsx)(v.ContactAndGroupName,{contact:t,chat:a,xstyle:P.senderName}):(0,w.jsx)(v.Name,{contact:t,useShortName:!0,xstyle:P.senderName});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{ref:n,className:(0,f.default)(P.measurementContainer),children:(0,w.jsx)("div",{ref:i,className:(0,f.default)(P.measurementDiv),children:o})}),(0,w.jsx)("div",{className:(0,f.default)(P.authorSection),children:s>r?(0,w.jsx)(b.OocMarquee,{children:o}):o})]})}function N(e){let{msg:t}=e;return t.asPttLike?(0,w.jsx)(R,{msg:t}):t.isForwarded?(0,w.jsx)(D,{}):(0,w.jsx)(L,{})}function R(e){let{msg:t}=e;return(0,w.jsxs)("div",{className:(0,f.default)(P.avatar),children:[(0,w.jsx)(_.DetailImage,{id:t.senderObj.id,size:40}),(0,w.jsx)("span",{className:(0,d.default)((0,f.default)(P.micContainer),A),children:(0,w.jsx)(x.default,{name:"ptt-status",width:26,height:26})})]})}function D(){return(0,w.jsx)("div",{className:(0,f.default)(P.avatar,P.audioAvatar,P.forwardedPttAvatar),children:(0,w.jsx)(x.default,{name:"ptt-status",width:20,height:20,className:j})})}function L(){return(0,w.jsx)("div",{className:(0,f.default)(P.avatar,P.audioAvatar),children:(0,w.jsx)(x.default,{name:"audio-file",width:40,height:40})})}function B(e){let{audio:t,isPlaying:a}=e;const[n,r]=(0,c.useState)((0,i.default)(t)),s=(0,c.useCallback)((()=>{r((0,i.default)(t))}),[t]);(0,h.default)(s,{active:a}),(0,p.useListener)(t,"timeupdate",s),(0,p.useListener)(t,"ended",(()=>r(0)));const{theme:o}=(0,c.useContext)(M.ThemeContext);return(0,w.jsx)("div",{className:(0,f.default)(P.progressContainer),children:(0,w.jsx)("div",{className:(0,f.default)(P.progress,"light"===o&&P.progressLight,"dark"===o&&P.progressDark),style:{transform:`translateX(${100*n-100}%)`}})})}},92745:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchQuery=t.SEARCH_EVENT=void 0;var r=n(a(39693)),i=n(a(44908)),s=n(a(76521));const o="SEARCH_EVENT";t.SEARCH_EVENT=o;class l extends s.default{constructor(){super(...arguments),this.query="",this.filter={}}get trimmed(){return this.query.trim()}get highlighted(){const e=this.trimmed.toLowerCase().split(" ");return(0,i.default)((0,r.default)(e))}get _isEmptySearchTerm(){return""===this.trimmed||!this.trimmed}get isEmptyQuery(){return this._isEmptySearchTerm&&!this.filter.kind&&!this.filter.label}updateQuery(e){const t=this.query;this.query=e,e.trim()!==t&&this.trigger(o)}updateLabelQuery(e){this.filter=e||{}}clear(){this.updateQuery("")}}t.SearchQuery=l},55712:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvisibleLabel=function(e){let{children:t}=e;return(0,n.jsx)("span",{"aria-label":t})},t.accessibleClickableButtonProps=void 0;var n=a(85893);t.accessibleClickableButtonProps=e=>{let{onClick:t,disabled:a}=e;const n=e=>null==t?void 0:t(e);return{onClick:e=>{!0!==a&&n(e)},onKeyPress:e=>{("Enter"===e.key||" "===e.key||"Spacebar"===e.key||13===e.which||32===e.which)&&(e.preventDefault(),n(e))},disabled:a,tabIndex:!0===a?-1:0,role:"button"}}},22402:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,b.default)(),t=(t,a,n)=>{let r=M.default.t(679),i=M.default.t(381),s=_.fbt._("Enable sounds and notifications?",null,{hk:"4B6qY1"});if(n&&(r=_.fbt._("Turn off all reactions notifications for:",null,{hk:"2Ghe4F"}),i=_.fbt._("Reactions notifications enabled",null,{hk:"4t3wuk"}),s=_.fbt._("Enable sounds and notifications for Reactions?",null,{hk:"4bKMS6"})),a)f.ModalManager.open((0,F.jsx)(P.default,{mute:t,title:r,onMute:(e,a)=>{t.mute(e),p.ToastManager.open((0,F.jsx)(D.Toast,{msg:U(a),id:(0,D.genId)()}))},muteAll:!0}),{transition:"modal",uim:e});else{const e=()=>{t.unmute(),f.ModalManager.close(),p.ToastManager.open((0,F.jsx)(D.Toast,{msg:i,id:(0,D.genId)()}))};f.ModalManager.open((0,F.jsx)(S.default,{onOK:e,okText:M.default.t(39),onCancel:()=>f.ModalManager.close(),cancelText:_.fbt._("Cancel",null,{hk:"H0gNq"}),children:s}))}},a=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT";if(!t)return Promise.reject(new d.ActionError);if(t.some((e=>!e.id)))return Promise.reject(new d.ActionError);const s=t.length,o=r||(0,y.genId)();let l={count:s,_plural:s};const u=new y.ActionType(M.default.t(79,l)),c=e.sendDeleteMsgs(t,n).then((e=>{if(e===s)return new y.ActionType(M.default.t(78,l));const t=s-e;return l={count:t,_plural:t},new y.ActionType(M.default.t(77,l))})).catch((()=>(__LOG__(3)`chatAction:sendDeleteMsgs dropped`,new y.ActionType(M.default.t(77,l),{actionText:M.default.t(122),actionHandler:()=>a(e,t,!1,o,i)}))));return p.ToastManager.open((0,F.jsx)(y.ActionToast,{id:o,toastPosition:i,initialAction:u,pendingAction:c})),c};return(0,v.useListener)(l.Cmd,["mute_all"],t),(0,v.useListener)(l.Cmd,["mute_all_call"],((t,a)=>{a?f.ModalManager.open((0,F.jsx)(P.default,{mute:t,title:_.fbt._("Turn off all desktop incoming calls for:",null,{hk:"2isMX6"}),onMute:(e,a)=>{t.muteCall(e),p.ToastManager.open((0,F.jsx)(D.Toast,{msg:V(a),id:(0,D.genId)()}))},muteAll:!0}),{transition:"modal",uim:e}):f.ModalManager.open((0,F.jsx)(S.default,{onOK:()=>{t.unmuteCall(),f.ModalManager.close(),p.ToastManager.open((0,F.jsx)(D.Toast,{msg:_.fbt._("Incoming calls enabled",null,{hk:"11LQU6"}),id:(0,D.genId)()}))},okText:M.default.t(39),onCancel:()=>f.ModalManager.close(),cancelText:_.fbt._("Cancel",null,{hk:"H0gNq"}),children:_.fbt._("Enable desktop incoming calls?",null,{hk:"1oiZtT"})}))})),(0,v.useListener)(l.Cmd,["mute_chat"],((t,a)=>{if(a){const a=M.default.t(538,{name:t.title()});f.ModalManager.open((0,F.jsx)(P.default,{title:a,mute:t.mute,onMute:e=>{t.pendingAction++,t.mute.mute(e,!0).finally((()=>{t.pendingAction--})),(t.isBusinessGroup||t.contact.isBusiness)&&(new w.default.BusinessMute).commit()}}),{transition:"modal",uim:e})}else t.pendingAction++,t.mute.unmute(!0).finally((()=>{t.pendingAction--})),(t.isBusinessGroup||t.contact.isBusiness)&&(new w.default.BusinessUnmute).commit()})),(0,v.useListener)(l.Cmd,["archive_chat"],((e,t,a)=>{e.pendingAction++,(0,O.setArchive)(e,t,a).catch((()=>{})).finally((()=>{e.pendingAction--}))})),(0,v.useListener)(l.Cmd,["clear_chat"],(t=>{var a;const n=()=>f.ModalManager.open((0,F.jsx)(C.default,{chat:t}),{transition:"modal",uim:e}),r=null!==(a=(0,i.default)(u.default,"localStorage").getItem(m.KEYS.SYNCD_FIRST_CLEAR_OR_DELETE))&&void 0!==a?a:"true";if((0,o.isMDBackend)()&&"true"===r){const e=(0,c.clearOrDeleteChatSyncEnabled)()?_.fbt._("Clearing or deleting entire chats will only remove messages from this device and your devices on the newer versions of WhatsApp.",null,{hk:"uNWq2"}):_.fbt._("Clearing or deleting entire chats will remove messages from this device only. They will not be removed from other devices.",null,{hk:"wnWlH"});f.ModalManager.open((0,F.jsx)(S.default,{title:_.fbt._("Changes to clearing or deleting a chat",null,{hk:"3B6GWK"}),onOK:()=>{(0,i.default)(u.default,"localStorage").setItem(m.KEYS.SYNCD_FIRST_CLEAR_OR_DELETE,"false"),n()},okText:_.fbt._("Continue",null,{hk:"2jbrZK"}),onCancel:()=>f.ModalManager.close(),children:(0,F.jsx)(R.TextDiv,{theme:"muted",children:e})}))}else n()})),(0,v.useListener)(l.Cmd,["mark_chat_unread"],((e,t)=>{e.pendingAction++,(0,L.markUnread)(e,t).finally((()=>{e.pendingAction--}))})),(0,v.useListener)(l.Cmd,["pin_chat"],((e,t)=>{(0,o.isMDBackend)()&&!(0,c.pinChatSyncEnabled)()?f.ModalManager.open((0,F.jsx)(S.default,{title:_.fbt._("Can't pin chat",null,{hk:"17sJeN"}),onOK:()=>{f.ModalManager.close()},okText:_.fbt._("Close",null,{hk:"19Jpec"}),children:_.fbt._("Pinning chats from web/desktop is not yet available on the multi-device beta",null,{hk:"24ieVt"})})):(e.pendingAction++,(0,N.setPin)(e,t).catch((()=>{})).finally((()=>{e.pendingAction--})))})),(0,v.useListener)(l.Cmd,["send_star_msgs"],W),(0,v.useListener)(l.Cmd,["send_unstar_msgs"],H),(0,v.useListener)(l.Cmd,["send_delete_msgs"],a),(0,v.useListener)(l.Cmd,["send_revoke_msgs"],((e,t,a)=>{var n,r;const{clearMedia:i}=a,s=null!==(n=a.toastId)&&void 0!==n?n:(0,y.genId)(),l=null!==(r=a.toastPosition)&&void 0!==r?r:"LEFT";if(!t)return Promise.reject(new d.ActionError);const[u,c]=t.reduce(((e,t)=>{const[a,n]=[t.canSenderRevoke()||t.canAdminRevoke(),t.type!==h.MSG_TYPE.GROUPS_V4_INVITE||t.isGroupsV4InviteExpired?null:t];return[e[0]||!a,e[1]||n]}),[!1,null]);if(u)return Promise.reject(new d.ActionError);c&&((e,t)=>{if((0,o.isMDBackend)())throw new Error("This call is only supported in non-MD mode");const a=t.inviteGrp,n=(0,g.getMaybeMeUser)().toString();B.default.revokeGroupV4Invite([t.to.toString()],a,n)})(0,c);const f=t.length,m={count:f,_plural:f},_=new y.ActionType(M.default.t(79,m)),v=e.sendRevokeMsgs(t,i).then((e=>{const t=e.filter((e=>e!==j.SendMsgResult.OK)).length;if(t>0)throw new Error(`${t} / ${e.length} dropped`);return new y.ActionType(M.default.t(78,m))})).catch((()=>(__LOG__(3)`chatAction:sendRevokeMsgs fail`,e.isEphemeralSettingOn()?new y.ActionType(M.default.t(76,m)):new y.ActionType(M.default.t(77,m)))));return p.ToastManager.open((0,F.jsx)(y.ActionToast,{id:s,toastPosition:l,initialAction:_,pendingAction:v})),v})),(0,v.useListener)(l.Cmd,["delete_or_exit_chat"],(t=>{var a;const n=e=>{t.pendingAction++,e.finally((()=>{t.pendingAction--}))},r=()=>f.ModalManager.open((0,F.jsx)(T.DeleteChatPopup,{chat:t,onDeleteOrExit:n}),{transition:"modal",uim:e}),s=null!==(a=(0,i.default)(u.default,"localStorage").getItem(m.KEYS.SYNCD_FIRST_CLEAR_OR_DELETE))&&void 0!==a?a:"true";if((0,o.isMDBackend)()&&(0,T.isDelete)(t)&&"true"===s){const e=(0,c.clearOrDeleteChatSyncEnabled)()?_.fbt._("Clearing or deleting entire chats will only remove messages from this device and your devices on the newer versions of WhatsApp.",null,{hk:"uNWq2"}):_.fbt._("Clearing or deleting entire chats will remove messages from this device only. They will not be removed from other devices.",null,{hk:"wnWlH"});f.ModalManager.open((0,F.jsx)(S.default,{title:_.fbt._("Changes to clearing or deleting a chat",null,{hk:"3B6GWK"}),onOK:()=>{(0,i.default)(u.default,"localStorage").setItem(m.KEYS.SYNCD_FIRST_CLEAR_OR_DELETE,"false"),r()},okText:_.fbt._("Continue",null,{hk:"2jbrZK"}),onCancel:()=>f.ModalManager.close(),children:(0,F.jsx)(R.TextDiv,{theme:"muted",children:e})}))}else r()})),(0,v.useListener)(l.Cmd,["product_image_viewer_modal"],((t,a)=>{f.ModalManager.openMedia((0,F.jsx)(A.default,{activeProductImage:t.activeProductImage,productImageCollection:t.productImageCollection,getZoomNode:t.getZoomNode,product:t.product,sessionId:a}),{transition:"media-viewer",uim:e})})),(0,v.useListener)(l.Cmd,["mute_all"],t),(0,v.useListener)(l.Cmd,["attach_product"],(t=>{let{product:a,onSend:n}=t;f.ModalManager.open((0,F.jsx)(I.SendProductModalLoadable,{product:a,onSend:n}),{transition:"modal-flow",uim:e})})),(0,v.useListener)(l.Cmd,["show_country_selector_popup"],((t,a,n,r)=>{f.ModalManager.open((0,F.jsx)(E.default,{title:t,countryCode:a,countries:n,onSave:r}),{transition:"modal",uim:e})})),(0,v.useListener)(l.Cmd,"show_merchant_details_entity_type_popup",((t,a)=>{f.ModalManager.open((0,F.jsx)(k.default,{legalEntityDetails:t,onSave:a}),{transition:"modal",uim:e})})),(0,v.useListener)(l.Cmd,["open_group_v4_invite_request_flow"],((e,t,a,n)=>{f.ModalManager.open((0,F.jsx)(x.GroupV4InviteFlowLoadable,{participantNeedInvite:e,groupGid:t,subject:a,groupDesc:n}))})),null};var r=a(50796),i=n(a(45095)),s=a(92574),o=a(88555),l=a(81572),u=n(a(4285)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=G(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),c=a(8139);c.sendReactionsEnabled=function(){return true;};var f=a(14597),h=a(15461),p=a(94816),m=a(46718),g=a(78820),_=a(48360),v=a(87550),b=n(a(95402)),y=a(46331),C=n(a(9712)),S=n(a(52665)),E=n(a(77835)),T=a(65640),x=a(18685),M=n(a(14296)),k=n(a(87868)),w=n(a(11339)),P=n(a(21398)),A=n(a(86455)),j=a(13705),I=a(54712),O=a(59992),N=a(10236),R=a(13923),D=a(50452),L=a(9609),B=n(a(56891)),F=a(85893);function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(G=function(e){return e?a:t})(e)}function U(e){switch(e){case 1:return _.fbt._("Alerts and sounds off for 1 hour",null,{hk:"aeCEy"});case 8:return _.fbt._("Alerts and sounds off for 8 hours",null,{hk:"16qxXR"});case 24:return _.fbt._("Alerts and sounds off for 1 day",null,{hk:"1XliNB"});case 168:return _.fbt._("Alerts and sounds off for 1 week",null,{hk:"2DHi5a"});default:return __LOG__(2)`DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:${e}`,_.fbt._("Alerts and sounds off",null,{hk:"3AeVPs"})}}function V(e){switch(e){case 1:return _.fbt._("Incoming calls off for 1 hour",null,{hk:"czSNR"});case 8:return _.fbt._("Incoming calls off for 8 hours",null,{hk:"21mgEI"});case 24:return _.fbt._("Incoming calls off for 1 day",null,{hk:"2wj1CR"});case 168:return _.fbt._("Incoming calls off for 1 week",null,{hk:"3DcWZf"});default:return __LOG__(2)`DoNotDisturbSettings:getMuteAllCallDurationLabel non standard global mute duration:${e}`,_.fbt._("Incoming calls off",null,{hk:"1rVYia"})}}function W(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new d.ActionError);if(t.some((e=>!e.id)))return Promise.reject(new d.ActionError);const i=a||(0,y.genId)(),o=t.length,l={count:o,_plural:o},u=new y.ActionType(M.default.t(83,l)),c=e.sendStarMsgs(t,!0).then((()=>new y.ActionType(M.default.t(82,l),{actionText:M.default.t(126),actionHandler:()=>H(e,t,i,n)}))).catch((0,r.filteredCatch)(s.ServerStatusCodeError,(t=>{if(t.status>=400)return e.isEphemeralSettingOn()?new y.ActionType(M.default.t(80,l)):new y.ActionType(M.default.t(81,l))}))).catch((()=>(__LOG__(3)`chatAction:sendStarMsgs dropped`,new y.ActionType(M.default.t(81,l),{actionText:M.default.t(122),actionHandler:()=>W(e,t,i,n)}))));return p.ToastManager.open((0,F.jsx)(y.ActionToast,{id:i,toastPosition:n,initialAction:u,pendingAction:c})),c}function H(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new d.ActionError);if(t.some((e=>!e.id)))return Promise.reject(new d.ActionError);const i=a||(0,y.genId)(),o=t.length,l={count:o,_plural:o},u=new y.ActionType(M.default.t(89,l)),c=e.sendStarMsgs(t,!1).then((()=>new y.ActionType(M.default.t(87,l),{actionText:M.default.t(126),actionHandler:()=>W(e,t,i,n)}))).catch((0,r.filteredCatch)(s.ServerStatusCodeError,(t=>{if(t.status>=400)return e.isEphemeralSettingOn()?new y.ActionType(M.default.t(85,l)):new y.ActionType(M.default.t(86,l))}))).catch((()=>(__LOG__(3)`chatAction:sendUnstarMsgs dropped`,new y.ActionType(M.default.t(86,l),{actionText:M.default.t(122),actionHandler:()=>H(e,t,i,n)}))));return p.ToastManager.open((0,F.jsx)(y.ActionToast,{id:i,toastPosition:n,initialAction:u,pendingAction:c})),c}},91962:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(48926)),s=a(89385),o=a(13959),l=r(a(47259)),u=a(81572),d=a(30764),c=r(a(62831)),f=r(a(41143)),h=a(67294),p=r(a(8694)),m=r(a(9294)),g=a(85893);const _={duration:300,easing:[.1,.82,.25,1]};class v extends h.Component{constructor(){super(...arguments),this.containerHeight=0,this._childAnimations=[],this.didCancel=!1,this._unmounting=!1,this.state={children:this.props.children},this._refChildren=new Map,this._setRefChild=(e,t)=>{t?this._refChildren.set(e,t):this._refChildren.delete(e)},this._setChildRefCache=new m.default(this._setRefChild),this._heightCallbackCache=new Map}componentWillUnmount(){this._unmounting=!0}_getHeightChange(e,t){return e.reduce(((e,a)=>{if(a<t)return e;const n=this._refChildren.get(`${a}`);return n?e+n.clientHeight:e}),0)}_animateElement(e,t,a,r){var i;this._childAnimations[e]&&(this.didCancel=!0,this._childAnimations[e].controller.abort());const d=a>0?[0,a]:[-a,0],f=new n,h=((null===(i=this._childAnimations[e])||void 0===i?void 0:i.promise)||Promise.resolve()).then((()=>(0,c.default)(t,{translateY:d},_))).then((()=>(0,o.delayMs)(100))),p=(0,l.default)(h,f.signal).then((()=>{if(f.signal.aborted)throw new s.AbortError;return a<0&&(r.includes(e)?t.style.opacity="0":t.style.transform=""),e})).catch((0,s.catchAbort)((()=>((0,c.default)(t,"stop",!0),t.style.transform="",!1)))).finally((t=>{if(!this.didCancel)return delete this._childAnimations[e],u.Cmd.setUiBusy(!1,"animation_group"),t;this.didCancel=!1}));return this._childAnimations[e]={promise:p,controller:f},p}_transitionAffected(e,t){var a=this;return(0,i.default)((function*(){if(!e)return Promise.resolve(new Set);const n=[],[r]=e.slice(-1);for(let i=0;i<=r;++i){const r=a._refChildren.get(`${i}`);r&&n.push(a._animateElement(i,r,(t?1:-1)*a._getHeightChange(e,i),e))}const i=yield Promise.all(n);return new Set(i.filter((e=>!1!==e)))}))()}_notifyHeightChange(e,t){e.length&&this.props.onHeightChange&&this.props.onHeightChange((t?1:-1)*this._getHeightChange(e,0))}static getDerivedStateFromProps(e,t){const a=e.children,n=t.children;let r=!1;const i=n.map(((e,t)=>{var n;const i=null!==(n=a[t])&&void 0!==n?n:e;return i!==e&&(r=!0),i}));return r?{children:i}:null}componentDidUpdate(e,t){const a=this.state.children,n=t.children;(0,f.default)(a.length===n.length&&this.props.children.length===a.length,"The number of children in an AnimationGroup must remain constant. Render null for children you don't want to appear.");const r=a.map(((e,t)=>t)),i=r.filter((t=>null!=this.props.children[t]&&null==e.children[t])),s=r.filter((t=>null==this.props.children[t]&&null!=e.children[t]));s.length>0&&(s.forEach((()=>{this.busyId=d.UIBusyTasks.setBusy(this.busyId),u.Cmd.setUiBusy(!0,"animation_group")})),this._notifyHeightChange(s,!1),this._transitionAffected(s,!1).then((e=>{this._unmounting||0!==e.size&&this.setState((t=>({children:t.children.map(((t,a)=>e.has(a)?null:t))})),(()=>{d.UIBusyTasks.decBusy(this.busyId)}))}))),i.length>0&&(i.forEach((()=>{this.busyId=d.UIBusyTasks.setBusy(this.busyId),u.Cmd.setUiBusy(!0,"animation_group")})),this._notifyHeightChange(i,!0),this._transitionAffected(i,!0).then((()=>{d.UIBusyTasks.decBusy(this.busyId)})))}componentDidMount(){const e=this.state.children.reduce(((e,t,a)=>{const n=this._refChildren.get(`${a}`);return n?(n.style.transform="translateY(0)",e+n.clientHeight):e}),0);this.props.onHeightChange(e,!0)}_childHeightCallback(e){const t=this._heightCallbackCache.get(e);if(t)return t;const a=this._refChildren.get(`${e}`);let n=a?a.clientHeight:0;const r=e=>{let{height:t}=e;n&&t&&t!==n?(this.props.onHeightChange(t-n),n=t):n=t};return this._heightCallbackCache.set(e,r),r}_cloneChild(e,t){if(!e)return e;const a=this._setChildRefCache.getRefSetter(`${t}`);return(0,h.cloneElement)(e,{ref:a})}render(){return this.state.children.map(((e,t)=>(0,g.jsx)(p.default,{onResize:this._childHeightCallback(t),children:this._cloneChild(e,t)},`.${t}`)))}}t.default=v,v.displayName="AnimationGroup"},79013:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294),r=a(85893);function i(e,t){let{children:a}=e;return(0,r.jsx)("div",{ref:t,children:a})}var s=(0,n.forwardRef)(i);t.default=s},62190:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{annotations:t,onTooltipDisplay:a,onTooltipDismiss:n}=e,[d,v]=(0,o.useState)(null),y=()=>{v(null),n&&n()},S=(e,t,n)=>{if(null==t&&null==n)return;const{location:o}=e,u=(0,h.getMapUrl)((0,i.default)(o.degreesLatitude,"location.degreesLatitude"),(0,i.default)(o.degreesLongitude,"location.degreesLongitude"));let d={menu:(0,_.jsx)(f.ExternalLink,{href:u,className:(0,l.default)(b),onClick:y,children:s.fbt._("See Location",null,{hk:"2Uutdu"})}),type:c.MenuType.Tooltip,dirX:c.DirX.RIGHT,dirY:c.DirY.TOP};d=null!=t?(0,r.default)((0,r.default)({},d),{},{event:t,autoFocus:!1,offsetX:0,offsetY:0}):(0,r.default)((0,r.default)({},d),{},{anchor:n,autoFocus:!0}),v(d),a&&a()},E=(0,u.default)((()=>{y()}),100);if(!t.length)return null;const T=d&&(0,_.jsx)(m.UIE,{displayName:"InteractiveAnnotationTooltip",popable:!0,escapable:!0,requestDismiss:y,requestRecentFocusOnUnmount:!1,children:(0,_.jsx)(g.default,{tooltip:d})});return(0,_.jsxs)(_.Fragment,{children:[t.map((e=>function(e){const{polygonVertices:t,location:a}=e,[n,,r]=t;return null!=n&&null!=n.x&&null!=n.y&&null!=r&&null!=r.x&&null!=r.y&&(null!=a.degreesLatitude&&null!=a.degreesLongitude)}(e)&&(0,_.jsx)(C,{annotation:e,onClick:t=>((e,t)=>{e.stopPropagation(),S(t,e)})(t,e),onKeyDown:t=>((e,t)=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),S(t,null,e.target))})(t,e)},function(e){const[t,,a]=e.polygonVertices;return`${(0,i.default)(t.x,"topLeft.x")}:${(0,i.default)(t.y,"topLeft.y")}:${(0,i.default)(a.x,"bottomRight.x")}:${(0,i.default)(a.y,"bottomRight.y")}`}(e)))),T,(0,_.jsx)(p.default,{onResize:E})]})};var r=n(a(81109)),i=n(a(45095)),s=a(48360),o=a(67294),l=n(a(56720)),u=n(a(51799)),d=n(a(59312)),c=a(60811),f=a(12591),h=a(8384),p=n(a(8694)),m=a(18644),g=n(a(46780)),_=a(85893);const v={position:"lhggkp7q",zIndex:"thghmljt"},b={display:"f804f6gw",paddingTop:"eujn52yf",paddingEnd:"f9ovudaz",paddingBottom:"ckm995li",paddingStart:"gx1rr48f",fontSize:"bjmq0orh"};function y(e,t){if(null==e)return null;const a=e.parentNode;if(!(null!=a&&a instanceof HTMLElement))return null;let[n,r,s]=t.polygonVertices;(0,i.default)(n.x,"topLeft.x")!==(0,i.default)(r.x,"topRight.x")&&(0,i.default)(r.y,"topRight.y")!==(0,i.default)(s.y,"bottomRight.y")||([,n,r,s]=t.polygonVertices);const o=(0,i.default)(n.x,"topLeft.x"),l=(0,i.default)(n.y,"topLeft.y"),u=(0,i.default)(r.x,"topRight.x"),d=(0,i.default)(r.y,"topRight.y"),c=(0,i.default)(s.y,"bottomRight.y"),f=o*a.offsetWidth,h=l*a.offsetHeight,p=a.offsetWidth*(o-u),m=a.offsetHeight*(l-d),g=o>u?Math.PI:0,_=p?Math.atan(m/p)+g:0,v=180*_/Math.PI,b=Math.abs(p/Math.cos(_)),y=Math.abs(a.offsetHeight*(c-d)/Math.cos(_));return{left:Math.round(f),top:Math.round(h),width:Math.round(b),height:Math.round(y),transform:`rotate(${v}deg)`,transformOrigin:"top left"}}function C(e){const{annotation:t}=e,a=(0,d.default)(),n=(0,o.useRef)(null);return(0,o.useEffect)((()=>{a()}),[]),(0,_.jsx)("div",{ref:n,className:(0,l.default)(v),style:y(n.current,t),onClick:a=>e.onClick(a,t),onKeyDown:a=>e.onKeyDown(a,t),role:"button","aria-label":t.location.name,tabIndex:"0"})}},18633:(e,t,a)=>{"use strict";var n=a(95318);t.Z=function(e){let{cmd:t,untypedData:a,isExternal:n,sessionId:P}=e;const A=n?_.default.DEEP_LINK_OPEN_FROM.DEEP_LINK_EXTERNAL:_.default.DEEP_LINK_OPEN_FROM.DEEP_LINK_WA_LINK_CLICK;switch(t){case p.APICmd.GROUP_INVITE:s.Cmd.closeStatusViewer();const e=a;return(0,l.communitiesEnabled)()?u.ModalManager.open((0,w.jsx)(v.default,{groupCode:e.code})):u.ModalManager.open((0,w.jsx)(h.default,{groupCode:e.code})),new _.default.DeepLinkOpen({deepLinkOpenFrom:A,deepLinkType:_.default.DEEP_LINK_TYPE.DEEP_LINK_GROUP_INVITE}).commit(),!0;case p.APICmd.CATALOG:{s.Cmd.closeStatusViewer();const{catalogOwnerJid:e}=a;return function(e){u.ModalManager.open((0,w.jsx)(b.OpenChatFlow,{chatId:(0,d.createWid)(e),onSuccess:t=>{window.setTimeout((()=>{(0,l.canViewCollections)()&&E.QPL.markerStart(T.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Deeplink"}}}),o.DrawerManager.openDrawerRight((0,w.jsx)(S.ProductDetailsFlowLoadable,{chat:t,catalogOwnerJid:e}),"slide-left",k.UIM.Manager.getTop(),(0,y.buildProductCatalogContext)())}),100)},msgText:null}),{transition:"modal-flow"})}(e),new _.default.DeepLinkOpen({deepLinkOpenFrom:A,deepLinkType:_.default.DEEP_LINK_TYPE.DEEP_LINK_CATALOG}).commit(),!0}case p.APICmd.PRODUCT:{s.Cmd.closeStatusViewer();const{businessOwnerJid:e,productId:t}=a;return function(e,t){const a=(0,y.buildProductCatalogContext)(new C.ProductCatalogSession,(0,c.getMaybeBizPlatformForLogging)(e),_.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_DEEPLINK);(0,m.logProductDeepLinkOpen)({catalogOwnerJid:e,catalogContext:a}),u.ModalManager.open((0,w.jsx)(b.OpenChatFlow,{chatId:(0,d.createWid)(e),onSuccess:n=>{window.setTimeout((()=>{(0,g.qplStartProductView)("Deeplink"),o.DrawerManager.openDrawerRight((0,w.jsx)(S.ProductDetailsFlowLoadable,{chat:n,productInfo:{productId:t,businessOwnerJid:e},refreshCarousel:!0}),"slide-left",k.UIM.Manager.getTop(),a)}),100)},msgText:null}),{transition:"modal-flow"})}(e,t),new _.default.DeepLinkOpen({deepLinkOpenFrom:A,deepLinkType:_.default.DEEP_LINK_TYPE.DEEP_LINK_PRODUCT}).commit(),!0}case p.APICmd.MSG_SEND:s.Cmd.closeStatusViewer();const t=a,{text:n,phone:j,conversionTuple:I}=t,O=M.ServerProps.ctwaContextCompose?t.ctwaContextLinkData:void 0;if(j){const e=null!=P&&(0,l.smbClickToChatLoggingEnabled)()?{handleOnce(){new _.default.DeepLinkMsgSent({deepLinkAction:_.default.DEEP_LINK_ACTION.MSG_SENT,deepLinkSessionId:P}).commit()}}:void 0;u.ModalManager.open((0,w.jsx)(b.OpenChatFlow,{chatId:(0,d.createWid)(j),msgText:n,onSuccess:e=>{I&&f.default.add((0,r.default)((0,r.default)({},I),{},{id:e.id,timestamp:i.Clock.globalUnixTime()}),{merge:!0}),n&&(e.urlText=!0),e.urlNumber=!0},ctwaContextLinkData:O,sendLogAttributes:e}),{transition:"modal-flow"}),new _.default.DeepLinkOpen({deepLinkOpenFrom:A,deepLinkType:O?_.default.DEEP_LINK_TYPE.DEEP_LINK_CTWA:_.default.DEEP_LINK_TYPE.DEEP_LINK_CHAT,deepLinkSessionId:P}).commit()}else u.ModalManager.open((0,w.jsx)(x.SendMsgMultiModalLoadable,{msgText:n,urlText:!0}),{transition:"modal-flow"}),new _.default.DeepLinkOpen({deepLinkOpenFrom:A,deepLinkType:_.default.DEEP_LINK_TYPE.DEEP_LINK_MSG_FORWARD}).commit();return!0;default:return!1}};var r=n(a(81109)),i=a(40234),s=a(81572),o=a(41455),l=a(8139),u=a(14597),d=a(45454),c=a(62632),f=n(a(35667)),h=n(a(42547)),p=a(51650),m=a(77975),g=a(82145),_=n(a(11339)),v=n(a(66032)),b=a(61585),y=a(97567),C=a(9153),S=a(67455),E=a(48870),T=a(27798),x=a(49824),M=a(64551),k=a(89618),w=a(85893)},77853:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareCtwaContextSend=function(e,t){if(t)return(0,r.default)({},t);if(null==e?void 0:e.sourceUrl){var a,n;const t=e.sourceUrl;if(null==t||""===t)return;const r=i.findLink(e.sourceUrl,!1,(0,s.getMaybeMeUser)());return{sourceUrl:t,sourceType:"",sourceId:"",mediaType:o.ContextInfo$ExternalAdReplyInfoMediaType.NONE,isSuspiciousLink:!(null===(a=null==r||null===(n=r.suspiciousCharacters)||void 0===n?void 0:n.size)||void 0===a||!a)}}return};var r=n(a(81109)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(95726)),s=a(78820),o=a(24808);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}},79928:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t}=e,a=(0,r.useModelValues)(e.chat,["archive"]),n=e.onArchive.bind(null,!a.archive);return(0,o.jsx)(i.DropdownItem,{a8n:"mi-archive",action:n,disabled:t,children:a.archive?s.default.t(680):s.default.t(134)},"ArchiveMenuItem")};var r=a(35461),i=a(71174),s=n(a(14296)),o=a(85893)},46918:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t}=e;return(0,o.jsx)("div",{className:(0,r.default)((0,i.default)(l),t),children:(0,o.jsx)(s.Spinner,{size:50,stroke:3,color:"solidwhite"})})};var r=n(a(94184)),i=n(a(56720)),s=a(11054),o=a(85893);const l={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",backgroundColor:"epdck8xl",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"}},80252:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{theme:t,svg:a}=e,n=(0,r.default)(i.default.badge,{[i.default.pending]:"pending"===t,[i.default.warning]:"warning"===t}),l=a?(0,o.jsx)(s.default,{className:i.default.icon,name:a}):null;return(0,o.jsx)("div",{className:n,children:l})};var r=n(a(94184)),i=n(a(95258)),s=n(a(23217)),o=a(85893)},96021:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=a(89385),s=a(22712),o=a(26741),l=a(67294),u=n(a(6309)),d=n(a(82796)),c=a(85893);class f extends l.PureComponent{constructor(){super(...arguments),this.refVideo=null,this._autoPlayErrorCount=0,this._handlePlaying=()=>{const e=this.refVideo;e&&(e.paused||null!=e.videoHeight&&e.videoHeight>0&&null!=e.videoWidth&&e.videoWidth>0&&this.props.onPlaying&&this.props.onPlaying())},this._onceAutoplay=()=>{const e=this.refVideo;if(e&&(e.removeEventListener("playing",this._onceAutoplay),!e.videoHeight||!e.videoWidth)){this.pause(),this.play();const e=6;let t;this._autoPlayErrorCount<e&&this._autoPlayErrorCount++,this._autoPlayErrorCount>1&&this._autoPlayErrorCount<e&&(t=`the height and width of the video is not zero, count (larger than 1): ${this._autoPlayErrorCount}`),this._autoPlayErrorCount>=e&&(t=`the height and width of the video is not zero, count larger than ${this._autoPlayErrorCount}`),t&&(__LOG__(4,void 0,new Error,!0)`Assertion failed! ${t}`,SEND_LOGS("non-zero height and width"))}},this.setupAutoplay=(e,t)=>{this.props.autoPlay&&(e.removeEventListener("playing",this._onceAutoplay),e.addEventListener("playing",this._onceAutoplay),(e.srcObject||t&&e.paused)&&this.play())},this.setRefVideo=e=>{var t;e!==this.refVideo&&(this.refVideo&&this.refVideo.removeEventListener("playing",this._handlePlaying),null===(t=this._unregisterFromAudioChannel)||void 0===t||t.call(this),this.refVideo=e,e&&(this._unregisterFromAudioChannel=s.MainAudioChannel.registerMedia(e),"srcObject"in e&&this.props.srcObject?e.srcObject=this.props.srcObject:e.src||__LOG__(3)`srcObject is not supported in video tag while src is not set.`,e&&e.addEventListener("playing",this._handlePlaying),this.props.autoPlay&&this.setupAutoplay(e,o.UA.isGecko||o.UA.isSafari)))},this.getVolume=()=>this.refVideo?this.refVideo.volume:0,this.setVolume=e=>{this.refVideo&&(this.refVideo.volume=e)},this.getMuted=()=>!!this.refVideo&&this.refVideo.muted,this.setMuted=e=>{this.refVideo&&(this.refVideo.muted=e)},this.getPaused=()=>!this.refVideo||this.refVideo.paused,this.getCurrentTime=()=>this.refVideo?this.refVideo.currentTime:0,this.setCurrentTime=e=>{this.refVideo&&(this.refVideo.currentTime=e)},this.getDuration=()=>this.refVideo?this.refVideo.duration:0,this.setDuration=e=>{this.refVideo&&(this.refVideo.duration=e)},this.getBuffered=()=>this.refVideo?this.refVideo.buffered:null}_play(){var e=this;return(0,r.default)((function*(){const t=e.refVideo;if(!t)return Promise.reject(new Error("cannot play unmounted video"));if(!t.paused)return Promise.resolve();t.removeEventListener("playing",e._handlePlaying);try{yield(0,u.default)(t),t&&t.addEventListener("playing",e._handlePlaying),e._handlePlaying()}catch(s){var a,n,r;if(t&&t.addEventListener("playing",e._handlePlaying),s.name===i.ABORT_ERROR)return void __LOG__(3)`video.play() promise rejected w/ AbortError: ${s.message}, error code: ${s.code}`;const o=(null===(a=e.refVideo)||void 0===a||null===(n=a.error)||void 0===n?void 0:n.message)?e.refVideo.error.message:"",l=(null===(r=e.refVideo)||void 0===r?void 0:r.error)?e.refVideo.error.code:"";__LOG__(3)`video.play() promise rejected: ${o} The error code is ${l}.`,e.props.onError&&e.props.onError(s)}}))()}pause(){const e=this.refVideo;e&&(e.paused||e.pause())}underlyingVideo(){return this.refVideo}componentWillUnmount(){var e;null===(e=this._unregisterFromAudioChannel)||void 0===e||e.call(this)}componentDidUpdate(e){const t=this.refVideo;null!=t&&this.props.autoPlay&&!e.autoPlay&&this.setupAutoplay(t,!0)}pauseAndReset(){const e=this.refVideo;e&&(e.currentTime=0,this.pause())}play(){this._play()}render(){return(0,c.jsx)("video",{ref:this.setRefVideo,autoPlay:this.props.src?this.props.autoPlay:void 0,className:this.props.className?this.props.className:d.default.video,controls:this.props.controls,height:this.props.height,loop:this.props.loop,muted:this.props.muted,poster:this.props.poster,src:this.props.src?this.props.src:void 0,width:this.props.width,onClick:this.props.onClick,onAbort:this.props.onAbort,onCanPlay:this.props.onCanPlay,onCanPlayThrough:this.props.onCanPlayThrough,onDurationChange:this.props.onDurationChange,onEmptied:this.props.onEmptied,onEncrypted:this.props.onEncrypted,onEnded:this.props.onEnded,onError:this.props.onError,onLoadedData:this.props.onLoadedData,onLoadedMetadata:this.props.onLoadedMetadata,onLoadStart:this.props.onLoadStart,onPause:this.props.onPause,onPlay:this.props.onPlay,onProgress:this.props.onProgress,onRateChange:this.props.onRateChange,onSeeked:this.props.onSeeked,onSeeking:this.props.onSeeking,onStalled:this.props.onStalled,onSuspend:this.props.onSuspend,onTimeUpdate:this.props.onTimeUpdate,onVolumeChange:this.props.onVolumeChange,onWaiting:this.props.onWaiting,children:this.props.children})}}t.default=f,f.displayName="BaseVideo"},22245:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.jsx)("div",{className:r.default.border})};var r=n(a(43153)),i=a(85893)},44356:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(99964)),i=n(a(94184)),s=n(a(26150)),o=a(85893);var l=e=>{var t;const a=Boolean("disabled"!==e.theme&&(e.onClick||e.onMouseDown||e.onMouseEnter||e.onMouseOver)),n=(0,i.default)(e.className,s.default.chat,{[s.default.chatInteractive]:a,[s.default.cartProduct]:"cart-product"===e.theme,[s.default.themeCheckbox]:e.checkbox||"chat-checkbox"===e.theme||"label-list"===e.theme||"chat-checkbox-no-delete"===e.theme||"cell-message-checkbox"===e.theme||"chat-checkbox-disabled"===e.theme,[s.default.themeDrawerList]:"drawer-list"===e.theme||"chat-info"===e.theme||"subgroup"===e.theme,[s.default.themeChatInfo]:"chat-info"===e.theme,[s.default.themeSubgroup]:"subgroup"===e.theme,[s.default.themeCommunityHome]:"community-home"===e.theme,[s.default.themeIdentity]:"identity"===e.theme,[s.default.themeListNames]:"list-names"===e.theme||"list-names-no-delete"===e.theme,[s.default.themeMessage]:"cell-message"===e.theme||"cell-message-checkbox"===e.theme,[s.default.themePlain]:"plain"===e.theme,[s.default.themeSearch]:"chat-search"===e.theme,[s.default.themeStatus]:"status-list"===e.theme,[s.default.themeLabel]:"label-selection"===e.theme,[s.default.themeAddItem]:"add-item"===e.theme,[s.default.themeAddItemPlaceholder]:"add-item-placeholder"===e.theme,[s.default.themeAddOrderItem]:"add-order-item"===e.theme,[s.default.idle]:e.idle,[s.default.member]:"group-modal"===e.theme||"chat-checkbox-no-delete"===e.theme,[s.default.unread]:!!e.unread,[s.default.chatDrag]:!!e.dragging,[s.default.active]:!!e.active,[s.default.isMuted]:!!e.isMuted,[s.default.groupV4Invite]:"group_v4_invite"===e.theme,[s.default.product]:"product"===e.theme||"product-out-of-stock"===e.theme||"product-of-collection"===e.theme||"collection-header"===e.theme||"collection-edit"===e.theme,[s.default.productOfCollection]:"product-of-collection"===e.theme,[s.default.productOutOfStock]:"product-out-of-stock"===e.theme,[s.default.collectionEdit]:"collection-edit"===e.theme,[s.default.collectionHeader]:"collection-header"===e.theme,[s.default.orderProduct]:"order-product"===e.theme,[s.default.media]:"media"===e.theme,[s.default.listButton]:"list-button-compact"===e.theme,[s.default.listMsg]:"list-msg"===e.theme,[s.default.archivePanel]:"archive-panel"===e.theme,[s.default.themeRadioButtonRow]:"radio-button-row"===e.theme,[s.default.stickerPack]:"sticker-pack"===e.theme,[s.default.themeReaction]:"reaction"===e.theme,[s.default.disabled]:"disabled"===e.theme,[s.default.linkedAccount]:"linked-account"===e.theme||"linked-account-consumer"===e.theme,[s.default.linkedAccountConsumer]:"linked-account-consumer"===e.theme,[s.default.themeCheckboxDisabled]:"chat-checkbox-disabled"===e.theme,[s.default.themeCommunityTabHome]:"community-tab-home"===e.theme,[s.default.themeCommunityTabSubgroup]:"community-tab-subgroup"===e.theme,[s.default.themeCommunityTabSeeAll]:"community-tab-see-all"===e.theme,[s.default.themeNoBorder]:"no-border"===e.theme});let l;e.image&&(l=e.customImage?e.image:(0,o.jsx)("div",{className:s.default.chatAvatar,children:e.image}));const u=null!=e.primaryDetail?(0,o.jsx)("div",{className:(0,i.default)({[s.default.chatMeta]:!["product","product-out-of-stock","product-of-collection"].includes(e.theme)&&"sticker-pack"!==e.theme}),children:e.primaryDetail}):null;let d,c;null!=e.secondary&&(c=null!=e.secondaryDetail?(0,o.jsx)("div",{role:"gridcell","aria-colindex":"1",className:s.default.chatMeta,children:e.secondaryDetail}):null,d=(0,o.jsxs)("div",{className:s.default.chatSecondary,children:[(0,o.jsx)("div",{className:s.default.chatStatus,children:e.secondary}),c]}));const f=null!=e.detail?(0,o.jsx)("div",{className:(0,i.default)(s.default.chatBody,s.default.chatDetails),children:e.detail}):null,h=null!==(t=e.a8n)&&void 0!==t?t:"chat-card";return(0,o.jsxs)("div",{ref:e.setDivRef,"data-testid":"cell-frame-container","data-a8n":r.default.key(h),className:n,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,children:[(0,o.jsx)("div",{className:s.default.image,children:l}),(0,o.jsxs)("div",{className:s.default.chatBody,children:[(0,o.jsxs)("div",{role:"gridcell","aria-colindex":"2",className:(0,i.default)(s.default.chatMain,{[s.default.noDelete]:"list-names-no-delete"===e.theme}),children:[(0,o.jsx)("div",{className:s.default.chatTitle,children:e.primary}),u]}),d]}),f]})};t.default=l},32756:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)(s.default.chatSubtitle,{[s.default.chatSubtitleHeader]:"title"===e.location});return(0,l.jsx)("div",{"data-a8n":r.default.key("chat-subtitle"),className:t,children:(0,l.jsx)(o.EmojiText,{titlify:!0,className:s.default.chatSubtitleText,direction:"inherit",text:e.text,selectable:!0})})};var r=n(a(99964)),i=n(a(94184)),s=n(a(65006)),o=a(65417),l=a(85893)},16593:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CHECKBOX_THEME=void 0,t.CheckBox=function(e){let{checked:t,id:a,onChange:n,theme:c,disabled:f=!1,tabIndex:h}=e;const p=(0,r.useRef)(null),m=t&&c===d.PARTIAL,[g,_]=(0,s.default)(),v=(0,o.default)(p,g);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{ref:v,className:(0,i.default)(u.a11yHidden),checked:t,disabled:!!f||void 0,indeterminate:!!m||void 0,onClick:e=>{e.stopPropagation()},onChange:function(e){e.stopPropagation();const t=p.current;null!=t&&t.focus(),n(e)},type:"checkbox",id:a,tabIndex:null!=h?h:0}),(0,l.jsx)("div",{onClick:function(e){var t;e.preventDefault(),null===(t=p.current)||void 0===t||t.click()},className:(0,i.default)(u.checkboxContainer,f&&u.disabledCheckboxContainer,_&&u.itemFocused),tabIndex:-1,"aria-hidden":"true","data-testid":"visual-checkbox",children:(0,l.jsx)("div",{className:(0,i.default)(u.checkbox,t&&u.checkedCheckbox,f&&u.disabledCheckbox,f&&!t&&c===d.OUTLINE&&u.disabledCheckboxOutline),children:(0,l.jsx)("div",{className:(0,i.default)(u.checkmark,t&&c!==d.PARTIAL&&u.checkedCheckmark,!t&&u.uncheckedCheckmark,m&&u.partialCheckmark)})})})]})};var r=a(67294),i=n(a(56720)),s=n(a(85647)),o=n(a(78506)),l=a(85893);const u={checkboxContainer:{position:"g0rxnol2",display:"l7jjieqr",width:"dh5rsm73",height:"hpdpob1j",verticalAlign:"neme6l2y",cursor:"ajgl1lbb",borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",transform:"cgi16xlc"},disabledCheckboxContainer:{cursor:"bx7g2weo"},checkbox:{position:"g0rxnol2",boxSizing:"cm280p3y",height:"ppled2lx",pointerEvents:"m62443ks",backgroundColor:"thr4l2wc",borderTop:"cd4l02zd",borderEnd:"m98q8jdg",borderBottom:"aickbkrb",borderStart:"h0ed51ke",borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",transitionProperty:"cpfmwfku",transitionDuration:"eliz2k8b"},checkedCheckbox:{backgroundColor:"diqd3znl",borderTopColor:"qei0rtf7",borderEndColor:"toeh7gh7",borderBottomColor:"nncek28p",borderStartColor:"br6oik82"},disabledCheckbox:{backgroundColor:"hntizkrm",borderTopColor:"o163osd1",borderEndColor:"cfczyq4y",borderBottomColor:"fkk8pyer",borderStartColor:"g6apb8n0"},disabledCheckboxOutline:{backgroundColor:"thr4l2wc"},checkmark:{position:"lhggkp7q",top:"hdpg1tjz",left:"ptatjang",width:"dj32rci9",height:"g965lu3b",borderTop:"q4zabkcz",borderRight:"q0ohlrvj",borderBottom:"av59jz02",borderLeft:"grf4wkbn",transform:"hir9ny8g"},checkedCheckmark:{opacity:"bs7a17vp",animationName:"b73q89nx",animationTimingFunction:"em5jvqoa",animationFillMode:"a21kwdn3",animationDuration:"ehl15zf9"},uncheckedCheckmark:{opacity:"axi1ht8l"},partialCheckmark:{position:"lhggkp7q",width:"dj32rci9",height:"g965lu3b",borderTop:"q4zabkcz",borderRight:"q0ohlrvj",borderBottom:"thn59n0e",borderLeft:"grf4wkbn",transform:"pdwgdm2l"},a11yHidden:{position:"lhggkp7q",width:"cxec7x23",height:"kanlod6e",overflowX:"gfz4du6o",overflowY:"r7fjleex",clip:"nmeg1xfo",clipPath:"okm7a8wg",whiteSpace:"le5p0ye3"},itemFocused:{borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",boxShadow:"lgxs6e1q"}},d={PARTIAL:"PARTIAL",OUTLINE:"OUTLINE"};t.CHECKBOX_THEME=d},9275:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,i.useState)(!1);let n,d;e.checked?(d=e.radio?"checkbox-round-radio-checked":"checkbox-round-checked",n="checked"):(n="unchecked",d=e.hover?"checkbox-round-unchecked":"checkbox-round-passive");const c=e.checked?[]:[u.uncheckedSvgStyle,!0===e.systemUncheckedColor?u.iconPathFillSecondary:u.iconPathFillWhite,t&&!(!0===e.systemUncheckedColor)&&u.uncheckedSvgHoverStyle],f=(0,i.useCallback)((()=>a(!0)),[]),h=(0,i.useCallback)((()=>a(!1)),[]);return(0,l.jsx)(r.default,{className:(0,s.default)(u.container),transitionName:"pop",children:(0,l.jsx)("div",{className:(0,s.default)(u.roundIcon),onClick:t=>{t&&t.stopPropagation(),e.onChange()},onMouseEnter:f,onMouseOver:f,onMouseLeave:h,children:(0,l.jsx)(o.default,{name:d,iconXstyle:c})},n)})};var r=n(a(40436)),i=a(67294),s=n(a(56720)),o=n(a(23217)),l=a(85893);const u={container:{position:"g0rxnol2",display:"l7jjieqr",width:"m0s4cjtr",height:"jdwybkuq",verticalAlign:"neme6l2y",cursor:"ajgl1lbb",transform:"qlxkrvdn"},roundIcon:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx"},uncheckedSvgStyle:{fillOpacity:"hdyxztb8",transitionDuration:"slppp3mo",transitionProperty:"ec3rya3v",transitionTimingFunction:"pu4k07i0"},uncheckedSvgHoverStyle:{fillOpacity:"io7enyfj"},iconPathFillWhite:{color:"qiqvuef5"},iconPathFillSecondary:{color:"pm5hny62"}}},61991:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonType=void 0,t.ChevronButton=function(e){let{type:t,onClick:a,onKeyDown:n,disabled:s,theme:h,overMedia:p}=e;const m=(0,r.default)(i.default.btn,{[i.default.btnMediaPrev]:t===d.Prev,[i.default.btnMediaNext]:t===d.Next,[i.default.disabledBtn]:s,[i.default.overMedia]:p}),g=c[t],_=f[t];return(0,u.jsx)(o.Round,{className:m,onClick:s?null:a,onKeyDown:n,label:g,theme:h,disabled:s,children:(0,u.jsx)(l.default,{name:_,title:g,directional:!0})})};var r=n(a(94184)),i=n(a(66310)),s=n(a(14296)),o=a(82857),l=n(a(23217)),u=a(85893);const d=a(76672).Mirrored(["Prev","Next"]);t.ButtonType=d;const c={Prev:s.default.t(599),Next:s.default.t(570)},f={Prev:"chevron-left",Next:"chevron-right"}},72439:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Column=void 0;var n=a(41906);const r=window.matchMedia(`\nonly screen and (max-width: ${n.LAYOUT_2COLUMNS_MAX_WIDTH}px)\n`),i={column:r.matches?2:3};t.Column=i;r.addListener((function(e){const t=e.matches?2:3;if(i.column===t)return;i.column=t;const a=document.createEvent("Event");a.initEvent("columnChange",!0,!0),window.dispatchEvent(a)}))},58654:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=n(a(66034)),s=n(a(49739)),o=a(78123),l=a(85893);var u=e=>{let{children:t,icon:a,secondary:n,theme:u}=e,d=(0,r.default)(s.default.container,{[s.default.inConversation]:"conversation"===u,[s.default.inList]:"list"===u,[s.default.mdChatSearchList]:"md-chat-search-list"===u,[s.default.themeChatInfo]:"chat-info"===u});if("conversation"===u){const e=i.default.get("defaultPreference");e&&e.wallpaperColor===o.DEFAULT_CHAT_WALLPAPER&&(d=(0,r.default)(d,s.default.defaultWallpaper))}const c=a?(0,l.jsx)("div",{className:s.default.icon,children:a}):null,f=null!=n?(0,l.jsx)("div",{className:s.default.secondary,children:n}):null;return(0,l.jsxs)("div",{className:d,children:[c,(0,l.jsxs)("div",{className:s.default.body,children:[(0,l.jsx)("div",{className:s.default.main,children:t}),f]})]})};t.default=u},21535:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.createDataLink=function(e){const t=document.createElement("a"),a=r.default.isBlob(e)||r.default.isData(e);return t.href=a?e:"",t};var r=n(a(76139))},92726:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926));const i=/\r\n/g;t.default=class{constructor(e){this.hasText=()=>this.hasType("text/plain"),this.hasType=e=>this.types.includes(e),this.data=e,this.types=e.types?Array.isArray(e.types)?e.types:Object.keys(e.types).map((t=>e.types[t])):[]}getItems(){if(this.data.items)return Array.prototype.slice.call(this.data.items);const e=this._getFileTypes();return this.types.map((t=>({type:t,data:this.data.getData(t),kind:e.includes(t)?"string":"file"})))}_getFileTypes(){return Array.prototype.slice.call(this.data.files).map((e=>{let{type:t}=e;return t}))}getText(e){var t=this;return(0,r.default)((function*(){const a=yield t._getText(e);return a?a.replace(i,"\n"):null}))()}_getText(e){var t=this;return(0,r.default)((function*(){const a=e||[];0===a.length&&a.push("text/plain");const{data:n}=t;if(n.getData){let e;return a.some((t=>{if(n.getData(t))return e=n.getData(t),!0})),Promise.resolve(e)}const r=function(e,t){const a=Array.from(e);return t.reduce(((e,t)=>{const n=a.find((e=>e.type===t));return n&&e.push(n),e}),[])}(t.data.items,a);if(!r.length)return;const i=Promise.all(r.map((e=>new Promise((t=>e.getAsString(t))))));return(yield i).find((e=>e.length))}))()}getFiles(){return this.data.items?Array.prototype.slice.call(this.data.items).filter((e=>{let{kind:t}=e;return"file"===t})).map((e=>e.getAsFile())).filter((e=>!!e)):Array.prototype.slice.call(this.data.files||[])}getData(e){return this.data.getData(e)}hasFiles(){return this.data.items?Array.prototype.slice.call(this.data.items).some((e=>{let{kind:t}=e;return"file"===t})):!!Array.prototype.slice.call(this.data.files||[]).length}}},39424:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(48360),i=a(67294),s=a(35461),o=a(63183),l=a(71174),u=n(a(14296)),d=a(85893);function c(e){const{isReadOnly:t,kind:a}=(0,s.useModelValues)(e.chat,["isReadOnly","kind"]);let n;switch(a){case o.CHAT_KIND.GROUP:n=t?u.default.t(772):r.fbt._("Exit group",null,{hk:"4BkPNr"});break;case o.CHAT_KIND.BROADCAST:n=u.default.t(773);break;case o.CHAT_KIND.CHAT:n=u.default.t(275)}return(0,d.jsx)(l.DropdownItem,{a8n:"mi-delete",action:e.onDeleteOrExit,disabled:e.disabled,children:n})}var f=(0,i.memo)(c);t.default=f},88984:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailImage=function(e){const{id:t,size:a,quality:n=w.Low,loader:r,onClick:i,onLoad:s,quoted:l,shape:p,border:m,waitIdle:y,ephemeralIcon:S,theme:M,alt:A}=e,j=(0,f.default)(),I=(0,c.useMemo)((()=>g.ChatCollection.get(t)),[t]);let L;(0,h.useListener)((null==I?void 0:I.isGroup)?I.groupMetadata:I,"change:ephemeralDuration",j),L="number"==typeof a?a>0?a:k.Small:null!=a?a:k.Small;const B={height:R(L),width:R(L)};i&&(B.cursor="pointer");let F;if((0,o.communitiesEnabled)())if(null!=I){var G;if(I.isGroup)F=null===(G=I.groupMetadata)||void 0===G?void 0:G.groupType}else{const e=T.default.get(t.toString());F=null==e?void 0:e.groupType}const U=(0,u.default)(_.default.avatar,{[_.default.status_v3]:"status_v3"===M,[_.default.avatarSquare]:p===P.Square,[_.default.avatarBorder]:m,[_.default.avatarSquircle]:p===P.Squircle,[_.default.avatarDefaultAnnouncementGroup]:F===v.GroupType.DEFAULT_ANNOUNCEMENT_GROUP}),V=D(t,l,F),W=(0,x.jsx)(b.default,{id:t,onComplex:()=>{let e=null;const a=C.ProfilePicThumbCollection.gadd(t);return a&&(e=n===w.High?(0,x.jsx)(O,{profilePicThumb:a,defaultIcon:V,loader:r,onLoad:s,alt:A}):(0,x.jsx)(N,{profilePicThumb:a,defaultIcon:V,loader:r,onLoad:s,alt:A})),(0,x.jsxs)("div",{className:U,style:B,onClick:i,children:[null,e,null]})},waitIdle:y,children:(0,x.jsx)("div",{className:U,style:B,onClick:i,children:V})});let H;null!=S&&(null==I?void 0:I.isEphemeralSettingOn())&&(H=(0,x.jsxs)("div",{className:_.default.wrapper,"aria-label":d.fbt._("Profile picture, disappearing messages on",null,{hk:"2Riroy"}),children:[(0,x.jsx)("div",{className:(0,u.default)(_.default.badge,{[_.default.chatList]:"chat-list"===S,[_.default.conversationHeader]:"conversation-header"===S}),children:(0,x.jsx)(E.default,{name:"disappearing",className:_.default.badgeIcon})}),W]}));return H||W},t.DetailImageSize=t.DetailImageShape=t.DetailImageQuality=t.DetailImageCommon=void 0,t.getDefaultIcon=D,t.getSize=R;var r=n(a(81109)),i=a(57319),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),o=a(8139),l=(a(78820),n(a(89867))),u=n(a(94184)),d=a(48360),c=a(67294),f=(n(a(56720)),n(a(59312))),h=a(87550),p=a(35461),m=n(a(46918)),g=a(69951),_=n(a(26306)),v=a(55981),b=n(a(76239)),y=n(a(47065)),C=a(82039),S=a(18146),E=n(a(23217)),T=n(a(73213)),x=a(85893);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}const k=a(76672).Mirrored(["ExtraSmall","Small","Medium","Large","None"]);t.DetailImageSize=k;const w=a(76672).Mirrored(["Low","High"]);t.DetailImageQuality=w;const P=a(76672).Mirrored(["Circle","Square","Squircle"]);t.DetailImageShape=P;const A={color:"q3u0wlip"},j={borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"};class I extends c.PureComponent{constructor(e){super(e),this._retriedAfter403=!1,this.state={loading:!0,loaded:!1,showSpinner:!1,profilePicThumbImg:null},this._handleLoad=()=>{this._showSpinnerTimeout&&this._showSpinnerTimeout.cancel(),this.setState({loading:!1,loaded:!0}),this.props.onLoad&&this.props.onLoad()},this._handleError=e=>{if(this._showSpinnerTimeout&&this._showSpinnerTimeout.cancel(),e instanceof s.ServerStatusError){const{profilePicThumb:t}=this.props;switch(e.status){case 403:t.markStale({eurl:!0}),this._retriedAfter403||(this._retriedAfter403=!0,t.validate());break;case 410:t.markStale()}}this.setState({loading:!1,loaded:!1})},this._enableSpinner="business"!==e.theme,e.loader&&this._enableSpinner&&(this._showSpinnerTimeout=new i.ShiftTimer((()=>{this.setState({showSpinner:!0})})),this._showSpinnerTimeout.onOrAfter(100))}static getDerivedStateFromProps(e,t){return t.profilePicThumbImg!==e.profilePicThumbImg?{loading:!0,loaded:!1,showSpinner:!1,profilePicThumbImg:e.profilePicThumbImg}:{profilePicThumbImg:e.profilePicThumbImg}}componentDidUpdate(e){e.profilePicThumbImg!==this.props.profilePicThumbImg&&this._showSpinnerTimeout&&this._showSpinnerTimeout.onOrAfter(100)}componentWillUnmount(){this._showSpinnerTimeout&&this._showSpinnerTimeout.cancel()}_shouldShowSpinner(){const{profilePicThumb:e,loader:t}=this.props,{loading:a,showSpinner:n}=this.state;return!!this._enableSpinner&&(!!t&&n&&a&&!(!(0,S.unproxy)(e).stale&&!this.props.profilePicThumbImg))}render(){const{profilePicThumbImg:e,spinnerClassName:t,imgClassName:a,alt:n}=this.props,{loading:i,loaded:s}=this.state;let o={[_.default.isLoaded]:!i};a&&(o=(0,r.default)((0,r.default)({},o),{},{[a]:"string"==typeof a}));const l=(0,u.default)(_.default.avatarImage,o);let d,c;this._shouldShowSpinner()&&(d=(0,x.jsx)(m.default,{className:t},"spinner")),e&&(c=(0,x.jsx)(y.default,{src:e,hasPrivacyChecks:!0,crossOrigin:!1,className:l,draggable:!1,onLoad:this._handleLoad,onError:this._handleError,alt:n},"image"));const f=this.props.defaultIcon;return(0,x.jsxs)(x.Fragment,{children:[d,f,c]})}}function O(e){const t=(0,p.useModelValues)(e.profilePicThumb,["imgFull"]);return(0,x.jsx)(I,(0,r.default)((0,r.default)({},e),{},{profilePicThumbImg:t.imgFull}))}function N(e){const t=(0,p.useModelValues)(e.profilePicThumb,["img"]);return(0,x.jsx)(I,(0,r.default)((0,r.default)({},e),{},{profilePicThumbImg:t.img}))}function R(e){if("string"!=typeof e)return e;switch(e){case k.ExtraSmall:return 40;case k.Small:return 49;case k.Medium:return 100;case k.Large:return 200;case k.None:return}}function D(e,t,a){let n,r="default-user";l.default.isUser(e)&&!l.default.isPSA(e)&&t?r="default-user-square":l.default.isGroup(e)?a===v.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?(r="announcement-speaker",n=A):r=a===v.GroupType.COMMUNITY?"community-squircle":"default-group":l.default.isBroadcast(e)?r="default-broadcast":l.default.isPSA(e)&&(r="default-psa",n=j);return(0,x.jsx)("div",{className:_.default.avatarDefault,children:(0,x.jsx)(E.default,{name:r,iconXstyle:n})},"default")}t.DetailImageCommon=I,I.displayName="DetailImageCommon"},71093:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Upload=t.Pending=t.Download=t.DocState=void 0;var r=n(a(81109)),i=n(a(56720)),s=a(11054),o=n(a(23217)),l=a(85893);const u={position:"g0rxnol2",display:"p357zi0d",flex:"kk3akd72",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"tddarlmj",height:"jbxl65f1",color:"mnd5airb"},d={position:"lhggkp7q",top:"hd6b059k",left:"qpqgzaqc"},c=e=>{let{children:t,onClick:a}=e;const n=a?{onClick:a}:{};return(0,l.jsx)("div",(0,r.default)((0,r.default)({className:(0,i.default)(u)},n),{},{children:t}))};t.DocState=c;t.Download=e=>{let{onClick:t}=e;return(0,l.jsx)(c,{onClick:t||(()=>{}),children:(0,l.jsx)(o.default,{name:"audio-download"})})};const f={color:"progress"};t.Pending=e=>{let{outgoingMsg:t,value:a,canCancel:n=!1}=e;const u=null==a?{outgoingMsg:t}:f;return(0,l.jsxs)(c,{children:[(0,l.jsx)("div",{className:(0,i.default)(d),children:(0,l.jsx)(s.Spinner,(0,r.default)({stroke:3,size:32,value:a},u))}),n?(0,l.jsx)(o.default,{name:"audio-cancel-noborder"}):null]})};t.Upload=()=>(0,l.jsx)(c,{children:(0,l.jsx)(o.default,{name:"audio-upload"})})},50315:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76521));const i={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},s=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],o=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],l=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","msfullscreenchange","msfullscreenerror"];let u,d;class c extends r.default{constructor(){if(super(),this.requestFullscreen=e=>{e?u?e[u[i.requestFullscreen]]():__LOG__(3)`Your browser does not support fullscreen API.`:__LOG__(3)`The element requesting fullscreen is null or undefined.`},this._fullscreenChangeTrigger=e=>{this.trigger("fullscreen_change",e)},this._fullscreenErrorTrigger=e=>{this.trigger("fullscreen_error",e)},"object"!=typeof window||"object"!=typeof window.document)return void __LOG__(3)`document object does not exist`;d=window.document;const e=d;if("fullscreenEnabled"in d?u=Object.keys(i):s[i.fullscreenEnabled]in d?u=s:o[i.fullscreenEnabled]in d?u=o:l[i.fullscreenEnabled]in d&&(u=l),!u)return void __LOG__(3)`Your browser does not support fullscreen API.`;const t=u;e.addEventListener(t[i.fullscreenchange],this._fullscreenChangeTrigger),e.addEventListener(t[i.fullscreenerror],this._fullscreenErrorTrigger)}get exitFullscreen(){return d?u?d[u[i.exitFullscreen]].bind(d):(__LOG__(3)`Your browser does not support fullscreen API.`,()=>{}):(__LOG__(3)`document object does not exist`,()=>{})}get isFullscreenMode(){return d?u?!!d[u[i.fullscreenElement]]:(__LOG__(3)`Your browser does not support fullscreen API.`,!1):(__LOG__(3)`document object does not exist`,!1)}get fullscreenEnabled(){return d?u?Boolean(d[u[i.fullscreenEnabled]]):(__LOG__(3)`Your browser does not support fullscreen API.`,!1):(__LOG__(3)`document object does not exist`,!1)}get fullscreenElement(){if(d){if(u)return d[u[i.fullscreenElement]];__LOG__(3)`Your browser does not support fullscreen API.`}else __LOG__(3)`document object does not exist`}}var f=new c;t.default=f},94509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=t.parentNode;if(!a)return;if(t.nextSibling)return void a.insertBefore(e,t.nextSibling);return a.appendChild(e),e}},36717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.parentNode)return;return t.parentNode.insertBefore(e,t),e}},64875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return!1;const a=e.parentElement;if(!a)return!1;const n=t>=0?t:a.childNodes.length+t;return e===a.childNodes[n]}},29958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&(e.nodeType===Node.TEXT_NODE&&0===e.textContent.length)}},69975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.parentNode)return;e.parentNode.removeChild(e)}},15055:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;const t=window.getSelection();if(1!==t.rangeCount)return!1;const a=t.getRangeAt(0);if(!a.collapsed)return!1;const n=a.endContainer;if(a.startOffset!==function(e){return(0,r.default)(e)?e.textContent.length:e.childNodes.length}(n))return!1;if(e===n)return!0;if(!e.contains(n))return!1;let i=n;do{if(i.nextSibling)return!1;i=i.parentNode}while(i!==e);return!0};var r=n(a(48442))},17410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;const t=window.getSelection();if(1!==t.rangeCount)return!1;const a=t.getRangeAt(0);if(!a.collapsed||0!==a.startOffset)return!1;const n=a.startContainer;if(e===n)return!0;if(!e.contains(n))return!1;let r=n;do{if(r.previousSibling)return!1;r=r.parentNode}while(r!==e);return!0}},80708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=window.getSelection();if(1!==e.rangeCount)return!1;const t=e.getRangeAt(0);return!!t.collapsed&&(e.removeAllRanges(),e.addRange(t),!0)}},90995:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeNoticeSVG=function(e){return r.default.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0}})},t.sanitizeNoticeText=function(e){return r.default.sanitize(e,{ALLOWED_TAGS:["b","i","a","#text"],ALLOWED_ATTR:["href"],KEEP_CONTENT:!1})};var r=n(a(77482))},78756:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.scrollAt=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=s(t||e.offsetParent),r=a.pos||"center",o=null!=a.duration&&0!==a.duration?a.duration:1e3,l=a.offset||0;switch(r){case"top":return n.scrollTop=e.offsetTop+l,Promise.resolve();case"bottom":return n.scrollTop=e.offsetTop+e.clientHeight-n.clientHeight,Promise.resolve();case"center":return a.animate?((0,i.default)(e,"stop"),(0,i.default)(n,"stop"),(0,i.default)(e,"scroll",{duration:o,container:n,offset:(e.clientHeight-n.clientHeight)/2,easing:a.easing})):(n.scrollTop=e.offsetTop+e.clientHeight/2-n.clientHeight/2,Promise.resolve());case"offset":return a.animate?((0,i.default)(e,"stop"),(0,i.default)(n,"stop"),(0,i.default)(e,"scroll",{duration:o,container:n,offset:-l,easing:a.easing})):(n.scrollTop=e.offsetTop-l,Promise.resolve())}return Promise.resolve()},t.scrollIntoView=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;const n=s(a||e.parentNode),r=window.getComputedStyle(n,null),i=parseInt(r.getPropertyValue("border-top-width"),10),o=e.offsetTop-n.offsetTop<n.scrollTop,l=e.offsetTop-n.offsetTop+e.clientHeight-i>n.scrollTop+n.clientHeight;t?n.scrollTop=e.offsetTop-n.offsetTop-n.clientHeight/2-i+e.clientHeight/2:e.scrollIntoView(o&&!l);return!(o||l)},t.scrollIntoViewIfNeeded=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;if(e.scrollIntoViewIfNeeded&&(0,r.isFunction)(e.scrollIntoViewIfNeeded))return e.scrollIntoViewIfNeeded(t);const n=s(a||e.parentNode),i=window.getComputedStyle(n,null),o=parseInt(i.getPropertyValue("border-top-width"),10),l=e.offsetTop-n.offsetTop<n.scrollTop,u=e.offsetTop-n.offsetTop+e.clientHeight-o>n.scrollTop+n.clientHeight;(l||u)&&t&&(n.scrollTop=e.offsetTop-n.offsetTop-n.clientHeight/2-o+e.clientHeight/2);!l&&!u||t||e.scrollIntoView(l&&!u);return!(l||u)};var r=a(51737),i=n(a(62831));function s(e){if(e&&e instanceof HTMLElement)return e;throw new Error("utils:DOM parent not defined or is not a valid HTMLElement")}},94259:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DIR=void 0,t.findNonEmptySibling=function(e,t){let a=e;if(!a)return;do{a=t===i.NEXT?a.nextSibling:a.previousSibling}while(a&&(0,r.default)(a));return a};var r=n(a(29958));const i={NEXT:"NEXT",PREV:"PREV"};t.DIR=i},6309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.__playPromise)return e.__playPromise;const t=new Promise(((t,a)=>{function n(a){e.removeEventListener("playing",n),e.removeEventListener("error",r),e.videoHeight&&e.videoWidth||n(a),delete e.__playPromise,t(a)}function r(t){e.removeEventListener("playing",n),e.removeEventListener("error",r),delete e.__playPromise,a(t)}e.addEventListener("playing",n),e.addEventListener("error",r);const i=e.play();var s;(s=i)&&"function"==typeof s.then&&(e.removeEventListener("playing",n),e.removeEventListener("error",r),i.then((()=>{delete e.__playPromise,t()})).catch((t=>{delete e.__playPromise,a(t)})))}));return e.__playPromise=t,t}},35721:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const n=null!=e.side?(0,u.jsx)("div",{className:(0,o.default)(d.side),children:e.side}):null,c=null===(t=e.separator)||void 0===t||t,f=(0,s.default)((0,o.default)(d.container,e.xstyle),e.className,{[l.default.separator]:c}),h=null!==(a=e.testid)&&void 0!==a?a:c?"container_with_separator":"container";return(0,u.jsx)("div",{"data-a8n":r.default.key(e.a8nText),className:f,role:e.onClick?"button":null,"data-testid":h,onClick:e.onClick,children:(0,u.jsxs)("div",{className:(0,s.default)(l.default.block,(0,o.default)(d.block,e.blockXstyle,e.multiline&&d.blockMultiline)),children:[(0,u.jsx)("div",{className:(0,s.default)((0,o.default)(d.main,e.multiline&&d.mainMultiline,e.restrictSpacing&&d.mainRestrictSpacing,i.isOSMac&&d.mainMac)),children:e.children}),n]})})};var r=n(a(99964)),i=a(77144),s=n(a(94184)),o=n(a(56720)),l=n(a(41323)),u=a(85893);const d={container:{paddingStart:"e8k79tju"},block:{display:"p357zi0d",alignItems:"gndfcl4n",height:"k45dudtp",paddingEnd:"bcymb0na"},blockMultiline:{height:"bvcnfjzh"},main:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"lb5m6g5c",marginTop:"kv6wexeh",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},mainMultiline:{paddingTop:"hc2u0oym",paddingBottom:"myel2vfb",whiteSpace:"hmy10g0s"},mainMac:{marginTop:"tt8xd2xn"},mainRestrictSpacing:{paddingTop:"i5tg98hk",paddingBottom:"przvwfww",whiteSpace:"le5p0ye3"},side:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",marginStart:"jwvfxh5v"}}},71174:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownItem=function(e){const{children:t,tooltip:a,type:n="text",disabled:o=!1,theme:_,action:v,testid:b}=e,[y,C]=(0,l.useState)(!1),[S,E]=(0,l.useState)(!1),T=(0,d.default)(),x=e=>{if(!v)return;!1===v(e)||T&&T.requestDismiss()},M=e=>{e.repeat||x(e)},k=(y||S)&&null!=a?a:null,w=(0,f.isStringOrFbt)(t)?(0,p.jsx)("div",{className:(0,s.default)(c.default.ellipsify,c.default.action,{[c.default.compact]:_===m.COMPACT},(0,u.default)(e.xstyle)),role:"button","aria-label":t,children:t}):t,P=(0,s.default)(c.default.item,c.default.shortcut,{[c.default.hover]:y||S,[c.default.text]:"text"===n,[c.default.emoji]:"emoji"===n||"emoji-grid"===n,[c.default.emojiGrid]:"emoji-grid"===n,[c.default.icon]:"icon"===n,[c.default.disabled]:o||_===m.MUTED}),A=o?{}:{handlers:{enter:M,space:M},onContextMenu:g,onMouseDown:g,onClick:e=>{x(e)},onMouseEnter:()=>{C(!0)},onMouseLeave:()=>{C(!1)},onFocus:()=>{E(!0)},onBlur:()=>{E(!1)}};return(0,p.jsxs)(h.HotKeys,(0,r.default)((0,r.default)({component:"li","data-a8n":i.default.key(e.a8n),className:P,"data-animate-dropdown-item":!0,"data-testid":b},A),{},{children:[w,(0,p.jsx)("div",{children:k})]}))},t.ThemeOptions=void 0;var r=n(a(81109)),i=n(a(99964)),s=n(a(94184)),o=n(a(66919)),l=a(67294),u=n(a(56720)),d=n(a(95402)),c=n(a(19328)),f=a(12733),h=a(29424),p=a(85893);const m=(0,o.default)({COMPACT:null,MUTED:null});function g(e){e.preventDefault()}t.ThemeOptions=m},84636:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useContext)(u.InitialEmojisCompletionContext);(0,i.useEffect)((()=>{const a=f(e.emoji);null!=a&&(t.incrementLoadingEmojisCount(),o.AssetLoader.loadEmoji(a,o.LOAD_PRIORITY.LAZY_LOAD_EMOJI).finally((()=>{t.decrementLoadingEmojisCount()})))}),[t,e.emoji]);const{className:a,element:n,emoji:l,selectable:m,selected:g,size:_,src:v,onLoad:b,tabIndex:y,xstyle:C}=e,S=f(l);if(null==S)return null;let E,T;v||(E=h(S,_),T=p(S,_));const x=(0,r.default)(a,T,{selected:g},(0,s.default)(C));if("span"===n)return(0,c.jsx)("span",{className:x,style:E,onLoad:b,tabIndex:y,"data-unicode":e["data-unicode"],"data-variant":e["data-variant"],"data-emoji-index":e["data-emoji-index"]});return(0,c.jsx)(d.default,{alt:l,className:x,draggable:!1,onLoad:b,plainText:l,selectable:m,style:E,src:v})};var r=n(a(94184)),i=a(67294),s=n(a(56720)),o=a(89721),l=a(67247),u=a(78359),d=n(a(47065)),c=a(85893);const{getGlyphId:f,getStyle:h,getCssClasses:p}=l.EmojiUtil},65417:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiText=t.EMOJI_SIZE=void 0;var r=n(a(81109)),i=n(a(23279)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(93131)),o=n(a(45095)),l=n(a(99964)),u=a(81572),d=a(26741),c=n(a(94184)),f=a(67294),h=n(a(56720)),p=a(67247),m=n(a(80691)),g=a(30695),_=n(a(10577)),v=n(a(14296)),b=a(84387),y=a(52596),C=a(85893);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}const E={breakWord:{wordBreak:"cw3vfol9"},clickable:{cursor:"ajgl1lbb",":hover":{textDecoration:"edeob0r2"}},dirMismatch:{display:"f804f6gw",width:"ln8gz9je"},ellipsify:{flexGrow:"ggj6brxn",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},inlineblock:{display:"l7jjieqr"},multiline:{whiteSpace:"i033jvx7"}},T={SMALL:"SMALL",LARGE:"LARGE"};t.EMOJI_SIZE=T;const x=4096;function M(e){return p.EmojiUtil.containsEmoji(e.substring(0,x))}class k extends f.PureComponent{constructor(){super(...arguments),this.state={text:String(this.props.text||""),ellipsified:null},this.refContainer=(0,f.createRef)(),this._registeredListener=!1,this._recompute=(0,i.default)((()=>{this.setState({ellipsified:null},this.ellipsify)}),10),this._buildBidiModel=e=>e.reduce(((e,t)=>{if("string"==typeof t){const a=t.split(/(\r?\n|\r)/g).map((e=>({dir:s.dir(e),content:e})));return e.concat(a)}return e.push({content:t}),e}),[]),this.ellipsify=()=>{const e=this.refContainer.current;if(!e)return;const t=(0,o.default)(e.parentElement,"node.parentElement"),a=e.querySelectorAll("img");if(!a.length)return;const n=e.clientWidth;e.style.overflow="visible";const r=e.clientWidth!==n;if(e.style.overflow="hidden",!r)return;const i=Boolean(v.default.isRTL())===Boolean(this.props.dirMismatch),s=a[function(e,t,a){let n=0;for(;n<e.length;){const r=e[n];if(a&&r.offsetLeft+r.clientWidth>=t)break;if(!a&&r.offsetLeft<=t)break;n++}return n}(a,i?t.clientWidth-function(e,t){let a=0;const{childNodes:n}=e;for(let e=0;e<n.length;e++){const r=n[e];if(r===t)break;a+=r instanceof Element?r.clientWidth:0}return a}(t,e)-12:12,i)];this.setState({ellipsified:P(e,s)})},this._ellipsifyCheck=()=>M(this.state.text)&&this.ellipsify(),this._explodeOutputByLines=(e,t)=>{const{direction:a}=this.props,n=[],r=this._buildBidiModel(e);let i=[],s=a;"auto"!==a&&"inherit"!==a||(s=null);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=null==s||null==a||s===a,o=r?null:s,l=!r||"rtl"===s!==v.default.isRTL(),u=l?(0,h.default)(E.dirMismatch):null;n.push((0,C.jsxs)("span",{dir:o,className:u,children:[i,t?"…":null]},e))};for(let e=0;e<r.length;e++){const t=r[e];s!==t.dir&&null!=s&&void 0!==t.dir&&(o(e),i=[]),void 0!==t.dir&&(s=t.dir),i.push(t.content)}return o(r.length,t),n},this._registerResizeListener=()=>{this._registeredListener||(this._registeredListener=!0,this.props.listeners.add(window,"resize",this._recompute),this.props.listeners.add(u.Cmd,"resize",this._recompute))},this.componentDidMount=()=>{!d.UA.supportsEmojiEllipsification&&this.props.ellipsify&&M(this.state.text)&&this._registerResizeListener(),!d.UA.supportsEmojiEllipsification&&this.props.ellipsify&&this._ellipsifyCheck()},this._unregisterResizeListener=()=>{this._registeredListener&&(this._registeredListener=!1,this.props.listeners.remove(window,"resize",this._recompute),this.props.listeners.remove(u.Cmd,"resize",this._recompute))},this.render=()=>{if(!this.state.text)return null;const{onClick:e,ellipsify:t,dirMismatch:a,inferLinesDirection:n,inlineblock:r,direction:i,textLimit:s,multiline:o,breakWord:u,emojiXstyle:d}=this.props,f=this.state.ellipsified?this.state.ellipsified:this.state.text,p="inherit"===i?null:i||"auto",v=!!this.props.selectable,b=this.props.formatters||g.Configuration.EmojiOnly({selectable:v,emojiXstyle:d});let S=s||1/0;t&&f.length>x&&S>x&&(S=x);const T=(0,c.default)(this.props.className,(0,h.default)(!!t&&E.ellipsify,!!r&&E.inlineblock,!!e&&E.clickable,a&&!n&&E.dirMismatch,o&&E.multiline,u&&E.breakWord,this.props.xstyle)),M=(0,m.default)(f,b,_.default,void 0,S),k=!!this.state.ellipsified||f.length>S,w=this.props.inferLinesDirection?this._explodeOutputByLines(M,k):M;return(0,C.jsx)(y.Selectable,{"data-a8n":l.default.key(this.props.a8n),className:T,dir:p,element:this.props.element,onClick:e,ref:this.refContainer,selectable:v,title:this.props.titlify?this.state.text:void 0,children:w})}}getContainerElement(){return this.refContainer.current}static getDerivedStateFromProps(e,t){var a;let n=null;const i=String(null!==(a=e.text)&&void 0!==a?a:"");return i!==t.text&&(n={text:i}),d.UA.supportsEmojiEllipsification||!e.ellipsify||null==n||M(i)||(n=(0,r.default)((0,r.default)({},n),{},{ellipsified:null})),n}getWidth(){const e=this.refContainer.current;return e?e.getBoundingClientRect().width:0}componentDidUpdate(e,t){!d.UA.supportsEmojiEllipsification&&this.props.ellipsify&&t.text!==this.state.text&&(M(this.state.text)?(this._recompute(),this._registerResizeListener()):this._unregisterResizeListener())}componentWillUnmount(){this._recompute.cancel()}}k.defaultProps={element:"span",emojiSize:T.SMALL,textLimit:1/0};const w=(0,b.ListenerHOC)(k);function P(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{found:!1};if(e===t)return a.found=!0,"";if(e instanceof HTMLImageElement)return e.alt;if(e.nodeType===Node.TEXT_NODE)return e.nodeValue;const n=A(e);let r="",i=0;for(;i<e.childNodes.length&&(r+=P(e.childNodes[i],t,a),!a.found);)i++;if(null==n)return r;const[s,o]=n;return`${s}${r}${o}`}function A(e){if(e instanceof Element)switch(e.tagName){case"CODE":return["```","```"];case"STRONG":return["*","*"];case"EM":return["_","_"];case"DEL":return["~","~"];case"LI":return["* ",""];default:return null}return null}t.EmojiText=class extends w{getWidth(){return this.getComponent().getWidth()}getContainerElement(){return this.getComponent().getContainerElement()}}},85600:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StarredMsgs=t.SearchingMessages=t.SearchingImages=t.Searching=t.SearchWithoutKeyword=t.SearchWithKeyword=t.SearchMessagesUnavailable=t.SearchMessages=t.SearchGroups=t.SearchContacts=t.Search=t.NoResultForLabel=t.MediaMsgs=t.LoadingWithText=t.Loading=t.ListStatus=t.ListProducts=t.ListGroups=t.ListChats=t.LinkMsgs=t.LazyLoadRetry=t.ImageSearchEmpty=t.Empty=t.DocMsgs=t.Blocked=t.BeforeSearchMessages=t.BeforeImageSearch=t.Archived=t.AllArchived=void 0;var r=n(a(99964)),i=a(41455),s=a(48360),o=n(a(56720)),l=a(69951),u=a(65417),d=n(a(14296)),c=a(16770),f=a(11054),h=n(a(23217)),p=a(85893);const m={empty:{boxSizing:"cm280p3y",display:"p357zi0d",flexGrow:"ggj6brxn",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx",paddingTop:"gq7nj7y3",paddingEnd:"td5bf8pq",paddingBottom:"eynyaxvo",paddingStart:"l3k7h4x6",color:"hp667wtd",textAlign:"qfejxiq4"},emptyTop:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",justifyContent:"fhf7t426",height:"bvcnfjzh",paddingTop:"cihm0v32",paddingEnd:"td5bf8pq",paddingBottom:"ctv2fiom",paddingStart:"l3k7h4x6"},compact:{paddingTop:"emrlamx0",paddingEnd:"iffbo4e8",paddingBottom:"aiput80m",paddingStart:"khscay3k"},icon:{display:"p357zi0d",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"f6essjlf",height:"j19d4s4u",marginTop:"pcx1034m",marginBottom:"r2u2pyhj",color:"myzbk5ck",backgroundColor:"f2yrvmhs",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},title:{marginBottom:"gdaqao4w"},text:{fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"hp667wtd"},spinner:{marginBottom:"du8bjn1j"},action:{display:"l7jjieqr",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"o2v2jkg7"},iconRetry:{color:"myzbk5ck"}},g=e=>{let{a8nText:t,a8nTitle:a,children:n,xstyle:i,icon:s,text:l,theme:d,title:c,onClick:f}=e;const h=c?(0,p.jsx)("div",{"data-a8n":r.default.key(a),className:(0,o.default)(m.title),children:c}):null,g=l?(0,p.jsx)("div",{"data-a8n":r.default.key(t),className:(0,o.default)(m.text),children:(0,p.jsx)(u.EmojiText,{text:l})}):null,_=(0,o.default)(m.empty,i,"compact"===d&&m.compact);return(0,p.jsxs)("div",{className:_,onClick:f,children:[s,h,g,n]})};t.Empty=g;t.Blocked=()=>{const e=(0,p.jsx)("div",{className:(0,o.default)(m.icon),children:(0,p.jsx)(h.default,{name:"empty-blocked"})});return(0,p.jsx)(g,{icon:e,title:d.default.t(150),text:d.default.t(128),a8nTitle:"blocked-empty",a8nText:"add-blocked-description"})};t.Archived=()=>{const e=(0,p.jsx)("div",{className:(0,o.default)(m.icon),children:(0,p.jsx)(h.default,{name:"empty-archived"})});return(0,p.jsx)(g,{icon:e,title:d.default.t(135),a8nTitle:"archived-empty"})};t.Search=()=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:d.default.t(630),a8nText:"search-no-chats-or-contacts"});t.Searching=()=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:d.default.t(636),a8nText:"searching-chats-contacts-messages"});t.SearchingMessages=()=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:d.default.t(637),a8nText:"searching-messages"});t.SearchContacts=()=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:d.default.t(631),a8nText:"search-no-contacts"});t.SearchWithoutKeyword=()=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:s.fbt._("No results",null,{hk:"3hxq4S"}),a8nText:"search-no-results-without-keyword"});t.SearchWithKeyword=e=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:d.default.t(634,{keyword:e}),a8nText:"search-no-results-without-keyword"});t.SearchGroups=()=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:d.default.t(632),a8nText:"search-no-groups"});t.SearchMessages=()=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:d.default.t(633),a8nText:"search-no-messages"});t.SearchMessagesUnavailable=()=>(0,p.jsx)(g,{xstyle:m.emptyTop,text:s.fbt._("Search results not yet available. Try again later.",null,{hk:"5Gshb"}),a8nText:"search-results-unavailable"});t.ListChats=()=>(0,p.jsx)(g,{text:s.fbt._("No chats",null,{hk:"2inDwp"}),a8nText:"no-chats"});t.ListProducts=e=>{let{hasCatalog:t=!0}=e;const a=t?s.fbt._("No products",null,{hk:"8o7dB"}):s.fbt._("You need to create a catalog on the phone first",null,{hk:"11wgUW"});return(0,p.jsx)(g,{text:a,a8nText:"no-products"})};t.ListGroups=()=>(0,p.jsx)(g,{text:d.default.t(573),a8nText:"no-groups"});t.BeforeSearchMessages=(e,t)=>{const a=t?d.default.t(181,{chatName:e}):d.default.t(272,{chatName:e});return(0,p.jsx)(g,{xstyle:m.emptyTop,text:a,a8nText:"chat-search-prompt"})};function _(){const{ArchivedFlowLoadable:e}=a(78457);i.DrawerManager.openDrawerLeft((0,p.jsx)(e,{}))}t.ListStatus=()=>(0,p.jsx)(g,{});t.AllArchived=()=>{const e=l.ChatCollection.filter((e=>e.archive)).length;return(0,p.jsx)(g,{title:s.fbt._("All chats are archived",null,{hk:"3v5Xmn"}),a8nTitle:"all-chats-archived",children:(0,p.jsx)("div",{"data-a8n":r.default.key("see-archived"),role:"button",onClick:_,className:(0,o.default)(m.action),children:d.default.t(640,{count:e,_plural:e})})})};t.StarredMsgs=()=>(0,p.jsx)(g,{text:d.default.t(577),a8nText:"no-starred-messages"});t.MediaMsgs=()=>(0,p.jsx)(g,{text:d.default.t(575),a8nText:"no-media"});t.LinkMsgs=()=>(0,p.jsx)(g,{text:d.default.t(574),a8nText:"no-links"});t.DocMsgs=()=>(0,p.jsx)(g,{text:d.default.t(572),a8nText:"no-docs"});t.BeforeImageSearch=()=>(0,p.jsx)(g,{text:s.fbt._("Search for images",null,{hk:"1m33Xf"}),a8nText:"image-search-prompt"});t.SearchingImages=()=>(0,p.jsx)(g,{text:s.fbt._("Searching for images...",null,{hk:"4ykMJL"}),a8nText:"searching-images"});t.ImageSearchEmpty=()=>(0,p.jsx)(g,{text:s.fbt._("No images found",null,{hk:"2vlt88"}),a8nText:"image-search-no-results"});t.Loading=()=>(0,p.jsx)(g,{children:(0,p.jsx)(f.Spinner,{size:50,stroke:4})});t.LoadingWithText=e=>{let{text:t}=e;return(0,p.jsxs)(g,{children:[(0,p.jsx)("div",{className:(0,o.default)(m.spinner),children:(0,p.jsx)(f.Spinner,{size:50,stroke:4})}),(0,p.jsx)(u.EmojiText,{element:"div",className:(0,o.default)(m.text),text:t})]})};t.NoResultForLabel=e=>{let{labelId:t}=e;const a=c.LabelCollection.assertGet(t);return(0,p.jsx)(g,{children:(0,p.jsx)(u.EmojiText,{element:"div",className:(0,o.default)(m.text),text:d.default.t(576,{labelName:a.name})})})};t.LazyLoadRetry=e=>{let{xstyle:t,onClick:a}=e;return(0,p.jsxs)(g,{xstyle:t,onClick:a,children:[(0,p.jsx)(h.default,{name:"live-location-refresh",xstyle:m.iconRetry}),(0,p.jsx)("div",{children:s.fbt._("Retry",null,{hk:"2jS9Tg"})})]})}},51099:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294);class r extends n.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){this.props.sendLogs&&(__LOG__(4,void 0,new Error,!0)`${e.stack}\n${t.componentStack}`,SEND_LOGS(`error-boundary:${this.props.reason}`))}render(){return this.state.hasError?this.props.fallback:this.props.children}}t.default=r,r.defaultProps={sendLogs:!0,fallback:null},r.displayName="ErrorBoundary"},36075:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=n(a(62248)),s=a(85893);var o=e=>{let{children:t,fromMe:a}=e;return(0,s.jsx)("div",{className:(0,r.default)(i.default.tooltip,{[i.default.notFromMe]:!1===a}),role:"tooltip",children:t})};t.default=o},17080:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(64331),i=a(48360),s=a(67294),o=n(a(25045)),l=a(85893);function u(e){let{text:t,textLimit:a,children:n}=e;const[r,u]=(0,s.useState)((()=>d(t,a,a)?a:1/0));return(0,l.jsxs)(l.Fragment,{children:[n({textLimit:r}),r!==1/0?(0,l.jsxs)("span",{className:o.default.read_more,role:"button",onClick:()=>{const e=r+3072;u(d(t,e,3072)?e:1/0)},children:[" ",i.fbt._("Read more",null,{hk:"2DvSvh"})]}):null]})}function d(e,t,a){return(0,r.numCodepoints)(e)-t>.1*a}var c=(0,s.memo)(u);t.default=c},54995:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294),r=a(85893);function i(e,t){const{mimes:a,onChange:i,multiple:s=!0}=e,o=(0,n.useRef)(null),l=()=>{o.current&&(o.current.value="",o.current.click())};return(0,n.useImperativeHandle)(t,(()=>({open:l}))),(0,r.jsx)("input",{accept:a,ref:o,type:"file",multiple:s,style:{display:"none"},onClick:e=>{e.stopPropagation()},onChange:e=>{i(e)}})}var s=(0,n.forwardRef)(i);t.default=s},99441:(e,t,a)=>{"use strict";t.I=void 0;var n=a(90466);const r=new class{constructor(){this._trackers=[],this._currFPS=0,this._numSamples=0,this._totalTime=0,this._startTracking=()=>{this._frameId||(this._prevFrameTS=this._prevUpdateTS=window.performance.now(),this._frameId=requestAnimationFrame(this._handleFrame))},this._stopTracking=()=>{this._frameId&&(this._prevFrameTS=this._prevUpdateTS=void 0,cancelAnimationFrame(this._frameId),this._frameId=void 0)},this._handleFrame=()=>{if(!this._trackers.length)return;const e=this._prevFrameTS,t=this._prevUpdateTS;if(null==e||null==t)return;const a=window.performance.now();this._numSamples+=1,this._totalTime+=a-e,a-t>=500&&this._update(a),this._prevFrameTS=a,this._frameId=requestAnimationFrame(this._handleFrame)}}whenLessThan(e,t){if(e<0||e>60)throw new RangeError("fps must be between 0 and 60");return this._insertTracker([e,t]),()=>{this._removeTracker(t)}}_insertTracker(e){const t=e[0],a=function(e,t){let a=0,n=e.length-1,r=Math.floor((a+n)/2);for(;e[r]!==t&&a<n;)t<e[r]?n=r-1:a=r+1,r=Math.floor((a+n)/2);if(e[r]<t)return r+1;return r}(this._trackers.map((e=>e[0])),t);this._trackers.splice(a,0,e),1===this._trackers.length&&(this._addEventListeners(),this._startTracking())}_removeTracker(e){const t=this._trackers.length;for(let a=0;a<t;a++)if(e===this._trackers[a][1]){this._trackers.splice(a,1),0===this._trackers.length&&(this._removeEventListeners(),this._stopTracking());break}}_update(e){const t=1e3/(this._totalTime/this._numSamples),a=Math.min(t,60);if(Math.abs(a-this._currFPS)>1){this._currFPS=a;const e=this._filterCallbacks();e.length&&this._triggerCallbacks(e,a)}this._numSamples=0,this._totalTime=0,this._prevUpdateTS=e}_filterCallbacks(){const e=[];for(let t=this._trackers.length-1;t>=0;t--){const[a,n]=this._trackers[t];if(a<=this._currFPS)break;e.push(n)}return e}_triggerCallbacks(e,t){const a=window.performance.now();(0,n.requestIdleCallback)((()=>{e.forEach((e=>e(t,a)))}))}_addEventListeners(){window.addEventListener("focus",this._startTracking),window.addEventListener("blur",this._stopTracking)}_removeEventListeners(){window.removeEventListener("focus",this._startTracking),window.removeEventListener("blur",this._stopTracking)}};t.I=r},30140:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.useModelValues)(e.chatstate,["id","type","deny","t"]);const t=(0,r.useModelValues)(e.groupMetadata,["announce","participants"]),a=(0,r.useModelValues)(e.presence,["forceDisplay","withholdDisplayStage"]),n=a.withholdDisplayStage===s.WithholdDisplayStage.Info?e.placeholder:a.getGroupSubtitleText();return(0,o.jsx)(i.default,{groupMetadata:t,overridingText:n,placeholder:e.placeholder,location:e.location})};var r=a(35461),i=n(a(73437)),s=a(42931),o=a(85893)},76239:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,onComplex:a,waitIdle:n,id:d}=e,[c,f]=(0,s.useState)((()=>r.UIBusyTasks.isBusy())),h=()=>{f(!1)},p=(0,o.default)((()=>n?r.UIBusyTasks.enqueue(h):null)),m=(0,l.default)(d);return(0,s.useEffect)((()=>()=>{n&&null!=p.current&&r.UIBusyTasks.dequeue(p.current)}),[]),(0,s.useEffect)((()=>{if(!i.default.equals(m,d)||!n){c&&null!=p.current&&r.UIBusyTasks.dequeue(p.current);const e=r.UIBusyTasks.isBusy();e&&n&&(p.current=r.UIBusyTasks.enqueue(h)),f(e)}}),[d,p,c,m,n]),c&&n?(0,u.jsx)(u.Fragment,{children:t}):a()};var r=a(30764),i=n(a(89867)),s=a(67294),o=n(a(16223)),l=n(a(37453)),u=a(85893)},50981:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ImgWithFallback=m,t.Theme=void 0;var r=n(a(41609)),i=n(a(94184)),s=a(67294),o=n(a(46918)),l=n(a(47065)),u=n(a(25562)),d=n(a(23217)),c=a(85893);const f={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"},h=a(76672).Mirrored(["Default","Transparent"]);function p(e){switch(e){case f.SMALL:return 49;case f.MEDIUM:return 100;case f.LARGE:return 200;case f.NONE:return;default:return e}}function m(e){const{size:t=f.SMALL,fallbackSVG:a,className:n,loader:m=!1,wrapOptions:g={},transition:_,roundContainer:v=!0,imgProps:b,theme:y}=e,[C,S]=(0,s.useState)(!1),{src:E,alt:T,crossOrigin:x,draggable:M}=b,{centerWrapperChild:k,wrapperClassName:w}=g,P=(0,i.default)(u.default.avatarImage,{[u.default.isLoaded]:C,[u.default.transition]:_}),A={height:p(t),width:p(t)};let j;m&&!C&&(j=(0,c.jsx)(o.default,{}));const I=(0,c.jsx)(l.default,{src:E,className:P,onLoad:()=>{S(!0)},alt:T,crossOrigin:x,draggable:M}),O=(0,r.default)(g)?I:(0,c.jsx)("div",{className:(0,i.default)(w,u.default.avatarWrapper,u.default.avatarImageWrapper,{[u.default.centerChild]:k,[u.default.isLoaded]:C,[u.default.transparent]:y===h.Transparent}),children:I}),N=""!==E?(0,c.jsxs)(c.Fragment,{children:[j,O]}):null;return(0,c.jsxs)("div",{className:(0,i.default)(u.default.avatar,n,{[u.default.roundBorder]:v,[u.default.transparent]:y===h.Transparent}),style:A,children:[N,!C&&(0,c.jsx)("div",{className:(0,i.default)(w,u.default.avatarWrapper,u.default.avatarSvgWrapper,{[u.default.centerChild]:k,[u.default.transition]:_,[u.default.transparent]:y===h.Transparent}),children:(0,c.jsx)(d.default,{name:a})})]})}t.Theme=h,m.defaultProps={size:f.SMALL,loader:!1}},21252:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(76672).Mirrored(["CONTACT_US","LICENSES","DECREASE_PTT_SPEED","DELETE_OR_EXIT_CHAT","GO_TO_NEXT_CHAT","GO_TO_PREV_CHAT","INCREASE_PTT_SPEED","LOGOUT","OPEN_NEW_CHAT","OPEN_NEW_GROUP","OPEN_PROFILE","OPEN_SETTINGS","SEARCH","SEARCH_IN_CHAT","TOGGLE_ARCHIVE","TOGGLE_MUTE","TOGGLE_PIN","TOGGLE_UNREAD","ZOOM_IN","ZOOM_OUT","ZOOM_RESET","OPEN_EMOJI_PANEL","OPEN_GIF_PANEL","OPEN_STICKER_PANEL","TOGGLE_STICKER_MAKER"]);t.default=n},81021:e=>{e.exports={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",PIN:"pinned",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",BATCH_RENDER:"batch_render"}}},65134:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67502)),i=a(21222);var s=new class{constructor(){document.addEventListener("keydown",(e=>{const t=(0,i.getAction)(e);t&&(0,r.default)(t)}))}trigger(){}menuBatchRenderWith(){}};t.default=s},1041:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_FOCUSABLE_ITEM_CLASS_NAME=void 0,t.ListHotKeys=function(e){const{"aria-label":t,className:a,children:n,dataTab:p,handlers:m,role:g,onBeforeEnd:_,getPriorityFocusItem:v}=e,b=(0,c.default)(),y=(0,o.useRef)(null),C=(0,o.useRef)(null),S=(0,o.useRef)(null),E=(0,o.useRef)(!1),T=(0,o.useRef)(!1),x=(0,o.useRef)(!1),M=()=>y.current?Array.from(y.current.getElementsByClassName(h)):[],k=e=>{const t=null==v?void 0:v();t&&t===e&&(x.current=!0),s.default.focus(e,{preventScroll:!1})},w=e=>{const t=M();if(0===t.length)return;let a;if(S.current){const n=t.indexOf(S.current);-1!==n&&(a=n+e<0?t[0]:t[n+e])}a||(a=t[t.length-1]);const n=a;n.hasAttribute("tabIndex")||(__LOG__(3)`Focusable list items should have \`tabIndex\` attribute (that makes it programmatically focusable), but this element did not have it:`,function(e){e.setAttribute("tabIndex","-1")}(n)),k(n)},P=function(){var e=(0,i.default)((function*(){_&&(yield _());const e=(()=>{const e=M();return e.length>0?e[e.length-1]:null})(),t=null==v?void 0:v();t&&!x.current?k(t):e&&k(e)}));return function(){return e.apply(this,arguments)}}(),A=e=>{e.preventDefault(),P()};(0,o.useEffect)((()=>{x.current=!1,E.current&&S.current&&y.current&&!y.current.contains(S.current)&&s.default.focus(y.current)}));const j=(0,r.default)((0,r.default)({},m),{},{up:e=>{e.preventDefault(),w(-1)},down:e=>{e.preventDefault(),w(1)},end:A,"command+down":A});return(0,f.jsx)(u.UIE,{displayName:"ListHotKeys",ref:C,uimState:d.UIMState.PASSIVE,requestFocus:b?null:()=>{y.current&&!y.current.contains(document.activeElement)&&s.default.focus(y.current)},children:(0,f.jsx)(l.HotKeys,{handlers:j,className:a,"data-tab":p,onFocus:e=>{if(y.current===e.target){var t;if(b){const e=null==v?void 0:v();!T.current&&e?k(e):w(0)}null===(t=C.current)||void 0===t||t.activate()}else e.target instanceof HTMLElement&&e.target.classList.contains(h)&&((a=e.target).setAttribute("tabIndex","0"),S.current&&S.current!==a&&S.current.setAttribute("tabIndex","-1"),S.current=a);var a;E.current=!0,T.current=!0},onBlur:()=>{E.current=!1},ref:y,role:g,"aria-label":t,children:n})})};var r=n(a(81109)),i=n(a(48926)),s=n(a(52013)),o=a(67294),l=a(29424),u=a(18644),d=a(89618),c=n(a(46603)),f=a(85893);const h="focusable-list-item";t.LIST_FOCUSABLE_ITEM_CLASS_NAME=h},2953:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(52013)),i=a(67294),s=a(29424),o=n(a(14296)),l=a(63454),u=a(85893);function d(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dialog";const n=(0,i.useRef)(null),d=()=>n.current,c=e=>{const t=n.current;if(!t)return;const a=(0,l.getNextTabbableElement)(t,e,l.FocusType.TABBABLE);r.default.focus(a)},f=()=>{c(l.TabDirection.FORWARD)};return(0,i.useImperativeHandle)(t,(()=>({getElement:d,focusFirst:f}))),(0,u.jsx)(s.HotKeys,{handlers:{left:e=>{const t=o.default.isRTL()?l.TabDirection.FORWARD:l.TabDirection.BACKWARD;c(t),e.preventDefault()},right:e=>{const t=o.default.isRTL()?l.TabDirection.BACKWARD:l.TabDirection.FORWARD;c(t),e.preventDefault()}},ref:n,tabIndex:null,role:a,children:e.children})}var c=(0,i.forwardRef)(d);t.default=c},67502:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=function(e){switch(e){case d.default.CONTACT_US:return W;case d.default.LICENSES:return H;case d.default.DELETE_OR_EXIT_CHAT:return G;case d.default.GO_TO_NEXT_CHAT:return U;case d.default.GO_TO_PREV_CHAT:return V;case d.default.LOGOUT:return O;case d.default.OPEN_NEW_CHAT:return A;case d.default.OPEN_NEW_GROUP:return j;case d.default.OPEN_PROFILE:return I;case d.default.OPEN_SETTINGS:return P;case d.default.SEARCH:return N;case d.default.SEARCH_IN_CHAT:return F;case d.default.TOGGLE_ARCHIVE:return R;case d.default.TOGGLE_MUTE:return D;case d.default.TOGGLE_PIN:return L;case d.default.TOGGLE_UNREAD:return B;case d.default.ZOOM_IN:return q;case d.default.ZOOM_OUT:return Y;case d.default.ZOOM_RESET:return z;case d.default.OPEN_EMOJI_PANEL:return K;case d.default.OPEN_GIF_PANEL:return $;case d.default.OPEN_STICKER_PANEL:return Q;case d.default.TOGGLE_STICKER_MAKER:return X;case d.default.INCREASE_PTT_SPEED:case d.default.DECREASE_PTT_SPEED:return null}}(e);if(!t)return;try{t()}catch(t){__LOG__(3)`keyboard:error occurred running action ${e}.`}};var r=a(35470),i=a(81572),s=a(41455),o=a(14597),l=a(78820),u=a(48360),d=n(a(21252)),c=a(69951),f=n(a(52665)),h=a(17239),p=a(19380),m=n(a(14296)),g=a(88240),_=a(59871),v=a(92507),b=a(26489),y=a(8936),C=a(77117),S=a(82039),E=a(66040),T=a(64551),x=a(45383),M=a(46133),k=a(65044),w=a(85893);function P(){s.DrawerManager.existsDrawerLeft((e=>{e&&s.DrawerManager.closeDrawerLeft(),s.DrawerManager.openDrawerLeft((0,w.jsx)(x.SettingsFlowLoadable,{}))}))}function A(){s.DrawerManager.existsDrawerLeft((e=>{e&&s.DrawerManager.closeDrawerLeft(),s.DrawerManager.openDrawerLeft((0,w.jsx)(v.NewChatFlowLoadable,{}))}))}function j(){s.DrawerManager.existsDrawerLeft((e=>{e&&s.DrawerManager.closeDrawerLeft(),s.DrawerManager.openDrawerLeft((0,w.jsx)(b.NewGroupFlowLoadable,{}))}))}function I(){s.DrawerManager.existsDrawerLeft((e=>{e&&s.DrawerManager.closeDrawerLeft();const t=(0,l.getMaybeMeUser)(),a=M.StatusCollection.assertGet(t),n=S.ProfilePicThumbCollection.assertGet(t),r=p.ContactCollection.assertGet(t);s.DrawerManager.openDrawerLeft((0,w.jsx)(C.ProfileDrawerFlowLoadable,{status:a,profilePicThumb:n,contact:r,conn:h.Conn}))}))}function O(){if(!_.MsgCollection.some((e=>e.ack===r.ACK.CLOCK&&e.local&&e.isSentByMe)))return k.Socket.logout();o.ModalManager.open((0,w.jsx)(f.default,{title:m.default.t(248),onOK:()=>{__LOG__(2)`Keyboard: user inputs logout`,k.Socket.logout()},okText:m.default.t(496),onCancel:()=>o.ModalManager.close(),cancelText:u.fbt._("Cancel",null,{hk:"H0gNq"}),children:m.default.t(664)}))}function N(){i.Cmd.focusChatSearch()}function R(){const e=c.ChatCollection.getActive();if(e&&e.canArchive()){const t=e.archive;i.Cmd.archiveChat(e,!t)}}function D(){const e=c.ChatCollection.getActive();if(e&&e.mute.canMute()){const t=e.mute.isMuted;i.Cmd.muteChat(e,!t)}}function L(){const e=c.ChatCollection.getActive();if(e&&(null!=e.pin||c.ChatCollection.filter((e=>e.pin)).length<3)){const t=Boolean(e.pin);i.Cmd.pinChat(e,!t)}}function B(){const e=c.ChatCollection.getActive();if(e){const t=e.markedUnread;i.Cmd.markChatUnread(e,!t)}}function F(){const e=c.ChatCollection.getActive();e&&i.Cmd.chatSearch(e)}function G(){const e=c.ChatCollection.getActive();e&&i.Cmd.deleteOrExitChat(e)}function U(){i.Cmd.focusNextChat(!0)}function V(){i.Cmd.focusPrevChat(!0)}function W(){o.ModalManager.open((0,w.jsx)(E.SendLogsPopupLoadable,{}))}function H(){o.ModalManager.open((0,w.jsx)(g.LicensesPopupLoadable,{}))}function q(){}function Y(){}function z(){}function K(){i.Cmd.openComposeBoxPanel(y.PANELS.EMOJI)}function $(){i.Cmd.openComposeBoxPanel(y.PANELS.GIF)}function Q(){i.Cmd.openComposeBoxPanel(y.PANELS.STICKER)}function X(){T.ServerProps.stickerMaker&&i.Cmd.toggleStickerMaker()}},21222:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getAction=function(e){const{key:t,ctrlKey:a,metaKey:n,altKey:r,shiftKey:i}=e;if("Control"===t||"Meta"===t||"Alt"===t||"Shift"===t)return;return a&&n||a&&r?o[function(e,t){if(t&&("Tab"===e||"Enter"===e||"Backspace"===e||" "===e))return`Shift+${e}`;return e}(t,i)]:void 0},t.getAdditionalShortcuts=function(){const e={};return Array.from(i.default.members()).forEach((t=>{const a=s(t);a.length<=1||a.slice(1).forEach((a=>{let{key:n,nativeKey:r,nativeModifier:i}=a;const s=r||n;s&&(e[l(s,i)]=t)}))})),e},t.getKey=function(e){const t=s(e);if(!t.length)return;const{key:a,nativeKey:n,nativeModifier:r}=t[0],i=n||a;return i?l(i,r):void 0},t.getShortcutKey=function(e){const t=s(e);if(t.length){const{key:e,nativeKey:a,webKey:n}=t[0];return n||e}return};var r=n(a(11700)),i=n(a(21252));function s(e){switch(e){case i.default.CONTACT_US:return[{key:"H"}];case i.default.DELETE_OR_EXIT_CHAT:return[{key:"Backspace",nativeKey:"D"}];case i.default.GO_TO_NEXT_CHAT:return[{key:"Tab",nativeModifier:"Ctrl"},{key:"}"}];case i.default.GO_TO_PREV_CHAT:return[{key:"Shift+Tab",nativeModifier:"Ctrl"},{key:"{"}];case i.default.LOGOUT:return[];case i.default.OPEN_NEW_CHAT:return[{key:"n"}];case i.default.OPEN_NEW_GROUP:return[{key:"N"}];case i.default.OPEN_PROFILE:return[{key:"p"}];case i.default.OPEN_SETTINGS:return[{key:","}];case i.default.SEARCH:return[{webKey:"/",nativeKey:"f"}];case i.default.SEARCH_IN_CHAT:return[{key:"F"}];case i.default.TOGGLE_ARCHIVE:return[{key:"E"}];case i.default.TOGGLE_MUTE:return[{key:"M"}];case i.default.TOGGLE_PIN:return[{key:"P"}];case i.default.TOGGLE_UNREAD:return[{key:"U"}];case i.default.ZOOM_IN:return[{key:"+"},{key:"="}];case i.default.ZOOM_OUT:return[{key:"-"}];case i.default.ZOOM_RESET:return[{key:"0"}];case i.default.INCREASE_PTT_SPEED:return[{key:">"}];case i.default.DECREASE_PTT_SPEED:return[{key:"<"}];case i.default.OPEN_EMOJI_PANEL:return[{key:"e"}];case i.default.OPEN_GIF_PANEL:return[{key:"g"}];case i.default.OPEN_STICKER_PANEL:return[{key:"s"}];case i.default.TOGGLE_STICKER_MAKER:return[{key:"S"}];default:return[]}}const o=function(){const e={};return Array.from(i.default.members()).forEach((t=>{s(t).forEach((a=>{let{key:n,webKey:r}=a;const i=r||n;i&&(e[i]=t)}))})),e}();function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CmdOrCtrl";const a="+"!==e?e:"Plus",n=1===a.length&&a.match(/[a-z]/i);if(!n)return`${t}+${(0,r.default)(a)}`;const i=a.match(/[a-z]/);return i?`${t}+${(0,r.default)(a)}`:`Shift+${t}+${a}`}},33048:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45120)),i=n(a(52013)),s=a(67294),o=n(a(78506)),l=a(29424),u=a(63454),d=a(85893);function c(e,t){const{className:a,children:n,onBlur:c,skipNode:f}=e,h=(0,s.useRef)(null),p=(0,o.default)(t,h);(0,s.useEffect)((()=>{i.default.focus(h.current)}),[]);const m=e=>{if(!h.current)return;let t=u.TabDirection.FORWARD;e&&(e.preventDefault(),t=e.shiftKey?u.TabDirection.BACKWARD:u.TabDirection.FORWARD,r.default.shouldIndicateFocus());const a=(0,u.getNextTabbableElement)(h.current,t,u.FocusType.CUSTOM,(e=>!f(e)));null!=a&&(r.default.shouldIndicateFocus(),a.restoreFocus?a.restoreFocus():i.default.focus(a))},g={tab:m,"shift+tab":m,"shift+?":e.onShowKeyboardShortcuts};return(0,d.jsx)(l.HotKeys,{handlers:g,className:a,onBlur:c,ref:p,children:n})}var f=(0,s.forwardRef)(c);t.default=f},46603:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.useContext)(i.default)};var r=a(67294),i=n(a(70842))},26598:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.useEffect)((()=>{}),[]);const t=null;(0,r.useListener)(t,"change:archive",(e=>{KeyboardManager.menuBatchRenderWith((()=>{KeyboardManager.trigger(`${KC.Event}:${KC.Events.ARCHIVE}`,e.archive)}))})),(0,r.useListener)(t,"change:isReadOnly",(e=>{KeyboardManager.menuBatchRenderWith((()=>{KeyboardManager.trigger(`${KC.Event}:${KC.Events.READ_ONLY}`,e.isReadOnly)}))})),(0,r.useListener)(t,"change:hasUnread",(e=>{KeyboardManager.menuBatchRenderWith((()=>{KeyboardManager.trigger(`${KC.Event}:${KC.Events.READ}`,!e.hasUnread)}))})),(0,r.useListener)(t,"change:mute.isMuted",(e=>{KeyboardManager.menuBatchRenderWith((()=>{KeyboardManager.trigger(`${KC.Event}:${KC.Events.MUTE}`,e.isMuted)}))})),(0,r.useListener)(t,"change:pin",(e=>{KeyboardManager.menuBatchRenderWith((()=>{KeyboardManager.trigger(`${KC.Event}:${KC.Events.PIN}`,Boolean(e.pin))}))}))};var n=a(67294),r=a(87550)},28141:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardShortcut=function(e){let{action:t,addModifiers:a=!0}=e;const n=(0,s.getShortcutKey)(t);if(!n)return null;const d=u(n);let c;c=-1===d.indexOf(l)?(0,o.jsx)("span",{className:i.default.key,children:d}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.default.key,children:"Shift"}),(0,o.jsx)("span",{className:i.default.key,children:d.substr(l.length)})]});const f=a?function(){const e=[r.UA.os===r.OS_TYPE.MAC?"Cmd":"Ctrl"];return e.push(r.UA.os===r.OS_TYPE.MAC?"Ctrl":"Alt"),e.map((e=>(0,o.jsx)("span",{className:i.default.key,children:e},e)))}():null;return(0,o.jsxs)(o.Fragment,{children:[f,c]})},t.expandRawShortcut=u;var r=a(26741),i=n(a(64917)),s=a(21222),o=a(85893);const l="Shift+";function u(e){if(1!==e.length)return e;switch(e){case">":return"Shift+.";case"<":return"Shift+,"}return e.toLowerCase()!==e?`Shift+${e}`:e.toUpperCase()}},88793:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name_list";if(0===e.length)return"";const n=e[0];if(1===e.length)return"group_list"===a?t?i.default.t(401,{A:n}):(0,o.jsx)(s.default,{id:401,params:{A:n}}):n;const r=e[e.length-1];if(2===e.length)return l(n,r,t,a);if("group_list"===a){const a=e.slice(0,e.length-2),n=e[e.length-2];return u(a,n,r,t)}const c=e[1],f=e.slice(2,e.length-1);return d(n,c,f,r,t)};var r=n(a(31351)),i=n(a(14296)),s=n(a(56074)),o=a(85893);function l(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return"group_list"===n?a?i.default.t(404,{A:e,B:t}):(0,o.jsx)(s.default,{id:404,params:{A:e,B:t}}):a?i.default.t(542,{A:e,B:t}):(0,o.jsx)(s.default,{id:542,params:{A:e,B:t}})}function u(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const l=(0,r.default)(e).reduce(((e,t,a)=>[n?i.default.t(403,{A:t,B:e}):(0,o.jsx)(s.default,{id:403,params:{A:t,B:e}},`listItem_${a}`)]),[]);return n?i.default.t(402,{A:l,B:t,C:a}):(0,o.jsx)(s.default,{id:402,params:{A:l,B:t,C:a}})}function d(e,t,a,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const l=[r?i.default.t(541,{A:e,B:t}):(0,o.jsx)(s.default,{id:541,params:{A:e,B:t}},"listItem_firstItem")],u=a.reduce(((e,t,a)=>[r?i.default.t(539,{A:t,B:e}):(0,o.jsx)(s.default,{id:539,params:{A:t,B:e}},`listItem_${a}`)]),l);return r?i.default.t(540,{A:u,B:n}):(0,o.jsx)(s.default,{id:540,params:{A:u,B:n}})}},33811:(e,t)=>{"use strict";function a(e,t){return window.getComputedStyle(e).getPropertyValue(t)}function n(e){let t=a(e,"line-height"),n=parseFloat(t);if(t===n+""){const r=e.style.lineHeight;e.style.lineHeight=t+"em",t=a(e,"line-height"),n=parseFloat(t),r?e.style.lineHeight=r:delete e.style.lineHeight}if(t.includes("pt")?n*=4/3:t.includes("mm")?(n*=96,n/=25.4):t.includes("cm")?(n*=96,n/=2.54):t.includes("in")?n*=96:t.includes("pc")&&(n*=16),n=Math.round(n),"normal"===t){const t=e.nodeName,r=document.createElement(t);r.innerHTML="&nbsp;","TEXTAREA"===t.toUpperCase()&&r.setAttribute("rows","1");const i=a(e,"font-size");r.style.fontSize=i,r.style.padding="0px",r.style.border="0px";const s=document.body;if(null!=s){s.appendChild(r);n=r.offsetHeight,s.removeChild(r)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getLineHeight=n,t.getNumberOfLines=function(e,t){const a=e.getBoundingClientRect(),r=parseInt(a.bottom-a.top,10),i=null!=t?t:n(e);return Math.round(r/i)}},47915:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownDataError=t.FlatList=t.DEFAULT_ITEM_WIDTH=t.DEFAULT_ITEM_HEIGHT=void 0;var r=n(a(81109)),i=n(a(23279)),s=a(40265),o=n(a(99964)),l=a(30764),u=n(a(40436)),d=n(a(94184)),c=a(67294),f=n(a(28662)),h=a(43882),p=a(37041),m=n(a(80720)),g=a(85893);t.DEFAULT_ITEM_WIDTH=72;t.DEFAULT_ITEM_HEIGHT=72;class _ extends((0,s.customError)("UnknownDataError")){constructor(e){super(`Unknown data encountered while rendering. Item key: ${e.itemKey}`)}}t.UnknownDataError=_;class v extends c.Component{constructor(e){super(e),this.keyPool=new h.KeyPool,this.hanging=!1,this.pointerEvents=!0,this.setRefList=e=>{this.refList=e},this.setListLength=()=>{this.setState({renderedListLength:this.state.listLength})},this.getListLength=()=>this.state.renderedListLength,this._handleLayout=e=>{const t=this.refList;if(!t)return;const a="horizontal"===this.props.direction?t.getBoundingClientRect().left-e.position.left:t.getBoundingClientRect().top-e.position.top,n=Math.max(a,0),i="horizontal"===this.props.direction?e.width:e.height,{firstIndex:s,lastIndex:o}=v.computeIndexes(this.props,(0,r.default)((0,r.default)({},this.state),{},{offsetFromStart:n,bodyDimension:i}));this.setState({firstIndex:s,lastIndex:o,bodyDimension:i,offsetFromStart:n})},this._handleScrollProxy=()=>{this.animationFrame?this.hanging=!0:(this.hanging=!1,this.animationFrame=requestAnimationFrame(this._handleScroll))},this._handleScroll=()=>{this.disablePointerEvents();const e=this.props.flatListController.getScrollFromStart();if(null==e)throw new Error("FlatList:ScrollEvent thrown while container is unmounted");const t=Math.max(e,0),a=v.computeIndexes(this.props,(0,r.default)((0,r.default)({},this.state),{},{scrollFromStart:t}));this.setState({scrollFromStart:t,firstIndex:a.firstIndex,lastIndex:a.lastIndex},this._handleFinishScroll)},this._handleFinishScroll=()=>{this.animationFrame=void 0,this.enablePointerEvents(),this.hanging&&this._handleScrollProxy()},this.enablePointerEvents=(0,i.default)((()=>{if(this.animationFrame)return this.enablePointerEvents();null!=this.busyId&&(l.UIBusyTasks.clearBusy(this.busyId),delete this.busyId),this.props.onPointerEventsOn&&this.props.onPointerEventsOn();const e=this.refList;e&&(e.style.pointerEvents="auto"),this.pointerEvents=!1}),150);const{enhancedData:t,listLength:a}=v.computeDataAndListLength(e);this.state={firstIndex:0,lastIndex:0,scrollFromStart:0,offsetFromStart:0,bodyDimension:0,enhancedData:t,listLength:a,renderedListLength:a}}static getDerivedStateFromProps(e,t){const{enhancedData:a,listLength:n}=v.computeDataAndListLength(e),{firstIndex:i,lastIndex:s}=v.computeIndexes(e,(0,r.default)((0,r.default)({},t),{},{enhancedData:a,listLength:n})),o={enhancedData:a,listLength:n,firstIndex:i,lastIndex:s};return(!e.itemEnterAnimationsEnabled||n>=t.renderedListLength)&&(o.renderedListLength=n),o}static computeDataAndListLength(e){let t=0;return{enhancedData:e.data.map((a=>{const n=(0,r.default)((0,r.default)({},a),{},{offset:t}),i=v.getDimension(a,e.direction,e.defaultItemWidth,e.defaultItemHeight);return t+=i,n})),listLength:t}}static getDimension(e,t,a,n){return"horizontal"===t?v.getItemWidth(e,a):v.getItemHeight(e,n)}static getItemWidth(e,t){return null!=e.width&&e.width>0?e.width:t}static getItemHeight(e,t){return null!=e.height&&e.height>0?e.height:t}static computeIndexes(e,t){const{bodyDimension:a,offsetFromStart:n,scrollFromStart:r,listLength:i,enhancedData:s}=t;if(void 0===a||void 0===n)throw new Error("FlatList:Computing FlatList without a valid Container");const{extraItems:o,forceConsistentRenderCount:l,direction:u,defaultItemWidth:d,defaultItemHeight:c}=e;let f=0;for(let e=0;e<s.length;e++){const t=s[e],a=v.getDimension(t,u,d,c);if(n+t.offset+a>r){f=e;break}}let h=s.length-1;const p=l?Math.min(s[f].offset+a,i):Math.min(r+a,i+n);for(let e=f;e<s.length;e++){const t=s[e],a=v.getDimension(t,u,d,c);if(n+t.offset+a>=p){h=e;break}}let m=o;const g=o-f;g>0&&(m+=g);let _=o;const b=h+o-s.length;b>0&&(_+=b);return{firstIndex:Math.max(f-_,0),lastIndex:Math.min(h+m,s.length-1)}}componentDidMount(){this.props.flatListController.registerList({handleLayout:this._handleLayout,handleScroll:this._handleScrollProxy})}componentWillUnmount(){this.props.flatListController.unregisterList(),this.enablePointerEvents.cancel(),this.cancelScroll()}cancelScroll(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.hanging=!1)}disablePointerEvents(){if(this.busyId=l.UIBusyTasks.setBusy(this.busyId),this.pointerEvents)return;this.props.onPointerEventsOff&&this.props.onPointerEventsOff();const e=this.refList;e&&(e.style.pointerEvents="none"),this.pointerEvents=!0}scrollIntoViewIfNeeded(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{enhancedData:a,scrollFromStart:n,bodyDimension:r}=this.state;if(e<0||e>=a.length)throw new Error("Invalid Index.");const i=a[e].offset;(i<n-t||i>n+r+t)&&this.props.flatListController.setScrollFromStart(i)}getComponents(){const{reorderAnimationsEnabled:e,renderItem:t,defaultItemWidth:a,defaultItemHeight:n,keyOrder:i}=this.props,{firstIndex:s,lastIndex:o}=this.state,l=this.state.enhancedData.slice(s,o+1);return this.keyPool.recycleKeysAndMap(l,i).map(((i,s)=>{let{rctKey:o,data:l}=i;const u="horizontal"===this.props.direction?{width:v.getItemWidth(l,a)}:{height:v.getItemHeight(l,n)};return(0,g.jsx)(m.default,{data:(0,r.default)((0,r.default)({},l),u),animate:!!e&&(0,p.shouldAnimate)(),zIndex:this.state.enhancedData.length-s-1,renderItem:t,listDirection:this.props.direction},o)}))}render(){const{role:e}=this.props,t="horizontal"===this.props.direction?{width:this.state.renderedListLength}:{height:this.state.renderedListLength};return(0,g.jsx)("div",{className:(0,d.default)(this.props.className),"data-a8n":o.default.key(this.props.a8nKey),ref:this.setRefList,children:(0,g.jsx)("div",{"aria-label":this.props["aria-label"],className:(0,d.default)(f.default.viewport,{[f.default.horizontalListViewport]:"horizontal"===this.props.direction,[f.default.verticalListViewport]:"vertical"===this.props.direction}),role:e,"aria-rowcount":this.props["aria-rowcount"],style:t,children:this.props.itemEnterAnimationsEnabled?(0,g.jsx)(u.default,{transitionName:"fade",onAnimationComplete:this.setListLength,children:this.getComponents()}):this.getComponents()})})}}t.FlatList=v,v.defaultProps={defaultItemHeight:72,defaultItemWidth:72,forceConsistentRenderCount:!0,extraItems:5,initialScrollFromStart:0,reorderAnimationsEnabled:!0,keyOrder:h.KeyOrder.NORMAL},v.displayName="FlatList"},44942:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(6479)),s=n(a(45095)),o=a(67294),l=n(a(78506)),u=n(a(8694)),d=a(85893);const c=["children","flatListControllers","onScroll","onLayout","scrollOffset"];function f(e,t){const{children:a,flatListControllers:n,onScroll:f,onLayout:h,scrollOffset:p}=e,m=(0,i.default)(e,c),{children:g,direction:_,flatListControllers:v,onScroll:b,onLayout:y,scrollOffset:C}=e,S=(0,o.useRef)(null),E=(0,l.default)(t,S),T=()=>{const e=S.current;if(e)return"horizontal"===_?e.scrollLeft:e.scrollTop},x=e=>{const t=S.current;t&&("horizontal"===_?t.scrollLeft=e:t.scrollTop=e)},M=()=>{const e=(0,s.default)(S.current,"observerRef.current");v.forEach((t=>t.triggerLayout({position:e.getBoundingClientRect(),width:e.clientWidth,height:e.clientHeight})))};return(0,o.useLayoutEffect)((()=>(v.forEach((e=>e.registerContainer({getScrollFromStart:T,setScrollFromStart:x,onRegisterList:M}))),void 0!==C&&x(C),()=>{v.forEach((e=>e.unregisterContainer()))})),[]),(0,d.jsx)(u.default,(0,r.default)((0,r.default)({},m),{},{onResize:e=>{const t=(0,s.default)(S.current,"observerRef.current"),a=(0,r.default)((0,r.default)({},e),{},{position:t.getBoundingClientRect()});v.forEach((e=>e.triggerLayout(a))),y&&y(a)},onScroll:e=>{b&&b(e),v.forEach((e=>e.triggerScroll()))},ref:E,children:g}))}var h=(0,o.forwardRef)(f);t.default=h},30855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{registerContainer(e){this._containerAPI=e,this._listHandlers&&e.onRegisterList()}unregisterContainer(){delete this._containerAPI}triggerScroll(){this._listHandlers&&this._listHandlers.handleScroll()}triggerLayout(e){this._listHandlers&&this._listHandlers.handleLayout(e)}registerList(e){this._listHandlers=e,this._containerAPI&&this._containerAPI.onRegisterList()}unregisterList(){delete this._listHandlers}getScrollFromStart(){if(this._containerAPI)return this._containerAPI.getScrollFromStart()}setScrollFromStart(e){this._containerAPI&&this._containerAPI.setScrollFromStart(e)}}},29796:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,s.jsx)("div",{className:r.default.loadingSpinner,children:(0,s.jsx)(i.Spinner,{color:"default",size:24,stroke:6})})};var r=n(a(93318)),i=a(11054),s=a(85893)},43882:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPool=t.KeyOrder=void 0;var r=n(a(89734)),i=n(a(45095));const s=a(76672)({NORMAL:"NORMAL",INVERSE:"INVERSE"});t.KeyOrder=s;t.KeyPool=class{constructor(){this._rctKeyToData=new Map,this._keyToRctKey=new Map}_genNewKeys(e){const t=e-this._rctKeyToData.size;if(t<=0)return[];const a=[];for(let n=0;n<e&&(this._rctKeyToData.has(n)||(a.push(n),t!==a.length));n++);return a}recycleKeysAndMap(e,t){const a=new Map,n=new Map,o=this._genNewKeys(e.length),l=new Set(this._rctKeyToData.keys()),u=[];e.forEach((e=>{const t=this._keyToRctKey.get(e.itemKey);void 0!==t?(n.set(e.itemKey,t),a.set(t,e),l.delete(t)):u.push(e)}));const d=[...o,...Array.from(l)];u.forEach((e=>{const r=t===s.NORMAL?d.pop():d.shift();n.set(e.itemKey,r),a.set(r,e)}));const c=(0,r.default)(e,[e=>n.get(e.itemKey)]).map((e=>({rctKey:(0,i.default)(n.get(e.itemKey),"keyToRctKey.get(item.itemKey)"),data:e})));return this._rctKeyToData=a,this._keyToRctKey=n,c}}},37041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldAnimate=function(){return true}},88631:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_BUTTON_HEIGHT=void 0,t.ListButton=function(e){const{onClick:t,children:a,id:n}=e,[u,d]=(0,r.default)(e.active,null!=n?n:"");return(0,o.jsx)(i.FlexRow,{ref:u,xstyle:[l.container,d&&l.active,!d&&l.hover],align:"center",justify:"center",children:(0,o.jsx)(s.default,{xstyle:l.button,onClick:t,children:a})})};n(a(56720));var r=n(a(77214)),i=a(29623),s=n(a(1784)),o=a(85893);t.LIST_BUTTON_HEIGHT=60;const l={container:{height:"k45dudtp",fontSize:"enbbiyaj",color:"jq3rn4u7",backgroundColor:"ihvf49ua"},hover:{":hover":{backgroundColor:"os03hap6"}},active:{backgroundColor:"i16jpgpt"},button:{width:"ln8gz9je",height:"ppled2lx"}}},80720:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=a(81703),s=a(67294),o=n(a(96774)),l=n(a(60322)),u=a(85893);const d=(0,i.compatPrefix)("transform"),c=(0,i.compatPrefix)("transition");class f extends s.Component{constructor(){super(...arguments),this.state={shouldAnimate:!0,prevItemKey:null,prevRowOffset:null}}static getDerivedStateFromProps(e,t){return(0,r.default)((0,r.default)({},t),{},{prevItemKey:e.data.itemKey,prevRowOffset:e.data.offset,shouldAnimate:h(e,t)})}shouldComponentUpdate(e,t){return this.props.animate!==e.animate||this.props.zIndex!=this.props.zIndex||this.props.renderItem!==e.renderItem||this.state.shouldAnimate!==t.shouldAnimate||!(0,o.default)(this.props.data,e.data)}render(){const{data:e,zIndex:t}=this.props,{shouldAnimate:a}=this.state,n=a?`${d} 200ms ease-in-out`:"none",i="horizontal"===this.props.listDirection?{width:e.width,[d]:`translateX(${e.offset}px)`}:{height:e.height,[d]:`translateY(${e.offset}px)`},s=(0,r.default)({zIndex:t,[c]:n},i),o=this.props.renderItem(e);return(0,u.jsx)("div",{className:l.default.item,style:s,children:o})}}function h(e,t){if(!e.animate)return!1;const{prevItemKey:a}=t;return e.data.itemKey===a&&e.data.offset!==t.prevRowOffset}t.default=f,f.displayName="ListItem"},83452:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(76139)),s=n(a(94184)),o=a(48360),l=a(67294),u=n(a(30588)),d=a(12591),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(51428)),f=n(a(47065)),h=n(a(14296)),p=a(84387),m=n(a(81696)),g=a(8384),_=n(a(23217)),v=a(97628),b=n(a(90012)),y=a(85893);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}class S extends l.PureComponent{constructor(e){super(e),this._updateImgSrcUrl=e=>{var t;const a=e.height+50,n="color:red|"+e.lat+", "+e.lng,s=e.lat+", "+e.lng,o=e.width+"x"+a,l=u.default.currentRes===u.default.RES.HIGH?2:1,d=h.default.getLocale(),f=i.default.GSM_NAME,p=i.default.build("https://maps.googleapis.com/maps/api/staticmap",(0,r.default)({zoom:15,size:o,scale:l,language:d,client:f},e.showMarker?{markers:n}:{center:s})),m="dark"===(null===(t=this.context)||void 0===t?void 0:t.theme)?`${p}&style=element:geometry%7Ccolor:0x212121&style=element:labels.icon%7Cvisibility:off&style=element:labels.text.fill%7Ccolor:0x757575&style=element:labels.text.stroke%7Ccolor:0x212121&style=feature:administrative%7Celement:geometry%7Ccolor:0x757575&style=feature:administrative.country%7Celement:labels.text.fill%7Ccolor:0x9e9e9e&style=feature:administrative.land_parcel%7Cvisibility:off&style=feature:administrative.locality%7Celement:labels.text.fill%7Ccolor:0xbdbdbd&style=feature:poi%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:poi.park%7Celement:geometry%7Ccolor:0x181818&style=feature:poi.park%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:poi.park%7Celement:labels.text.stroke%7Ccolor:0x1b1b1b&style=feature:road%7Celement:geometry.fill%7Ccolor:0x2c2c2c&style=feature:road%7Celement:labels.text.fill%7Ccolor:0x8a8a8a&style=feature:road.arterial%7Celement:geometry%7Ccolor:0x373737&style=feature:road.highway%7Celement:geometry%7Ccolor:0x3c3c3c&style=feature:road.highway.controlled_access%7Celement:geometry%7Ccolor:0x4e4e4e&style=feature:road.local%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:transit%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:water%7Celement:geometry%7Ccolor:0x000000&style=feature:water%7Celement:labels.text.fill%7Ccolor:0x3d3d3d`:p;if(this._lastURL===m)return;this._lastURL=m;const g=this.props.getUnmountSignal();i.default.gsmURL(m,i.default.GSM_NUMS).then((e=>{g.aborted||this.setState({imgSrcUrl:e,hiResAvail:c.isCached(e)})}))},this._handleImgLoaded=()=>{this.state.hiResAvail||this.setState({hiResAvail:!0}),this.props.onLoad&&this.props.onLoad()},this.state={imgSrcUrl:null,hiResAvail:!1},this._updateImgSrcUrl(e)}componentDidUpdate(){this._updateImgSrcUrl(this.props)}componentDidMount(){this.props.listeners.add(window,"dpichange",(()=>this._updateImgSrcUrl(this.props)))}render(){const{lat:e,lng:t,name:a,width:n,height:r,className:i,linkify:l,onClick:u,a8nText:c}=this.props,h={pointerEvents:"none",width:n,height:this.state.hiResAvail?void 0:r},p=(0,s.default)(i,{[m.default.hidden]:!this.state.hiResAvail}),v=this.state.hiResAvail?null:(0,y.jsx)(_.default,{name:"map-placeholder",display:"inline"}),b=(0,y.jsx)(f.default,{src:this.state.imgSrcUrl||"",className:p,style:h,hasPrivacyChecks:!1,onLoad:this._handleImgLoaded,noXHR:!0});return l?(0,y.jsxs)(d.ExternalLink,{href:(0,g.getMapUrl)(e,t,a),className:m.default.container,onClick:u,a8nText:c,"aria-label":o.fbt._("Open map location",null,{hk:"3LMZEW"}),children:[v,b]}):(0,y.jsxs)("span",{className:m.default.container,children:[v,b]})}}S.defaultProps={linkify:!0,showMarker:!0},S.contextType=v.ThemeContext,S.displayName="Map";var E=(0,p.ListenerHOC)((0,b.default)(S));t.default=E},8384:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionUrl=function(e,t){const a=i.default.getLocale();return`https://maps.google.com/maps/dir//${e},${t}?hl=${a}`},t.getMapUrl=function(e,t,a){const n=i.default.getLocale();if(a)return`${s}/${encodeURIComponent(a)}/@${e},${t},17z?hl=${n}`;return r.default.build("https://maps.google.com/maps",{q:`${e},${t}`,z:17,hl:n})},t.getSearchUrl=function(e){const t=i.default.getLocale();return`${s}/${encodeURIComponent(e)}/z?hl=${t}`};var r=n(a(76139)),i=n(a(14296));const s="https://maps.google.com/maps/search"},75109:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t}=e,a=(0,r.useModelValues)(e.chat,["unreadCount"]),n=e.onMarkUnread.bind(null,!a.unreadCount);return(0,o.jsx)(i.DropdownItem,{a8n:"mi-mark-as",action:n,disabled:t,children:a.unreadCount?s.default.t(485):s.default.t(486)},"MarkUnreadMenuItem")};var r=a(35461),i=a(71174),s=n(a(14296)),o=a(85893)},96205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intersect=function(e,t,a,n,r,i,s,o){const l={x:null,y:null,onLine1:!1,onLine2:!1},u=(o-i)*(a-e)-(s-r)*(n-t);if(0===u)return l;let d=t-i,c=e-r;const f=(a-e)*d-(n-t)*c;d=((s-r)*d-(o-i)*c)/u,c=f/u,l.x=e+d*(a-e),l.y=t+d*(n-t),d>0&&d<1&&(l.onLine1=!0);c>0&&c<1&&(l.onLine2=!0);return l},t.roundUp10thPercentage=function(e,t){if(0===e||0===t)return 0;const a=e/t*100;return a%10==0?a:10*(parseInt(a/10,10)+1)}},61849:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isSrcObjectInVideoElement=function(){void 0===h&&(h="srcObject"in document.createElement("video"));return h},t.start=function(e,t){let a,n=!1,u=0,h=!1;function p(){u&&clearTimeout(u),u=setTimeout((()=>{t?t():(!function(e){"camera"===e?i.ModalManager.open((0,d.jsx)(o.GuidePopup,{messaging:o.Messaging.CAMERA,type:o.TYPE.GUIDE_ALLOW})):i.ModalManager.open((0,d.jsx)(o.GuidePopup,{messaging:o.Messaging.MIC,type:o.TYPE.GUIDE_ALLOW}))}(e),h=!0)}),1e3)}return{asyncStream:(0,l.default)((t=>{let{retry:i,failCount:o}=t;return new Promise(((t,l)=>{p(),s.default?(0,s.default)(c[e][o]).then((e=>{if(!n)return a=e,e;f(e)})).then(t).catch((t=>{"NotReadableError"===t.name&&c[e][o+1]?i():l(t)})):(__LOG__(2)`MediaCapture:start() no ability to capture media`,l(new r.GUM.GUMError))}))})).catch((e=>{const t=(null==e?void 0:e.name)||e;throw new(r.GUM[t]||r.GUM.GUMError)})).finally((()=>{h&&i.ModalManager.close(),u&&clearTimeout(u)})),disposeStream:()=>{n=!0,a&&f(a)}}},t.stop=f;var r=a(35232),i=a(14597),s=n(a(56624)),o=a(18671),l=n(a(29049)),u=a(64551),d=a(85893);const c={camera:[{video:{width:u.ServerProps.imageMaxEdge,height:u.ServerProps.imageMaxEdge}},{video:{width:Math.min(1280,u.ServerProps.imageMaxEdge),height:Math.min(720,u.ServerProps.imageMaxEdge)}},{video:!0}],microphone:[{audio:!0}]};function f(e){if("function"==typeof e.stop)e.stop();else{const t=e.getTracks();for(let e=0;e<t.length;e++)t[e].stop()}}let h},41124:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Download=function(e){let{filesize:t=0,onClick:a}=e;if(t>0)return(0,u.jsx)("div",{className:s.default.controls,"data-testid":"media-state-download",children:(0,u.jsxs)("button",{className:(0,r.default)(s.default.btnMeta,s.default.cursorPointer),onClick:a,children:[(0,u.jsx)(l.default,{name:"media-download",className:s.default.iconMeta}),(0,u.jsx)("span",{children:i.default.filesize(t)})]})});return(0,u.jsx)("div",{className:s.default.controls,"data-testid":"media-state-download",children:(0,u.jsx)("button",{className:(0,r.default)(s.default.button,s.default.cursorPointer),onClick:a,children:(0,u.jsx)(l.default,{name:"media-download"})})})},t.GifIcon=function(e){let{onClick:t}=e;return(0,u.jsx)("div",{role:"button",className:s.default.controls,onClick:t,"data-testid":"media-state-gif-icon",children:(0,u.jsx)("div",{className:s.default.button,children:(0,u.jsx)(l.default,{name:"media-gif"})})})},t.Pending=function(e){const{cancelable:t}=e,a=(0,r.default)(s.default.icon,t?s.default.cursorPointer:null);return(0,u.jsx)("div",{className:s.default.controls,"data-testid":"media-state-pending",children:(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)("div",{className:s.default.spinner,children:(0,u.jsx)(o.Spinner,{size:50,stroke:3,color:"white"})}),t?(0,u.jsx)("div",{className:s.default.cancel,children:(0,u.jsx)(l.default,{name:"media-cancel"})}):null]})})},t.Play=function(){return(0,u.jsx)("div",{className:s.default.controls,children:(0,u.jsx)("div",{className:s.default.button,children:(0,u.jsx)(l.default,{name:"media-play",className:s.default.play})})})},t.Upload=function(e){let{filesize:t=0}=e;if(t>0)return(0,u.jsx)("div",{className:s.default.controls,"data-testid":"media-state-upload",children:(0,u.jsxs)("button",{className:(0,r.default)(s.default.btnMeta,s.default.cursorPointer),children:[(0,u.jsx)(l.default,{name:"media-upload",className:s.default.iconMeta}),(0,u.jsx)("span",{children:i.default.filesize(t)})]})});return(0,u.jsx)("div",{className:s.default.controls,"data-testid":"media-state-upload",children:(0,u.jsx)("div",{className:s.default.button,children:(0,u.jsx)(l.default,{name:"media-upload"})})})};var r=n(a(94184)),i=n(a(14296)),s=n(a(44893)),o=a(11054),l=n(a(23217)),u=a(85893)},4293:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,thumbnailPlaceholder:a}=e,n=(0,i.default)(e,f),{mediaData:s}=(0,l.useModelValues)(t,["mediaData"]);if(null==s){return null!=a?(0,c.jsx)(p,{className:n.containerClassName,children:a}):null}return(0,c.jsx)(h,(0,r.default)({mediaData:s,thumbnailPlaceholder:a},n))};var r=n(a(81109)),i=n(a(6479)),s=n(a(94184)),o=a(67294),l=a(35461),u=n(a(30800)),d=n(a(34949)),c=a(85893);const f=["msg","thumbnailPlaceholder"];function h(e){const{containerClassName:t,childClassName:a,mediaData:n,thumbnailPlaceholder:r}=e,{preview:i,fullPreviewData:s}=(0,l.useModelValues)(n,["preview","fullPreviewData"]),o=[];if(null!=i&&o.push({opaque:i,key:"preview"}),null!=s&&o.push({opaque:s,key:"fullPreviewData"}),0===o.length){return null!=r?(0,c.jsx)(p,{className:t,children:r}):null}return(0,c.jsx)(p,{className:t,children:o.map((e=>{let{key:t,opaque:n}=e;return n instanceof d.default?(0,c.jsx)(m,{className:a,opaque:n},t):null})).filter(Boolean)})}function p(e){const{className:t,children:a}=e;return(0,c.jsx)("div",{className:(0,s.default)(u.default.container,t),children:a})}function m(e){const{className:t,opaque:a}=e;return(0,o.useEffect)((()=>{if(null!=a)return a.retain(),()=>{a.autorelease()}}),[a]),(0,c.jsx)("div",{className:(0,s.default)(u.default.child,t),style:a?{backgroundImage:`url("${a.url()}")`}:null})}},46346:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBar=function(e){const t=(0,o.default)(f.default.menu,{[f.default.menuDefault]:!e.theme,[f.default.menuStrong]:"strong"===e.theme,[f.default.menuInverse]:"inverse"===e.theme,[f.default.menuMediaEditor]:"media-editor"===e.theme});return(0,p.jsx)("div",{className:t,children:e.children})},t.MenuBarItem=function(e){const{text:t,transitionName:a="dropdown",disabled:n=!1,children:m,icon:g,title:_,selected:v,testid:b,theme:y}=e,[C,S]=(0,l.useState)(!1),E=null!=m&&C?(0,p.jsx)(h.UIE,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,requestDismiss:()=>{S(!1)},children:m}):null,T=(0,o.default)(f.default.item,{[f.default.selected]:v,[f.default.active]:C,[f.default.disabled]:n,[f.default.menuBarItemForceSize]:"force-size"===y}),[x,M]=(0,c.default)((t=>{e.onClick&&e.onClick(t),t.isDefaultPrevented()||(t.preventDefault(),C||null!=m&&S(!0))}),{disabled:n}),[k,w]=(0,u.default)(),P=(0,d.default)(x,k);return(0,p.jsxs)("div",{"data-a8n":i.default.key(e.a8nText),className:T,"data-testid":b,children:[(0,p.jsxs)("div",(0,r.default)((0,r.default)({},M),{},{className:(0,o.default)(f.default.button,w&&f.default.itemFocused),"data-tab":n?void 0:e.tabOrder,title:_,"aria-label":_,ref:P,children:[g,t&&(0,p.jsx)("span",{className:f.default.itemText,children:t})]})),(0,p.jsx)(s.default,{transitionName:a,children:E})]})};var r=n(a(81109)),i=n(a(99964)),s=n(a(40436)),o=n(a(94184)),l=a(67294),u=n(a(85647)),d=n(a(78506)),c=n(a(34470)),f=n(a(3183)),h=a(18644),p=a(85893)},63538:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(14597),i=n(a(94184)),s=a(48360),o=a(67294),l=n(a(59312)),u=a(87550),d=n(a(89113)),c=n(a(14296)),f=a(47809),h=n(a(85407)),p=n(a(23217)),m=a(85893);function g(e,t){const{labelEditEnabled:a,onRemoveLabel:n,selectedModels:p,onCancel:g,onDelete:v}=e,b=(0,l.default)(),y=p.getSelected(),C=y.length,S=()=>{r.ModalManager.open((0,m.jsx)(f.ManageLabelFlowLoadable,{onLabelUpdateComplete:g,modelsToUpdate:y}))},E=(0,d.default)(g);(0,o.useEffect)((()=>{0===C&&E()}),[C,E]),(0,u.useListener)(p,"all",b);const T=y.length;let x,M,k;a&&T>0&&(x=(0,m.jsx)(_,{name:"label",disabled:!T,title:s.fbt._("Add label",null,{hk:"1tcf6K"}),onClick:S})),n&&T>0&&(k=(0,m.jsx)(_,{name:"label-delete",disabled:!T,title:s.fbt._("Remove label",null,{hk:"3cOKlJ"}),onClick:n})),v&&T>0&&(M=(0,m.jsx)(_,{name:"delete",disabled:!T,title:s.fbt._("Delete label",null,{hk:"2cvgyg"}),onClick:v}));const w=(0,i.default)(h.default.multiControls,{[h.default.drawerHeader]:"drawer-header"===e.theme,[h.default.chatListPanel]:"chatlist-panel"===e.theme});return(0,m.jsxs)("div",{className:w,ref:t,children:[(0,m.jsx)(_,{name:"x",onClick:e.onCancel}),(0,m.jsx)("div",{className:h.default.multiCount,children:c.default.t(641,{count:T,_plural:T})}),x,M,k]})}const _=e=>{let{name:t,title:a,onClick:n,directional:r,disabled:i}=e;return(0,m.jsx)("button",{className:h.default.multiselectIcon,title:a,onClick:n,disabled:i?"disabled":void 0,children:(0,m.jsx)(p.default,{name:t,directional:r})})};var v=(0,o.forwardRef)(g);t.default=v},92218:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{escapeConversationHeader:t,animationStartStyle:a,aspectRatio:n,initialStyle:k,minWidth:A,margin:j,onMoveStop:I,onResize:O,onMove:N}=e,R=(0,_.default)(),D=()=>k?{width:k.width,left:k.left,bottom:k.bottom}:{width:A,left:j.x,bottom:j.y},L=(0,f.useMemo)((()=>{let e;t&&u.Cmd.getConversationHeaderOffset((t=>{e=t.right}));const n={resizeDirection:S.TOP,currentAction:M.IDLE,resizeStartMousePosition:{x:0,y:0},resizeStartPiPStyle:{width:0,bottom:0,left:0},moveStartMousePosition:{x:0,y:0},moveStartPositionStyle:{left:0,bottom:0},previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:e};return a?(0,r.default)((0,r.default)({},n),a):(0,r.default)((0,r.default)({},n),D())}),[]),[B,F]=(0,f.useState)(L.width),[G,U]=(0,f.useState)(L.bottom),[V,W]=(0,f.useState)(L.left),[H,q]=(0,f.useState)(L.resizeDirection),[Y,z]=(0,f.useState)(L.currentAction),[K,$]=(0,f.useState)(L.resizeStartMousePosition),[Q,X]=(0,f.useState)(L.resizeStartPiPStyle),[J,Z]=(0,f.useState)(L.moveStartMousePosition),[ee,te]=(0,f.useState)(L.moveStartPositionStyle),[ae,ne]=(0,f.useState)(L.previousWindowSize),[re,ie]=(0,f.useState)(L.previousConvPanelRightBorder),se=(0,f.useRef)(null),oe=(0,f.useRef)(null),le=(0,f.useRef)(null),ue=(0,f.useRef)(null),de=(0,p.default)((()=>new l.ShiftTimer((e=>{e.left&&W(e.left),e.bottom&&U(e.bottom),e.width&&F(e.width)})))),ce=e=>t=>{0===t.button&&(q(e),z(M.RESIZE),X({width:B,left:V,bottom:G}),$({x:t.clientX,y:t.clientY})),t.stopPropagation()},fe=e=>{0===e.button&&(z(M.MOVE),te({left:V,bottom:G}),Z({x:e.clientX,y:e.clientY})),e.stopPropagation()},he=()=>({top:window.innerHeight-G-B/n,left:V,bottom:window.innerHeight-G,right:V+B}),pe=()=>{const e=he();null==I||I(e)},me=()=>{var e,t;return{extraTopContentHeight:0+(null!=(null===(e=le.current)||void 0===e?void 0:e.offsetHeight)?le.current.offsetHeight-C:0),extraBottomContentHeight:null!=(null===(t=ue.current)||void 0===t?void 0:t.offsetHeight)?ue.current.offsetHeight-C:0}},ge=(e,t,a,r)=>{let i=e,o=t,l=a,u=0,d=0,c=0;switch(r){case M.RESIZE:u=Q.width,d=Q.left,c=Q.bottom;break;case M.MOVE:u=B,d=ee.left,c=ee.bottom}const f=window.innerHeight,h=window.innerWidth,{extraTopContentHeight:p,extraBottomContentHeight:m}=me(),g=u+i,_=g/n,v=c+l,b=(0,s.default)(v,2),y=d+o,C=(0,s.default)(y,2),S=(0,s.default)(j.y+m,2),E=(0,s.default)(f-_-j.y-p,2),T=(0,s.default)(j.x,2),x=(0,s.default)(h-g-j.x,2);if(S>b||b>E)switch(r){case M.RESIZE:l=0,o=0,i=0;break;case M.MOVE:l=0}if(T>C||C>x)switch(r){case M.RESIZE:l=0,o=0,i=0;break;case M.MOVE:o=0}if(i&&v+_+j.y>f)switch(r){case M.RESIZE:l=0,o=0,i=0}if(i&&y+B+j.x>h)switch(r){case M.RESIZE:l=0,o=0,i=0}return(g<A||_+2*j.y>f||g+2*j.x>h)&&(l=0,o=0,i=0),{deltaWidth:i,deltaBottom:l,deltaLeft:o}},_e=(e,t)=>{const a=window.innerWidth,r=window.innerHeight,i=V+e,s=G+t,o=j.x,l=a-B-j.x,u=j.y,d=r-B/n-j.y;return u>s||s>d||(o>i||i>l)};(0,f.useEffect)((()=>{if(k){if(se.current)return void de.current.onOrAfter(400,k);const e=k.width,t=k.left+e-(B+V),a=k.bottom+e/n-(G+B/n);Math.abs(t)<.1&&Math.abs(a)<.1?(k.left&&W(k.left),k.bottom&&U(k.bottom),k.width&&F(k.width)):F(e)}}),[n]);const ve=(0,h.default)((()=>{const{extraTopContentHeight:t,extraBottomContentHeight:a}=me(),n=window.innerHeight-2*e.margin.y-t-a,r=window.innerWidth-2*e.margin.x;let s=B,o=s/e.aspectRatio,l=G,d=V;o>n&&(o=n,s=n*e.aspectRatio),s>r&&(o=r/e.aspectRatio,s=r),l+o>n+e.margin.y+a&&(l=n+e.margin.y+a-o),d+s>r+e.margin.x&&(d=r+e.margin.x-s),ae.width<d+s+e.margin.x+3&&(d=r+e.margin.x-s),ae.height<l+o+e.margin.y+a+3&&(l=n+e.margin.y+a-o);const c=null!=re&&re>0&&Math.abs(V+s+e.margin.x-re)<3;let f;e.escapeConversationHeader&&u.Cmd.getConversationHeaderOffset((e=>{f=e.right}));const h=f&&f<window.innerWidth;c&&null!=f&&0!==f&&h&&(d=f-e.margin.x-s);const p={bottom:Math.max(e.margin.y,l),left:Math.max(e.margin.x,d),width:Math.max(e.minWidth,s),previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:f};(0,i.default)(p,{bottom:G,left:V,width:B,previousWindowSize:ae,previousConvPanelRightBorder:re})||(U(p.bottom),W(p.left),F(p.width),ne(p.previousWindowSize),ie(p.previousConvPanelRightBorder))}),50);(0,f.useEffect)((()=>{if(!a)return void ve();const e=D(),t=a.width/n,i=a.height,s=i/t,l=(0,r.default)((0,r.default)({},e),{},{height:e.width/n,scaleY:[1,s],translateY:[0,(t-i)/2/s]}),u=(0,d.default)((0,o.default)(oe.current,"componentRef.current"),l,{easing:"easeInOutQuart",duration:400});se.current=u.then((()=>{R.aborted||(se.current=null,W(e.left),U(e.bottom),F(e.width),ve())}))}),[]),(0,g.default)((()=>{de.current.cancel()})),(0,m.useListener)(window,"mousemove",(e=>{let t,a=0,r=0,i=0,s=0;const{extraTopContentHeight:o,extraBottomContentHeight:l}=me();switch(Y){case M.IDLE:return;case M.RESIZE:switch(H){case S.TOP:r=K.y-e.clientY,a=r*n;break;case S.BOTTOM:r=e.clientY-K.y,a=r*n,s=-r;break;case S.RIGHT:a=e.clientX-K.x,r=a/n,s=-r;break;case S.LEFT:a=K.x-e.clientX,r=a/n,s=-r,i=-a;break;case S.TOP_RIGHT:a=Math.max(e.clientX-K.x,n*(K.y-e.clientY)),r=a/n;break;case S.TOP_LEFT:a=Math.max(K.x-e.clientX,n*(K.y-e.clientY)),r=a/n,i=-a;break;case S.BOTTOM_RIGHT:a=Math.max(e.clientX-K.x,n*(e.clientY-K.y)),r=a/n,s=-r;break;case S.BOTTOM_LEFT:a=Math.max(K.x-e.clientX,n*(e.clientY-K.y)),r=a/n,s=-r,i=-a}t=ge(a,i,s,M.RESIZE);let u=0,d=0,c=0;if(0===t.deltaWidth&&0===t.deltaLeft&&0===t.deltaBottom){if(a<0)switch(H){case S.TOP:case S.TOP_RIGHT:a=A-Q.width,s=0,i=0;break;case S.TOP_LEFT:a=A-Q.width,i=-a,s=0;break;case S.BOTTOM:case S.RIGHT:case S.BOTTOM_RIGHT:a=A-Q.width,r=a/n,s=-r,i=0;break;case S.LEFT:case S.BOTTOM_LEFT:a=A-Q.width,r=a/n,s=-r,i=-a}else if(a>0){const e=Q.width/n;switch(H){case S.TOP:case S.TOP_RIGHT:a=Math.min(window.innerWidth-j.x-o-Q.width-Q.left,n*(window.innerHeight-j.y-o-e-Q.bottom))-.1;break;case S.TOP_LEFT:a=Math.min(Q.left-j.x,n*(window.innerHeight-j.y-o-e-Q.bottom))-.1,r=a/n,i=-a;break;case S.BOTTOM:case S.RIGHT:case S.BOTTOM_RIGHT:a=Math.min(window.innerWidth-j.x-Q.width-Q.left,n*(Q.bottom-j.y-l))-.1,r=a/n,s=-r;break;case S.LEFT:case S.BOTTOM_LEFT:a=Math.min(Q.left-j.x,n*(Q.bottom-j.y-l))-.1,r=a/n,s=-r,i=-a}}u=Q.width+a,d=Q.left+i,c=Q.bottom+s,F(u),W(d),U(c)}else u=Q.width+t.deltaWidth,d=Q.left+t.deltaLeft,c=Q.bottom+t.deltaBottom,F(u),W(d),U(c);O&&O(u,d,c);break;case M.MOVE:i=e.clientX-J.x,s=J.y-e.clientY,t=ge(a,i,s,M.MOVE);let f=0,h=0;f=0!==i&&0===t.deltaLeft?i>0?window.innerWidth-B-j.x:j.x:ee.left+t.deltaLeft,h=0!==s&&0===t.deltaBottom?s>0?window.innerHeight-B/n-j.y-o-.1:j.y+l:ee.bottom+t.deltaBottom,W(f),U(h),N&&N(f,h)}})),(0,m.useListener)(window,"mouseup",(()=>{z(M.IDLE)})),(0,m.useListener)(window,"resize",ve),(0,m.useListener)(u.Cmd,"floater_escape_overlap",((e,t)=>{const a=e.getBoundingClientRect(),n={left:a.left-t,top:a.top-t,right:a.right+t,bottom:a.bottom+t},r=he();if(s=n,(i=r).right<=s.left||i.left>=s.right||i.bottom<=s.top||i.top>=s.bottom)return;var i,s;const l=((e,t)=>({toLeftDistance:e.right-t.left,toBottomDistance:t.bottom-e.top,toRightDistance:t.right-e.left,toTopDistance:e.bottom-t.top}))(r,n);let u,c;if(_e(-l.toLeftDistance,0)||(void 0===u||l.toLeftDistance<u)&&(u=l.toLeftDistance,c=S.LEFT),_e(0,-l.toBottomDistance)||(void 0===u||l.toBottomDistance<u)&&(u=l.toBottomDistance,c=S.BOTTOM),_e(l.toRightDistance,0)||(void 0===u||l.toRightDistance<u)&&(u=l.toRightDistance,c=S.RIGHT),_e(0,l.toTopDistance)||(void 0===u||l.toTopDistance<u)&&(u=l.toTopDistance,c=S.TOP),void 0===u||null==c)return;let f={};switch(c){case S.LEFT:f={left:V-l.toLeftDistance};break;case S.BOTTOM:f={bottom:G-l.toBottomDistance};break;case S.RIGHT:f={left:V+l.toRightDistance};break;case S.TOP:f={bottom:G+l.toTopDistance}}(0,d.default)((0,o.default)(oe.current,"componentRef.current"),f,{duration:200}).then((()=>{R.aborted||(null!=f.left&&W(f.left),null!=f.bottom&&U(f.bottom))}))}));const be={width:B,height:B/n},ye={width:be.width,height:be.height,bottom:G+"px",left:V+"px"};return(0,y.jsxs)("div",{"data-testid":"move_resize_component",ref:oe,className:(0,c.default)(v.default.moveResizeComponentContainer),style:ye,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:[e.enableDragBar||null!=e.topContent?(0,y.jsxs)("div",{ref:le,className:(0,c.default)(v.default.extraContent,v.default.topContent,{[v.default.extraContentVisible]:e.extraContentVisible}),children:[e.enableDragBar?(0,y.jsx)(P,{onMouseDown:fe,onMouseUp:pe,currentAction:Y,children:(0,y.jsx)(b.default,{className:v.default.dragBar,name:"drag-texture"})}):null,e.topContent,(0,y.jsx)(w,{getResizeCallback:ce,currentAction:Y,directions:T})]}):null,null!=e.bottomContent?(0,y.jsxs)("div",{ref:ue,style:{top:!e.extraContentVisible&&ue.current?`calc(100% - ${ue.current.offsetHeight}px)`:null},className:(0,c.default)(v.default.extraContent,v.default.bottomContent,{[v.default.extraContentVisible]:e.extraContentVisible}),children:[(0,y.jsx)("div",{className:(0,c.default)(v.default.blurryBackground)}),e.bottomContent,(0,y.jsx)(w,{getResizeCallback:ce,currentAction:Y,directions:x})]}):null,e.disableResize?null:(0,y.jsx)(w,{getResizeCallback:ce,currentAction:Y,directions:null!=e.topContent?E:void 0}),(0,y.jsx)("div",{className:(0,c.default)(v.default.moveResizeComponentInnerContainer,e.className),children:(0,y.jsxs)(P,{onMouseDown:fe,onMouseUp:pe,currentAction:Y,disabled:e.enableDragBar,children:[e.children,Y!==M.IDLE?(0,y.jsx)("div",{className:v.default.overlay}):null]})})]})};var r=n(a(81109)),i=n(a(18446)),s=n(a(59854)),o=n(a(45095)),l=a(57319),u=a(81572),d=n(a(62831)),c=n(a(94184)),f=a(67294),h=n(a(51799)),p=n(a(16223)),m=a(87550),g=n(a(55010)),_=n(a(3409)),v=n(a(617)),b=n(a(23217)),y=a(85893);const C=parseInt(v.default["-move-resize-component-border-radius"],10),S=a(76672).Mirrored(["TOP","BOTTOM","LEFT","RIGHT","TOP_RIGHT","TOP_LEFT","BOTTOM_RIGHT","BOTTOM_LEFT"]),E=[S.LEFT,S.RIGHT],T=[S.TOP,S.TOP_LEFT,S.TOP_RIGHT].concat(E),x=[S.BOTTOM,S.BOTTOM_LEFT,S.BOTTOM_RIGHT].concat(E),M=a(76672).Mirrored(["IDLE","RESIZE","MOVE"]);function k(e){switch(e){case S.LEFT:return v.default.leftResizer;case S.BOTTOM:return v.default.bottomResizer;case S.RIGHT:return v.default.rightResizer;case S.TOP:return v.default.topResizer;case S.TOP_LEFT:return v.default.topLeftResizer;case S.TOP_RIGHT:return v.default.topRightResizer;case S.BOTTOM_LEFT:return v.default.bottomLeftResizer;case S.BOTTOM_RIGHT:return v.default.bottomRightResizer}}function w(e){let{getResizeCallback:t,currentAction:a,directions:n=Array.from(S.members())}=e;return n.map((e=>(0,y.jsx)("div",{"data-testid":`move_resize_component_resizer_${e}`,className:(0,c.default)(k(e),v.default.resizer,{[v.default.defaultCursor]:a===M.RESIZE}),onMouseDown:t(e)},e)))}function P(e){return e.disabled?e.children:(0,y.jsx)("div",{className:(0,c.default)(v.default.moveable,{[v.default.defaultCursor]:e.currentAction===M.RESIZE}),onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,grab:e.currentAction===M.MOVE?"true":"supported",children:e.children})}},16351:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{selectedMessages:t,chat:a,toastPosition:n,onCancel:x,disableRevoke:P,noSortOnForward:A,downloadButton:j=!0}=e,I=(0,p.default)(),O=(0,h.useRef)(null),N=()=>{const e=t.getSelected();a&&s.Cmd.sendStarMsgs(a,e,null,n),x()},R=()=>{const e=t.getSelected();a&&s.Cmd.sendUnstarMsgs(a,e,null,n),x()},D=()=>{const e=(0,i.default)(t.getSelected(),(e=>e.mediaData));if(!e.length)return;const a=(0,i.default)(e,(e=>!e.mediaData.isDownloadable()));a.length>0?(d.ToastManager.open((0,k.jsx)(M.Toast,{msg:f.fbt._("Downloading…",null,{hk:"2sMvu6"}),id:(0,M.genId)()})),Promise.all((0,r.default)(a,(e=>e.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:C.default.WEBC_RMR_REASON_CODE.MULTI_SELECT_DOWNLOAD,isUserInitiated:!0})))).then((()=>{const t=(0,i.default)(e,(e=>e.mediaData.isDownloadable()));e.length>t.length&&d.ToastManager.open((0,k.jsx)(M.Toast,{msg:b.default.t(357,{_plural:e.length-t.length,count:e.length-t.length}),id:(0,M.genId)()})),t.length&&o.FileSaver.initDownload(t)}))):o.FileSaver.initDownload(e),x()};(0,m.useListeners)(t.getSelected().map((e=>({source:e,eventOrEvents:"change:star",callback:I})))),(0,m.useListener)(t,"all",I),(0,m.useListener)(S.MsgCollection,"change:star",(e=>{t.isSelected(e)&&I()}));const L=e.selectedMessages.getSelected(),B=L.length,F=L.every((e=>e.canForward())),G=L.every((e=>e.canStar())),U=L.every((e=>e.mediaData)),V=L.every((e=>!e.asRevoked)),W=(0,k.jsx)(w,{disabled:!B||!F,name:"forward",onClick:()=>{let e=t.getSelected();!A&&a&&(e=a.sortMsgs(e));const n=e.length,r=()=>{x()},s=(0,i.default)(e,(e=>e.canForward()));s.length?n!==s.length?u.ModalManager.open((0,k.jsx)(g.default,{title:b.default.t(246),onOK:()=>{u.ModalManager.open((0,k.jsx)(v.ForwardMessageFlowLoadable,{msgs:s,pushTransition:"none",popTransition:"none",onForward:r}),{transition:"modal-flow"})},okText:b.default.t(365),onCancel:()=>u.ModalManager.close(),cancelText:f.fbt._("Cancel",null,{hk:"H0gNq"}),children:b.default.t(245)})):u.ModalManager.open((0,k.jsx)(v.ForwardMessageFlowLoadable,{msgs:e,pushTransition:"none",popTransition:"none",onForward:r}),{transition:"modal-flow"}):u.ModalManager.open((0,k.jsx)(g.default,{title:b.default.t(355),onOK:()=>u.ModalManager.close(),okText:f.fbt._("OK",null,{hk:"2KEeHb"}),children:b.default.t(352,{_plural:n})}))},title:b.default.t(368,{_plural:B})}),H=(0,k.jsx)(w,{name:"delete",disabled:!B,title:b.default.t(277,{_plural:B}),onClick:()=>{const e=t.getSelected();a&&u.ModalManager.open((0,k.jsx)(_.default,{chat:a,msgList:e.map(T.unproxy),toastPosition:n,onCancel:x,disableRevoke:P}))}});let q,Y,z;B&&L.every((e=>e.star))?(q=R,Y="unstar-btn",z=b.default.t(689,{_plural:B})):(q=N,Y="star-btn",z=b.default.t(665,{_plural:B}));const K=(0,k.jsx)(w,{name:Y,disabled:!B||!G,title:z,onClick:q}),$=(0,l.canEditLabelAssociation)()&&(0,k.jsx)(w,{disabled:!B||!V,name:"label",onClick:()=>{const e=t.getSelected();u.ModalManager.open((0,k.jsx)(y.ManageLabelFlowLoadable,{onLabelUpdateComplete:x,modelsToUpdate:e}))},title:f.fbt._("Label items",null,{hk:"2xOVMD"})});let Q;Modernizr.adownload&&j&&U&&(Q=(0,k.jsx)(w,{name:"download",disabled:!B,title:f.fbt._("Download",null,{hk:"1g5Jix"}),onClick:D}));const X=(0,c.default)(E.default.multiControls,{[E.default.mediaGalleryTheme]:"mediaGallery"===e.theme});return(0,k.jsxs)("div",{className:X,ref:O,children:[(0,k.jsx)(w,{name:"x",onClick:e.onCancel}),(0,k.jsx)("span",{className:E.default.multiCount,children:b.default.t(641,{count:B,_plural:B})}),$,K,H,W,Q]})};var r=n(a(35161)),i=n(a(63105)),s=a(81572),o=a(21634),l=a(8139),u=a(14597),d=a(94816),c=n(a(94184)),f=a(48360),h=a(67294),p=n(a(59312)),m=a(87550),g=n(a(52665)),_=n(a(99131)),v=a(75362),b=n(a(14296)),y=a(47809),C=n(a(11339)),S=a(59871),E=n(a(8629)),T=a(18146),x=n(a(23217)),M=a(50452),k=a(85893);const w=e=>{let{name:t,title:a,onClick:n,directional:r,disabled:i}=e;return(0,k.jsx)("button",{className:E.default.multiselectIcon,title:a,onClick:n,disabled:i?"disabled":void 0,children:(0,k.jsx)(x.default,{name:t,directional:r})})}},90922:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t}=e,a=(0,i.useModelValues)(e.mute,["isMuted"]),d=(0,i.useModelValues)(e.chat,["archive"]),c=(0,i.useModelValues)(e.settings,["showArchiveV2"]),f=e.onMute.bind(null,!a.isMuted);let h,p,m,g;d.archive&&(0,n.archiveV2Supported)()&&c.showArchiveV2?(h=u,g=r.fbt._("Unmute notifications",null,{hk:"4aQGmY"}),p=s.ThemeOptions.MUTED,m=(0,l.jsx)(o.Tooltip,{anchor:o.TooltipAnchor.Left,children:r.fbt._("Archived chats are muted",null,{hk:"31ZVD"})})):(g=a.isMuted?r.fbt._("Unmute notifications",null,{hk:"4aQGmY"}):r.fbt._("Mute notifications",null,{hk:"2Fm15X"}),h=f);return(0,l.jsx)(s.DropdownItem,{action:h,disabled:t,theme:p,tooltip:m,children:g})};var n=a(8139),r=a(48360),i=a(35461),s=a(71174),o=a(2712),l=a(85893);const u=()=>{}},12176:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ContactAndGroupName=function(e){const{chat:t,contact:a,xstyle:n}=e;return(0,g.jsxs)("span",{className:(0,u.default)(n),children:[(0,g.jsx)(S,{contact:a,useShortName:!0}),(0,g.jsx)("span",{children:" • "}),(0,g.jsx)(C,{chat:t,groupMetadata:t.groupMetadata})]})},t.ContactName=y,t.GroupName=C,t.Name=S;var r=n(a(81109)),i=n(a(6479)),s=n(a(63116)),o=n(a(9384)),l=n(a(94184)),u=n(a(56720)),d=a(35461),c=a(65417),f=a(30695),h=a(84543),p=n(a(65301)),m=n(a(23217)),g=a(85893);const _=["chat"],v=["chat"],b=["contact"];function y(e){const{element:t="span",highlightText:a,titlify:n,ellipsify:r,breakWord:i,you:u,selectable:_,useShortName:v,useDisplayName:b,onClick:y,showLabel:C,showBusinessCheckmark:S,showNotifyName:E,useVerifiedName:T,firstLabel:x,xstyle:M}=e,k=(0,d.useModelValues)(e.contact,["isPSA","formattedUser","formattedName","formattedShortName","displayName","labels","name","notifyName","isMe","verifiedName"]);let w,P;if(a&&(w=f.Configuration.SearchName({terms:[a]})),P=b&&k.displayName?k.displayName:v&&k.formattedShortName?k.formattedShortName:T&&k.verifiedName?k.verifiedName:u&&k.isMe?k.formattedName:E&&!k.name&&k.notifyName?`~${k.notifyName}`:k.formattedUser,!P)return __LOG__(4,void 0,new Error,!0)`displayName:${P},
formattedName:${k.formattedName},
name:${k.name},
formattedShortName:${k.formattedShortName},
formattedUser:${k.formattedUser}`,SEND_LOGS("display name is null or undefined"),"";const A=(0,g.jsx)(c.EmojiText,{text:(0,o.default)(P),element:t,className:(0,l.default)(k.isPSA?p.default.psa:null,e.className),formatters:w,titlify:n,ellipsify:r,breakWord:i,direction:"auto",selectable:_,inlineblock:!0,onClick:y,xstyle:M}),j=e.labels||k.labels;j&&x&&(0,s.default)(j,x);const I=C&&j&&(0,g.jsx)("div",{className:p.default.labels,children:(0,g.jsx)(h.Labels,{labels:j,showName:!1})});return k.isPSA||S?(0,g.jsxs)("span",{className:p.default.verified,children:[A,(0,g.jsx)("div",{className:p.default.icon,children:(0,g.jsx)(m.default,{name:"psa-verified"})}),I]}):I?(0,g.jsxs)("span",{className:p.default.hasLabels,children:[A,I]}):A}function C(e){const{element:t,highlightText:a,titlify:n,ellipsify:r,breakWord:i,onClick:_,showLabel:v,firstLabel:b,className:y,xstyle:C}=e;let S;const E=(0,d.useModelValues)(e.chat,["formattedTitle","labels"]),T=(0,d.useModelValues)(e.groupMetadata,["support"]);a&&(S=f.Configuration.SearchName({terms:[a]}));const x=e.labels||E.labels;x&&b&&(0,s.default)(x,b);const M=v&&x?(0,g.jsx)("div",{className:p.default.labels,children:(0,g.jsx)(h.Labels,{labels:x,showName:!1})}):null,k=(0,g.jsx)(c.EmojiText,{text:(0,o.default)(E.title()),element:t,className:(0,l.default)(y,(0,u.default)(C)),formatters:S,titlify:n,ellipsify:r,breakWord:i,direction:"auto",inlineblock:!0,onClick:_});return T.support?(0,g.jsxs)("div",{className:(0,l.default)({[p.default.verified]:!0,[p.default.hasLabels]:!!M}),children:[k,(0,g.jsx)("div",{className:p.default.icon,children:(0,g.jsx)(m.default,{name:"psa-verified"})}),M]}):M?(0,g.jsxs)("div",{className:p.default.hasLabels,children:[k,M]}):k}function S(e){if(e.chat&&!e.chat.isUser){const{chat:t}=e,a=(0,i.default)(e,_);return(0,g.jsx)(C,(0,r.default)({chat:t,groupMetadata:t.groupMetadata},a))}let t,a;if(e.chat){const{chat:n}=e,r=(0,i.default)(e,v);t=n.contact,a=r}else{const{contact:n}=e;t=n,a=(0,i.default)(e,b)}return(0,g.jsx)(y,(0,r.default)({contact:t},a))}},79720:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(6479)),s=a(51737),o=a(81572),l=n(a(64369)),u=a(8139),d=a(14597),c=a(15461),f=a(60868),h=a(69951),p=n(a(14296)),m=a(59871),g=a(57162);const _=["title","notification"];t.default=class{constructor(e,t,a,n){if(this.close=()=>{this.notification&&this._waitForInteractionStop().then((()=>{this.notification&&(0,s.isFunction)(this.notification.close)&&this.notification.close()})).catch((()=>{}))},this._handleClose=()=>{var e;(this.waitingPromise.resolver(),window.removeEventListener("beforeunload",this.close),this.notification&&(this.notification.removeEventListener("click",this._handleClick),this.notification.removeEventListener("close",this._handleClose)),this.msg&&this.msg.off("change:type",this._handleRevoke),(0,u.receiveReactionsEnabled)()&&this.reactionSender)&&(this.reactionSender.off("revoked change:read",this._handleReactionRemove),null===(e=this.chat)||void 0===e||e.off("change:reactionSquelch",this._handleChatOpenUpdateMsgLevelSquelch))},this._handleClick=()=>{var e;null===(e=this._onClick)||void 0===e||e.call(this),window.focus();const t=this.chat,a=this.msg;if(!t)return;const n=a&&a!==t.msgs.last()?t.getSearchContext(a):void 0;o.Cmd.openChatAt(t,n).then((e=>{e&&o.Cmd.focusChatTextInput(t)})),d.ModalManager.closeMedia(),this.close()},this._handleRevoke=()=>{this.msg&&this.msg.type===c.MSG_TYPE.REVOKED&&this.close()},this._handleReactionRemove=()=>{this.close()},this._handleChatOpenUpdateMsgLevelSquelch=()=>{null!=this.chat&&null!=this.msg&&this.chat.reactionSquelch===l.default.SQUELCH_RESET_VALUE&&(this.msg.squelch=l.default.SQUELCH_RESET_VALUE)},this.msg=m.MsgCollection.get(t),this.chat=h.ChatCollection.get(e),this._onClick=n.onClick,(0,u.receiveReactionsEnabled)()&&a){const e=g.ReactionsCollection.get(t);if(e){const{reactionSenderModel:t}=g.ReactionsCollection.getAggregateEmojiAndSender(e,a);this.reactionSender=t}else __LOG__(3)`base_notification_wrapper:constructor Reaction model not found`}const v=new Promise((e=>{this.waitingPromise={resolver:e}}));this.waitingPromise.promise=v;const{title:b,notification:y}=n,C=(0,i.default)(n,_),S=!!f.CallCollection.get(t);let E=e.toString();(S||(0,u.receiveReactionsEnabled)()&&this.reactionSender)&&(E=t);try{var T;if(this.notification=new y(b,(0,r.default)({tag:E,renotify:!0,dir:"auto",lang:p.default.getLocale(),silent:!0},C)),this.notification.addEventListener("click",this._handleClick),this.notification.addEventListener("close",this._handleClose),this.msg&&this.msg.on("change:type",this._handleRevoke),(0,u.receiveReactionsEnabled)()&&null!=this.reactionSender)this.reactionSender.on("revoked change:read",this._handleReactionRemove),null===(T=this.chat)||void 0===T||T.on("change:reactionSquelch",this._handleChatOpenUpdateMsgLevelSquelch);window.addEventListener("beforeunload",this.close)}catch(e){__LOG__(2)`Failed to create notification: ${e.name}:${e.message}`,this.waitingPromise.resolver()}}_waitForInteractionStop(){return Promise.resolve()}waitForClose(){return this.waitingPromise.promise}detach(){this._handleClose()}}},93551:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.cancelCallNotification=function(e){e&&q(N,e.toString())},t.closeNotifications=function(e){if(!e||!e.id)return;q(O,e.id.toString()),q(N,e.id.toString())},t.isArchivedAndNotMentioned=V,t.isMeUserMentionedOrQuoted=U,t.shouldNotify=L,t.shouldNotifyForType=B,t.showCallNotification=function(e,t,a,n){if(!e||!t||w.MuteCollection.globalMute().isMuted)return;if(window.Notification&&window.Notification.permission===p.PERMISSION_ALLOWED&&w.MuteCollection.getGlobalNotifications()){const r=y.ContactCollection.get(e),i=r?r.formattedName:(0,g.widToFormattedUser)(e);let s;s=n?a?x.default.t(427,{name:i}):x.default.t(428,{name:i}):a?x.default.t(429,{name:i}):x.default.t(430,{name:i});const o=x.default.t(426);W({map:N,key:e.toString(),wid:e,mid:t,defaultIcon:T.default,title:s,text:o})}var r;w.MuteCollection.getGlobalSounds()&&((null===(r=N.get(e.toString()))||void 0===r?void 0:r.promise)||Promise.resolve()).then(P.playNotification).catch((()=>{}))},t.showMsgNotification=function(e){const t=e.chat;if(document.hasFocus()&&t.active)return;if(w.MuteCollection.globalMute().isMuted)return;if(F(t))return;if(!L(e))return;if((0,c.isMDBackend)()&&S.OfflineMessageHandler.isResumeOnSocketDisconnectInProgress())return;if(window.Notification&&window.Notification.permission===p.PERMISSION_ALLOWED&&w.MuteCollection.getGlobalNotifications()){let a=(0,v.default)(e);a&&a.charCodeAt(0)>=128&&(a=" "+a);let n=T.default;t.isGroup&&(n=E.default),e.isProductListMessage&&(n=(0,M.convertToDataURI)(e.productListHeaderImage));const r=t.isGroup?_.fbt._("WhatsApp group message",null,{hk:"2updyb"}):x.default.t(273),i=t.contact.formattedName||r.toString();W({map:O,key:t.id.toString(),wid:t.id,mid:e.id.toString(),defaultIcon:n,title:i,text:a,canReply:t.canSend&&!t.isSuspendedGroup()})}var a;w.MuteCollection.getGlobalSounds()&&(t.id&&(null===(a=O.get(t.id.toString()))||void 0===a?void 0:a.promise)||Promise.resolve()).then(P.playNotification).catch((()=>{}))},t.showReactionNotification=function(e){if(e&&!(0,h.receiveReactionsEnabled)())return void __LOG__(3)`showReactionNotification: receive not enabled for reactions.`;const t=k.MsgCollection.get(e.parentMsgKey);if(null==t)return void __LOG__(3)`showReactionNotification: parentMsg is not present in the MsgCollection`;const a=t.chat,n=`${t.id.toString()}-${e.senderUserJid}`,r=function(e,t){return R.has(t)}(0,n);if(document.hasFocus()&&a.active)return;if(w.MuteCollection.globalMute().isMuted)return;if(w.MuteCollection.globalReactionsMute().isMuted)return;if(!r&&F(a,!1))return;if(!r&&function(e,t){if(!e.isGroup)return!1;const a=Date.now(),n=t.squelch||0;if(a>n)return C.default.find(e.id).then((a=>{if(null!=a){const n=G(e.id,a),r=Date.now()+n;t.squelch=r,e.reactionSquelch===f.default.SQUELCH_RESET_VALUE&&(e.reactionSquelch=r)}})).catch((0,o.filteredCatch)(d.WebdDrop,(function(){t.squelch=Date.now()+D,e.reactionSquelch===f.default.SQUELCH_RESET_VALUE&&(e.reactionSquelch=Date.now()+D)}))),!1;return!0}(a,t))return;if(a.mute.isMuted)return;if(function(e){return!!(0,h.archiveV2Supported)()&&(!!I.default.showArchiveV2&&!!e.archive)}(a))return;if((0,c.isMDBackend)()&&S.OfflineMessageHandler.isResumeOnSocketDisconnectInProgress())return;if(window.Notification&&window.Notification.permission===p.PERMISSION_ALLOWED&&w.MuteCollection.getGlobalNotifications()){let r=(0,v.default)(t,e);r&&r.charCodeAt(0)>=128&&(r=" "+r);const i=a.isGroup?E.default:T.default,s=a.isGroup?_.fbt._("WhatsApp group message",null,{hk:"2updyb"}):x.default.t(273),o=a.contact.formattedName||s.toString();W({map:R,key:n,wid:a.id,mid:t.id.toString(),defaultIcon:i,title:o,text:r,reactionSenderJid:e.senderUserJid,canReply:!1,canMarkAsRead:!1})}var i;w.MuteCollection.getGlobalSounds()&&(n&&(null===(i=R.get(n))||void 0===i?void 0:i.promise)||Promise.resolve()).then(P.playNotification).catch((()=>{}))},t.shutdownAsNeeded=function(){O.forEach(((e,t)=>{q(O,t)})),N.forEach(((e,t)=>{q(N,t)}))};var i=a(89385),s=a(40265),o=a(50796),l=r(a(47259)),u=a(38284),d=a(92574),c=a(88555),f=r(a(64369)),h=a(8139),p=a(10945),m=a(78820),g=a(62054),_=a(48360),v=r(a(73938)),b=a(69951),y=a(19380),C=r(a(63928)),S=a(28237),E=r(a(91672)),T=r(a(10795)),x=r(a(14296)),M=a(81309),k=a(59871),w=a(72472),P=a(32580),A=r(a(35544)),j=a(82039),I=r(a(68132));const O=new Map,N=new Map,R=new Map,D=6e4;function L(e){return!function(e){const t=e.chat;if(!t.mute.isMuted)return!1;if(!t.isGroup)return!0;if(U(e)){const t=b.ChatCollection.get(e.sender);return!0===(null==t?void 0:t.mute.isMuted)}return!0}(e)&&(!V(e)&&B(e))}function B(e){return!e.isFutureproof}function F(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.isGroup)return!1;if(e.isGroup&&e.isReadOnly)return!1;const a=Date.now(),n=e.squelch||0;return!(a>n)||!!t&&(C.default.find(e.id).then((t=>{if(null!=t){const a=G(e.id,t);e.squelch=Date.now()+a}})).catch((0,o.filteredCatch)(d.WebdDrop,(function(){e.squelch=Date.now()+D}))),!1)}function G(e,t){const a=t.participants.length;return 1e3*Math.min(120,30+5*a)}function U(e){const t=(0,m.getMaybeMeUser)();return e.isMentioned(t)||e.isQuoted(t)}function V(e){const t=e.chat;if(!(0,h.archiveV2Supported)())return!1;if(!I.default.showArchiveV2)return!1;if(!t.archive)return!1;if(!t.isGroup)return!0;if(U(e)){const t=b.ChatCollection.get(e.sender);return!0===(null==t?void 0:t.mute.isMuted)}return!0}function W(e){let{map:t,key:a,wid:r,mid:c,defaultIcon:f,title:h,text:m,reactionSenderJid:g,canReply:_,canMarkAsRead:v}=e;const b=new n,y=b.signal,C=(0,u.promiseTimeout)((0,l.default)(j.ProfilePicThumbCollection.find(r),y),1500,"showNotificationTimeout").then((function(e){var t;if(y.aborted)throw new i.AbortError;const a=null!==(t=null==e?void 0:e.img)&&void 0!==t?t:f;return(0,P.cachePath)(a)})).catch((0,o.filteredCatch)([d.WebdDrop,s.TimeoutError],(function(){return __LOG__(2)`NotificationBackend:IconLoadTimeoutError:${r.toString()}`,(0,P.cachePath)(f)}))).then((e=>{if(y.aborted)throw new i.AbortError;if(window.Notification.permission!==p.PERMISSION_ALLOWED)throw new i.AbortError("Permission Denied");const n=new A.default(r,c,g,h,m,e,_,v);return n.waitForClose().then((()=>{H(t,a,n)})),n}));return C.then((e=>{const n=t.get(a);n&&(n.value=e)})).catch((0,i.catchAbort)((function(){H(t,a)}))),t.set(a,{promise:C,controller:b}),C}function H(e,t,a){const n=e.get(t);if(n){if(a){if(!n.value)return;if(a!==n.value)return}e.delete(t)}}function q(e,t){const a=e.get(t);if(a){if(a.value){a.value.close()}else a.controller.abort();e.delete(t)}}},77156:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,r.useRef)(null),t=()=>{let t;t=u.Stream.displayInfo===u.StreamInfo.OFFLINE||u.Stream.displayInfo===u.StreamInfo.TIMEOUT?-1:s.ChatCollection.filter((e=>e.shouldShowUnreadInTitle)).length,e.current!==t&&(e.current=t,(0,l.setTitleAndIcon)(t))};return(0,r.useEffect)((()=>{t()}),[]),(0,i.useListener)(n.Cmd,"alert_new_msg",(e=>o.showMsgNotification(e))),(0,i.useListener)(n.Cmd,"alert_new_reaction_msg",(e=>o.showReactionNotification(e))),(0,i.useListener)(n.Cmd,"alert_call",o.showCallNotification),(0,i.useListener)(n.Cmd,"cancel_call",o.cancelCallNotification),(0,i.useListener)(s.ChatCollection,"add remove reset change:archive change:optimisticUnreadCount change:muteExpiration",t),(0,i.useListener)(s.ChatCollection,"change:hasUnread",o.closeNotifications),(0,i.useListener)(u.Stream,"change:displayInfo",t),null};var n=a(81572),r=a(67294),i=a(87550),s=a(69951),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(93551)),l=a(11728),u=a(8080);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}},32580:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cachePath=function(e){return Promise.resolve(e)},t.playNotification=function(){n.play().catch((()=>{}))};const n=new window.Audio(a(37211))},35544:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76139)),i=n(a(79720)),s=a(67247);class o extends i.default{constructor(e,t,a,n,i,o){super(e,t,a,{title:s.EmojiUtil.normalizeAllEmojis(n),notification:window.Notification,body:s.EmojiUtil.normalizeAllEmojis(i),icon:r.default.relToAbs(o)})}}t.default=o},11791:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=a(67294),s=a(87550),o=n(a(90886)),l=n(a(26055)),u=a(85893);const d="transform 300ms cubic-bezier(.1,.82,.25,1)";function c(e,t){const a=(0,i.useRef)(),n=(0,i.useRef)();(0,i.useImperativeHandle)(t,(()=>({get insideContainer(){return n.current},get outsideContainer(){return a.current}})));const{objectPosition:c,onObjectLoad:f,position:p,size:m,type:g,zoomIn:_}=e,v=null==m?void 0:m.width,b=null==m?void 0:m.height,y=null==_?void 0:_.factor,C=null==_?void 0:_.translateX,S=null==_?void 0:_.translateY,E=(0,i.useCallback)((()=>{null!=f&&null!=n.current&&f(n.current.firstChild)}),[f]),T=(0,i.useCallback)((()=>{if(null==v||null==b)return;const e=a.current,t=n.current;if(!e||!t)return;let i;switch(g){case"contain":i=function(e,t,a){const n=e.clientWidth,i=e.clientHeight;let s=t,o=a,u=0,d=0;s/n>o/i?(o*=n/s,s=n,o<i&&(u=i/2-o/2)):(s*=i/o,o=i,s<n&&(d=n/2-s/2));return{style:{width:s,height:o,top:u,left:d,position:"absolute"},className:(0,r.default)(l.default.fit)}}(e,v,b);break;case"cover":i=function(e,t,a){const n=e.clientWidth,i=e.clientHeight;let s=t,o=a,u=0,d=0;s!==n&&(o*=n/s,s=n,o>i&&(u=i/2-o/2));o<i&&(s*=i/o,o=i,s>n&&(d=n/2-s/2));return{style:{width:s,height:o,top:u,left:d,position:"absolute"},className:(0,r.default)(l.default.fit)}}(e,v,b);break;case"scaleDown":i=h(e,v,b);break;case"zoomIn":i=function(e,t,a,n){const i=h(e,t,a).style;let s;s=n?{width:i.width,height:i.height,transition:d,transform:`translateX(${n.translateX}px) translateY(${n.translateY}px) scale(${n.factor})`}:{width:i.width,height:i.height,transition:d};return{style:s,className:(0,r.default)(l.default.fit,l.default.fitScaledown,l.default.fitZoomin)}}(e,v,b,null!=y&&null!=C&&null!=S?{factor:y,translateX:C,translateY:S}:null);break;default:return __LOG__(4,void 0,new Error,!0)`unrecognized type ${g}`,void SEND_LOGS("object-fit")}e.removeAttribute("class"),t.removeAttribute("style"),e.classList.add(...i.className.split(" ")),"relative"===p&&e.classList.add(l.default.fitRelative);const s=null!=c?c:i.style.position;t.style.setProperty("position",s);for(const e of Object.keys(i.style)){const a=i.style[e];null==a||Number.isNaN(a)||t.style.setProperty(e,"number"==typeof a?a+"px":a)}E()}),[E,c,p,b,v,g,y,C,S]),x=(0,o.default)(T);return(0,s.useListener)(window,"resize",x),(0,i.useLayoutEffect)((()=>{T()}),[T]),(0,u.jsx)("div",{className:(0,r.default)({[l.default.fit]:!0,[l.default.fitRelative]:"relative"===p}),ref:a,children:(0,u.jsx)("div",{style:{visibility:"hidden"},ref:n,children:e.children})})}var f=(0,i.forwardRef)(c);function h(e,t,a){const n=e.clientWidth,i=e.clientHeight;let s=a,o=t;return s>i&&(s=i,o=t*(i/a)),o>n&&(o=n,s=a*(n/t)),{style:{width:o,height:s},className:(0,r.default)(l.default.fit,l.default.fitScaledown)}}t.default=f},73437:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,u.useModelValues)(e.groupMetadata,["participants","support"]),[a,n]=(0,s.useState)((()=>_(t))),f=(0,c.default)((()=>{t.participants.ensureSorted()})),m=(0,c.default)((()=>{n(_(t))})),v=(0,o.default)((()=>new r.ShiftTimer(m)));(0,s.useEffect)((()=>{f()}),[]),(0,d.default)((()=>{v.current.cancel()})),(0,l.useListener)(t.participants,"sort remove reset add",(()=>{v.current.debounce(100)})),(0,s.useEffect)((()=>{f(),v.current.cancel(),n(_(t))}),[f,t,v]);const b=t.support?i.fbt._("Official Support Account",null,{hk:"2vlttx"}):e.overridingText||a.join(p.default.t(307))||e.placeholder;if(b)return(0,g.jsx)(h.default,{text:b,location:e.location});return null};var r=a(57319),i=a(48360),s=a(67294),o=n(a(16223)),l=a(87550),u=a(35461),d=n(a(55010)),c=n(a(89113)),f=n(a(32161)),h=n(a(32756)),p=n(a(14296)),m=a(41566),g=a(85893);function _(e){return(0,m.isDropLastNameEnabled)()?e.participants.map((t=>{const a=t.contact;return e.hasUniqueShortNameMention(a)?a.formattedShortNameWithNonBreakingSpaces:a.formattedName.replace(/\s/g," ")})):e.participants.map((e=>{const t=e.contact.formattedShortNameWithNonBreakingSpaces,[a]=t.split(/\s/);return f.default.exec(a)?a:t}))}},43556:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(76672).Mirrored(["GROUP","PROFILE","COMMUNITY","DEFAULT_ANNOUNCEMENT_GROUP"]);t.default=n},15246:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t,onPinOrUnpin:a}=e,n=(0,r.useModelValues)(e.chat,["pin"]);return(0,o.jsx)(i.DropdownItem,{a8n:"mi-pin",action:()=>{a(!n.pin)},disabled:t,children:null!=n.pin&&0!==n.pin?s.default.t(684):s.default.t(597)},"PinChat")};var r=a(35461),i=a(71174),s=n(a(14296)),o=a(85893)},87699:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liveLocationIcon=function(e){let t="live-location";e&&(t+="-active");const a=function(){switch(n.Conn.platform){case n.PLATFORMS.ANDROID:case n.PLATFORMS.SMBA:return"android";case n.PLATFORMS.IPHONE:case n.PLATFORMS.SMBI:case n.PLATFORMS.IPAD:case n.PLATFORMS.IPOD:return"iphone";case n.PLATFORMS.WP7:return"wp";default:return""}}();a&&(t+="-"+a);return t};var n=a(17239)},48256:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.E2eMessageStatusList=t.E2eMessageChatList=void 0;var r=a(14597),i=a(48360),s=a(67294),o=n(a(56720)),l=n(a(99360)),u=a(62657),d=a(41566),c=n(a(11339)),f=a(1010),h=n(a(23217)),p=a(85893);const m={container:{boxSizing:"cm280p3y",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",marginTop:"eg3lofc5",marginEnd:"gqi0zhd6",marginBottom:"pz0xruzv",marginStart:"nzcjdldu",paddingTop:"emrlamx0"},chatListContainer:{borderTop:"swyb62mu",color:"tviruh8d"},chatListIcon:{fill:"ms8wnqe5"},statusListContainer:{color:"kcq1et6t"},statusListIcon:{fill:"mesvn7sa"},icon:{marginTop:"b9l0eqez",marginEnd:"kjemk6od",display:"p357zi0d",alignItems:"gndfcl4n"},body:{textAlign:"qfejxiq4",justifyContent:"ac2vgrno",display:"p357zi0d"},main:{fontSize:"dsh4tgtl",fontWeight:"e1gr2w1z",lineHeight:"bsvz8e3l",whiteSpace:"hmy10g0s",wordBreak:"cw3vfol9"}};t.E2eMessageChatList=()=>{const e=i.fbt._("Your personal messages are {=m2}.",[i.fbt._implicitParam("=m2",(0,p.jsx)(l.default,{onClick:()=>{r.ModalManager.open((0,p.jsx)(u.E2eSummaryInfoModal,{highlightSurface:c.default.HIGHLIGHT_SURFACE.CHATS_LIST,url:(0,f.securityUrl)()}))},children:i.fbt._("end-to-end encrypted",null,{hk:"4gm4pE"})}))],{hk:"4iUOxX"});return(0,p.jsx)(g,{iconXstyle:m.chatListIcon,text:e,xstyle:m.chatListContainer,highlightSurface:c.default.HIGHLIGHT_SURFACE.CHATS_LIST})};t.E2eMessageStatusList=()=>{const e=i.fbt._("Your status updates are {=m2}.",[i.fbt._implicitParam("=m2",(0,p.jsx)(l.default,{onClick:()=>{r.ModalManager.open((0,p.jsx)(u.E2eSummaryInfoModal,{highlightSurface:c.default.HIGHLIGHT_SURFACE.STATUS_LIST,url:(0,f.securityUrl)()}))},children:i.fbt._("end-to-end encrypted",null,{hk:"3mgcMU"})}))],{hk:"41i3Ws"});return(0,p.jsx)(g,{iconXstyle:m.statusListIcon,text:e,xstyle:m.statusListContainer,highlightSurface:c.default.HIGHLIGHT_SURFACE.STATUS_LIST})};const g=e=>{let{text:t,xstyle:a,iconXstyle:n,highlightSurface:r}=e;return(0,s.useEffect)((()=>{(0,d.isPrivacyNarrativeV1Enabled)()&&new c.default.PrivacyHighlight({highlightCategory:"e2e",highlightSurface:r,userActionType:c.default.USER_ACTION_TYPE.NARRATIVE_APPEAR}).commit()}),[]),(0,d.isPrivacyNarrativeV1Enabled)()?(0,p.jsx)("div",{className:(0,o.default)(m.container,a),children:(0,p.jsxs)("div",{className:(0,o.default)(m.body),children:[(0,p.jsx)(h.default,{name:"lock-small-v2",iconXstyle:[m.icon,n],height:12,width:13}),(0,p.jsx)("div",{className:(0,o.default)(m.main),children:t})]})}):null}},62657:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.E2eSummarySecurityDrawer=t.E2eSummaryInfoModal=void 0;var r=a(14597),i=a(48360),s=a(67294),o=n(a(56720)),l=n(a(52665)),u=a(12591),d=n(a(11339)),c=n(a(23217)),f=a(85893);const h=a(76672).Mirrored(["SecurityDrawer","E2eInfoModal"]),p={boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",justifyContent:"ac2vgrno",alignItems:"gndfcl4n"},m={width:"ln8gz9je",borderBottom:"daad4uqs",paddingBottom:"r219jyu0"},g={marginTop:"opp68qpq",marginEnd:"mg7w9a8q",marginBottom:"brac1wpa",marginStart:"a6gmrtb7"},_={width:"ln8gz9je",fontSize:"p9fp32ui",marginTop:"fgtikrv0",marginEnd:"jnwc1y2a",marginBottom:"dblt22a0",marginStart:"svoq16ka",lineHeight:"l85iiqla",letterSpacing:"dktwgxt5",fontWeight:"hnx8ox4h",color:"rbdaq05k"},v={fontSize:"f8jlpxt4",marginBottom:"iyjcf3gk",lineHeight:"a4ywakfo",color:"hp667wtd"},b={color:"hp667wtd",letterSpacing:"hscjuerc",fontSize:"f8jlpxt4",lineHeight:"e4qy2s3t"},y={display:"i86elurf",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",marginTop:"hymafltn",marginEnd:"jnwc1y2a",marginBottom:"g105fvfm",marginStart:"svoq16ka"},C={paddingEnd:"kyc7k6mt"},S={textAlign:"ljrqcn24"},E={textAlign:"qfejxiq4"},T=e=>{let{icon:t,children:a}=e;return(0,f.jsxs)("li",{className:(0,o.default)(y),children:[(0,f.jsx)(c.default,{name:t,className:(0,o.default)(C),height:25,width:25}),(0,f.jsx)("span",{children:a})]})},x=e=>{const{theme:t}=e,a=[{icon:"e2e-message",text:i.fbt._("Text and voice messages",null,{hk:"4lEA4f"})},{icon:"e2e-contact-info-call",text:i.fbt._("Audio and video calls",null,{hk:"2h2b8J"})},{icon:"e2e-attachment",text:i.fbt._("Photos, videos and documents",null,{hk:"46wemA"})},{icon:"e2e-status",text:i.fbt._("Status updates",null,{hk:"1YeLwD"})}].map((e=>{let{icon:t,text:a}=e;return(0,f.jsx)(T,{icon:t,children:a},t)}));let n,r,s,l;return t===h.SecurityDrawer?(n="security-drawer-lock",r=84,s=S,l=m):(n="e2e-illustration",r=220,s=E,l=g),(0,f.jsxs)("div",{className:(0,o.default)(p,l),children:[(0,f.jsx)("div",{children:(0,f.jsx)(c.default,{name:n,width:r})}),(0,f.jsx)("div",{className:(0,o.default)(_,s),children:i.fbt._("Your chats and calls are private",null,{hk:"2ZLoAl"})}),(0,f.jsx)("div",{className:(0,o.default)(v,s),children:i.fbt._("End-to-end encryption keeps your personal messages and calls between you and the people you choose. Not even WhatsApp can read or listen to them. This includes your:",null,{hk:"2wWXme"})}),(0,f.jsx)("div",{className:(0,o.default)(b),children:(0,f.jsx)("ul",{children:a})})]})};t.E2eSummarySecurityDrawer=()=>(0,f.jsx)(x,{theme:h.SecurityDrawer});t.E2eSummaryInfoModal=e=>{(0,s.useEffect)((()=>{new d.default.PrivacyHighlight({highlightCategory:"e2e",highlightSurface:e.highlightSurface,userActionType:d.default.USER_ACTION_TYPE.DIALOG_APPEAR}).commit()}),[]);const t=i.fbt._("OK",null,{hk:"2KEeHb"}),a=i.fbt._("Learn More",null,{hk:"eSqcw"});return(0,f.jsx)(l.default,{onOK:()=>{(0,u.openExternalLink)(e.url),new d.default.PrivacyHighlight({highlightCategory:"e2e",highlightSurface:e.highlightSurface,userActionType:d.default.USER_ACTION_TYPE.DIALOG_SELECT}).commit(),r.ModalManager.close()},okText:a,onCancel:()=>r.ModalManager.close(),cancelText:t,children:(0,f.jsx)(x,{theme:h.E2eInfoModal})})}},1010:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requestAccountInfoUrl=function(){return r.default.build("https://faq.whatsapp.com/general/account-and-profile/how-to-request-your-account-information",{lg:i.default.getLocale()})},t.securityUrl=function(){return r.default.build("https://www.whatsapp.com/security/",{lg:i.default.getLocale()})};var r=n(a(76139)),i=n(a(14296))},56190:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttButton=void 0;var r=n(a(45095)),i=n(a(99964)),s=n(a(52013)),o=a(55715),l=n(a(94184)),u=a(67294),d=n(a(56720)),c=n(a(17512)),f=a(85893);const h=(0,u.forwardRef)(((e,t)=>{const{a8nKey:a,ariaLabel:n,children:h,xstyle:p,confirmOnMouseUp:m,disabled:g,onConfirm:_,dataTab:v}=e,b=(0,u.useRef)(null);(0,u.useImperativeHandle)(t,(()=>({focus:()=>s.default.focus((0,r.default)(b.current,"buttonRef.current"))})));const y=(0,u.useRef)(!1);let C,S,E;return g||(S=()=>{y.current=!0,window.addEventListener("mouseup",(()=>{y.current=!1}),{once:!0})},C=e=>{m&&(y.current||0===e.button&&_(e))},E=_),(0,f.jsx)("button",{ref:b,"data-a8n":i.default.key(a),"data-tab":null!=v?v:o.TAB_ORDER.PTT_BUTTON,className:(0,l.default)((0,d.default)(p),c.default.clipFix),onClick:E,onMouseUp:C,onMouseDown:S,"aria-label":n,"aria-disabled":g,children:h})}));t.PttButton=h,h.displayName="PttButton"},50270:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttCancelButton=void 0;var r=a(48360),i=a(67294),s=n(a(56720)),o=a(56190),l=a(85893);const u={pttCancelButton:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"mgp6u6um",height:"j8e73hjv",color:"r8quorc8",":hover":{color:"mtber8f9"}},svg:{width:"i0x3nve6"}},d=(0,i.forwardRef)(((e,t)=>{const{onConfirm:a,confirmOnMouseUp:n,disabled:i}=e;return(0,l.jsx)(o.PttButton,{ref:t,xstyle:u.pttCancelButton,a8nKey:"ptt-cancel-btn",ariaLabel:r.fbt._("Cancel",null,{hk:"3jOaUM"}),confirmOnMouseUp:n,onConfirm:a,disabled:i,children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 22",className:(0,s.default)(u.svg),children:(0,l.jsx)("path",{d:"M5,0,3,2H0V4H16V2H13L11,0ZM15,5H1V19.5A2.5,2.5,0,0,0,3.5,22h9A2.5,2.5,0,0,0,15,19.5Z",fill:"currentColor"})})})}));t.PttCancelButton=d,d.displayName="PttCancelButton"},68400:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttCloseButton=void 0;var r=a(48360),i=a(67294),s=(n(a(56720)),a(56190)),o=a(85893);const l={base:{width:"i0x3nve6",height:"hpdpob1j"},outOfChat:{width:"mgp6u6um",height:"j8e73hjv",marginStart:"p3lsiedt",marginTop:"b9l0eqez",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",color:"bsd0t79a"},outOfChatEnabled:{":hover":{opacity:"gnd3v8n5"}}},u=(0,i.forwardRef)(((e,t)=>{const{onConfirm:a,dataTab:n,theme:i,disabled:u=!1}=e,d="out-of-chat-playback"===i;return(0,o.jsx)(s.PttButton,{ref:t,xstyle:[l.base,d&&l.outOfChat,d&&!u&&l.outOfChatEnabled],a8nKey:"ptt-player-close-button",onConfirm:a,confirmOnMouseUp:!1,dataTab:n,disabled:u,ariaLabel:r.fbt._("Close",null,{hk:"2TV3vP"}),children:(0,o.jsx)("svg",{width:"15.6",height:"15.6",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M15.8002 1.80001L14.2002 0.200012L8.0002 6.40001L1.8002 0.200012L0.200195 1.80001L6.4002 8.00001L0.200195 14.2L1.8002 15.8L8.0002 9.60001L14.2002 15.8L15.8002 14.2L9.6002 8.00001L15.8002 1.80001Z",fill:"white"})})})}));t.PttCloseButton=u,u.displayName="PttCloseButton"},90601:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttPauseAndResumeRecordingButton=void 0;var r=a(48360),i=a(67294),s=n(a(56720)),o=a(56190),l=a(85893);const u={pttPauseAndResumeRecordingButton:{position:"g0rxnol2",width:"tknnhhou",height:"sai7fuui",color:"odoy9p39"},pttPauseAndResumeRecordingButtonEnabled:{":hover":{color:"qpj2ed6z"}},growOnHover:{transition:"iwt3stqw",transformOrigin:"s79hpmcy"},growOnHoverEnabled:{":hover":{transform:"ksz6vod1"}},icon:{position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0",width:"ln8gz9je",height:"ppled2lx",opacity:"axi1ht8l",transition:"odkvbdo1",transform:"sqzaidt6"},iconActive:{opacity:"bs7a17vp",transform:"b4xm8rjh"}},d=(0,i.forwardRef)(((e,t)=>{const{recording:a,onConfirm:n,confirmOnMouseUp:i,disabled:d=!1}=e,c=a?r.fbt._("Pause recording",null,{hk:"2x8PGf"}):r.fbt._("Resume recording",null,{hk:"4nMHh3"}),f=(0,s.default)(u.growOnHover,!d&&u.growOnHoverEnabled);return(0,l.jsxs)(o.PttButton,{ref:t,xstyle:[u.pttPauseAndResumeRecordingButton,!d&&u.pttPauseAndResumeRecordingButtonEnabled],a8nKey:"ptt-pause-and-resume-recording-button",ariaLabel:c,confirmOnMouseUp:i,onConfirm:n,disabled:d,children:[(0,l.jsx)("div",{className:(0,s.default)(u.icon,a&&u.iconActive),children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[(0,l.jsx)("circle",{cx:"16",cy:"16",r:"14.75",fill:"none",stroke:"currentColor",strokeWidth:"2.5"}),(0,l.jsx)("path",{className:f,d:"M20.65,21.69V10.25H17.31V21.69Zm-9.3-11.44V21.69h3.34V10.25Z",fill:"currentColor"})]})}),(0,l.jsx)("div",{className:(0,s.default)(u.icon,!a&&u.iconActive),children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:f,children:[(0,l.jsx)("path",{fill:"currentColor",d:"M16,4c1.9,0,3.4,1.4,3.4,3.1v8.6c0,1.7-1.5,3.1-3.4,3.1 c-1.9,0-3.4-1.4-3.4-3.1V7.1C12.6,5.4,14.1,4,16,4"}),(0,l.jsx)("path",{fill:"currentColor",d:"M16.3,23.4c-0.2,0-0.6,0-0.9,0l-0.3,0c-3.7-0.4-6.6-3.7-7.1-7.8 L8,15.2c0-0.5,0.3-0.9,0.8-0.9h0.4c0.5,0,0.8,0.4,0.9,0.9l0.1,0.4c0.5,3.1,3,5.5,5.9,5.5c2.9,0,5.3-2.3,5.9-5.4l0.1-0.4 c0-0.5,0.4-0.9,0.9-0.9h0.4c0.4,0,0.8,0.4,0.8,0.9c0,0,0,0.1-0.1,0.6c-0.6,4.1-3.7,7.3-7.4,7.6L16.3,23.4z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M17.1,27.3c0,0.4-0.4,0.7-0.9,0.7h-0.5c-0.5,0-0.9-0.3-0.9-0.7V23 c0-0.4,0.4-0.7,0.9-0.7h0.5c0.5,0,0.9,0.3,0.9,0.7V27.3z"})]})})]})}));t.PttPauseAndResumeRecordingButton=d,d.displayName="PttPauseAndResumeRecordingButton"},16538:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttPlayPauseButton=void 0;var r=a(48360),i=a(67294),s=n(a(56720)),o=a(56190),l=a(85893);const u={base:{width:"i0x3nve6",height:"hpdpob1j"},composeBox:{color:"a95u9rhs"},composeBoxEnabled:{":hover":{color:"sao4npu1"}},outOfChat:{width:"mgp6u6um",height:"j8e73hjv",marginStart:"pmmx02fg",marginTop:"b9l0eqez",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n",color:"bsd0t79a"},outOfChatEnabled:{":hover":{opacity:"gnd3v8n5"}}},d={transform:"d7dzraxg"},c=(0,i.forwardRef)(((e,t)=>{const{paused:a,onConfirm:n,disabled:i=!1,theme:c,dataTab:f}=e,h=a?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"18px",viewBox:"0 0 16 18",className:(0,s.default)(d),children:(0,l.jsx)("path",{d:"M15.05,8.39,2,.32a1,1,0,0,0-1.53.85V16.83A1,1,0,0,0,2,17.7L15,10.1A1,1,0,0,0,15.05,8.39Z",fill:"currentColor"})}):(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"18px",viewBox:"0 0 16 18",children:[(0,l.jsx)("path",{fill:"currentColor",d:"M1.9,1c-0.6,0-1,0.4-1,1v14c0,0.6,0.4,1,1,1H5c0.6,0,1-0.4,1-1V2c0-0.6-0.4-1-1-1H1.9z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M10.9,1c-0.6,0-1,0.4-1,1v14c0,0.6,0.4,1,1,1h3.1c0.6,0,1-0.4,1-1V2c0-0.6-0.4-1-1-1H10.9z"})]});return(0,l.jsx)(o.PttButton,{ref:t,xstyle:[u.base,"compose-box"===c&&u.composeBox,"compose-box"===c&&!i&&u.composeBoxEnabled,"out-of-chat-playback"===c&&u.outOfChat,"out-of-chat-playback"===c&&!i&&u.outOfChatEnabled],a8nKey:"ptt-play-pause-button",onConfirm:n,confirmOnMouseUp:!1,disabled:i,dataTab:f,ariaLabel:a?r.fbt._("Play",null,{hk:"4CjEWt"}):r.fbt._("Pause",null,{hk:"1kvbzt"}),children:h})}));t.PttPlayPauseButton=c,c.displayName="PttPlayPauseButton"},91921:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttSendButton=void 0;var r=a(48360),i=a(67294),s=n(a(56720)),o=n(a(14296)),l=a(56190),u=a(85893);const d={pttSendButton:{width:"mgp6u6um",minWidth:"c59meja3",height:"j8e73hjv",color:"i8t1ujht"},pttSendButtonEnabled:{":hover":{color:"fiyt298h"}},growOnHover:{transition:"iwt3stqw",transformOrigin:"s79hpmcy"},growOnHoverEnabled:{":hover":{transform:"ksz6vod1"}},pttSendButtonIconRTL:{transform:"n4o0o7gj"}},c=(0,i.forwardRef)(((e,t)=>{const{disabled:a=!1,confirmOnMouseUp:n,onConfirm:i}=e;return(0,u.jsx)(l.PttButton,{ref:t,xstyle:[d.pttSendButton,!a&&d.pttSendButtonEnabled],a8nKey:"ptt-send-btn",ariaLabel:r.fbt._("Send",null,{hk:"4xIWBB"}),confirmOnMouseUp:n,onConfirm:i,disabled:a,children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",className:(0,s.default)(o.default.isRTL()&&d.pttSendButtonIconRTL),children:[(0,u.jsx)("path",{d:"M17.5,0h0A17.51,17.51,0,0,1,35,17.5h0A17.51,17.51,0,0,1,17.5,35h0A17.51,17.51,0,0,1,0,17.5H0A17.51,17.51,0,0,1,17.5,0Z",fill:"currentColor"}),(0,u.jsx)("path",{className:(0,s.default)(d.growOnHover,!a&&d.growOnHoverEnabled),d:"M25.64,18.55,11.2,24.93a.86.86,0,0,1-1.13-.44.83.83,0,0,1-.06-.44l.48-4.11a1.36,1.36,0,0,1,1.24-1.19l7.51-.6a.16.16,0,0,0,.14-.16.16.16,0,0,0-.14-.14l-7.51-.6a1.36,1.36,0,0,1-1.24-1.19L10,12a.84.84,0,0,1,.74-.94.87.87,0,0,1,.45.06l14.44,6.38a.61.61,0,0,1,.31.79A.59.59,0,0,1,25.64,18.55Z",fill:"#fff"})]})})}));t.PttSendButton=c,c.displayName="PttSendButton"},22234:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttStopButton=void 0;var r=a(48360),i=a(67294),s=n(a(56720)),o=a(56190),l=a(85893);const u={pttStopButton:{width:"tknnhhou",height:"sai7fuui",color:"odoy9p39"},pttStopButtonEnabled:{":hover":{color:"qpj2ed6z"}},growOnHover:{transition:"iwt3stqw",transformOrigin:"s79hpmcy"},growOnHoverEnabled:{":hover":{transform:"ksz6vod1"}}},d=(0,i.forwardRef)(((e,t)=>{const{onConfirm:a,confirmOnMouseUp:n,disabled:i=!1}=e;return(0,l.jsx)(o.PttButton,{ref:t,xstyle:[u.pttStopButton,!i&&u.pttStopButtonEnabled],a8nKey:"ptt-stop-button",ariaLabel:r.fbt._("Stop",null,{hk:"3e89E3"}),confirmOnMouseUp:n,onConfirm:a,disabled:i,children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[(0,l.jsx)("path",{fill:"currentColor",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z M16,30C8.3,30,2,23.7,2,16S8.3,2,16,2 s14,6.3,14,14S23.7,30,16,30z"}),(0,l.jsx)("path",{className:(0,s.default)(u.growOnHover,!i&&u.growOnHoverEnabled),fill:"currentColor",d:"M13,11c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2v-6c0-1.1-0.9-2-2-2H13z"})]})})}));t.PttStopButton=d,d.displayName="PttStopButton"},80132:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Radio=f,t.RadioWithLabel=function(e){const{label:t,isHovered:a}=e,n=(0,i.default)(e,d),[l,h]=(0,s.useState)(a),p=()=>{h(!0)},m=()=>{h(!1)};return(0,u.jsxs)("label",{className:(0,o.default)(c.option),onMouseOver:p,onMouseOut:m,onFocus:p,onBlur:m,children:[(0,u.jsx)(f,(0,r.default)((0,r.default)({},n),{},{isHovered:l})),(0,u.jsx)("span",{className:(0,o.default)(c.optionText),children:t})]})};var r=n(a(81109)),i=n(a(6479)),s=a(67294),o=n(a(56720)),l=n(a(23217)),u=a(85893);const d=["label","isHovered"],c={container:{display:"p357zi0d"},a11yHidden:{position:"lhggkp7q",width:"cxec7x23",height:"kanlod6e",overflowX:"gfz4du6o",overflowY:"r7fjleex",clip:"nmeg1xfo",clipPath:"okm7a8wg",whiteSpace:"le5p0ye3"},option:{display:"p357zi0d",paddingTop:"a71rq12o",paddingEnd:"f9ovudaz",paddingBottom:"pcbmd69e",paddingStart:"gx1rr48f",cursor:"ajgl1lbb"},optionText:{fontSize:"enbbiyaj",lineHeight:"htjsae3x",display:"l7jjieqr",paddingStart:"khscay3k"},svg:{opacity:"brh521k9",fill:"h9l086de"},svgOver:{opacity:"bs7a17vp"}};function f(e){let t;t=!0===e.checked?"checkbox-round-radio-checked":"checkbox-round-passive";const a=(0,s.useRef)(),n=(0,o.default)(c.svg,(!0===e.checked||e.isHovered)&&c.svgOver);return(0,u.jsxs)("div",{className:(0,o.default)(c.container),children:[(0,u.jsx)("input",{type:"radio",ref:a,name:e.name,value:e.value,checked:e.checked,onChange:e.onChange,className:(0,o.default)(c.a11yHidden),"data-testid":"radio-input",tabIndex:"-1"}),(0,u.jsx)("div",{className:n,onClick:function(){var e,t;null===(e=a.current)||void 0===e||e.click(),null===(t=a.current)||void 0===t||t.focus()},"data-testid":"radio-input-ui",tabIndex:"-1","aria-hidden":"true","aria-checked":e.checked,role:"radio",children:(0,u.jsx)(l.default,{name:t})})]})}},21018:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return i};var r=n(a(23279));let i=window.innerHeight;const s=(0,r.default)((()=>{i=window.innerHeight}),500);window.addEventListener("resize",s)},16745:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;let o=0;if(!e)return o;e.quotedMsg&&(o+=54);e.caption&&(o+=31);switch(e.type){case r.MSG_TYPE.NOTIFICATION:case r.MSG_TYPE.GROUP_NOTIFICATION:case r.MSG_TYPE.GP2:case r.MSG_TYPE.BROADCAST_NOTIFICATION:case r.MSG_TYPE.E2E_NOTIFICATION:case r.MSG_TYPE.CALL_LOG:case r.MSG_TYPE.CIPHERTEXT:case r.MSG_TYPE.REVOKED:case r.MSG_TYPE.CHAT:e.linkPreview&&(o+=53);const l=(0,n.numCodepoints)(e.body&&e.body.toString());return o+19*Math.ceil(l/100)+13;case r.MSG_TYPE.IMAGE:return o+((null===(t=e.mediaData)||void 0===t?void 0:t.fullWidth)&&(null===(a=e.mediaData)||void 0===a?void 0:a.fullHeight)||0)?Math.floor(Math.min(330/e.mediaData.fullWidth*e.mediaData.fullHeight,330)):330;case r.MSG_TYPE.VIDEO:case r.MSG_TYPE.AUDIO:return e.isGif?o+137:o+166;case r.MSG_TYPE.LOCATION:return o+e.isLive?i.MSG_HEIGHT:s.PREVIEW_HEIGHT;case r.MSG_TYPE.PTT:return o+67;case r.MSG_TYPE.VCARD:return o+74;case r.MSG_TYPE.DOCUMENT:return o+188;case r.MSG_TYPE.STICKER:return o+125;case r.MSG_TYPE.UNKNOWN:default:return o}};var n=a(64331),r=a(15461),i=a(19795),s=a(27863)},75705:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RenderCursor=t.RENDER_CURSOR=void 0;var r=n(a(81109)),i=a(78820),s=a(81250),o=n(a(21018)),l=n(a(16745));const u={RECENT_AT_TOP:"recent_at_top",RECENT_AT_BOTTOM:"recent_at_bottom",CONVERSATION:"conversation",GROUP_CONVERSATION:"group_conversation",STARRED_DRAWER:"starred_drawer"};t.RENDER_CURSOR=u;const d="before",c="after",f=12;function h(e,t,a){let n=t;const r=e.toArray(),i=a===d?-1:1;return{hasNext:()=>n>=0&&n<r.length,next(){const e=r[n];return e||__LOG__(3)`Invalid cursor at ${n}, array.length = ${r.length}, element = ${e}`,n+=i,e}}}function p(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;const i=(0,o.default)()*n,u=h(e,t,a);let d,c=0,p=0;for(;u.hasNext();){const e=u.next(),t=(0,l.default)(e),a=2*(e.isNotification?1:0)+e.isSentByMe;if(c+=t+(a&&a===d?2:f),p++,c>i)break;if(p>=r)break;const n=e.asGroupedSticker,o=null!=e.asAlbumAsset;if(n||o){const t=[];let a=!1,d=1;if(n){let n;if(u.hasNext()){if(n=u.next(),t.push(n),p++,p>=r)break;(0,s.canBeGroupedAsAlbum)(e.safe(),n.safe())&&n.asGroupedSticker&&(a=!0)}}if(o){let a,n=e;for(;u.hasNext()&&d<s.ALBUM_MAX_SIZE&&(a=u.next(),t.push(a),p++,!(p>=r))&&(0,s.canBeGroupedAsAlbum)(n.safe(),a.safe())&&a.asAlbumAsset;)d++,n=a}if(n&&!a||o&&d<s.ALBUM_MIN_SIZE){if(c+=t.reduce(((e,t)=>e+(0,l.default)(t)),0),c>i)break}}d=a}return p}function m(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;const u=(0,o.default)()*n,d=h(e,t,a);let c,p=0,m=0;for(;d.hasNext();){const e=d.next(),t=(0,l.default)(e),a=e.author||(e.isSentByMe?(0,i.getMaybeMeUser)():void 0);if(p+=t+(a&&!e.isSentByMe&&a!==c?19:0)+(a&&a===c?2:f),m++,p>u)break;if(m>=r)break;const n=e.asGroupedSticker,o=null!=e.asAlbumAsset;if(n||o){const t=[];let a=!1,i=1;if(n){let n;if(d.hasNext()){if(n=d.next(),t.push(n),m++,m>=r)break;(0,s.canBeGroupedAsAlbum)(e.safe(),n.safe())&&n.asGroupedSticker&&(a=!0)}}if(o){let a,n=e;for(;d.hasNext()&&i<s.ALBUM_MAX_SIZE&&(a=d.next(),t.push(a),m++,!(m>=r))&&(0,s.canBeGroupedAsAlbum)(n.safe(),a.safe())&&null!=a.asAlbumAsset;)i++,n=a}if(n&&!a||o&&i<s.ALBUM_MIN_SIZE){if(p+=t.reduce(((e,t)=>e+(0,l.default)(t)),0),p>u)break}}c=a}return m}function g(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;const i=(0,o.default)()*n,s=h(e,t,a);let u=0,d=0;for(;s.hasNext();){const e=s.next();if(u+=(0,l.default)(e)+65,d++,u>i)break;if(d>=r)break}return d}function _(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const n=2*(0,o.default)(),r=h(e,t,a);let[i,s,u]=[0,!0,null];for(;r.hasNext();){const e=r.next(),t=(0,l.default)(e),a=2*(e.isNotification?1:0)+e.isSentByMe;if(i+=t+(a&&a===u?2:f),i>n){s=!1;break}u=a}return s}class v{static create(e){const{msgCollection:t,focusedMsgKey:a,type:n,maxInitialCount:r=Number.MAX_SAFE_INTEGER}=e;return new v({type:n}).init(a,t,r)}constructor(e){const{type:t,before:a,after:n,focusedMsgKey:r,prevFocusedMsgKey:i}=e;this._type=t,this._focusedMsgKey=r,this._prevFocusedMsgKey=i,this.before=a||0,this.after=n||0}_cloneWith(e){return new v((0,r.default)({type:this._type,before:this.before,after:this.after,focusedMsgKey:this._focusedMsgKey,prevFocusedMsgKey:this._prevFocusedMsgKey},e))}_getCursorSize(e,t,a,n,r){return function(e){switch(e){case u.CONVERSATION:return p;case u.GROUP_CONVERSATION:return m;case u.STARRED_DRAWER:return g;default:return p}}(this._type)(e,t,a,n,r)}getStart(e){return Math.max(b(this._focusedMsgKey,e,this._type)-this.before,0)}getEnd(e){return Math.min(b(this._focusedMsgKey,e,this._type)+this.after+1,e.length)}hasBefore(e){return b(this._focusedMsgKey,e,this._type)-this.before>0}hasAfter(e){return b(this._focusedMsgKey,e,this._type)+this.after<e.length-1}init(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return new v({type:this._type,before:0,after:0,focusedMsgKey:e}).loadBefore(t,{factor:1,maxCount:a}).loadAfter(t,{factor:1,maxCount:a})}setFocusedMsgKey(e,t){const a=b(this._focusedMsgKey,e,this._type),n=b(t,e,this._type);let r,i;return t?(i=this.after-(n-a),r=this.before+(n-a)):(r=this.before+this.after,i=0),this._cloneWith({focusedMsgKey:t,before:r,after:i})._updatePrev(e)}ensureValidFocus(e){const t=null!=this._prevFocusedMsgKey&&null==e.get(this._prevFocusedMsgKey),a=null!=this._focusedMsgKey&&null==e.get(this._focusedMsgKey);let n=this;return t&&(n=n._updatePrev(e)),a&&(n=n.focusBefore(e)),n}_updatePrev(e){const t=b(this._focusedMsgKey,e,this._type);return this._cloneWith({prevFocusedMsgKey:t>0?e.at(t-1).id:void 0})}focusBefore(e){return this._cloneWith({focusedMsgKey:this._prevFocusedMsgKey})._updatePrev(e)}loadBefore(e,t){const{count:a,maxCount:n=Number.MAX_SAFE_INTEGER,factor:r=2}=t||{},i=null!=a&&0!==a?a:this._getCursorSize(e,Math.max(0,this.getStart(e)-1),d,r,n);return this._cloneWith({before:this.before+i})}loadAfter(e,t){const{count:a,maxCount:n=Number.MAX_SAFE_INTEGER,factor:r=2}=t||{},i=null!=a&&0!==a?a:this._getCursorSize(e,this.getEnd(e),c,r,n);return this._cloneWith({after:this.after+i})}loadBeforeCapped(e,t){const{count:a,factor:n=2}=t||{};return _(e,this.getStart(e),c)?this.loadBefore(e,{count:a,factor:n}):this}resetBeforeCursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;if(!_(e,this.getStart(e),c)){const a=Math.max(0,this.getEnd(e)-1),n=this._getCursorSize(e,a,d,2,t);return this._cloneWith({before:Math.min(this.before,n)})}return this}}function b(e,t,a){if(e){const a=t.get(e),n=t.indexOf(a);if(-1!==n)return n}return function(e){switch(e){case u.CONVERSATION:case u.GROUP_CONVERSATION:return u.RECENT_AT_BOTTOM;case u.STARRED_DRAWER:return u.RECENT_AT_TOP;default:return u.RECENT_AT_BOTTOM}}(a)===u.RECENT_AT_TOP?0:t.length-1}t.RenderCursor=v},8694:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(6479)),s=n(a(94184)),o=a(67294),l=n(a(48711)),u=n(a(78506)),d=n(a(37453)),c=n(a(89113)),f=n(a(96153)),h=a(85893);const p=["children","className","onResize"];function m(e,t){const{children:a,className:n,onResize:m}=e,g=(0,i.default)(e,p),_=(0,c.default)(m),[v,b]=(0,l.default)(),y=(0,u.default)(v,t),C=(0,d.default)(b);return(0,o.useEffect)((()=>{if(null!=C&&(b.width!==C.width||b.height!==C.height)){const{width:e,height:t}=b;_({width:e,height:t})}}),[b,C,_]),(0,h.jsx)("div",(0,r.default)((0,r.default)({className:(0,s.default)(f.default.container,n),ref:y},g),{},{children:a}))}var g=(0,o.forwardRef)(m);t.default=g},91665:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getObserverMap=o,t.getResizeObserver=l,t.observe=function(e,t){const a=l(),n=o();if(n.has(e))throw new Error("You can't observe the same element twice.");return n.set(e,t),a.observe(e),()=>{a.unobserve(e),n.delete(e)}};var r=n(a(91033));let i,s;function o(){return null==i&&(i=new WeakMap),i}function l(){return null==s&&(s=new r.default((e=>{for(const t of e){const e=o().get(t.target),a=t.contentRect,{x:n,y:r,width:i,height:s,top:l,left:u,bottom:d,right:c}=a;null!=e&&e({x:n,y:r,width:i,height:s,top:l,left:u,bottom:d,right:c})}}))),s}},61146:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{width:t,height:a,rgbaBuffer:i}=e,s=(0,n.useRef)(null),o=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=s.current,t=o.current;e&&t&&i&&(t.data.set(new Uint8Array(i)),e.putImageData(t,0,0))}),[i]),(0,r.jsx)("canvas",{role:"button",className:e.className,width:e.width,height:e.height,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,ref:e=>{e?(s.current=e.getContext("2d"),o.current=s.current.createImageData(t,a)):(s.current=null,o.current=null)}})};var n=a(67294),r=a(85893)},62101:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePlugin=void 0,t.pluginContext=function(){return Symbol("rte-plugin")};t.BasePlugin=class{constructor(){this._internalHandlers=new Map}initialize(e){this.ctx=e}registerHandler(e,t,a){const n=this._internalHandlers.get(t)||new Map;n.set(e,a),this._internalHandlers.set(t,n)}unregisterHandler(e,t){const a=this._internalHandlers.get(t);a&&(a.delete(e),a.size||this._internalHandlers.delete(t))}handle(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=this._internalHandlers.get(e);return!!a&&function(e){const t=[];return e.forEach((e=>t.push(e))),t}(a).some((e=>e.apply(null,t)))}}},31079:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1769)),i=a(52835),s=a(18609),o=n(a(70527)),l=a(72761),u=n(a(9180)),d=n(a(8103)),c=n(a(15196)),f=a(16477),h=n(a(65894)),p=n(a(68662));const m=new o.default,g=new r.default;class _ extends((0,l.PluggableInput)([i.EmojiPlugin,g,d.default,m,c.default,u.default])){}t.default=_,_.Suggestions=(0,p.default)(f.Suggestions,{plugin:m}),_.EmojiSuggestions=(0,p.default)(s.EmojiSuggestions,{plugin:g}),_.QuickRepliesSuggestions=(0,p.default)(h.default,{plugin:u.default})},18888:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;const t=new r.default,a=(0,o.PluggableInput)([i.EmojiPlugin,t,l.default]);return(e=class extends a{}).EmojiSuggestions=(0,u.default)(s.EmojiSuggestions,{plugin:t}),e};var r=n(a(1769)),i=a(52835),s=a(18609),o=a(72761),l=n(a(8103)),u=n(a(68662))},8932:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{base:t,unicode:a,action:n,children:u}=e;return(0,l.jsxs)("div",{className:o.default.gridContainer,children:[(0,l.jsx)("span",{className:o.default.baseEmoji,children:(0,l.jsx)(r.DropdownItem,{type:"emoji-grid",a8n:"mi-emoji-variant",action:e=>n(e,a,t),children:(0,l.jsx)(i.EmojiText,{text:t,formatters:s.Configuration.LargeEmojiOnly(),tabIndex:"-1"})},"base")}),(0,l.jsx)("div",{className:o.default.options,children:u})]})};var r=a(71174),i=a(65417),s=a(30695),o=n(a(37349)),l=a(85893)},1791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=e.reduce(((e,t)=>{const{handlers:a}=t;return a?(Object.keys(a).forEach((n=>{e[n]||(e[n]=[]);const r=a[n];null!=r&&e[n].push([t,r])})),e):e}),{});return Object.keys(a).reduce(((e,n)=>{const r=a[n];return e[n]=function(e,t){return a=>{e.some((e=>{let[n,r]=e;const i=r.call(n,a,t);return!!a.defaultPrevented||!0===i&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!0)}))}}(r,t),e}),{})}},82958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=e.reduce(((e,t)=>{const{hooks:a}=t;return a?(Object.keys(a).forEach((n=>{e[n]||(e[n]=[]),e[n].push([t,a[n]])})),e):e}),{});return Object.keys(a).reduce(((e,n)=>(e[n]=function(e,t){return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];e.forEach((e=>{let[a,r]=e;return r.call(a,...n,t)}))}}(a[n],t),e)),{})}},70411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=e.reduce(((e,t)=>{const{hotkeys:a}=t;return a?(Object.keys(a).forEach((n=>{e[n]||(e[n]=[]),e[n].push([t,a[n]])})),e):e}),{});return Object.keys(a).reduce(((e,n)=>(e[n]=function(e,t){return a=>{e.some((e=>{let[n,r]=e;const i=r.call(n,a,t);return!!a.defaultPrevented||!0===i&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!0)}))}}(a[n],t),e)),{})}},72473:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,t.getSelectionSibling=function(e,t){const a=window.getSelection();if(!a||!a.rangeCount)return null;const n=a.getRangeAt(0);if(!n.collapsed)return null;const{startContainer:i,startOffset:s}=n;if(i===e){const{childNodes:e}=i,{length:a}=e;if(t===r.FORWARD&&s>a||t===r.BACKWARD&&!s)return null;const n=t===r.BACKWARD?1:0,o=e[s-n];return o instanceof Element?o:null}const o=i.length===s;if(t===r.BACKWARD&&s)return null;if(t===r.FORWARD&&!o)return null;const l=t===r.BACKWARD?"previousSibling":"nextSibling",u=i[l];return u instanceof Element?u:null};const r=(0,n(a(66919)).default)({FORWARD:void 0,BACKWARD:void 0});t.Direction=r},81472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!e.getModifierState("Shift")&&!e.getModifierState("Alt")&&!e.getModifierState("Control")}},42107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof HTMLElement&&Boolean(e.dataset.mentionJid)}},27666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.metaKey||e.shiftKey||e.altKey||e.ctrlKey}},12062:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(a,n){let o="",l=!1,u=!0;return(0,i.default)(a,n,(a=>{return l?(n=a,u=r.EmojiUtil.isEmoji(n)||s.test(n),!0):o.length>e||(l=a===t,void(l||(o=a+o)));var n})),l&&u?o:null}};var r=a(67247),i=n(a(37773));const s=/\W/},37773:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(1!==t.rangeCount)return;if(!t.getRangeAt(0).collapsed)return;let{anchorNode:n,anchorOffset:u}=t;if(n&&n===e.refInput){if(u-=1,-1===u)return;if(n=n.childNodes[u],null==n)return;u=n.textContent.length}n=(0,o.default)(n)?l(n):n,(0,r.default)(n,(e=>{const t=l(e);return t?[t]:[]}),(e=>{let t,r;if((0,s.isEmojiEl)(e))return t=i.Clipboard.fromNode(e,!0).toPlainString(),a(t,0,t);r=e===n?e.textContent.slice(0,u):e.textContent;const o=r.lastIndexOf("\n"),l=o>=0;let d;l&&(r=r.slice(o+1));for(let e=r.length-1;e>=0;e--)if(t=r.charAt(e),d=a(t,e,r),d)return!0;return!!l||void 0}))};var r=n(a(52047)),i=a(11933),s=a(52835),o=n(a(29958));function l(e){let t=e;do{var a;if(t=null===(a=t)||void 0===a?void 0:a.previousSibling,t&&t.nodeType!==Node.TEXT_NODE&&!(0,s.isEmojiEl)(t))return null}while(t&&(0,o.default)(t));return t}},264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a=t;for(;a>0;)e.modify("extend","backward","character"),a--}},66065:(e,t)=>{"use strict";function a(e,t){return e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.matches(t)}function n(e,t){for(let n=0;n<t.length;++n){const{serializers:r}=t[n];if(r)for(let t=0;t<r.length;++t){const[n,i]=r[t];if(a(e,n))return i}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=[];let s=e.cloneNode(!0).firstChild;for(;s;){switch(s.nodeType){case r:{const e=n(s,t);if(e){a.push(e(s));break}switch(s.tagName){case"P":case"BR":case"PRE":a.push("\n");break;case"DIV":s.firstChild&&3!==s.firstChild.nodeType||a.push("\n")}break}case i:a.push(s.nodeValue)}if(s.hasChildNodes())s=s.firstChild;else{for(;s&&!s.nextSibling;)if(s=s.parentNode,s===e){s=null;break}s&&(s=s.nextSibling)}}return a.join("")};const r=1,i=3},748:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(66065));var i=(e,t)=>{t.focusNode||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("serializeTextBeforeCursor requires selection.focusNode"));const a=document.createRange();a.setStart(e,0),a.setEnd(t.focusNode,t.focusOffset);const n=a.cloneContents();return(0,r.default)(n,[])};t.default=i},95605:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.reduce(((e,t)=>{let{parsers:a}=t;return a?a.reduce(((e,t)=>t(e)),e):e}),(0,r.default)(e))};var r=n(a(7187))},68662:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=a(85893);var s=(e,t)=>{var a,n;function s(a){return(0,i.jsx)(e,(0,r.default)((0,r.default)({},a),t))}return s.displayName=`Wrapper(${null!==(a=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==a?a:"Component"})`,s};t.default=s},7057:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(a(66919)).default)({CHANGE:void 0,MOUNT:void 0,INPUT:void 0});t.default=r},69995:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(98913)),i=n(a(74691)),s=a(67294),o=n(a(56720)),l=n(a(49357)),u=a(29424),d=n(a(70842)),c=n(a(14296)),f=n(a(8694)),h=n(a(23217)),p=a(93353),m=n(a(89256)),g=n(a(1784)),_=a(85893);const v={button:{position:"lhggkp7q",zIndex:"jnl3jror",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"ppled2lx",backgroundColor:"jfnhg5wd"},buttonIcon:{color:"a633jkfz"},floatRight:{top:"qq0sjtgm",right:"grt5ktjy"},floatLeft:{top:"qq0sjtgm",left:"tukmaf4q"},resizeContainer:{height:"ppled2lx",width:"ln8gz9je",backgroundColor:"jfnhg5wd"},tabItem:{display:"l7jjieqr",marginLeft:"lalctav4",marginRight:"lyrceosr"},tabContainer:{overflowX:"gfz4du6o",overflowY:"r7fjleex",whiteSpace:"le5p0ye3"},tabList:{transitionProperty:"bo8jc6qi",transitionDuration:"p4t1lx4y",transitionTimingFunction:"pu4k07i0"}},b=(e,t,a,n)=>{if(!e||!t)return!1;const r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),s=(null==a?void 0:a.clientWidth)||0,o=(null==n?void 0:n.clientWidth)||0;return i.right>r.right-(c.default.isRTL()?o:s)||i.left<r.left+(c.default.isRTL()?s:o)};function y(e){let{xstyle:t,icon:a,onClick:n,onRef:r}=e;return(0,_.jsx)(g.default,{ref:r,xstyle:[v.button,t],onClick:n,children:(0,_.jsx)(h.default,{className:(0,o.default)(v.buttonIcon),name:a})})}function C(e,t){const[a,n]=(0,s.useState)(0),[h,g]=(0,s.useState)(0),[C,S]=(0,s.useState)(0),[E,T]=(0,s.useState)(!1),[x,M]=(0,s.useState)(0),[k,w]=(0,s.useState)(0),P=(0,s.useContext)(d.default),{className:A,onItemClick:j,numItems:I,renderItem:O,selectedIndex:N,buttonStyle:R}=e,D=(0,s.useRef)([]),L=(0,s.useRef)([]),B=(0,s.useRef)(null),F=(0,s.useRef)(null),G=(0,s.useRef)(null);(0,s.useEffect)((()=>{if(!j)return;const e=(0,i.default)(N,0,I);e!==N&&(j(e),__LOG__(4,void 0,new Error,!0)`Selection out of bounds`,SEND_LOGS(`auto_carousel_menu: selectedIndex (${N}) is out of bounds (0-${I})`)),N>I?j(I):N<0&&j(0)}),[N,I,j]),(0,s.useLayoutEffect)((()=>{var e;const t=e=>e?c.default.isRTL()?a-e.offsetLeft-e.clientWidth:e.offsetLeft:0,n=D.current[N],r=D.current[h],i=D.current[D.current.length-1],s=t(r),o=((e,a)=>e?t(e)+e.clientWidth-a:0)(i,s);M((null==n?void 0:n.clientWidth)||0),w((null==n?void 0:n.offsetLeft)||0),S(s),T(o<=a),null===(e=L.current[N])||void 0===e||e.focus()}),[D,N,h,a,I]);const U=(e,t)=>{j&&j(e,t)},V=()=>{E||g((0,i.default)(h+3,0,I))},W=()=>{0!==h&&g((0,i.default)(h-3,0,I))},H=(0,s.useCallback)((()=>{var e;null===(e=L.current[N])||void 0===e||e.focus()}),[N]),q=(e,t)=>(0,_.jsx)("div",{className:(0,o.default)(v.tabItem),ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((t=>{D.current[e]=t})),children:(0,_.jsx)(p.MenuTab,{role:"tab",onRef:t=>{L.current[e]=t},onClick:U,sectionId:e,selected:t,showFocusIndicator:P,theme:p.THEMES.NONE,children:O(e)},e)},e),[Y,z]=c.default.isRTL()?[v.floatRight,v.floatLeft]:[v.floatLeft,v.floatRight],[K,$]=c.default.isRTL()?["chevron-right","chevron-left"]:["chevron-left","chevron-right"],Q=(0,_.jsx)(y,{xstyle:[R,Y],icon:K,onClick:W,onRef:e=>{G.current=e}}),X=(0,_.jsx)(y,{xstyle:[R,z],icon:$,onClick:V,onRef:e=>{F.current=e}}),J=(c.default.isRTL()?1:-1)*C,Z=()=>{var e;return(null===(e=B.current)||void 0===e?void 0:e.contains(document.activeElement))||!1};return(0,s.useImperativeHandle)(t,(()=>({focus:H,hasFocus:Z}))),(0,_.jsx)(l.default,{className:A,children:(0,_.jsxs)(f.default,{className:(0,o.default)(v.resizeContainer),onResize:e=>{let{width:t}=e;n(t)},children:[!(h<=0)&&Q,(0,_.jsx)("div",{ref:B,className:(0,o.default)(v.tabContainer),children:(0,_.jsxs)(u.HotKeys,{className:(0,o.default)(v.tabList),style:{transform:"translateX("+J+"px)"},role:"tablist",handlers:{left:e=>{const t=c.default.isRTL()?1:-1,a=(0,i.default)(N+t,0,I-1),n=L.current[a];b(B.current,n,F.current,G.current)&&(c.default.isRTL()?V():W()),U(a,e),e.preventDefault()},right:e=>{const t=c.default.isRTL()?-1:1,a=(0,i.default)(N+t,0,I-1),n=L.current[a];b(B.current,n,F.current,G.current)&&(c.default.isRTL()?W():V()),U(a,e),e.preventDefault()}},tabIndex:null,children:[(0,r.default)(I,(e=>q(e,N===e))),(0,_.jsx)(m.default,{selectedTabIndex:N,width:x,offsetPx:k,hide:!1,animate:!0})]})}),!E&&X]})})}var S=(0,s.forwardRef)(C);t.default=S},89256:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=n(a(56720)),s=n(a(37453)),o=a(85893);const l={menuTabsMarker:{position:"lhggkp7q",bottom:"jxacihee",left:"tukmaf4q",backgroundColor:"futycye9",opacity:"bs7a17vp",transitionProperty:"p3nha244",transitionDuration:"p4t1lx4y",transitionTimingFunction:"ijehb8ro"},animate:{transitionProperty:"ej4zaygv",transitionDuration:"p4t1lx4y",transitionTimingFunction:"ijehb8ro"},animateWithTransform:{transitionProperty:"egl74e4l",transitionDuration:"p4t1lx4y",transitionTimingFunction:"ijehb8ro"},hide:{opacity:"axi1ht8l"}};function u(e){const{hide:t,selectedTabIndex:a,width:n,offsetPx:r,animate:u}=e,d=(0,s.default)(a);let c,f,h;return h=(-1!==d||a===d)&&Boolean(u),-1!==a?(f=`translateX(${r}px)`,c="2px"):-1!==d&&-1===a&&(c="0px"),(0,o.jsx)("div",{className:(0,i.default)(l.menuTabsMarker,t&&l.hide,!h&&u&&l.animate,h&&l.animateWithTransform),style:{width:n,transform:f,height:c}})}var d=(0,r.memo)(u);t.default=d},35330:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{numColumns:t,numItems:a,selectedIndex:n,onItemClick:i,renderItem:c}=e,[h,v]=(0,s.useState)(null),[b,y]=(0,s.useState)(0),C=(0,s.useCallback)((e=>{let{onItemClick:t,numItems:a,selectedIndex:n}=e;if(!t||0===a)return;n<0&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("carousel_menu: selectedIndex is smaller than 0"));const r=a-1;n>r&&t(r)}),[]);(0,s.useEffect)((()=>{C(e)}),[C,e]);const S=(e,t)=>{i&&i(e,t)};let E;E=n<b?-1:n>=b+t?t-1+1:(n-b)%t;return(0,m.jsx)(o.default,{className:e.className,children:(0,m.jsxs)(f.default,{className:l.default.resizeContainer,onResize:e=>{let{width:t}=e;v(t)},children:[(0,m.jsx)(r.default,{children:(0,m.jsx)(g,{menuWidth:h,numColumns:t,offset:b,onClick:()=>{0!==b&&y(b-1)}})}),(0,m.jsx)(d.default,{menuWidth:h,numColumns:t,numItems:a,offset:b,renderItem:(e,n,r)=>"number"==typeof a&&e>=a?null:(0,m.jsx)(u.default,{column:e-b,carouselNumColumns:t,menuWidth:r,onClick:S,index:e,selected:n,children:c(e)},e),selectedIndex:n}),(0,m.jsx)(r.default,{children:(0,m.jsx)(_,{offset:b,numColumns:t,menuWidth:h,numItems:a,onClick:()=>{"number"!=typeof a||b+t>a||y(b+1)}})}),(0,m.jsx)(p.default,{numTabs:t,selectedTabIndex:E,hide:-1===E||0===E&&b>0||E===t,animate:!0})]})})};var r=n(a(40436)),i=n(a(94184)),s=a(67294),o=n(a(49357)),l=n(a(80359)),u=n(a(72092)),d=n(a(98595)),c=n(a(14296)),f=n(a(8694)),h=n(a(23217)),p=n(a(24649)),m=a(85893);function g(e){let{offset:t,menuWidth:a,numColumns:n,onClick:r}=e;if(0===t)return null;const i=c.default.isRTL()?"chevron-right":"chevron-left";return(0,m.jsx)(v,{menuWidth:a,numColumns:n,className:l.default.prevButton,icon:i,onClick:r,id:"prev-button"})}function _(e){let{offset:t,menuWidth:a,numColumns:n,numItems:r,onClick:i}=e;if("number"!=typeof r)return null;if(t+n>=r)return null;const s=c.default.isRTL()?"chevron-left":"chevron-right";return(0,m.jsx)(v,{menuWidth:a,numColumns:n,className:l.default.nextButton,icon:s,onClick:i,id:"next-button"})}function v(e){let{className:t,menuWidth:a,numColumns:n,icon:r,onClick:s,id:o}=e;const u=null!=a&&0!==a?`${Math.round(a/n)}px`:100/n+"%";return(0,m.jsx)("div",{className:(0,i.default)(l.default.button,t),style:{width:u},onClick:s,role:"button","data-testid":o,children:(0,m.jsx)(h.default,{className:l.default.buttonIcon,name:r})})}},72092:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{column:t,carouselNumColumns:a,index:n,menuWidth:l}=e,u=(0,r.useRef)(null);let d;d=null!=l&&0!==l?`${Math.round(l/a)}px`:100/a+"%";const c=i.default.isRTL()?-1:1;return(0,o.jsx)(s.MenuTab,{onRef:e=>{u.current=e},onClick:e.onClick,sectionId:n,selected:e.selected,theme:0!==n&&(t<=0||t>=a)?s.THEMES.CAROUSEL_END:s.THEMES.CAROUSEL,transform:`translateX(${100*t*c}%)`,width:d,children:e.children})};var r=a(67294),i=n(a(14296)),s=a(93353),o=a(85893)},98595:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{numItems:t,offset:a,renderItem:n,selectedIndex:i,menuWidth:s}=e;let{numColumns:o}=e,l=0;const u=t-o;1===a&&(o+=1,l=-1);a===u-1&&(o+=1);return(0,r.default)(o,(e=>{const r=e+l+a;return r<0||r<1&&a>0||r>=t?null:n(r,r===i,s)}))};var r=n(a(98913))},57297:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertTabToMood=t.ValidMoods=t.StickerTabs=t.SCROLL_THROTTLE_TIME=t.SCROLL_CLICK_TIME_GAP=t.MINIMUM_LOADING_TIME=t.INPUT_SHOW_POINT=t.INPUT_HIDE_POINT=t.INPUT_BAR_TOTAL_HEIGHT=t.INPUT_BAR_SCROLL_SENSITIVITY=t.INPUT_BAR_SCROLL_FAST=void 0;t.SCROLL_CLICK_TIME_GAP=1e3;t.SCROLL_THROTTLE_TIME=100;t.INPUT_BAR_TOTAL_HEIGHT=63;t.INPUT_BAR_SCROLL_SENSITIVITY=5;t.INPUT_BAR_SCROLL_FAST=15;t.INPUT_HIDE_POINT=44.099999999999994;t.INPUT_SHOW_POINT=94.5;const n=a(76672).Mirrored(["LOVE","GREETINGS","HAPPY","SAD","ANGRY","CELEBRATE"]);t.ValidMoods=n;const r=a(76672).Mirrored(["RECENTS","FAVORITES","LOVE","GREETINGS","HAPPY","SAD","ANGRY","CELEBRATE","STORE"]);t.StickerTabs=r;t.convertTabToMood=e=>{const t=e;return n.isValid(t)?n.cast(t):null};t.MINIMUM_LOADING_TIME=1500},28325:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayLocation=void 0;const n=a(76672).Mirrored(["ComposeBox","StatusV3ComposeBox","Dropdown"]);t.DisplayLocation=n},19290:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(66919)),i=n(a(66035));var s=(0,r.default)(i.default);t.default=s},1823:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SIDE_MARGIN=t.EmojiRow=t.EMOJI_WIDTH=t.EMOJI_HEIGHT=void 0;var r=a(81572),i=n(a(52013)),s=a(67294),o=n(a(59312)),l=a(87550),u=n(a(89113)),d=a(46428),c=a(60811),f=a(67247),h=n(a(84636)),p=n(a(30240)),m=a(13185),g=a(29424),_=n(a(14296)),v=n(a(45260)),b=a(18644),y=n(a(46780)),C=a(85893);const S=parseInt(p.default["-side-margin"],10);t.SIDE_MARGIN=S;const E=parseInt(p.default["-emoji-height"],10);t.EMOJI_HEIGHT=E;const T=parseInt(p.default["-emoji-width"],10);function x(e,t){const{emojis:a,allowVariantPrompt:n,onEmoji:S,focusBelow:E,focusAbove:T,numColumns:x,onEmojiFocus:M}=e,P=(0,o.default)(),[A]=(0,l.useAddListenerOnce)(),j=(0,s.useRef)(null),I=(0,s.useRef)(null),O=(0,s.useRef)(null),N=(0,s.useRef)(null),[R,D]=(0,s.useState)(null),L=e=>{let t=e;if(f.EmojiUtil.getSkinToneBase(t)){const e=m.EmojiVariantCollection.getVariantIfExists(t);if(null!=e)t=e;else if(n)return!0}S(t)},B=(e,t,a)=>{k(e),m.EmojiVariantCollection.setVariant(t,a),L(t)},F=(e,t,a)=>{const n=f.EmojiUtil.getSkinToneBase(e);n&&D({menu:(0,C.jsx)(v.default,{base:n,action:B,unicode:e}),anchor:t,type:c.MenuType.Picker,dirX:c.DirX.RIGHT,dirY:c.DirY.TOP,horizontal:!0,autoFocus:a,findFirstItem:!0})},[G,U]=(0,d.useTimeout)((()=>{null!=O.current&&null!=N.current&&F(O.current,N.current),A(r.Cmd,"window_click",k)}),250),V=e=>{const t=parseInt(e.dataset.emojiIndex,10);isNaN(t)||(i.default.focus(e,{preventScroll:!0}),M(e),I.current=e)},W=(0,u.default)((()=>{const e=null==R?void 0:R.anchor;e&&e instanceof HTMLElement&&V(e),D(null)})),H=e=>{const t=w(e);if(null==t)return;const n=a[t];return n||null},q=e=>{const t=a.length-1,n=Math.max(Math.min(e,t),0);if(null!=j.current)return j.current.children[n]},Y=e=>{if(null==e)return;const t=a[e];if(!t)return;const n=q(e);if(!n)return;U();L(t)&&F(t,n,!0)},z=e=>{const t=q(e);t&&V(t)},K=e=>{k(e);const t=w(e);if(null==t)return;const a=t-1;a<0?T(x-1):z(a)},$=e=>{k(e);const t=w(e);if(null==t)return;const n=t+1;n>=a.length?null==E||E(0):z(n)},Q=e=>{k(e);const t=w(e);Y(t)},X=()=>{Y(0)},J=()=>{I.current&&V(I.current)};let Z;return(0,l.useListener)(m.EmojiVariantCollection,["add","remove","change:variant"],P),(0,s.useImperativeHandle)(t,(()=>({focusEmojiAt:z,selectFirstEmoji:X,restoreFocus:J}))),R&&(Z=(0,C.jsx)(b.UIE,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:W,requestRecentFocusOnUnmount:!1,children:(0,C.jsx)(y.default,{tooltip:R})})),a.length?(0,C.jsxs)("div",{className:p.default.panel,children:[(0,C.jsx)(g.HotKeys,{onMouseDown:e=>{k(e),D(null);const t=e.target;if(!(t instanceof HTMLElement))return;const a=H(e);a&&((e,t)=>{O.current=e,N.current=t,G(),A(window,"mouseup",U,{capture:!0})})(a,t)},onClick:e=>{k(e);const t=w(e);Y(t)},onContextMenu:e=>{k(e);const t=H(e);t&&e.target instanceof HTMLElement&&F(t,e.target)},handlers:{up:e=>{k(e);const t=w(e);null!=t&&T(t)},down:e=>{k(e);const t=w(e);null!=t&&E&&E(t)},left:e=>{_.default.isRTL()?$(e):K(e)},right:e=>{_.default.isRTL()?K(e):$(e)},enter:Q,space:Q},children:(0,C.jsx)("div",{ref:j,className:p.default.section,children:a.map(((e,t)=>{const a=m.EmojiVariantCollection.getVariantIfExists(e);return(0,C.jsx)(h.default,{element:"span",emoji:a||e,size:"large",tabIndex:"-1","data-emoji-index":t},e)}))})}),Z]}):null}t.EMOJI_WIDTH=T;const M=(0,s.forwardRef)(x);function k(e){e.preventDefault(),e.stopPropagation()}function w(e){if(!(e.target instanceof HTMLElement))return null;const t=parseInt(e.target.dataset.emojiIndex,10);return isNaN(t)?null:t}t.EmojiRow=M},55547:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=n(a(44908)),s=n(a(10691)),o=n(a(18446)),l=n(a(74691)),u=n(a(40436)),d=n(a(94184)),c=a(67294),f=a(46428),h=a(67247),p=n(a(17136)),m=a(57741),g=a(29424),_=n(a(98483)),v=n(a(14296)),b=n(a(71443)),y=a(92671),C=a(54222),S=a(455),E=a(85893);function T(e){let{onChange:t,onFocusUp:a,transitionName:n,showSearchInput:r,searchText:i,scrolledToTop:s,searchInputRef:o,onSearchChange:l,onSearchDownKey:d,onSearchEnterKey:c}=e,f=null;return r&&(f=(0,E.jsx)(C.PanelSearchInput,{label:v.default.t(626),onChange:l,onUpKey:a,onDownKey:d,onEnterKey:c,ref:o,shadow:!s,value:i||""})),(0,E.jsx)(u.default,{transitionName:n,className:_.default.search,children:f})}function x(e){let{width:t,onEmoji:a,searchResultsRef:n,data:r,onEmojiFocus:i,onSearchResultsFocusAbove:s}=e;return(0,E.jsx)("div",{className:_.default.list,children:(0,E.jsx)(S.EmojiSectionScrollList,{data:r,width:t,initialScrollTop:0,searchInputVisible:!0,focusAbove:s,onEmoji:a,onEmojiFocus:i,ref:n,showTitles:!1})})}function M(e,t){const{onSection:a,onChange:n,onFocusPrev:u,onFocusNext:v,onFocusUp:C,width:M,onEmoji:k,sectionIds:w}=e,P=(0,c.useRef)(null),A=(0,c.useRef)(null),j=(0,c.useRef)(null),I=(0,c.useRef)(null),O=(0,c.useRef)(!1),N=(0,c.useRef)(!1),R=(0,c.useRef)(!1),D=(0,c.useRef)(e.displayCache.scrollTop),L=(0,c.useRef)(e.displayCache.sectionId),[B,F]=(0,c.useState)(0===e.displayCache.scrollTop),[G,U]=(0,c.useState)(e.defaultSearchText||""),[V,W]=(0,c.useState)(e.displayCache.showSearchInput),[H]=(0,f.useTimeout)((()=>{R.current=!1}),200),q=(e,t)=>{R.current=!0,H();const a=t.scrollTop,n=e.getBoundingClientRect().top-t.getBoundingClientRect().top+a,r=n-t.clientHeight+e.clientHeight+2,i=V?n-S.TOTAL_SEARCH_HEIGHT:n-2;t.scrollTop=(0,l.default)(a,r,i)},Y=e=>{if(!A.current)return O.current=!0,void W(!0);A.current.focus(e)};(0,c.useEffect)((()=>{V&&Y(!0)}),[V]);const z=()=>{R.current=!0,H(),Y(),P.current&&P.current.scrollToTop()},K=()=>{const e=0===D.current;return e&&(F(e),W(!0)),e},$=(0,b.default)((e=>{let{sectionIds:t}=e;return t.map((e=>({sectionId:e,emojis:"RECENT"===e?(0,i.default)(y.RecentEmojiCollection.reduce(((e,t)=>{const a=h.EmojiUtil.getSkinToneBase(t.id)||t.id;return null!=h.EmojiUtil.getGlyphId(a)&&e.push(a),e}),[])):h.EmojiUtil.getEmojisInCategory(e)})))}),((e,t)=>e.sectionIds===t.sectionIds||(0,o.default)(e.sectionIds,t.sectionIds))),Q=function(){var e=(0,r.default)((function*(e){L.current=e,yield new Promise((e=>{O.current=!0,U(""),W(!0),e()})),N.current=!0;const t=P.current?P.current.scrollToSection(e,0-S.TOTAL_SEARCH_HEIGHT):Promise.resolve();return t.finally((()=>{t==t&&(N.current=!1,K()||V&&F(0===D.current))})),I.current=t,t}));return function(){return e.apply(this,arguments)}}(),X=(0,b.default)((e=>{let{searchText:t}=e;return[{sectionId:m.SECTIONS.SEARCH_RESULT,emojis:(0,p.default)((0,s.default)(t))}]}));return(0,c.useImperativeHandle)(t,(()=>({focusSearchInput:Y,scrollToSection:Q}))),(0,E.jsx)(g.HotKeys,{handlers:{tab:e=>{if(e.preventDefault(),e.stopPropagation(),A.current)return A.current.hasFocus()?void(null==v||v()):Y()},"shift+tab":e=>{if(e.preventDefault(),e.stopPropagation(),A.current)return A.current.hasFocus()?void(null==u||u()):Y()}},onClick:e=>{!function(e){e.preventDefault(),e.stopPropagation()}(e),Y()},children:(0,E.jsxs)("div",{className:_.default.bodyContainer,children:[(0,E.jsx)(T,{transitionName:O.current?"emoji-search-slide-away-fast":"emoji-search-slide-away",onChange:n,onFocusUp:C,searchInputRef:A,showSearchInput:V,searchText:G,scrolledToTop:B,onSearchChange:(e,t)=>{null==n||n(e,t),U(e)},onSearchDownKey:()=>{if(G){if(!j.current)return;j.current.focusFirstVisibleEmoji()}else P.current&&P.current.focusFirstVisibleEmoji(S.TOTAL_SEARCH_HEIGHT)},onSearchEnterKey:()=>{G&&j.current&&j.current.selectFirstVisibleEmoji()}}),G?(0,E.jsx)(x,{width:M,onEmoji:k,data:(()=>{const e=(G||"").replace(/^\s+/,"");return X({searchText:e})})(),searchResultsRef:j,onEmojiFocus:q,onSearchResultsFocusAbove:()=>{z()}}):null,(0,E.jsx)("div",{className:(0,d.default)(_.default.list,{[_.default.hidden]:!!G}),children:(0,E.jsx)(S.EmojiSectionScrollList,{data:$({sectionIds:w}),width:e.width,onFocusUp:()=>{z()},initialScrollTop:e.displayCache.scrollTop,searchInputVisible:V,focusAbove:()=>{z()},onEmoji:e.onEmoji,onEmojiFocus:q,onScroll:e=>{const t=e-D.current;if(D.current=e,R.current)return;if(N.current)return;if(K())return;const a=Math.abs(t);O.current=a>15;const n=t>=0?1:-1,r=0===e;if(e<S.TOTAL_SEARCH_HEIGHT)return F(B),void W(!0);a<5||(V?1===n&&(F(r),W(!1)):-1===n&&(F(r),W(!0)))},onSection:e=>{N.current||(L.current=e,a(e))},ref:P,showTitles:!0})})]})})}var k=(0,c.forwardRef)(M);t.default=k},455:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TOTAL_SEARCH_HEIGHT=t.EmojiSectionScrollList=void 0,t.findEmojiRowAt=M,t.getNumColumns=k;var r=a(13959),i=n(a(62831)),s=n(a(6258)),o=a(48360),l=a(67294),u=n(a(16223)),d=n(a(19290)),c=a(1823),f=a(57741),h=a(47915),p=n(a(44942)),m=n(a(30855)),g=n(a(71443)),_=n(a(80325)),v=a(85893);const b=parseInt(_.default["-total-search-height"],10);t.TOTAL_SEARCH_HEIGHT=b;const y=parseInt(_.default["-title-height"],10),C={[f.SECTIONS.SEARCH_RESULT]:()=>{throw new Error("Search results should not be shown with a title.")},[f.SECTIONS.RECENT]:()=>o.fbt._("Recent",null,{hk:"mC0w6"}),[d.default.SMILEYS_PEOPLE]:()=>o.fbt._("Smileys & People",null,{hk:"15kkb2"}),[d.default.ANIMALS_NATURE]:()=>o.fbt._("Animals & Nature",null,{hk:"2YsDed"}),[d.default.FOOD_DRINK]:()=>o.fbt._("Food & Drink",null,{hk:"1Xtk7P"}),[d.default.ACTIVITY]:()=>o.fbt._("Activity",null,{hk:"242snN"}),[d.default.TRAVEL_PLACES]:()=>o.fbt._("Travel & Places",null,{hk:"1vozFD"}),[d.default.OBJECTS]:()=>o.fbt._("Objects",null,{hk:"2McHxt"}),[d.default.SYMBOLS]:()=>o.fbt._("Symbols",null,{hk:"1WHqbc"}),[d.default.FLAGS]:()=>o.fbt._("Flags",null,{hk:"15Xohs"})};let S=0;S=parseInt(_.default["-scrollbar-width"].replace(/px$/,""),10);function E(e){let{row:t,focusAbove:a,focusBelow:n,onRef:r,numColumns:i,onEmoji:s,onEmojiFocus:o}=e;switch(t.kind){case"title":return(0,v.jsx)("div",{className:_.default.title,children:t.title});case"emojis":return(0,v.jsx)(c.EmojiRow,{emojis:t.emojis,focusAbove:a,focusBelow:n,numColumns:i,onEmoji:s,onEmojiFocus:o,ref:r,allowVariantPrompt:t.sectionId!==f.SECTIONS.RECENT});default:throw t.kind,new Error(`Invalid row kind: ${t.kind}`)}}function T(e,t){const{initialScrollTop:a,onEmojiFocus:n,onScroll:o,onSection:d,onFocusUp:f,onEmoji:S,searchInputVisible:T,width:x,data:w,showTitles:P}=e,A=(0,u.default)((()=>new Map)),j=(0,u.default)((()=>new m.default)),I=(0,l.useRef)(null),O=(0,l.useRef)(null),N=(0,l.useRef)(null),R=e=>{const t=N.current;t&&n(e,t)},D=()=>k(x),L=(0,g.default)((e=>{let t=b;const a={},n=[];return e.data.forEach(((r,i)=>{let{sectionId:o,emojis:l}=r,u=0;const d=t;if(0===l.length)return;e.showTitles&&(n.push({kind:"title",itemKey:`section_${o}_title`,index:n.length,title:C[o](),sectionId:o,height:y,offsetTop:t}),u+=y,t+=y);const f=(0,s.default)(l,e.numColumns),h=i===w.length-1;f.forEach(((e,a)=>{const r=a===f.length-1&&!h?c.EMOJI_HEIGHT+parseInt(_.default["-section-bottom-margin"],10):c.EMOJI_HEIGHT;n.push({kind:"emojis",itemKey:`section_${o}_emoji_${a}`,index:n.length,emojis:e,sectionId:o,height:r,offsetTop:t}),u+=r,t+=r})),a[o]={height:u,offsetTop:d}})),{rows:n,sectionData:a}})),B=()=>L({numColumns:D(),data:w,showTitles:P}),F=e=>{const{rows:t}=B();return t.map((e=>"emojis"===e.kind?e:null)).filter(Boolean).find((t=>t.offsetTop+t.height>e))},G=e=>{const t=F(e+(T?b:0));if(t)return t.sectionId},U=()=>{if(O.current=null,!N.current)return;const e=N.current.scrollTop;null==o||o(e);const t=G(e);t&&(null==d||d(t))},V=()=>{O.current||(O.current=requestAnimationFrame(U))},W=(e,t,a)=>{const{rows:n}=B(),r=M(n,e,t);if(!r)return;const i=A.current.get(r.itemKey);i&&i.focusEmojiAt(a)},H=e=>{if(!N.current)return;const t=N.current.scrollTop+e,a=F(t);if(!a)return;return A.current.get(a.itemKey)},q=e=>{const t=H(e||0);t&&t.focusEmojiAt(0)},Y=(e,t)=>{const a=N.current;if(!a)return Promise.resolve();const{sectionData:n}=B(),s=n[e];if(!s)return Promise.resolve();const o=s.offsetTop;if(a.scrollTop===o)return Promise.resolve();if(I.current){if(I.current.sectionId===e)return I.current.promise;(0,i.default)(I.current.scrollTarget,"stop")}if(a.scrollTop===o)return Promise.resolve();const l=document.createElement("div");l.style.position="absolute",l.style.top=`${o+(t||0)}px`,l.style.left="0px",a.appendChild(l);const u=(0,i.default)(l,"scroll",{container:a,duration:300,easing:[.99,.13,.13,.99]}).then((()=>{})).then((()=>(0,r.delayMs)(100)));return I.current={promise:u,sectionId:e,scrollTarget:l},u.finally((()=>{var e;a.removeChild(l),(null===(e=I.current)||void 0===e?void 0:e.promise)===u&&(I.current=null)})),u},z=()=>{N.current&&(N.current.scrollTop=0)},K=e=>{const t=H(e||0);t&&t.selectFirstEmoji()};(0,l.useImperativeHandle)(t,(()=>({focusFirstVisibleEmoji:q,scrollToSection:Y,scrollToTop:z,selectFirstVisibleEmoji:K}))),(0,l.useEffect)((()=>{N.current&&N.current.scrollTop!==a&&(N.current.scrollTop=a),B()}),[]);const{rows:$}=B(),Q=Math.min($.length,2);let X;return(e.onScroll||e.onSection)&&(X=V),(0,v.jsx)(p.default,{onScroll:X,className:_.default.container,ref:N,flatListControllers:[j.current],children:(0,v.jsx)(h.FlatList,{data:$,reorderAnimationsEnabled:!1,forceConsistentRenderCount:!1,flatListController:j.current,direction:"vertical",extraItems:Q,initialScrollFromStart:e.initialScrollTop,renderItem:e=>(0,v.jsx)(E,{row:e,focusAbove:t=>{1===e.index&&(null==f||f()),W(e.index,-1,t)},focusBelow:t=>{W(e.index,1,t)},onRef:t=>{t?A.current.set(e.itemKey,t):A.current.delete(e.itemKey)},numColumns:D(),onEmoji:S,onEmojiFocus:R})})})}const x=(0,l.forwardRef)(T);function M(e,t,a){const n=a<0?-1:1;let r=t+a;for(;r>=0&&r<e.length;){const t=e[r];if("emojis"===t.kind)return t;r+=n}}function k(e){const t=e-2*c.SIDE_MARGIN-S;return Math.floor(t/c.EMOJI_WIDTH)}t.EmojiSectionScrollList=x},27924:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiSectionIcon=function(e){return(0,s.jsx)(i.default,{name:o[e.sectionId]})},t.sectionIdToIcon=void 0;var r=a(57741),i=n(a(23217)),s=a(85893);const o={[r.SECTIONS.RECENT]:"panel-recent",[r.SECTIONS.SMILEYS_PEOPLE]:"panel-emoji-people",[r.SECTIONS.ANIMALS_NATURE]:"panel-emoji-nature",[r.SECTIONS.FOOD_DRINK]:"panel-emoji-food",[r.SECTIONS.ACTIVITY]:"panel-emoji-activity",[r.SECTIONS.TRAVEL_PLACES]:"panel-emoji-travel",[r.SECTIONS.OBJECTS]:"panel-emoji-objects",[r.SECTIONS.SYMBOLS]:"panel-emoji-symbols",[r.SECTIONS.FLAGS]:"panel-emoji-flags"};t.sectionIdToIcon=o},24633:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(48360),i=a(67294),s=n(a(67662)),o=a(57741),l=a(27924),u=a(93353),d=a(85893);function c(e,t){const a=(0,s.default)(t),n={[o.SECTIONS.RECENT]:r.fbt._("Recent",null,{hk:"mC0w6"}),[o.SECTIONS.SMILEYS_PEOPLE]:r.fbt._("Smileys & People",null,{hk:"15kkb2"}),[o.SECTIONS.ANIMALS_NATURE]:r.fbt._("Animals & Nature",null,{hk:"2YsDed"}),[o.SECTIONS.FOOD_DRINK]:r.fbt._("Food & Drink",null,{hk:"1Xtk7P"}),[o.SECTIONS.ACTIVITY]:r.fbt._("Activity",null,{hk:"242snN"}),[o.SECTIONS.TRAVEL_PLACES]:r.fbt._("Travel & Places",null,{hk:"1vozFD"}),[o.SECTIONS.OBJECTS]:r.fbt._("Objects",null,{hk:"2McHxt"}),[o.SECTIONS.SYMBOLS]:r.fbt._("Symbols",null,{hk:"1WHqbc"}),[o.SECTIONS.FLAGS]:r.fbt._("Flags",null,{hk:"15Xohs"})},{sectionId:i}=e,c=n[i];return(0,d.jsx)(u.MenuTab,{onClick:e.onClick,sectionId:i,selected:e.selected,showFocusIndicator:e.showFocusIndicator,theme:u.THEMES.MENU,title:c,onRef:a,children:(0,d.jsx)(l.EmojiSectionIcon,{sectionId:i})})}var f=(0,i.forwardRef)(c);t.default=f},57741:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=t.ORDERED_TAB_SECTION_IDS=void 0;var r=n(a(81109)),i=a(13045);const s=(0,r.default)((0,r.default)({RECENT:"RECENT"},i.CATEGORIES),{},{SEARCH_RESULT:"SEARCH_RESULT"});t.SECTIONS=s;const o=[{[s.RECENT]:s.RECENT,[s.SMILEYS_PEOPLE]:s.SMILEYS_PEOPLE,[s.ANIMALS_NATURE]:s.ANIMALS_NATURE,[s.FOOD_DRINK]:s.FOOD_DRINK,[s.ACTIVITY]:s.ACTIVITY,[s.TRAVEL_PLACES]:s.TRAVEL_PLACES,[s.OBJECTS]:s.OBJECTS,[s.SYMBOLS]:s.SYMBOLS,[s.FLAGS]:s.FLAGS}.RECENT,...i.ORDERED_CATEGORY_IDS];t.ORDERED_TAB_SECTION_IDS=o},82709:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiSuggestionsPanel=t.EMOJI_WIDTH=void 0;var r=n(a(35161)),i=n(a(45095)),s=a(81572),o=a(67294),l=n(a(51799)),u=n(a(59312)),d=a(87550),c=n(a(89113)),f=a(46428),h=n(a(95402)),p=a(60811),m=a(67247),g=n(a(84636)),_=n(a(78666)),v=a(13185),b=a(29424),y=n(a(45260)),C=a(18644),S=n(a(46780)),E=a(85893);const T=parseInt(_.default["-emoji-width"].replace(/px$/,""),10);t.EMOJI_WIDTH=T;const x=(0,o.forwardRef)(((e,t)=>{const{emojiList:a,onFocusRelease:n,onEmoji:x,onSkinTonePicker:k}=e,w=(0,u.default)(),[P]=(0,d.useAddListenerOnce)(),A=(0,h.default)(),[j,I]=(0,o.useState)(null),[O,N]=(0,o.useState)(0),R=(0,o.useRef)(0),D=(0,o.useRef)(null),L=(0,o.useRef)(null),B=(0,o.useRef)(null),F=(0,o.useRef)(null),G=e=>m.EmojiUtil.getSkinToneBase(e)?v.EmojiVariantCollection.getVariant(e):null,U=()=>{var e;const t=null===(e=B.current)||void 0===e?void 0:e.offsetWidth;return null==t?8:Math.floor(t/T)},V=e=>{x(e),null==n||n()},W=(e,t,a)=>(M(e),V(a),v.EmojiVariantCollection.setVariant(t,a),A&&(A.pop(!1,!1),A.requestDismiss()),!1),H=(e,t,a)=>{z();const n=(0,i.default)(m.EmojiUtil.getSkinToneBase(e),"Emoji.getSkinToneBase(unicode)");I({menu:(0,E.jsx)(y.default,{base:n,action:W,unicode:e}),anchor:t,type:p.MenuType.Picker,dirX:p.DirX.RIGHT,dirY:p.DirY.TOP,horizontal:!0,autoFocus:a,findFirstItem:!0}),null==k||k(!0)},[q,Y]=(0,f.useTimeout)((()=>{P(s.Cmd,"window_click",M),L.current&&D.current&&H(L.current,D.current)}),250);function z(){Y()}const K=e=>{if(M(e),!(e.target instanceof HTMLElement))return;const t=e.target.dataset.unicode;t&&m.EmojiUtil.getSkinToneBase(t)&&(e=>{M(e),z();const t=e.target;if(!(t instanceof HTMLElement))return;const a=t.dataset.unicode;D.current=t,L.current=a,q(),P(window,"mouseup",z,{capture:!0})})(e)},$=e=>{M(e);const t=e.target;if(!(t instanceof HTMLElement))return;const a=t.dataset.unicode;a&&m.EmojiUtil.getSkinToneBase(a)&&H(a,t)},Q=e=>{if(M(e),!(e.target instanceof HTMLElement))return;const t=e.target.dataset.unicode;if(t)if(m.EmojiUtil.getSkinToneBase(t)){const a=G(t);a?V(a):$(e)}else V(t)},X=(0,c.default)((()=>{j&&(I(null),null==k||k(!1))})),J=()=>{const e=U();R.current!==e&&(R.current=e,N(O>=e?e-1:O))},Z=()=>{const e=null!==(t=a[O])&&void 0!==t?t:null;var t;if(e)if(m.EmojiUtil.getSkinToneBase(e)){const t=G(e);if(t)V(t);else{const t=(e=>{if(e<0)return;if(!F.current)return;const t=F.current.children;return e>=t.length?void 0:t[e]})(O);t&&H(e,t,!0)}}else V(e)},ee=()=>{N(Math.min(O+1,U()-1,a.length-1))},te=()=>{N(Math.max(O-1,0))};(0,o.useEffect)((()=>{X()}),[X,a]);const ae=(0,l.default)(J,100);let ne;return(0,o.useEffect)((()=>{N(Math.min(O,a.length-1))}),[O,a]),(0,o.useEffect)((()=>{J()}),[]),(0,d.useListener)(v.EmojiVariantCollection,["add","remove","change:variant"],w),(0,d.useListener)(window,"resize",ae),(0,o.useImperativeHandle)(t,(()=>({moveSelectionLeft:te,moveSelectionRight:ee,pickSelectedEmoji:Z}))),j&&(ne=(0,E.jsx)(C.UIE,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:X,children:(0,E.jsx)(S.default,{tooltip:j})})),(0,E.jsxs)("div",{ref:B,children:[(e=>{let t=e;const a=U();t&&t.length>a&&(t=t.slice(0,a));const n=(0,r.default)(t,((e,t)=>{const a=G(e);return(0,E.jsx)(g.default,{element:"span",emoji:a||e,size:"large","data-unicode":e,"data-variant":a,tabIndex:"-1","data-emoji-index":t,selected:O===t&&!j},e)}));return(0,E.jsx)(b.HotKeys,{onMouseDown:K,onClick:Q,onContextMenu:$,children:(0,E.jsx)("div",{className:_.default.panel,ref:F,children:n})})})(a),ne]})}));function M(e){e&&(e.preventDefault(),e.stopPropagation())}t.EmojiSuggestionsPanel=x},30424:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPanel=void 0;var r=n(a(94184)),i=a(67294),s=n(a(59312)),o=n(a(16223)),l=n(a(74570)),u=a(28325),d=a(60811),c=n(a(55547)),f=a(57741),h=n(a(51460)),p=n(a(50725)),m=a(92671),g=n(a(24633)),_=a(85893);const v=(0,i.forwardRef)(((e,t)=>{var a;const{displayLocation:n=u.DisplayLocation.Dropdown}=e,v=(0,i.useRef)(),b=(0,i.useRef)(),y=(0,o.default)((()=>0===m.RecentEmojiCollection.length?f.ORDERED_TAB_SECTION_IDS.filter((e=>e!==f.SECTIONS.RECENT)):f.ORDERED_TAB_SECTION_IDS)),C=(0,i.useRef)(y.current),S=(0,o.default)((()=>{var t;return null!==(t=e.displayCache)&&void 0!==t?t:{scrollTop:0,sectionId:y.current[0],showSearchInput:!0}})),E=(0,i.useRef)(),[T,x]=(0,i.useState)(S.current.sectionId),[M,k]=(0,i.useState)(-1),w=(0,s.default)(),P=(0,i.useRef)(new Map),A=e=>{var t;null===(t=b.current)||void 0===t||t.focusSearchInput(e)},j=e=>{A(e)},I=(0,l.default)();(0,i.useEffect)((()=>{I(j)}),[]),(0,i.useImperativeHandle)(t,(()=>({getElement:()=>E.current,restoreFocus:j})));const O=e=>{T!==e&&(x(e),(e=>{if(!b.current)return;const t=b.current.scrollToSection(e);v.current=t,t.finally((()=>{t===v.current&&(v.current=null)}))})(e))},N=(t,a)=>{var n;O(t),null===(n=e.onChange)||void 0===n||n.call(e,""),A(),null==a||a.preventDefault()},R=(0,r.default)(h.default.emojiPanel,{[h.default.panelDropdown]:n===u.DisplayLocation.Dropdown}),{width:D=d.EMOJI_PICKER_WIDTH}=e;return(0,_.jsxs)("div",{className:R,ref:E,children:[(0,_.jsx)(p.default,{selectedSectionId:T,sectionIds:y.current,renderSectionTab:(e,t)=>(0,_.jsx)(g.default,{onClick:N,sectionId:e,selected:t,showFocusIndicator:-1!==M,ref:t=>{P.current.set(e,t)}},e),showTabHighlight:!(null===(a=e.defaultSearchText)||void 0===a?void 0:a.trim()),onFocusPrev:()=>{var e;const t=y.current,a=(t.length+M-1)%t.length,n=t[a];null===(e=P.current.get(n))||void 0===e||e.focus(),k(a)},onFocusNext:()=>{var e;const t=y.current,a=(M+1)%t.length,n=t[a];null===(e=P.current.get(n))||void 0===e||e.focus(),k(a)},onFocusLeave:()=>{k(-1),A()},onEnter:e=>{null==e||e.preventDefault();const t=y.current[M];k(-1),N(t)}}),(0,_.jsx)(c.default,{displayCache:S.current,width:D,onDisplayCache:e.onDisplayCache,onFocusUp:()=>{var e;null===(e=P.current.get(T))||void 0===e||e.focus(),k(y.current.indexOf(T))},onFocusPrev:e.onFocusPrev,onFocusNext:e.onFocusNext,onEmoji:t=>{m.RecentEmojiCollection.increment(t),e.onEmoji(t)},onSection:e=>{v.current||T!==e&&x(e)},ref:b,sectionIds:C.current,onChange:(t,a)=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t,a),w()},defaultSearchText:e.defaultSearchText})]})}));t.EmojiPanel=v,v.displayName="EmojiPanel"},89964:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SKIN_TONE_VARIATIONS=void 0;var n=a(67247);const r=[""].concat(n.EmojiUtil.skinToneVariations);t.SKIN_TONE_VARIATIONS=r},49777:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={TRENDING:"TRENDING",HAHA:"HAHA",SAD:"SAD",LOVE:"LOVE",REACTIONS:"REACTIONS",SPORTS:"SPORTS",TV:"TV"};t.default=a},59927:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TENOR=t.TARGET_GIF_HEIGHT=t.GifInfo=t.GIPHY_LOCALES=t.GIPHY=t.GAP_SIZE=t.BRAND_NAMES=void 0,t.gifProvider=function(){switch(n.ServerProps.gifSearch){case"giphy":return r;case"tenor":default:return i}};var n=a(64551);t.TARGET_GIF_HEIGHT=130;t.GAP_SIZE=6;const r="giphy";t.GIPHY=r;const i="tenor";t.TENOR=i;let s=0;t.GifInfo=class{constructor(e,t,a,n,r,i,o,l){this.rank=e,this.gifId=++s,this.url=t,this.size=a,this.previewUrl=n||t,this.nonVideoUrl=r,this.width=i,this.widthStr=`${i}px`,this.ratioStr=`${Math.ceil(13e3/i)}%`,this.attribution=o,this.trending=l}};t.BRAND_NAMES={giphy:"GIPHY",tenor:"Tenor"};t.GIPHY_LOCALES=["en","es","pt","id","fr","ar","tr","th","vi","de","it","ja","zh-CN","zh-TW","ru","ko","pl","nl","ro","hu","sv","cs","hi","bn","da","fa","tl","fi","iw","ms","no","uk"]},56698:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.sectionId&&e.sectionId===r.SECTIONS.FAVORITES)return(0,o.jsx)(s.default,{name:"panel-starred"});return(0,o.jsx)("span",{className:i.default.text,children:e.sectionTitle})};var r=a(40910),i=n(a(45243)),s=n(a(23217)),o=a(85893)},80077:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(48360),i=a(67294),s=n(a(67662)),o=a(40910),l=n(a(56698)),u=a(93353),d=a(85893);function c(e,t){const a=(0,s.default)(t),n={[o.SECTIONS.FAVORITES]:r.fbt._("Favorites",null,{hk:"1DfDuo"}),[o.SECTIONS.TRENDING]:r.fbt._("Trending",null,{hk:"1wdavV"}),[o.SECTIONS.HAHA]:r.fbt._("Haha",null,{hk:"4B9bsP"}),[o.SECTIONS.SAD]:r.fbt._("Sad",null,{hk:"FWLcO"}),[o.SECTIONS.LOVE]:r.fbt._("Love",null,{hk:"2FLkDv"}),[o.SECTIONS.REACTIONS]:r.fbt._("Reactions",null,{hk:"pMe2Q"}),[o.SECTIONS.SPORTS]:r.fbt._("Sports",null,{hk:"4vNqmf"}),[o.SECTIONS.TV]:r.fbt._("TV",null,{hk:"Sinst"})},{sectionId:i}=e,c=n[i];return(0,d.jsx)(u.MenuTab,{onClick:e.onClick,sectionId:i,selected:e.selected,showFocusIndicator:e.showFocusIndicator,title:c,theme:u.THEMES.MENU,onRef:a,children:(0,d.jsx)(l.default,{sectionId:i,sectionTitle:c})})}var f=(0,i.forwardRef)(c);t.default=f},53638:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(89385),i=a(26741),s=a(67294),o=n(a(83037)),l=n(a(23217)),u=a(85893);function d(e,t){const{onSend:a,gif:n}=e,[d,c]=(0,s.useState)(null),f=(0,s.useRef)(null),[h,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[_,v]=(0,s.useState)(!1);(0,s.useEffect)((()=>{null!=d&&(h?d.paused&&d.play().catch((0,r.catchAbort)((()=>{}))):d.paused||(d.pause(),d.currentTime=0))}),[d,h]);const b=e=>{h===e&&m||(p(e),g(!0))},y=()=>{a(n)};(0,s.useImperativeHandle)(t,(()=>({setShouldAnimate:b})));let C,S=null;return m&&(S=i.UA.troublesWithLotsOfVideos&&n.nonVideoUrl?(0,u.jsx)("img",{className:o.default.body,onClick:y,src:n.nonVideoUrl}):(0,u.jsx)("video",{className:o.default.body,onClick:y,controls:!1,autoPlay:h,loop:!0,muted:!0,ref:c,src:n.previewUrl})),e.isStarred&&e.onUnstarMsg&&(C=(0,u.jsx)("button",{className:o.default.icon,onClick:e.onUnstarMsg,children:(0,u.jsx)(l.default,{name:"star"})})),(0,u.jsxs)("div",{ref:e=>{f.current=e},className:o.default.preview,tabIndex:"-1",onFocus:e=>{e.preventDefault(),e.stopPropagation(),v(!0)},onBlur:e=>{e.preventDefault(),e.stopPropagation(),v(!1)},style:{flexBasis:n.widthStr},children:[_&&(0,u.jsx)("div",{style:{flexBasis:n.widthStr},className:o.default.focusBorder}),(0,u.jsx)("div",{style:{width:n.widthStr},className:o.default.wrapper,children:(0,u.jsx)("div",{style:{paddingBottom:n.ratioStr},className:o.default.container,children:S})}),C]})}var c=(0,s.forwardRef)(d);t.default=c},28362:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GifSearch=void 0,t.getGifDimensions=H,t.giphyResultsToGifs=q;var i=r(a(48926)),s=a(89385),o=r(a(18569)),l=a(4352),u=a(57319),d=r(a(52013)),c=r(a(81602)),f=r(a(76139)),h=a(67294),p=r(a(59312)),m=r(a(16223)),g=r(a(89113)),_=r(a(3409)),v=a(24808),b=a(85600),y=r(a(26847)),C=a(59927),S=r(a(53638)),E=r(a(1659)),T=a(40910),x=a(29424),M=r(a(14296)),k=r(a(11339)),w=r(a(9294)),P=r(a(48692)),A=r(a(35609)),j=a(85893);const I="3o85xmWDYKgihhIKSA",O="DLAQBEYLJJIM",N={giphy:k.default.GIF_SEARCH_PROVIDER.GIPHY,tenor:k.default.GIF_SEARCH_PROVIDER.TENOR},R={giphy:v.Message$VideoMessageAttribution.GIPHY,tenor:v.Message$VideoMessageAttribution.TENOR},D=new o.default((function(e){switch((0,C.gifProvider)()){case"giphy":return function(){return W.apply(this,arguments)}(e);case"tenor":return function(){return Y.apply(this,arguments)}(e);default:throw new Error(`Unrecognized provider ${(0,C.gifProvider)()}`)}}),{maxCached:6,maxAge:36e4,shouldCache:e=>!!(null==e?void 0:e.length)}),L="UP",B="DOWN",F="LEFT",G="RIGHT";function U(e,t){const{onGif:a,searchText:r,selectedSectionId:o,setIsFetching:f,scrollGifIntoViewIfNeeded:v}=e,y=(0,_.default)(),M=(0,p.default)(),[I,O]=(0,h.useState)([]),U=(0,h.useRef)(0),V=(0,h.useRef)(null),W=(0,h.useRef)(null),H=(0,h.useRef)(!1),q=(0,h.useRef)(null),Y=(0,h.useRef)(null),z=(0,h.useRef)(!1),K=(0,h.useRef)({}),$=(0,g.default)((()=>{const e=N[(0,C.gifProvider)()],t=r||o||T.SECTIONS.TRENDING;let a=D.getOrRun(t);a=a.then(),Y.current=a,f(!0),a.then((t=>{var n;if(y.aborted)return;if(t&&0===t.length&&new k.default.GifSearchNoResults({gifSearchProvider:e}).commit(),a!==Y.current)return;if(Y.current=null,f(!1),!t)return;let r=(null===(n=W.current)||void 0===n?void 0:n.clientWidth)||0;r-=2*C.GAP_SIZE,z.current=!0,Z.current.debounce(0),O(function(e,t){const a=[],n=.9*t;let r=e,i=null;for(let e=.05;e<1&&r.length;e+=.05){r.sort(((e,t)=>{const a=e.rank-t.rank;return Math.abs(a)>8?a:t.width-e.width}));const s=(1+e)*t,o=[],l=[];for(let e=0;e<r.length;e++){const t=r[e];let a=!1;const i=Math.min(s-t.width,n);for(let e=0;!a&&e<o.length;e++)o[e]<i&&(o[e]+=t.width+C.GAP_SIZE,l[e].push(t),a=!0);a||(o.push(t.width),l.push([t]))}if(1===l.length){r=[];const e=t-o[0]-C.GAP_SIZE;i={gifs:l[0],blankStr:e>0?`${e}px`:void 0}}else{r=[];for(let e=0;e<l.length;e++)o[e]>n?a.push(l[e]):r.push.apply(r,l[e])}}a.forEach((e=>e.sort(((e,t)=>e.rank-t.rank)))),a.sort(((e,t)=>e[0].rank-t[0].rank));const s=a.map((e=>({gifs:e,blankStr:void 0})));i&&s.push(i);return s}(t,r)),M()})).catch((0,s.catchAbort)((()=>{})))})),Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=K.current[String(e)];null==a||a.setShouldAnimate(t)},X=(0,g.default)((()=>{const e=V.current;let t=U.current+C.GAP_SIZE;q.current&&(t-=q.current.getClientHeight()||0);const a=Math.round(t/(C.TARGET_GIF_HEIGHT+C.GAP_SIZE)),n=I[a];if((null==n?void 0:n.gifs.length)&&n!==e){if(V.current=n,e)for(let t=0;t<e.gifs.length;t++)Q(e.gifs[t].gifId,!1);for(let e=0;e<n.gifs.length;e++)Q(n.gifs[e].gifId,!0)}[a+1,a-1].forEach((e=>{if(I[e]){const t=I[e].gifs;for(let e=0;e<t.length;e++)Q(t[e].gifId,!1)}}))})),J=(0,m.default)((()=>new u.ShiftTimer($))),Z=(0,m.default)((()=>new u.ShiftTimer(X)));const ee=(0,h.useRef)([]),te=(0,h.useRef)({}),ae=(e,t)=>{const[a,n]=e;t?(K.current[a]=t,te.current[n]=t):(delete K.current[a],delete te.current[n])},ne=(0,m.default)((()=>new w.default(ae))),re=e=>{const t=N[e.attribution];new k.default.GifFromProviderSent({gifSearchProvider:t}).commit(),e.trending||"number"!=typeof e.rank||new k.default.GifSearchResultTapped({gifSearchProvider:t,rank:e.rank}).commit(),H.current=!0,a(e.url,R[e.attribution])},ie=()=>{const e=ee.current.join("_"),t=te.current[e];if(t){const e=t.messagePreviewRef;e&&(d.default.focus(e),v(e))}},se=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const a=null===(e=q.current)||void 0===e?void 0:e.hasGifs();var n;a&&!t?null===(n=q.current)||void 0===n||n.initSelection():(ee.current=[0,0],ie())},oe=e=>{const t=ee.current,[a,n,r,i,s]=[t[0],t[1],I[Math.min(t[0],I.length-1)].gifs.length-1,I[Math.min(t[0]+1,I.length-1)].gifs.length-1,I[Math.max(t[0]-1,0)].gifs.length-1],o=n/r;switch(e){case L:const e=Math.floor(s*o);return[Math.max(a-1,0),e];case B:return[a+1,Math.floor(i*o)]}return[0,0]},le=e=>{var t,a;return null!==(t=null===(a=W.current)||void 0===a?void 0:a.contains(e))&&void 0!==t&&t},ue=()=>q.current,de=e=>{e&&(e.preventDefault(),e.stopPropagation())},ce=(e,t)=>[Math.max(0,e),Math.max(0,t)],fe=(e,t)=>{const[a,n]=[ee.current[0],ee.current[1]];switch(t){case L:if(0===a)return;ee.current=oe(L);break;case B:if(a===I.length-1)return;ee.current=oe(B);break;case F:if(0===n&&0===a)return;ee.current=0===n?ce(a-1,I[a-1].gifs.length-1):ce(a,n-1);break;case G:I[a]?I[a].gifs.length===n+1?ee.current=ce(a+1,0):ee.current=ce(a,n+1):ee.current=[0,0]}de(e),ie()},he=(0,g.default)((()=>{J.current.debounceAndCap(200,2e3)})),pe=e=>{U.current=e.scrollTop,Z.current.debounce(200)};(0,h.useEffect)((()=>{const e=new n,{signal:t}=e;return(0,l.promiseLoop)((0,i.default)((function*(){if(y.aborted)throw new s.AbortError;yield(0,A.default)(c.default,"change:online",(()=>c.default.online),t),he()}))).catch((0,s.catchAbort)((()=>{}))),$(),new k.default.GifSearchSessionStarted({gifSearchProvider:N[(0,C.gifProvider)()]}).commit(),()=>{Z.current.cancel(),J.current.cancel(),e.abort(),H.current||new k.default.GifSearchCancelled({gifSearchProvider:N[(0,C.gifProvider)()]}).commit()}}),[]),(0,h.useEffect)((()=>{he()}),[he,r]),(0,h.useImperativeHandle)(t,(()=>({contains:le,initSelection:se,animateOnScroll:pe,getStarredGifsRef:ue})));const me=I.map(((e,t)=>{const a=e.gifs.map(((e,a)=>(0,j.jsx)(S.default,{ref:ne.current.getRefSetter([`${e.gifId}`,`${t}_${a}`]),gif:e,onSend:re},e.gifId)));let n=null;return e.blankStr&&(n=(0,j.jsx)("div",{className:E.default.blank,style:{flexBasis:e.blankStr}})),(0,j.jsxs)("div",{className:E.default.row,children:[a,n]},t)})),ge=e.selectedSectionId!==T.SECTIONS.FAVORITES&&(0===me.length?(0,j.jsx)("div",{className:E.default.noResults,children:e.searchText?(0,j.jsx)(b.SearchWithoutKeyword,{}):(0,j.jsx)(b.Loading,{})}):(0,j.jsx)(x.HotKeys,{className:E.default.section,handlers:{up:e=>{fe(e,L)},down:e=>{fe(e,B)},left:e=>{fe(e,F)},right:e=>{fe(e,G)},enter:e=>{de(e);const t=ee.current,[a,n]=[t[0],t[1],t[2]];re(I[a].gifs[n])}},children:me})),_e=!e.searchText&&e.selectedSectionId===T.SECTIONS.FAVORITES&&(0,j.jsx)(P.default,{onSend:re,ref:q});return(0,j.jsxs)("div",{className:E.default.searchContainer,ref:e=>{W.current=e,null!=e&&e&&z.current&&(e.scrollTop=0)},children:[ge,_e]})}const V=(0,h.memo)((0,h.forwardRef)(U),((e,t)=>{let{onGif:a,selectedSectionId:n,searchText:r}=t;return!(e.onGif!==a||e.selectedSectionId!==n||e.searchText!==r)}));function W(){return(W=(0,i.default)((function*(e){const t=e===T.SECTIONS.TRENDING;let a;if(t)a=f.default.build("https://api.giphy.com/v1/gifs/trending",{api_key:I,limit:100,rating:"pg-13"});else{const t=M.default.getLocale();let n=t;switch(t){case"zh-HK":n="zh-TW";break;case"pt-BR":n="pt"}let r="";C.GIPHY_LOCALES.includes(n)&&(r=n),a=f.default.build("https://api.giphy.com/v1/gifs/search",{q:e,api_key:I,limit:100,rating:"pg-13",lang:r})}try{const e=yield(0,y.default)(a);if(!e.ok)throw new Error(e.statusText);return q(yield e.json(),t)}catch(e){return __LOG__(4,void 0,new Error)`gif_search:searchGiphy fetch failed with an error : ${e}`,null}}))).apply(this,arguments)}function H(e,t){if(e){const t=parseInt(e.width,10),a=parseInt(e.height,10);if(t&&a)return{width:t,height:a};__LOG__(4,void 0,new Error,!0)`gif_search:getGifDimensions fullContent does not have valid dimensions'`,SEND_LOGS("gif_search:getGifDimensions fullContent does not have valid dimensions")}if(t){const e=parseInt(t.width,10),a=parseInt(t.height,10);if(e&&a)return{width:C.TARGET_GIF_HEIGHT*e/a,height:C.TARGET_GIF_HEIGHT};__LOG__(4,void 0,new Error,!0)`gif_search:getGifDimensions original does not have valid dimensions`,SEND_LOGS("gif_search:getGifDimensions original does not have valid dimensions")}return{width:C.TARGET_GIF_HEIGHT,height:C.TARGET_GIF_HEIGHT}}function q(e,t){if(!e||!Array.isArray(e.data))return[];if(!e.data.length&&t)return[];const a=e.data,n=[];for(let e=0;e<a.length;e++){const r=a[e].images;if(!r)continue;const{original:i,preview:s,downsized_small:o,preview_webp:l,preview_gif:u}=r;if(!o)continue;const d=o.mp4;if(!d)continue;const{width:c,height:f}=H(o,i);n.push(new C.GifInfo(n.length,d,parseInt(o.mp4_size,10),(null==s?void 0:s.mp4)||void 0,(null==l?void 0:l.url)||(null==u?void 0:u.url)||void 0,Math.round(c*C.TARGET_GIF_HEIGHT/f),C.GIPHY,t))}return 0===n.length&&a.length>0&&(__LOG__(4,void 0,new Error,!0)`gif_search: All the gifs were skipped, check if there is a change in giphys response`,SEND_LOGS("gif_search: All the gifs were skipped, check if there is a change in giphys response")),n}function Y(){return(Y=(0,i.default)((function*(e){const t=e===T.SECTIONS.TRENDING,a=M.default.getLocale().replace("-","_");let n;n=t?f.default.build("https://wa.tenor.co/v1/trending",{key:O,limit:50,contentfilter:"high",locale:a}):f.default.build("https://wa.tenor.co/v1/search",{q:e,key:O,limit:50,contentfilter:"high",locale:a});try{const e=yield(0,y.default)(n);if(!e.ok)throw new Error(e.statusText);return z(yield e.json())}catch(e){return __LOG__(4,void 0,new Error)`gif_search:searchTenor fetch failed with an error : ${e}`,null}}))).apply(this,arguments)}function z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!Array.isArray(e.results))return[];const a=e.results,n=[];for(let e=0;e<a.length;e++){const r=a[e];if(!r||!r.media||!r.media[0])continue;const{tinymp4:i,previewmp4:s,previewgif:o}=r.media[0];if(!i)continue;const[l,u]=i.dims;n.push(new C.GifInfo(n.length,i.url,i.size,(null==s?void 0:s.url)||void 0,(null==o?void 0:o.url)||void 0,Math.round(l*C.TARGET_GIF_HEIGHT/u),C.TENOR,t))}return n}t.GifSearch=V},40910:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=t.ORDERED_TAB_SECTION_IDS=void 0;var r=n(a(49777));const i={FAVORITES:"FAVORITES",[r.default.TRENDING]:r.default.TRENDING,[r.default.HAHA]:r.default.HAHA,[r.default.SAD]:r.default.SAD,[r.default.LOVE]:r.default.LOVE,[r.default.REACTIONS]:r.default.REACTIONS,[r.default.SPORTS]:r.default.SPORTS,[r.default.TV]:r.default.TV};t.SECTIONS=i;const s={[i.FAVORITES]:i.FAVORITES,[i.TRENDING]:i.TRENDING,[i.HAHA]:i.HAHA,[i.SAD]:i.SAD,[i.LOVE]:i.LOVE,[i.REACTIONS]:i.REACTIONS,[i.SPORTS]:i.SPORTS,[i.TV]:i.TV},o=[s.FAVORITES,s.TRENDING,s.HAHA,s.SAD,s.LOVE,s.REACTIONS,s.SPORTS,s.TV];t.ORDERED_TAB_SECTION_IDS=o},30524:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GifPanel=void 0;var r=n(a(91747)),i=n(a(45095)),s=a(38184),o=n(a(40436)),l=a(67294),u=n(a(16223)),d=n(a(55010)),c=n(a(37453)),f=n(a(90886)),h=n(a(74570)),p=a(57297),m=a(59927),g=a(28362),_=a(40910),v=a(29424),b=n(a(50725)),y=n(a(91258)),C=n(a(14296)),S=n(a(99951)),E=n(a(11339)),T=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(78756)),x=a(54222),M=n(a(80077)),k=a(85893);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function P(e){e&&(e.preventDefault(),e.stopPropagation())}const A=(0,l.forwardRef)(((e,t)=>{var a;const n=(0,l.useRef)(),w=(0,l.useRef)(),A=(0,l.useRef)(),j=(0,l.useRef)(),I=(0,l.useRef)(0),O=(0,l.useRef)(!1),N=(0,l.useRef)(0),R=(0,l.useRef)(),D=(0,l.useRef)(0),L=(0,u.default)((()=>s.LegacyPhoneFeatures.supportsFeature(s.LegacyPhoneFeatures.F.STARRED_GIFS)?_.ORDERED_TAB_SECTION_IDS:_.ORDERED_TAB_SECTION_IDS.filter((e=>e!==_.SECTIONS.FAVORITES)))),B=(0,r.default)(e.displayCache||{},{scrollTop:0,showSearchInput:!0}),[F,G]=(0,l.useState)(!B.scrollTop),[U,V]=(0,l.useState)(e.defaultSearchText||null),W=(0,c.default)(U),[H,q]=(0,l.useState)(B.showSearchInput),[Y,z]=(0,l.useState)(0===B.scrollTop),[K,$]=(0,l.useState)(B.selectedSectionId||_.SECTIONS.TRENDING),[Q,X]=(0,l.useState)(!1),[J,Z]=(0,l.useState)(-1),[ee,te]=(0,l.useState)(!1),ae=(0,l.useRef)(new Map);W!==U&&j.current&&(U?j.current.scrollTop=0:null!=R.current&&0!==R.current&&(j.current.scrollTop=R.current));const ne=e=>{A.current?A.current.focus(e):(O.current=!0,q(!0))};(0,l.useEffect)((()=>{H&&ne()}),[H]),(0,l.useImperativeHandle)(t,(()=>({getElement:()=>n.current,focusSearchInput(e){ne(e)},restoreFocus(e){ne(e)}})));const re=(0,h.default)();(0,l.useEffect)((()=>{var t;D.current=Date.now();const a=null===(t=e.displayCache)||void 0===t?void 0:t.scrollTop,n=j.current;n&&null!=a&&0!==a&&(n.scrollTop=a),re((()=>{ne(),new E.default.WebcEmojiOpen({webcEmojiOpenTab:"GIF"}).commit(),G(!1)}))}),[]);const ie=(0,f.default)((()=>{var e;const t=j.current;if(null==K&&U&&t&&w.current)return void w.current.animateOnScroll(t);if(Date.now()-D.current<p.SCROLL_CLICK_TIME_GAP)return;if(F&&G(!1),!t)return;const a=t.scrollTop;z(a<=0);const n=I.current-a,r=Math.abs(n)>p.INPUT_BAR_SCROLL_SENSITIVITY;O.current=Math.abs(n)>p.INPUT_BAR_SCROLL_FAST,n<0?H&&(a>p.INPUT_HIDE_POINT&&r||I.current<p.INPUT_HIDE_POINT&&a>=p.INPUT_HIDE_POINT)&&q(!1):H||(r||a<p.INPUT_SHOW_POINT)&&q(!0),null===(e=w.current)||void 0===e||e.animateOnScroll(t),I.current=a}),p.SCROLL_THROTTLE_TIME);(0,d.default)((()=>{var t;const a=j.current;e.onDisplayCache({scrollTop:null!==(t=null==a?void 0:a.scrollTop)&&void 0!==t?t:0,showSearchInput:H,selectedSectionId:K})}));const se=e=>{var t;P(e),null===(t=w.current)||void 0===t||t.initSelection()},oe=(t,a)=>{var n,r;(P(a),null==U)&&(R.current=null===(r=j.current)||void 0===r?void 0:r.scrollTop);null===(n=e.onChange)||void 0===n||n.call(e,t,a),V(t),X(!1)},le=()=>{var e;const t=null!=K?K:L.current[0];null===(e=ae.current.get(t))||void 0===e||e.focus(),Z(L.current.indexOf(K))},ue=t=>{var a,n;q(!0),$(t),V(t===_.SECTIONS.FAVORITES?null:t),X(!0),null===(a=e.onChange)||void 0===a||a.call(e,""),null===(n=A.current)||void 0===n||n.focus(!1)};let de=null;H&&(de=(0,k.jsx)(x.PanelSearchInput,{label:C.default.t(627,{service:m.BRAND_NAMES[(0,m.gifProvider)()]}),onChange:oe,onUpKey:le,onDownKey:se,ref:A,shadow:!Y,tabFocused:Q,value:U||""}));const ce=O.current?"emoji-search-slide-away-fast":"emoji-search-slide-away",fe=(0,k.jsx)(o.default,{transitionName:ce,children:de});return(0,k.jsxs)(v.HotKeys,{ref:n,handlers:{tab:t=>{if(P(t),A.current)return A.current.hasFocus()?void e.onFocusNext():ne()},"shift+tab":t=>{if(P(t),A.current)return A.current.hasFocus()?void e.onFocusPrev():ne()},up:e=>{var t;const a=null==e?void 0:e.nativeEvent.target,n=null===(t=w.current)||void 0===t?void 0:t.getStarredGifsRef(),r=a instanceof HTMLElement&&(null==n?void 0:n.isStarredGif(a)),i=a instanceof HTMLElement&&!!w.current&&w.current.contains(a);if(r)ne(),P(e);else if(i&&(null==n?void 0:n.hasGifs())){var s;null===(s=w.current)||void 0===s||s.initSelection(!1),P(e)}else i&&(ne(),P(e))},down:e=>{var t,a;const n=null==e?void 0:e.nativeEvent.target,r=null===(t=w.current)||void 0===t?void 0:t.getStarredGifsRef();var i;if(n instanceof HTMLElement&&(null==r?void 0:r.isStarredGif(n)))null===(i=w.current)||void 0===i||i.initSelection(!0),P(e);else if(n instanceof Node&&(null===(a=w.current)||void 0===a?void 0:a.contains(n))){var s;null===(s=w.current)||void 0===s||s.initSelection(!1),P(e)}}},children:[(0,k.jsx)(b.default,{selectedSectionId:K,sectionIds:L.current,renderSectionTab:(e,t)=>(0,k.jsx)(M.default,{onClick:ue,sectionId:e,selected:t,showFocusIndicator:-1!==J,ref:t=>{ae.current.set(e,t)}},e),showTabHighlight:!(null===(a=e.defaultSearchText)||void 0===a?void 0:a.trim()),onFocusPrev:()=>{var e;const t=(L.current.length+J-1)%L.current.length,a=L.current[t];null===(e=ae.current.get(a))||void 0===e||e.focus(),Z(t)},onFocusNext:()=>{var e;const t=(J+1)%L.current.length,a=L.current[t];null===(e=ae.current.get(a))||void 0===e||e.focus(),Z(t)},onEnter:()=>{const e=L.current[J];Z(-1),ue(e)},onFocusLeave:()=>{ne(),Z(-1)}}),(0,k.jsxs)("div",{className:y.default.gifPanel,children:[(0,k.jsx)(S.default,{loading:ee}),(0,k.jsxs)("div",{className:y.default.bodyContainer,onMouseDown:e=>{P(e),ne()},children:[fe,(0,k.jsx)("div",{className:y.default.panelBody,onScroll:ie,ref:j,children:(0,k.jsx)(g.GifSearch,{ref:w,onGif:(0,i.default)(e.onGif,"props.onGif"),searchText:(U||"").replace(/^\s+/,""),scrollGifIntoViewIfNeeded:e=>{const t=j.current;t&&e.offsetTop-t.scrollTop<p.INPUT_BAR_TOTAL_HEIGHT&&T.scrollIntoView(e,!0,t)},selectedSectionId:K,setIsFetching:e=>{if(e){const e=Date.now()-N.current;e<p.MINIMUM_LOADING_TIME?window.setTimeout((()=>te(!1)),p.MINIMUM_LOADING_TIME-e):te(!1)}else te(!0),N.current=Date.now()}})})]})]})]})}));t.GifPanel=A,A.displayName="GifPanel"},74972:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(14597),i=n(a(94184)),s=a(48360),o=a(67294),l=n(a(59312)),u=a(87550),d=n(a(74570)),c=n(a(52665)),f=a(24808),h=a(59927),p=n(a(53638)),m=n(a(14296)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),_=a(58668),v=n(a(34949)),b=n(a(11810)),y=n(a(26276)),C=n(a(23217)),S=a(85893);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function T(e,t){const{msg:a}=e,n=(0,l.default)(),E=(0,d.default)(),T=(0,o.useRef)(null);(0,u.useListener)(a,"change:mediaData.mediaStage",(()=>{n()}));const x=(0,o.useCallback)((()=>{E((()=>{var e;null===(e=T.current)||void 0===e||e.setShouldAnimate(!0)}))}),[E]);(0,o.useEffect)((()=>{x()}),[]);const M=e=>{e.stopPropagation();switch(a.mediaData.mediaStage){case _.MEDIA_DATA_STAGE.NEED_POKE:a.forceDownloadMediaEvenIfExpensive();break;case _.MEDIA_DATA_STAGE.FETCHING:a.cancelDownload();break;case _.MEDIA_DATA_STAGE.UPLOADING:a.cancelUpload();break;case _.MEDIA_DATA_STAGE.ERROR_MISSING:r.ModalManager.open((0,S.jsx)(c.default,{title:m.default.t(530),onOK:()=>r.ModalManager.close(),okText:s.fbt._("OK",null,{hk:"2KEeHb"}),children:m.default.t(529)}))}},k=()=>{b.default.remove(a)};(0,o.useEffect)((()=>{x()}),[x,e]);const w=()=>T.current;(0,o.useImperativeHandle)(t,(()=>({getGifRef:w})));const P=a.mediaData,A=new h.GifInfo(void 0,P.renderableUrl,void 0,void 0,void 0,Math.round(P.aspectRatio*h.TARGET_GIF_HEIGHT),(()=>{switch(a.gifAttribution){case f.Message$VideoMessageAttribution.GIPHY:return h.GIPHY;case f.Message$VideoMessageAttribution.TENOR:return h.TENOR;default:return""}})(),!1);if(P.mediaStage===_.MEDIA_DATA_STAGE.RESOLVED)return(0,S.jsx)(p.default,{ref:T,gif:A,onSend:e.onSend,isStarred:!0,onUnstarMsg:k},a.filehash);if(P.preview instanceof v.default){const e=P.preview.url();let t;switch(P.mediaStage){case _.MEDIA_DATA_STAGE.ERROR_MISSING:break;case _.MEDIA_DATA_STAGE.NEED_POKE:t=(0,S.jsx)(g.Download,{});break;case _.MEDIA_DATA_STAGE.FETCHING:case _.MEDIA_DATA_STAGE.UPLOADING:t=(0,S.jsx)(g.Pending,{cancelable:!0});break;default:t=(0,S.jsx)(g.Pending,{})}const n=(0,i.default)(y.default.thumb,{[y.default.blur]:P.mediaStage===_.MEDIA_DATA_STAGE.ERROR_MISSING}),r=(0,S.jsx)("div",{className:n,style:{backgroundImage:`url(${e})`,height:`${h.TARGET_GIF_HEIGHT}px`}});return(0,S.jsxs)("div",{className:y.default.container,style:{flexBasis:A.widthStr},children:[(0,S.jsx)("div",{className:y.default.wrapper,style:{width:A.widthStr},onClick:M,children:(0,S.jsxs)("div",{className:y.default.innerWrapper,style:{paddingBottom:A.ratioStr},children:[t,r]})}),(0,S.jsx)("button",{className:y.default.starIcon,onClick:k,children:(0,S.jsx)(C.default,{name:"star"})})]},a.filehash)}return null}var x=(0,o.forwardRef)(T);t.default=x},48692:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45578)),i=n(a(52013)),s=n(a(94184)),o=a(67294),l=n(a(59312)),u=a(87550),d=a(59927),c=a(29424),f=n(a(11810)),h=n(a(74972)),p=n(a(59110)),m=n(a(23217)),g=a(85893);function _(e,t){const a=(0,l.default)(),n=(0,o.useRef)(null),_=(0,o.useRef)({}),v=(0,o.useRef)(0),b=(0,o.useRef)(0),[y,C]=(0,o.useState)(0);(0,o.useEffect)((()=>{f.default.isSynced||f.default.sync()}),[]),(0,u.useListener)(f.default,"add remove reset",a);const S=()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.clientHeight},E=()=>{var e;return Boolean(null===(e=n.current)||void 0===e?void 0:e.childNodes.length)},T=e=>!!e&&(!!n.current&&n.current.contains(e)),x=()=>{var e,t;const a=null===(e=_.current[b.current])||void 0===e||null===(t=e.getGifRef())||void 0===t?void 0:t.messagePreviewRef;a&&i.default.focus(a)},M=()=>{b.current=0,x()};(0,o.useImperativeHandle)(t,(()=>({getClientHeight:S,hasGifs:E,isStarredGif:T,initSelection:M})));const k=()=>y>0,w=()=>k()?new Promise((e=>{C(y-1),e(!0)})):Promise.resolve(!1),P=()=>y+4<v.current,A=()=>P()?new Promise((e=>{C(y+1),e(!0)})):Promise.resolve(!1),j=e=>{e&&(e.preventDefault(),e.stopPropagation())},I={left:e=>{w().then((t=>{b.current=t?b.current:b.current-1,b.current<0?j(e):(j(e),x())}))},right:e=>{A().then((t=>{b.current=t?b.current-1:b.current;const a=Object.keys(_.current).length;if(b.current<3&&b.current<a-1)b.current=b.current+1;else{if(!P())return void j(e);b.current=3}j(e),x()}))},enter:e=>{var t;j(e),null===(t=_.current[b.current])||void 0===t||t.getGifRef().handleClick()}},O=(0,r.default)(f.default.toArray(),"filehash");if(v.current=O.length,0===O.length)return(0,g.jsx)("div",{});if(O.length<=4){let t=0;const a=O.map(((a,n)=>(t+=Math.round(a.mediaData.aspectRatio*d.TARGET_GIF_HEIGHT),(0,g.jsx)(h.default,{ref:e=>_.current[n]=e,msg:a,onSend:e.onSend},a.filehash))));return t+=(a.length-1)*d.GAP_SIZE,(0,g.jsx)(c.HotKeys,{className:p.default.section,handlers:I,children:(0,g.jsx)("div",{ref:n,className:p.default.searchRow,style:{maxWidth:`${t}px`},children:a})})}const N=k(),R=P(),D=N?w:null,L=R?A:null,B=(0,s.default)(p.default.pager,p.default.pagerLeft,{[p.default.pagerDisabled]:!N}),F=(0,s.default)(p.default.pager,p.default.pagerRight,{[p.default.pagerDisabled]:!R}),G=(0,g.jsx)("div",{className:B,onClick:D,children:(0,g.jsx)(m.default,{name:"chevron-left-alt"})}),U=(0,g.jsx)("div",{className:F,onClick:L,children:(0,g.jsx)(m.default,{name:"chevron-right-alt"})}),V=O.slice(y,y+4).map(((t,a)=>(0,g.jsx)(h.default,{ref:e=>_.current[a]=e,msg:t,onSend:e.onSend},t.filehash)));return(0,g.jsx)("div",{className:p.default.section,children:(0,g.jsxs)(c.HotKeys,{ref:n,className:p.default.searchRow,handlers:I,children:[G,(0,g.jsx)("div",{className:p.default.body,children:V}),U]})})}var v=(0,o.forwardRef)(_);t.default=v},99951:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)("div",{className:r.default.barContainer,role:"progressbar",children:e.loading&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:r.default.movingBar1}),(0,i.jsx)("span",{className:r.default.movingBar2})]})})};var r=n(a(50320)),i=a(85893)},49357:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)("div",{role:e.role,className:(0,r.default)(i.default.container,e.className),onMouseDown:e=>{e.stopPropagation()},children:e.children})};var r=n(a(94184)),i=n(a(64827)),s=a(85893)},50725:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let a=-1;const n=e.sectionIds.map(((t,n)=>{let r=!1;return t===e.selectedSectionId&&(e.showTabHighlight?(a=n,r=!0):a=-1),e.renderSectionTab(t,r)}));return(0,u.jsx)(s.HotKeys,{component:"div",handlers:(0,r.default)({"shift+tab":e.onFocusPrev,tab:e.onFocusNext,down:e.onFocusLeave,left:()=>{var t,a;o.default.isRTL()?null===(t=e.onFocusNext)||void 0===t||t.call(e):null===(a=e.onFocusPrev)||void 0===a||a.call(e)},right:()=>{var t,a;o.default.isRTL()?null===(t=e.onFocusPrev)||void 0===t||t.call(e):null===(a=e.onFocusNext)||void 0===a||a.call(e)},enter:e.onEnter,space:e.onEnter}),children:(0,u.jsxs)(i.default,{children:[(0,u.jsx)(l.default,{numTabs:e.sectionIds.length,selectedTabIndex:a,animate:null===(t=e.showTabHighlight)||void 0===t||t}),n]})})};var r=n(a(15206)),i=n(a(49357)),s=a(29424),o=n(a(14296)),l=n(a(24649)),u=a(85893)},93353:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES=t.MenuTab=void 0;var r=n(a(18446)),i=n(a(99964)),s=n(a(52013)),o=n(a(94184)),l=a(67294),u=n(a(30462)),d=a(85893);const c={CAROUSEL:"CAROUSEL",CAROUSEL_END:"CAROUSEL_END",MENU:"MENU",NONE:"NONE"};t.THEMES=c;class f extends l.PureComponent{constructor(){super(...arguments),this._handleClick=e=>{this.props.onClick&&this.props.onClick(this.props.sectionId,e)},this._setRefTab=e=>{var t,a;this._refTab=e,null===(t=(a=this.props).onRef)||void 0===t||t.call(a,e)}}_getStyle(e){return(0,r.default)(this._style,e)||(this._style=e),this._style}hasFocus(){return!!document.activeElement&&this._refTab===document.activeElement}focus(){this._refTab&&(this.hasFocus()||s.default.focus(this._refTab))}render(){const{theme:e,title:t,a8n:a,role:n="button"}=this.props;return(0,d.jsx)("div",{ref:this._setRefTab,role:n,className:(0,o.default)(u.default.tab,{[u.default.menu]:e===c.MENU,[u.default.carousel]:e===c.CAROUSEL||e===c.CAROUSEL_END,[u.default.carouselEnd]:e===c.CAROUSEL_END,[u.default.selected]:this.props.selected,[u.default.highlightOnFocus]:this.props.showFocusIndicator}),onClick:this._handleClick,style:this._getStyle({width:this.props.width,transform:this.props.transform}),title:t,tabIndex:"0","data-a8n":i.default.key(a),children:this.props.children})}}t.MenuTab=f,f.displayName="MenuTab"},24649:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=a(67294),s=n(a(16223)),o=n(a(37453)),l=n(a(14296)),u=n(a(71414)),d=a(85893);function c(e){const t=(0,s.default)((()=>l.default.isRTL()?-1:1)),a=(0,o.default)(e.selectedTabIndex);let n,i,c;return c=(-1!==a||e.selectedTabIndex===a)&&Boolean(e.animate),-1!==e.selectedTabIndex?(i=`translateX(${100*e.selectedTabIndex*t.current}%)`,n="4px"):-1!==a&&-1===e.selectedTabIndex&&(n="0px"),(0,d.jsx)("div",{className:(0,r.default)(u.default.menuTabsMarker,{[u.default.hide]:e.hide,[u.default.animate]:!c&&e.animate,[u.default.animateWithTransform]:c}),style:{width:100/e.numTabs+"%",transform:i,height:n}})}var f=(0,i.memo)(c);t.default=f},54222:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PanelSearchInput=t.HEIGHT=void 0;var r=n(a(99964)),i=n(a(45120)),s=n(a(52013)),o=a(55715),l=a(26741),u=n(a(94184)),d=a(67294),c=a(29424),f=n(a(14296)),h=n(a(97802)),p=a(52596),m=n(a(23217)),g=a(85893);t.HEIGHT=56;const _=(0,d.forwardRef)(((e,t)=>{const a=(0,d.useRef)(),n=(0,d.useRef)(),[_,v]=(0,d.useState)(e.value||"");null!=e.value&&e.value!==_&&v(e.value);const b=()=>!!document.activeElement&&a.current===document.activeElement,y=e=>{const t=a.current;t&&(b()||(s.default.focus(t),e&&i.default.indicateFocus(n.current)))};(0,d.useImperativeHandle)(t,(()=>({focus:y,hasFocus:b})));const C=t=>{var a;v(""),null===(a=e.onChange)||void 0===a||a.call(e,"",t)};let S=null;return _&&!e.tabFocused&&(S=(0,g.jsx)("button",{className:h.default.cancelIcon,onClick:C,children:(0,g.jsx)(m.default,{name:"x-alt-small"})})),(0,g.jsx)(c.HotKeys,{handlers:{enter:t=>{var a;t.preventDefault(),t.stopPropagation(),null===(a=e.onEnterKey)||void 0===a||a.call(e,t)},up:t=>{var a;t.stopPropagation(),t.preventDefault(),null===(a=e.onUpKey)||void 0===a||a.call(e,t)},down:t=>{var a;t.stopPropagation(),t.preventDefault(),null===(a=e.onDownKey)||void 0===a||a.call(e,t)}},"data-tab":o.TAB_ORDER.PANEL_SEARCH_INPUT,className:(0,u.default)(h.default.searchRow,{[h.default.ffFix]:l.UA.isGecko,[h.default.rowShadow]:e.shadow}),onFocus:()=>y(),children:(0,g.jsx)("label",{ref:n,className:h.default.rowInput,children:(0,g.jsxs)("div",{className:h.default.inputContainer,children:[(0,g.jsx)("input",{"data-a8n":r.default.key("input-emoji-search"),ref:a,className:(0,u.default)(h.default.inputEmojiSearch,p.SELECTABLE_INPUT_CSS_CLASS),type:"text",role:"searchbox",dir:f.default.isRTL()?"rtl":"ltr",value:e.tabFocused?"":_,title:e.label,placeholder:e.label,onMouseDown:e=>{e.stopPropagation()},onChange:t=>{var a;v(t.target.value),null===(a=e.onChange)||void 0===a||a.call(e,t.target.value,t)}}),S]})})},"search-input")}));t.PanelSearchInput=_},64894:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(52013)),i=a(8139),s=n(a(94184)),o=a(67294),l=a(87550),u=n(a(55010)),d=n(a(89113)),c=n(a(74570)),f=a(28325),h=n(a(45189)),p=a(66299),m=a(5446),g=n(a(24315)),_=a(85893);const v=e=>{e&&(e.preventDefault(),e.stopPropagation())};function b(e,t){const{displayLocation:a=f.DisplayLocation.Dropdown,displayCache:n,onFocusPrev:b,onFocusNext:y,onDisplayCache:C}=e,S=(0,o.useRef)(null),E=(0,o.useRef)(null),T=(0,o.useRef)(null),x=(0,o.useRef)(null),M=(0,o.useRef)(null),[k,w]=(0,o.useState)((()=>p.StickerPackCollection.hasFetchedData())),[P,A]=(0,o.useState)(p.StickerPackCollection.length>0),[j,I]=(0,o.useState)(!1),[O,N]=(0,o.useState)((()=>n&&null!=n.selectedStickerPackIndex?n.selectedStickerPackIndex:0)),R=()=>{b()},D=()=>{y()},L=(0,c.default)(),B=(0,d.default)((()=>{L((()=>{if(T.current){if(document.activeElement===T.current)return;r.default.focus(T.current)}else M.current&&M.current.focus()}))})),F=e=>{v(e),B()},G=e=>{v(e),R()},U=e=>{v(e),D()};(0,o.useImperativeHandle)(t,(()=>({restoreFocus:B}))),(0,u.default)((()=>{null==C||C({scrollTop:S.current,selectedStickerPackIndex:O})})),(0,l.useListener)(p.StickerPackCollection,["change:length","change:pageFetchStates"],(()=>{w(p.StickerPackCollection.hasFetchedData()),A(p.StickerPackCollection.length>0)}));const V=(0,c.default)();(0,o.useEffect)((()=>{V((()=>{B(),p.StickerPackCollection.fetchAt(0)}))}),[B,V]);const W=(0,i.isRecentStickersEnabled)(),H=(0,i.isStarredStickersEnabled)(),q=(W?1:0)+(H?1:0);if(!W&&k&&!P)return(0,_.jsx)(m.StickerPanelEmpty,{containerClassName:h.default.panelContainer,onClick:F,onFocusPrev:G,onFocusNext:U,ref:T});const Y=(0,s.default)(h.default.panelContainer,{[h.default.panelDropdown]:a===f.DisplayLocation.Dropdown});return(0,_.jsxs)("div",{className:Y,onClick:F,ref:E,children:[(0,_.jsx)(g.default,{ref:M,displayLocation:a,onFocusBelow:e=>{v(e),x.current&&x.current.focus()},onFocusNext:e=>{v(e),D()},onFocusPrev:e=>{v(e),R()},onItemClick:e=>{N(e)},selectedStickerPackIndex:O,shadow:j,recentStickersEnabled:W,starredStickersEnabled:H,specialItemsCount:q}),(0,_.jsx)(m.StickerPanelContent,{ref:x,displayLocation:a,onFocusNext:e=>{v(e),M.current&&M.current.focus()},onFocusPrev:e=>{v(e),M.current&&M.current.focus()},onScroll:e=>{let{scrollTop:t}=e;S.current=t,I(t>0)},onSticker:e.onSticker,selectedStickerPackIndex:O,recentStickersEnabled:W,starredStickersEnabled:H,specialItemsCount:q})]})}var y=(0,o.forwardRef)(b);t.default=y},7380:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(41455),i=n(a(94184)),s=a(48360),o=a(67294),l=n(a(16223)),u=n(a(55010)),d=n(a(95402)),c=n(a(74570)),f=(a(57849),a(57297)),h=a(28325),p=n(a(45189)),m=n(a(50725)),g=n(a(16074)),_=n(a(52411)),v=a(44333),b=a(76626),y=n(a(23217)),C=a(93353),S=a(85893);var E=(0,o.forwardRef)(((e,t)=>{var a,n;const{displayLocation:s=h.DisplayLocation.Dropdown}=e,E=(0,d.default)(),M=s===h.DisplayLocation.ComposeBox;const k=(0,o.useMemo)((()=>{const e=[];return e.push(f.StickerTabs.RECENTS),e.push(f.StickerTabs.LOVE,f.StickerTabs.GREETINGS,f.StickerTabs.HAPPY,f.StickerTabs.SAD,f.StickerTabs.ANGRY,f.StickerTabs.CELEBRATE),M&&e.push(f.StickerTabs.STORE),e}),[M]),w=(0,o.useRef)(),P=(0,o.useRef)(),A=(0,o.useRef)(),j=(0,l.default)((()=>new Map)),[I,O]=(0,o.useState)((null===(a=e.displayCache)||void 0===a?void 0:a.selectedTab)||f.StickerTabs.RECENTS),[N,R]=(0,o.useState)(-1);(0,u.default)((()=>{var t;null===(t=e.onDisplayCache)||void 0===t||t.call(e,{scrollTop:P.current,selectedTab:I})}));const D=(0,c.default)(),L=()=>D((()=>{const e=A.current;e&&e.focus()}));(0,o.useImperativeHandle)(t,(()=>({restoreFocus:L,getElement:()=>w.current})));const B=(0,c.default)(),F=(t,a)=>{var n,i,s;if(null==a||a.preventDefault(),t===f.StickerTabs.STORE)return r.DrawerManager.openDrawerRight((0,S.jsx)(b.StickerStoreFlowLoadable,{onSticker:e.onSticker}),"slide-left",E),void B((()=>{v.StickerPackCollectionMd.fetch()}));O(t),null===(n=A.current)||void 0===n||n.clearSearchText(),null===(i=e.onChange)||void 0===i||i.call(e,""),null===(s=A.current)||void 0===s||s.focus()},G=(0,i.default)(p.default.panelContainer,{[p.default.panelDropdown]:s===h.DisplayLocation.Dropdown});return(0,S.jsxs)("div",{className:G,ref:w,children:[(0,S.jsx)(m.default,{selectedSectionId:I,sectionIds:k,renderSectionTab:(e,t)=>{const a=T(e),n=function(e){switch(e){case f.StickerTabs.FAVORITES:return(0,S.jsx)(y.default,{name:"panel-starred"});case f.StickerTabs.RECENTS:return(0,S.jsx)(y.default,{name:"panel-recent"});case f.StickerTabs.STORE:return(0,S.jsx)(y.default,{name:"panel-add"});default:return T(e)}}(e),r=function(e){switch(e){case f.StickerTabs.STORE:return"sticker-store";default:return null}}(e);return(0,S.jsx)(C.MenuTab,{onClick:F,sectionId:e,selected:t,showFocusIndicator:-1!==N,title:a,theme:C.THEMES.MENU,a8n:r,onRef:t=>{j.current.set(e,t)},children:(0,S.jsx)("span",{className:g.default.tabIconOrText,children:n})},a)},showTabHighlight:!(null===(n=e.defaultSearchText)||void 0===n?void 0:n.trim()),onFocusPrev:e=>{var t;x(e);const a=(k.length+N-1)%k.length,n=k[a];null===(t=j.current.get(n))||void 0===t||t.focus(),R(a)},onFocusNext:e=>{var t;x(e);const a=(N+1)%k.length,n=k[a];null===(t=j.current.get(n))||void 0===t||t.focus(),R(a)},onEnter:()=>{R(-1),F(k[N])},onFocusLeave:e=>{x(e),L(),R(-1)}}),(0,S.jsx)(_.default,{ref:A,onFocusUp:e=>{var t;x(e),null===(t=j.current.get(I))||void 0===t||t.focus(),R(k.indexOf(I))},onFocusNext:t=>{x(t),e.onFocusNext()},onFocusPrev:t=>{x(t),e.onFocusPrev()},onScroll:e=>{let{scrollTop:t}=e;P.current=t},onChange:e.onChange,onSticker:e.onSticker,defaultSearchText:e.defaultSearchText,selectedTab:I,displayLocation:s})]})}));function T(e){switch(e){case f.StickerTabs.FAVORITES:return s.fbt._("Favorite",null,{hk:"220ZUF"});case f.StickerTabs.RECENTS:return s.fbt._("Recent",null,{hk:"mC0w6"});case f.StickerTabs.LOVE:return s.fbt._("Love",null,{hk:"pEMWC"});case f.StickerTabs.GREETINGS:return s.fbt._("Greetings",null,{hk:"2lQ4uh"});case f.StickerTabs.HAPPY:return s.fbt._("Happy",null,{hk:"4dLwqt"});case f.StickerTabs.SAD:return s.fbt._("Sad",null,{hk:"4nYiDm"});case f.StickerTabs.ANGRY:return s.fbt._("Angry",null,{hk:"228rrU"});case f.StickerTabs.CELEBRATE:return s.fbt._("Celebrate",null,{hk:"2dAtNz"});case f.StickerTabs.STORE:return s.fbt._("WhatsApp Sticker Store",null,{hk:"1G3CwR"})}}function x(e){e&&(e.preventDefault(),e.stopPropagation())}t.default=E},5446:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPanelEmpty=t.StickerPanelContent=void 0;var r=n(a(94184)),i=a(48360),s=n(a(15206)),o=a(67294),l=a(29424),u=n(a(86537)),d=n(a(11339)),c=n(a(1388)),f=n(a(17385)),h=n(a(98178)),p=n(a(48371)),m=a(85893);function g(e){let{onFocusPrev:t,onSticker:a,recentStickersEnabled:n,selectedStickerPackIndex:r,onScroll:i,displayLocation:s,starredStickersEnabled:o,specialItemsCount:l,scrollGridRef:u}=e;const c=e=>{a(e,d.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_RECENTS)},g=e=>{a(e,d.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_FAVORITES)};return n&&0===r?(0,m.jsx)(f.default,{ref:u,onFocusPrev:t,onScroll:i,onStickerClick:c,onStickerEnter:c,displayLocation:s}):o&&1===r?(0,m.jsx)(p.default,{ref:u,onFocusPrev:t,onScroll:i,onStickerClick:g,onStickerEnter:g}):(0,m.jsx)(h.default,{ref:u,onFocusPrev:t,onScroll:i,onStickerClick:a,onStickerEnter:a,selectedStickerPackIndex:r-l})}function _(e,t){const{onFocusPrev:a,onSticker:n,recentStickersEnabled:i,selectedStickerPackIndex:d,onScroll:c,displayLocation:f,starredStickersEnabled:h,specialItemsCount:p}=e,_=(0,o.useRef)(null),v=()=>{_.current&&_.current.focus()};(0,o.useImperativeHandle)(t,(()=>({focus:v})));const b=(0,r.default)(u.default.container);return(0,m.jsx)(l.HotKeys,{className:b,handlers:(0,s.default)({"shift+tab":e.onFocusPrev,tab:e.onFocusNext}),children:(0,m.jsx)(g,{onFocusPrev:a,onSticker:n,recentStickersEnabled:i,selectedStickerPackIndex:d,onScroll:c,displayLocation:f,starredStickersEnabled:h,specialItemsCount:p,scrollGridRef:_})})}const v=(0,o.forwardRef)(_);t.StickerPanelContent=v;const b=(0,o.forwardRef)(((e,t)=>{let{containerClassName:a,onClick:n,onFocusPrev:s,onFocusNext:o}=e;return(0,m.jsxs)("div",{className:(0,r.default)(a,u.default.emptyContainer),onClick:n,children:[(0,m.jsx)("div",{className:u.default.emptySticker,style:{backgroundImage:`url(${c.default})`}}),(0,m.jsx)(l.HotKeys,{handlers:{"shift+tab":s,tab:o},ref:t,children:(0,m.jsx)("p",{className:u.default.emptyText,children:i.fbt._("You don't have any stickers yet. Download sticker packs on your phone to get started.",null,{hk:"4z1HMS"})})})]})}));t.StickerPanelEmpty=b,b.displayName="StickerPanelEmpty"},52411:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=n(a(40436)),s=n(a(94184)),o=a(48360),l=n(a(15206)),u=a(67294),d=n(a(51799)),c=a(87550),f=n(a(90886)),h=a(46428),p=a(57297),m=a(29424),g=n(a(86537)),_=n(a(99951)),v=n(a(11339)),b=a(54222),y=n(a(3903)),C=n(a(91864)),S=n(a(52444)),E=a(45068),T=a(80367),x=a(85893);const M=(0,u.forwardRef)(((e,t)=>{if(e.searchText)return(0,x.jsx)(T.StickerPackStickersScrollGrid,{ref:t,onFocusPrev:e.onFocusPrev,onStickerClick:e.onStickerClick,searchText:e.searchText,resetScroll:e.resetScroll});if(e.selectedTab===p.StickerTabs.FAVORITES)return(0,x.jsx)(C.default,{ref:t,onFocusPrev:e.onFocusPrev,onStickerClick:e.onStickerClick,resetScroll:e.resetScroll});if(e.selectedTab===p.StickerTabs.RECENTS)return(0,x.jsx)(S.default,{ref:t,onFocusPrev:e.onFocusPrev,onStickerClick:e.onStickerClick,resetScroll:e.resetScroll,displayLocation:e.displayLocation});return null!=(0,p.convertTabToMood)(e.selectedTab)?(0,x.jsx)(T.StickerPackStickersScrollGrid,{ref:t,selectedTab:e.selectedTab,onFocusPrev:e.onFocusPrev,onStickerClick:e.onStickerClick,searchText:e.searchText,resetScroll:e.resetScroll}):(__LOG__(4,void 0,new Error,!0)`_renderStickerScrollGrid attempted with an invalid selectedTab: ${e.selectedTab}`,SEND_LOGS("_renderStickerScrollGrid attempted with an invalid selectedTab"),null)}));var k=(0,u.forwardRef)(((e,t)=>{const{defaultSearchText:a,selectedTab:n}=e,C=function(){const[e,t]=(0,u.useState)(!1),[a,n]=(0,u.useState)(!0),[r]=(0,h.useTimeout)((()=>{n(!0)}),p.MINIMUM_LOADING_TIME);return(0,c.useListener)(E.StickerSearchCollection,"start_fetching",(()=>{t(!0),n(!1),r()})),(0,c.useListener)(E.StickerSearchCollection,"stop_fetching",(()=>{t(!1)})),e||!a}(),S=(0,u.useRef)(!1),T=(0,u.useRef)(),k=(0,u.useRef)(0),w=(0,u.useRef)(0),P=(0,u.useRef)(),[A,j]=(0,u.useState)(!0),I=()=>{const e=T.current;null!=e&&(e.scrollTop=0,w.current=0,k.current=0,j(!0))},[O,N]=(0,u.useState)(a||""),R=(0,u.useRef)(!1);(0,u.useEffect)((()=>{R.current?N(""):R.current=!0}),[n]);const D=function(){var e=(0,r.default)((function*(e){I();try{yield E.StickerSearchCollection.search(e)}catch(e){__LOG__(4,void 0,new Error,!0)`Sticker search promise failed`,SEND_LOGS(e)}}));return function(){return e.apply(this,arguments)}}(),L=(0,d.default)(D,250),B=()=>{const e=P.current;if(!e)return S.current=!0,void j(!0);e.focus(!1)};(0,u.useEffect)((()=>{B(),a&&D(a)}),[]),(0,u.useImperativeHandle)(t,(()=>({focus(){var e;null===(e=P.current)||void 0===e||e.focus()},clearSearchText(){N("")}})));const[F,G]=(0,u.useState)(!0),U=(0,f.default)((()=>{var t;const a=T.current;if(!a)return;null===(t=e.onScroll)||void 0===t||t.call(e,a);const{scrollTop:n}=a,r=w.current-n;if(r===p.INPUT_BAR_TOTAL_HEIGHT)return k.current=r,void(w.current=n);const i=Math.abs(r)>p.INPUT_BAR_SCROLL_SENSITIVITY;if(S.current=Math.abs(r)>p.INPUT_BAR_SCROLL_FAST,r<0)A&&(n>p.INPUT_HIDE_POINT&&i||w.current<p.INPUT_HIDE_POINT&&n>=p.INPUT_HIDE_POINT)&&j(!1);else if(!A){var s;!(null===(s=document.activeElement)||void 0===s?void 0:s.classList.contains(y.default.container))&&(i||n<p.INPUT_SHOW_POINT)&&j(!0)}w.current=n,k.current=r,G(n<=0)}),p.SCROLL_THROTTLE_TIME),V=(0,u.useRef)(),W=S.current?"emoji-search-slide-away-fast":"emoji-search-slide-away",H=(0,x.jsx)(i.default,{transitionName:W,children:A&&(0,x.jsx)(b.PanelSearchInput,{label:o.fbt._("Search via WhatsApp sticker store",null,{hk:"mIFa0"}),onChange:(t,a)=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t,a),N(t),""!==t?L(t):L.cancel()},value:O||"",shadow:!F,ref:P,onUpKey:e.onFocusUp,onDownKey:()=>{var e;null===(e=V.current)||void 0===e||e.focus()}})}),q=(0,s.default)(g.default.containerSearch);return(0,x.jsxs)(m.HotKeys,{className:q,handlers:(0,l.default)({"shift+tab":e.onFocusPrev,tab:e.onFocusNext}),onClick:e=>{!function(e){if(!e)return;e.preventDefault(),e.stopPropagation()}(e),B()},children:[(0,x.jsx)(_.default,{loading:C}),(0,x.jsxs)("div",{className:g.default.bodyContainer,children:[H,(0,x.jsx)("div",{className:(0,s.default)(g.default.contentContainer,g.default.contentContainerSearch),onScroll:U,ref:T,children:(0,x.jsx)(M,{ref:V,onFocusPrev:B,onStickerClick:t=>{var a;let r;r=O?v.default.STICKER_SEND_ORIGIN_TYPE.STICKER_SEARCH:n===p.StickerTabs.RECENTS?v.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_RECENTS:n===p.StickerTabs.FAVORITES?v.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_FAVORITES:v.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_EMOTION,e.onSticker(t,r),O&&(null===(a=P.current)||void 0===a||a.focus())},searchText:O.trim(),selectedTab:e.selectedTab,resetScroll:I,displayLocation:e.displayLocation})})]})]})}));t.default=k},52146:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=n(a(99964)),s=a(88555),o=a(81572),l=a(15022),u=n(a(52013)),d=n(a(94184)),c=a(48360),f=a(67294),h=n(a(16031)),p=n(a(44692)),m=n(a(78506)),g=a(35461),_=a(57849),v=a(71174),b=a(83610),y=a(29424),C=a(84866),S=a(18146),E=n(a(12064)),T=n(a(3903)),x=a(18644),M=n(a(24717)),k=a(85893);var w=(0,f.forwardRef)(((e,t)=>{const{onDownload:a,theme:n="stickerPanel"}=e,w=(0,g.useModelValues)(e.sticker,["id","filehash","mediaData","isPlaceholder","isCreateButton"]),P=(0,f.useRef)(null),A=(0,h.default)((0,r.default)((function*(){yield w.downloadMedia(),null==a||a(w.id)}))),[j,I]=(0,f.useState)(),O=()=>!!P.current&&P.current===document.activeElement,N=()=>{P.current&&(O()||u.default.focus(P.current))},R=()=>P.current?P.current.offsetTop:0;(0,f.useImperativeHandle)(t,(()=>({hasFocus:O,focus:N,getOffsetTop:R})));const D=e.onClick?t=>{const a=e.onClick;a&&a((0,S.unproxy)(w),t)}:void 0,[L,{isIntersecting:B}]=(0,p.default)({root:null,rootMargin:"10px",threshold:0});(0,f.useEffect)((()=>{B&&A()}),[B,A]);const F=(0,m.default)(P,L);let G,U;return"stickerDetails"!==n&&(G=t=>{const a=[];if((0,s.isLegacyWebdBackend)()||w.isPlaceholder||w.isCreateButton)return;t.preventDefault(),t.stopPropagation(),(0,_.getABPropConfigValue)("sticker_md_favorite_stickers_enabled")&&((0,b.isStickerFilehashFavorited)(w.filehash)?a.push((0,k.jsx)(v.DropdownItem,{a8n:"mi-remove-favorite-sticker",action:()=>{(0,b.removeStickerFromFavorites)(e.sticker)},children:c.fbt._("Remove from favorites",null,{hk:"4YvuK"})},"remove-favorite-sticker")):a.push((0,k.jsx)(v.DropdownItem,{a8n:"mi-add-favorite-sticker",action:()=>{(0,b.addStickerToFavorites)(e.sticker)},children:c.fbt._("Add to favorites",null,{hk:"2ODf78"})},"add-favorite-sticker")));const n=C.MediaBlobCache.get(e.sticker.filehash);null!=n&&(0,l.supportsCopyImageToClipboard)()&&a.push((0,k.jsx)(v.DropdownItem,{a8n:"mi-copy-favorite-sticker",action:()=>{(0,l.copyImageToClipboard)(n)},children:c.fbt._("Copy Sticker Image",null,{hk:"2hsnNe"})},"copy-favorite-sticker"));const{stickerPackId:r}=w.mediaData,{dontShowViewPack:i=!1}=e;!1===i&&r&&a.push((0,k.jsx)(v.DropdownItem,{a8n:"mi-open-sticker-pack",action:()=>o.Cmd.openStickerPack(r),children:c.fbt._("View Pack",null,{hk:"tAlU3"})},"open-sticker-pack")),I({menu:a,event:t})},j&&(U=(0,k.jsx)(x.UIE,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:()=>I(null),children:(0,k.jsx)(M.default,{contextMenu:j})}))),(0,k.jsxs)(y.HotKeys,{ref:F,className:(0,d.default)(T.default.container,{[T.default.stickerPanel]:"stickerPanel"===n}),handlers:{enter:t=>{const a=e.onEnter;a&&a((0,S.unproxy)(w),t)}},onContextMenu:G,children:[(0,k.jsx)("div",{className:T.default.border,"data-a8n":i.default.key("sticker-item"),children:B&&(0,k.jsx)(E.default,{mediaData:w.mediaData,onClick:D,theme:n,loopAnimation:!0,downloadMedia:A,isCreateButton:w.isCreateButton})}),U]})}));t.default=w},91864:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(48360),i=a(67294),s=a(87550),o=n(a(70723)),l=n(a(91981)),u=n(a(27632)),d=a(85893);var c=(0,i.forwardRef)(((e,t)=>{const a=(0,i.useRef)(),n=function(e){const[t,a]=(0,i.useState)([]),n=()=>{const t=o.default.toArray();a(t.map((e=>e.sticker))),null==e||e()};return(0,i.useEffect)((()=>{n()}),[]),(0,s.useListener)(o.default,"add remove change sort",n),t}(e.resetScroll);return(0,i.useImperativeHandle)(t,(()=>({focus(e){var t;null===(t=a.current)||void 0===t||t.focus(e)}}))),0===n.length?(0,d.jsx)(l.default,{text:r.fbt._("You haven't favorited any stickers yet",null,{hk:"2a3vJg"})}):(0,d.jsx)(u.default,{ref:a,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerClick,stickers:n,theme:"searchable",loadOneRow:!0})}));t.default=c},17385:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(48360),i=a(67294),s=a(28325),o=a(91692),l=a(99718),u=n(a(91981)),d=n(a(52884)),c=n(a(27632)),f=a(85893);function h(e,t){const a=(0,i.useRef)(null),[n,h]=(0,i.useState)((()=>o.RecentStickerCollection.isSynced()));(0,i.useEffect)((()=>{n||o.RecentStickerCollection.sync().then((()=>{h(!0)}))}),[]);const p=e=>{var t;null===(t=a.current)||void 0===t||t.focus(e)};(0,i.useImperativeHandle)(t,(()=>({focus:p})));const m=o.RecentStickerCollection.toArray(),g=e.displayLocation===s.DisplayLocation.ComposeBox?[l.Sticker.getCreateButton(),...m]:m;return n?0===g.length?(0,f.jsx)(u.default,{text:r.fbt._("You haven't sent any stickers yet",null,{hk:"1o2MCj"})}):(0,f.jsx)(c.default,{ref:a,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerEnter,stickers:g}):(0,f.jsx)(d.default,{quantity:o.RECENT_STICKERS_LIMIT})}var p=(0,i.forwardRef)(h);t.default=p},52444:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(48360),i=a(67294),s=a(87550),o=a(28325),l=a(49264),u=a(99718),d=n(a(91981)),c=n(a(27632)),f=a(85893);var h=(0,i.forwardRef)(((e,t)=>{const a=(0,i.useRef)(),n=function(e){const[t,a]=(0,i.useState)([]),n=()=>{const t=l.RecentStickerCollectionMd.toArray();a(t.map((e=>e.sticker))),null==e||e()};return(0,i.useEffect)((()=>{n()}),[]),(0,s.useListener)(l.RecentStickerCollectionMd,"add remove change sort",n),t}(e.resetScroll),h=e.displayLocation===o.DisplayLocation.ComposeBox?[u.Sticker.getCreateButton(),...n]:n;return(0,i.useImperativeHandle)(t,(()=>({focus(e){var t;null===(t=a.current)||void 0===t||t.focus(e)}}))),0===h.length?(0,f.jsx)(d.default,{text:r.fbt._("You haven't sent any stickers yet",null,{hk:"1o2MCj"})}):(0,f.jsx)(c.default,{ref:a,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerClick,stickers:h,theme:"searchable"})}));t.default=h},98178:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(48360),i=a(67294),s=n(a(59312)),o=a(87550),l=n(a(14296)),u=n(a(11339)),d=a(66299),c=n(a(99026)),f=n(a(21300)),h=a(85893);function p(e){let{onRetryClick:t}=e;return(0,h.jsxs)("div",{className:c.default.container,children:[(0,h.jsx)("div",{children:l.default.t(483)}),(0,h.jsx)("div",{"data-id":"retry",className:c.default.retryButton,onClick:t,children:r.fbt._("Retry",null,{hk:"2jS9Tg"})})]})}function m(e,t){const{selectedStickerPackIndex:a}=e,n=(0,s.default)(),r=(0,i.useRef)(null);(0,i.useEffect)((()=>{d.StickerPackCollection.fetchAt(a)}),[]);const l=()=>{d.StickerPackCollection.fetchAt(a,!0)};(0,i.useEffect)((()=>{const e=d.StickerPackCollection.pageWithIndex(a);d.StickerPackCollection.pageFetchStates[e]===d.PAGE_FETCH_STATE.ERROR&&d.StickerPackCollection.fetchAt(a,!0)}),[a]);const c=e=>{r.current&&r.current.focus(e)};(0,i.useImperativeHandle)(t,(()=>({focus:c}))),(0,o.useListener)(d.StickerPackCollection,"change:pageFetchStates",((e,t)=>{d.StickerPackCollection.pageWithIndex(a)===e&&(t?n():d.StickerPackCollection.fetchAt(a))}));const m=d.StickerPackCollection.at(e.selectedStickerPackIndex);if(!m)return null;const g=d.StickerPackCollection.pageWithIndex(e.selectedStickerPackIndex);if(d.StickerPackCollection.pageFetchStates[g]===d.PAGE_FETCH_STATE.ERROR)return(0,h.jsx)(p,{onRetryClick:l});const _=u.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_PACK;return(0,h.jsx)(f.default,{ref:r,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:t=>e.onStickerClick(t,_),onStickerEnter:t=>e.onStickerEnter(t,_),stickers:m.stickers,renderError:()=>(0,h.jsx)(p,{onRetryClick:l})})}var g=(0,i.forwardRef)(m);t.default=g},48371:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(98913)),i=a(89385),s=n(a(47259)),o=a(48360),l=a(67294),u=a(87550),d=n(a(3409)),c=a(16774),f=a(99718),h=n(a(91981)),p=n(a(52884)),m=n(a(27632)),g=a(85893);var _=(0,l.forwardRef)(((e,t)=>{const{onScroll:a}=e,[n,_]=(0,l.useState)((()=>c.StarredStickerCollection.isSynced())),[v,b]=(0,l.useState)((()=>c.StarredStickerCollection.toArray())),[y,C]=(0,l.useState)(!1),S=(0,d.default)();(0,l.useEffect)((()=>{n||(0,s.default)(c.StarredStickerCollection.sync(),S).then((()=>_(!0))).catch((0,i.catchAbort)((()=>{})))}),[]),(0,u.useListener)(c.StarredStickerCollection,"add remove",(()=>b(c.StarredStickerCollection.toArray()))),(0,u.useListener)(c.StarredStickerCollection,"sync",(()=>{b(c.StarredStickerCollection.toArray()),_(!0)})),(0,u.useListener)(c.StarredStickerCollection,"next_page_sync",(()=>{b(c.StarredStickerCollection.toArray()),C(!1)}));const E=(0,l.useCallback)((e=>{const{scrollTop:t,clientHeight:n,scrollHeight:i}=e;if(null==a||a(e),i-n-t<200&&!y&&c.StarredStickerCollection.canLoadMore()){const e=c.StarredStickerCollection.getRemaining(),t=Math.min(c.STARRED_STICKERS_PAGE_SIZE,e),a=(0,r.default)(t,(()=>f.StickerModel.getPlaceholder()));C(!0),b((e=>e.concat(a))),c.StarredStickerCollection.syncNextPage()}}),[y,a]),T=(0,l.useRef)();return(0,l.useImperativeHandle)(t,(()=>({focus:e=>{var t;return null===(t=T.current)||void 0===t?void 0:t.focus(e)}}))),n?0===c.StarredStickerCollection.length?(0,g.jsx)(h.default,{text:o.fbt._("You haven't favorited any stickers yet",null,{hk:"2a3vJg"})}):(0,g.jsx)(m.default,{ref:T,onFocusPrev:e.onFocusPrev,onScroll:E,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerEnter,stickers:v}):(0,g.jsx)(p.default,{quantity:c.STARRED_STICKERS_PAGE_SIZE})}));t.default=_},91981:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=n(a(86537)),s=n(a(1388)),o=a(85893);var l=e=>{let{text:t}=e;return(0,o.jsxs)("div",{className:(0,r.default)(i.default.emptyContainer,i.default.panelHeight),children:[(0,o.jsx)("div",{className:i.default.emptySticker,style:{backgroundImage:`url(${s.default})`}}),(0,o.jsx)("p",{className:i.default.emptyText,children:t})]})};t.default=l},52884:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(98913)),i=a(99718),s=n(a(52146)),o=n(a(33906)),l=a(85893);var u=e=>{let{quantity:t}=e;const a=i.StickerModel.getPlaceholder();return(0,l.jsx)("div",{className:o.default.container,children:(0,r.default)(t,(e=>(0,l.jsx)(s.default,{sticker:a},e)))})};t.default=u},80367:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPackStickersScrollGrid=void 0,t.StickerPanelNoResults=m;var r=a(48360),i=a(67294),s=n(a(51799)),o=a(87550),l=a(57297),u=n(a(1388)),d=a(45068),c=n(a(7056)),f=n(a(27632)),h=a(85893);const p=(0,i.forwardRef)(((e,t)=>{const{selectedTab:a}=e,[n,r]=(0,i.useState)((()=>d.StickerSearchCollection.toArray())),u=(0,s.default)((()=>{r(d.StickerSearchCollection.toArray()),e.resetScroll()}),250);(0,o.useListener)(d.StickerSearchCollection,"add remove reset",u),(0,i.useEffect)((()=>{if(a){const e=(0,l.convertTabToMood)(a);null!=e&&d.StickerSearchCollection.searchMood(e),d.StickerSearchCollection.hasFetchedData()&&u()}}),[a]);const c=(0,i.useRef)();return(0,i.useImperativeHandle)(t,(()=>({focus(e){const t=c.current;t&&t.focus(e)}}))),e.searchText&&!1===d.StickerSearchCollection.isFetchingData()&&0===d.StickerSearchCollection.length?(0,h.jsx)(m,{}):(0,h.jsx)(f.default,{ref:c,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,resetScroll:e.resetScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerClick,stickers:n,theme:"searchable",loadOneRow:!0})}));function m(){return(0,h.jsxs)("div",{className:c.default.emptyContainer,children:[(0,h.jsx)("div",{className:c.default.emptySticker,style:{backgroundImage:`url(${u.default})`}}),(0,h.jsx)("p",{className:c.default.emptyText,children:r.fbt._("No results",null,{hk:"3hxq4S"})})]})}t.StickerPackStickersScrollGrid=p},21300:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=n(a(59312)),s=a(87550),o=a(67963),l=n(a(52884)),u=n(a(27632)),d=a(85893);function c(e,t){const{stickers:a}=e,n=(0,r.useRef)(null),c=(0,i.default)();(0,s.useListener)(a,"change:fetchState",c),(0,r.useEffect)((()=>{var e;const t=a.fetchState===o.FETCH_STATE.ERROR;a.fetch(t),null===(e=n.current)||void 0===e||e.scrollToTop()}),[a]),(0,r.useImperativeHandle)(t,(()=>({focus(e){var t;null===(t=n.current)||void 0===t||t.focus(e)}})));const f=()=>{a.fetch(!0)};return a.fetchState===o.FETCH_STATE.ERROR?e.renderError(f):a.fetchState&&a.fetchState!==o.FETCH_STATE.PENDING?(0,d.jsx)(u.default,{ref:n,onFocusPrev:e.onFocusPrev,onScroll:e.onScroll,onStickerClick:e.onStickerClick,onStickerEnter:e.onStickerEnter,stickers:e.stickers.toArray()}):(0,d.jsx)(l.default,{quantity:24})}var f=(0,r.forwardRef)(c);t.default=f},27632:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(33856)),i=n(a(94184)),s=a(67294),o=n(a(16223)),l=n(a(37453)),u=n(a(51099)),d=a(29424),c=n(a(8694)),f=n(a(52146)),h=a(74470),p=n(a(33906)),m=a(85893);var g=(0,s.forwardRef)(((e,t)=>{let{onFocusPrev:a,onScroll:n,resetScroll:g,onStickerClick:_,onStickerEnter:v,stickers:b,theme:y,loadOneRow:C=!1}=e;const S=(0,s.useRef)(),E=(0,o.default)((()=>new Map)),T=(0,s.useRef)(new Set),[x,M]=(0,s.useState)(2),[k,w]=(0,s.useState)(6),P=(0,l.default)(b);(0,s.useImperativeHandle)(t,(()=>({focus(e){const t=E.current;let a=e||0;a=Math.min(a,t.size),a=Math.max(a,0);const n=t.get(a);n&&n.focus()},scrollToTop(){const e=S.current;e&&(e.scrollTop=0)}})));const A=(0,s.useCallback)((()=>{const e=E.current,t=e.get(0);if(null==t)return void w(1);const a=t.getOffsetTop(),n=e.size;for(let t=0;t<n;t++){const n=e.get(t);if(n&&n.getOffsetTop()!==a)return void w(t)}w(e.size)}),[E]);(0,s.useEffect)((()=>A),[b,A,E]),(0,s.useEffect)((()=>{const e=(0,r.default)(b,P,((e,t)=>e.id===t.id));e.length!==b.length&&P!==b&&(T.current=new Set(e.map((e=>e.id))),M(2))}),[b,P]);const j=()=>{const e=E.current,t=e.size;for(let a=0;a<t;a++){const t=e.get(a);if(t&&t.hasFocus())return a}return-1},I=e=>{var t;if(0===e)return;const n=j();if(-1===n)return;let r=n+e;if(r<0)return void(null==a||a());const i=null===(t=S.current)||void 0===t?void 0:t.parentElement;r<k&&i&&(i.scrollTop=0,null==g||g());const s=E.current;r=Math.min(r,s.size-1);const o=s.get(r);o&&o.focus()},O=e=>{I(0-e)},N=e=>{T.current.add(e),T.current.size===x*k&&M(x+2)},R=(C?b.slice(0,k*x):b).map(((e,t)=>{const a=E.current,n=e.isPlaceholder||e.isCreateButton?`${h.PRE_PLACEHOLDER_ID}${t}`:e.id;return(0,m.jsx)(u.default,{reason:"sticker-item",children:(0,m.jsx)(f.default,{onClick:_,onEnter:v,onDownload:N,ref:e=>{e?a.set(t,e):a.delete(t)},sticker:e})},n)})),D=(0,i.default)(p.default.container,"searchable"===y&&p.default.unscrollable);return(0,m.jsx)(c.default,{onResize:A,className:p.default.resizeContainer,children:(0,m.jsx)(d.HotKeys,{ref:S,className:D,handlers:{up:e=>{e.stopPropagation(),e.preventDefault(),O(k)},down:e=>{e.stopPropagation(),e.preventDefault();const t=j(),a=E.current,n=Math.min(t+k,a.size-1);Math.floor(t/k)!==Math.floor(n/k)&&I(k)},left:e=>{e.stopPropagation(),e.preventDefault(),O(1)},right:e=>{e.stopPropagation(),e.preventDefault(),I(1)}},onScroll:()=>{const e=S.current;e&&(null==n||n(e))},children:R})})}));t.default=g},24315:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(52013)),i=n(a(94184)),s=n(a(15206)),o=a(67294),l=a(87550),u=n(a(35330)),d=a(28325),c=a(29424),f=n(a(64750)),h=a(66299),p=n(a(3593)),m=n(a(23217)),g=a(85893);function _(e){let{specialItemsCount:t,recentStickersEnabled:a,starredStickersEnabled:n,index:r}=e;return a&&0===r?(0,g.jsx)(m.default,{name:"panel-recent"}):n&&1===r?(0,g.jsx)(m.default,{name:"panel-starred"}):(0,g.jsx)(p.default,{index:r-t})}function v(e,t){const{displayLocation:a,specialItemsCount:n,recentStickersEnabled:p,starredStickersEnabled:m}=e,v=(0,o.useRef)(null),[b,y]=(0,o.useState)(n+h.StickerPackCollection.length),C=()=>{y(n+h.StickerPackCollection.length)},S=()=>!!v.current&&v.current===document.activeElement,E=()=>{v.current&&(S()||r.default.focus(v.current))};(0,o.useImperativeHandle)(t,(()=>({focus:E,hasFocus:S}))),(0,o.useEffect)((()=>{C()}),[]),(0,l.useListener)(h.StickerPackCollection,["change:length"],C);let T=h.PAGE_SIZE_COMPOSE_BOX;return a===d.DisplayLocation.Dropdown&&(T=h.PAGE_SIZE_POPUP),(0,g.jsx)(c.HotKeys,{ref:v,handlers:(0,s.default)({down:e.onFocusBelow,"shift+tab":e.onFocusPrev,tab:e.onFocusNext}),children:(0,g.jsx)(u.default,{className:(0,i.default)({[f.default.shadow]:e.shadow}),numItems:b,numColumns:T,onItemClick:e.onItemClick,renderItem:e=>(0,g.jsx)(_,{index:e,specialItemsCount:n,starredStickersEnabled:m,recentStickersEnabled:p}),selectedIndex:e.selectedStickerPackIndex})})}var b=(0,o.forwardRef)(v);t.default=b},14591:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{id:t,name:a,url:n}=e;return(0,s.jsx)("div",{className:i.default.container,"data-id":t,children:(0,s.jsx)(r.ImgWithFallback,{fallbackSVG:"sticker",wrapOptions:{wrapperClassName:i.default.stickerPackIconWrapper,centerWrapperChild:!0},className:i.default.stickerPackContainer,size:"NONE",roundContainer:!1,imgProps:{src:n||"",alt:a,draggable:!1}})})};var r=a(50981),i=n(a(26590)),s=a(85893)},3593:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{index:t}=e,a=(0,i.default)(),[n,f]=(0,r.useState)((()=>o.StickerPackCollection.at(t)));if((0,r.useEffect)((()=>{o.StickerPackCollection.fetchAt(t)}),[]),(0,s.useListener)(o.StickerPackCollection,"change:pageFetchStates",((e,n)=>{if(!a())return;o.StickerPackCollection.pageWithIndex(t)===e&&(n||o.StickerPackCollection.fetchAt(t),f(o.StickerPackCollection.at(t)))})),!n)return null;if(n.isPlaceholder)return(0,c.jsx)(d.default,{name:"sticker"});if(n.isFirstParty)return(0,c.jsx)(l.default,{stickerPack:n});return(0,c.jsx)(u.default,{stickerPack:n,mediaData:n.mediaData})};var r=a(67294),i=n(a(16747)),s=a(87550),o=a(66299),l=n(a(53314)),u=n(a(48642)),d=n(a(23217)),c=a(85893)},53314:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.stickerPack,["id","name","url"]),{id:a,name:n,url:o}=t;return(0,s.jsx)(i.default,{id:a,name:n,url:o})};var r=a(35461),i=n(a(14591)),s=a(85893)},48642:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useModelValues)(e.stickerPack,["id","name"]),a=(0,i.useModelValues)(e.mediaData,["renderableUrl","mediaStage"]),n=()=>t.downloadMedia();return(0,r.useEffect)((()=>{n()}),[]),(0,l.jsx)(s.default,{mediaData:a,placeholderRenderer:()=>(0,l.jsx)(o.default,{id:t.id,name:t.name,url:null}),downloadMedia:n,children:e=>(0,l.jsx)(o.default,{id:t.id,name:t.name,url:e})})};var r=a(67294),i=a(35461),s=n(a(20553)),o=n(a(14591)),l=a(85893)},72761:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PluggableInput=t.BaseInput=void 0;var r=n(a(81109)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(93131)),s=n(a(45095)),o=a(64331),l=n(a(99964)),u=a(10206),d=n(a(52013)),c=a(55715),f=n(a(94184)),h=a(67294),p=a(62101),m=n(a(1791)),g=n(a(82958)),_=n(a(70411)),v=n(a(15055)),b=n(a(17410)),y=n(a(92726)),C=n(a(7057)),S=a(29424),E=n(a(14296)),T=a(9272),x=n(a(56051)),M=a(52596),k=n(a(66065)),w=n(a(748)),P=n(a(95605)),A=a(85893);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}class I extends h.Component{constructor(){var e,t;super(...arguments),t=this,this.__changeDueToReset=!1,this.__isMounted=!0,this.__isComposing=!1,this.containerRef=null,this.selection=this.props.initialSelection,this.state={direction:N(this.props.initialValue||""),focused:!1,value:(null===(e=this.props.initialValue)||void 0===e?void 0:e.toString())||"",theme:this.props.theme||null},this.trigger=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t._hookMap[e];n&&n(...a)},this.serializeTextBeforeCursor=()=>(0,w.default)(this.refInput||document.createElement("span"),window.getSelection()),this._hasFocus=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.refInput;if(!e)return!1;const{activeElement:a}=document;return!!a&&(a===e||e.contains(a))},this.forceFocus=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.props.readOnly||!t.__isMounted)return;const{refInput:a}=t;if(!a)return;const n=t._hasFocus(a);if(!n||e)if(n||d.default.focus(a),!e&&t.selection)t._restoreSelection(t.selection);else{const e=window.getSelection();e.rangeCount&&(e.selectAllChildren(a),e.collapseToEnd())}},this.focus=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t._hasFocus()&&!e||setTimeout((()=>{t.forceFocus(e)}),0)},this.reset=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.__changeDueToReset=!0,t.selection=null,t._setValue(e)},this._setValue=e=>{if(e===this.state.value)return;const t=e||"";this.setState({value:t,direction:N(t)},(()=>{this.trigger(C.default.CHANGE,[t]),this.props.onChange&&this.props.onChange(t)}))},this.onSelect=()=>{this.selection=this.getSelection(),this.props.onSelect&&this.props.onSelect(this.selection)},this.shouldComponentUpdate=(e,t)=>{let{value:a,focused:n,direction:r,theme:i}=t;null!=this.refInput&&this.props.readOnly!==e.readOnly&&this.refInput.setAttribute("contentEditable",String(!e.readOnly));const s=R(e);null!=this.refInput&&s!==R(this.props)&&(null==s?this.refInput.removeAttribute("data-tab"):this.refInput.setAttribute("data-tab",s.toString()));n!==this.state.focused&&this.containerRef&&(n?this.containerRef.classList.add("focused"):this.containerRef.classList.remove("focused"));if(i!==this.state.theme&&this.containerRef){var o,l;const e=this._getInputClassname(this.state.theme,this.props.size,this.props.lineHeight).split(" "),t=this._getInputClassname(i,this.props.size,this.props.lineHeight).split(" ");null===(o=this.containerRef)||void 0===o||o.classList.remove(...e),null===(l=this.containerRef)||void 0===l||l.classList.add(...t)}if(r!==this.state.direction&&this.refInput&&this.refInput.setAttribute("dir",r),this.__changeDueToReset){this.__changeDueToReset=!1;const e=(0,P.default)(a,this._plugins);this.refInput&&(this.refInput.innerHTML=e)}const u=!a.length&&!!this.state.value.length,d=!!a.length&&!this.state.value.length;if(!d&&!u)return!1;const c=d?"hidden":"visible";return this._refPlaceholder&&this._refPlaceholder.setAttribute("style",`visibility: ${c}`),!1},this.componentWillUnmount=()=>{this.__isMounted=!1,this.refInput&&(this.refInput.restoreFocus=null)},this._handleInput=()=>{const{refInput:e}=this,t=e?(0,k.default)(e,this._plugins):"",a=this.props.multiline&&"\n"!==t?t:t.replace(/\n$/,""),{maxLength:n}=this.props;if(null!=n&&(0,o.numCodepoints)(a)>n){const t=this.selection;return e&&(e.innerHTML=(0,P.default)(this.state.value,this._plugins)),void(t&&this._restoreSelection(t))}this.trigger(C.default.INPUT),this._setValue(a)},this.onPaste=e=>{e.preventDefault(),e.stopPropagation();const t=new y.default(e.clipboardData),{onFiles:a,onTextPaste:n}=this.props;t.hasFiles()&&(null==a?void 0:a(t))||t.hasText()&&t.getText(this.props.textPasteMimePriority).then((e=>{if(!e)return;if(null==n?void 0:n(e))return;const t=this.length-this._selectionLength,{maxLength:a}=this.props;if(null!=a&&t+(0,o.numCodepoints)(e)>a){const{onMaxPasteExceeded:e}=this.props;return null==e?void 0:e()}this.replaceSelection(e)}))},this._handleBeforeInput=e=>{if(this.props.readOnly)return!0;const{maxLength:t}=this.props;if(null==t)return!1;const a=e.data.charCodeAt(0);if(8===a||127===a)return!1;const n=t+this._selectionLength-this.length;return(0,o.numCodepoints)(e.data)>n},this._handleKeyDown=e=>!(!this.props.onKeyDown||!this.props.onKeyDown(e))||13===e.which&&(this.props.multiline&&function(e){return 13===e.which&&(e.shiftKey||e.altKey||e.ctrlKey)}(e)?!(""!==this.state.value.trim()||!this.cursorIsAtStart())||((0,u.isFeatureEnabled)("format_bulleted_msg")&&this._cursorIsOnListItem()?(this._insertNewLineAtSelection(T.LIST_ITEM_DELIMITER),!0):(this._insertNewLineAtSelection(),!0)):(this.props.onEnter&&this.props.onEnter(e),!0)),this.componentDidMount=()=>{this.refInput&&(this.refInput.restoreFocus=this.focus),this.trigger(C.default.MOUNT)},this._handleBlur=e=>{this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e)},this._handleFocus=e=>{this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e)},this._handleCompositionStart=()=>!(this.__isComposing=!0),this._handleCompositionEnd=()=>this.__isComposing=!1,this.setRefContainer=e=>{this.containerRef=e},this._setRefPlaceholder=e=>{this._refPlaceholder=e},this.setRefInput=e=>{this.refInput=e},this.getRefInput=()=>this.refInput,this._getInputClassname=(e,t,a)=>(0,f.default)(x.default.input,{[x.default.compose]:"compose"===e,[x.default.default]:"default"===e||"media-caption"===e||"text-input"===e||"status-reply"===e||"rich-status-reply"===e,[x.default.large]:"large"===e,[x.default.media]:"media-caption"===e,[x.default.invite]:"v4-invite-caption"===e,[x.default.small]:"small"===e,[x.default.status]:"status-reply"===e,[x.default.richStatusReply]:"rich-status-reply"===e,[x.default["list-search"]]:"list-search"===e,[x.default.textInput]:"text-input"===e,[x.default.mediaEditorTextInput]:"media-editor-text-input"===e},t?x.default[`size-${t}`]:null,a?x.default[`line-height-${a}`]:null)}get value(){return this.state.value}get _selectionLength(){if(this.props.readOnly)return 0;this._hasFocus(this.refInput)||d.default.focus(this.refInput);const e=window.getSelection();return e.rangeCount?(0,o.numCodepoints)((0,k.default)(e.getRangeAt(0).cloneContents(),this._plugins)):0}get length(){return(0,o.numCodepoints)(this.state.value)}serialize(e){const t=e||this.state.value;return this._plugins.reduce(((e,t)=>{let[a,n]=e;return t.serialize?t.serialize(a,n):[a,n]}),[t,{}])}_adjustScrollAfterModification(e,t,a){const{scrollHeight:n,clientHeight:r}=e;n<=r||(e.scrollTop=(a||0)+(n-t))}_ensureFocus(e){this._hasFocus(e)||(d.default.focus(e),this.selection&&this._restoreSelection(this.selection))}replaceSelection(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{refInput:a}=this;if(this.props.readOnly||null==a)return;this._ensureFocus(a);let n=this._trimToFit(e);if(!n.length&&!t)return;this.props.multiline||(n=n.replace(/\r?\n/g,""));const r=window.getSelection().getRangeAt(0);(function(e,t){let{startOffset:a,startContainer:n}=e;return 0===a&&n!==t&&(!(!n||!n.previousSibling)&&"\n"===n.previousSibling.textContent.slice(-1))})(r,a)&&(n=`\n${n}`),r.deleteContents();const{scrollHeight:i,scrollTop:s}=a;document.execCommand("insertHTML",!1,(0,P.default)(n,this._plugins)),this.onSelect(),this._adjustScrollAfterModification(a,i,s)}_insertNewLineAtSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.props.multiline&&this._insertTextAtSelection("\n"+e)}_insertTextAtSelection(e){const{refInput:t}=this;if(!this.props.multiline||this.props.readOnly||null==t)return;this._ensureFocus(t);const{scrollHeight:a,scrollTop:n}=t,r=this.cursorIsAtEnd(),i=document.createTextNode(e),s=window.getSelection(),o=s.getRangeAt(0);o.deleteContents(),o.insertNode(i);if(/^\n/.test(e)&&a===t.scrollHeight&&r){o.setStartBefore(i);const e=document.createTextNode("\n");o.insertNode(e)}o.setStartAfter(i),o.setEndAfter(i),o.collapse(!1),s.removeAllRanges(),s.addRange(o),t.normalize(),this._adjustScrollAfterModification(t,a,n),t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}deleteSelection(){this.replaceSelection("",!0)}_restoreSelection(e){const{refInput:t}=this;if(!t)return;const{anchorIndex:a,focusIndex:n}=e;let{anchorOffset:r,focusOffset:i}=e;const{childNodes:s}=t,o=-1===a?t:s[a],l=-1===n?t:s[n];if(o&&l)try{o===l&&r>i&&([r,i]=[i,r]);const e=document.createRange();e.setStart(o,r),e.setEnd(l,i);const t=window.getSelection();t.removeAllRanges(),t.addRange(e);try{const e=document.createRange();e.setStart(l,i),e.setEnd(l,i);const t=e.getBoundingClientRect(),{bottom:a,top:n}=t,r=this.refInput&&this.refInput.getBoundingClientRect(),{bottom:s,top:o}=r||{};if(n>=o&&a<=s)return;this.refInput&&(this.refInput.scrollTop+=a<o?n-o:a-s)}catch(e){}}catch(e){this.focus(!0)}}getSelection(){const{refInput:e}=this;if(!e||document.activeElement!==e)return null;const t=window.getSelection(),{anchorNode:a,anchorOffset:n,focusNode:r,focusOffset:i}=t,s=e.childNodes;let o,l=-1,u=-1,d=0;for(;(l<0||u<0)&&(o=s[d++]);)a===o&&(l=d-1),r===o&&(u=d-1);return{anchorIndex:l,anchorOffset:n,focusIndex:u,focusOffset:i}}_trimToFit(e){const{maxLength:t}=this.props;if(null==t)return e;const a=t+this._selectionLength-this.length;return a<=0?"":(0,o.substring)(String(e),0,a)}_cursorIsOnListItem(){return(0,u.isFeatureEnabled)("format_bulleted_msg")&&T.LAST_LIST_ITEM_REGEX.test(this.serializeTextBeforeCursor())}cursorIsAtEnd(){return null!=this.refInput&&(!(!this.state.focused||""!==this.state.value)||(0,v.default)(this.refInput))}cursorIsAtStart(){return!(!this.state.focused||""!==this.state.value)||(0,b.default)(this.refInput)}isFocused(){return this.state.focused}get isComposing(){return this.__isComposing}blur(){(0,s.default)(this.refInput,"this.refInput").blur()}select(){const e=(0,s.default)(this.refInput,"this.refInput"),t=document.createRange();t.selectNodeContents(e);const a=window.getSelection();a.removeAllRanges(),a.addRange(t)}setTheme(e){this.setState({theme:e})}render(){var e;const{props:{placeholder:t},state:{value:a,direction:n}}=this,i=a.length>0?"hidden":"visible",s=this._getInputClassname(this.props.theme,this.props.size,this.props.lineHeight),o=null!==(e=this.props.a8n)&&void 0!==e?e:"pluggable-input-body";return(0,A.jsxs)(S.HotKeys,{className:s,handlers:this._hotKeyMap,ref:this.setRefContainer,children:[(0,A.jsx)("div",{"data-a8n":l.default.key("pluggable-input-placeholder"),className:(0,f.default)(x.default.placeholder,{[x.default.mediaEditorTextInputPlaceholder]:"media-editor-text-input"===this.props.theme}),ref:this._setRefPlaceholder,style:{visibility:i},children:t}),(0,A.jsx)("div",(0,r.default)((0,r.default)({},this._handlerMap),{},{"data-a8n":l.default.key(o),title:this.props.title,"aria-required":this.props.required,role:"textbox",className:(0,f.default)(x.default.body,M.SELECTABLE_INPUT_CSS_CLASS),contentEditable:!this.props.readOnly,dangerouslySetInnerHTML:{__html:(0,P.default)(a,this._plugins)},"data-tab":R(this.props),dir:n,ref:this.setRefInput,spellCheck:this.props.spellCheck,style:this.props.style}))]})}}t.BaseInput=I,I.displayName="BaseInput";t.PluggableInput=e=>class extends I{constructor(){var t,a,n;super(...arguments),this._plugins=[...e.map((e=>(e instanceof p.BasePlugin&&e.initialize(this),e))),(n=this,{handlers:(t=n,a=O,a.reduce(((e,a)=>(Array.isArray(a)?e[a[0]]=t[a[1]]:e[a]=t[a],e)),{}))})],this._handlerMap=(0,m.default)(this._plugins,this),this._hookMap=(0,g.default)(this._plugins,this),this._hotKeyMap=(0,_.default)(this._plugins,this)}};const O=[["onBeforeInput","_handleBeforeInput"],["onBlur","_handleBlur"],["onCompositionEnd","_handleCompositionEnd"],["onCompositionStart","_handleCompositionStart"],["onFocus","_handleFocus"],["onInput","_handleInput"],["onKeyDown","_handleKeyDown"],"onPaste","onSelect"];function N(e){return i.dir(e.toString())||E.default.LR("ltr","rtl")}function R(e){let{tabOrder:t,readOnly:a}=e;return null!=t?t:a?null:c.TAB_ORDER.COMPOSE_BOX_INPUT}},18609:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOptions=t.EmojiSuggestions=void 0;var r=a(81572),i=n(a(40436)),s=n(a(94184)),o=n(a(66919)),l=a(67294),u=n(a(17136)),d=n(a(75886)),c=a(82709),f=n(a(66798)),h=n(a(27666)),p=a(92671),m=a(18644),g=n(a(26898)),_=a(85893);const v=(0,o.default)({MEDIA_CAPTION:null,EMOJI_INPUT:null});t.ThemeOptions=v;t.EmojiSuggestions=e=>{const[t,a]=(0,l.useState)(""),[n,o]=(0,l.useState)(""),[b,y]=(0,l.useState)(null),C=(0,l.useRef)(),S=()=>{a(""),o(""),y(null)},E=e=>{if((0,h.default)(e))return;const t=C.current;return t?(e.preventDefault(),e.stopPropagation(),t.pickSelectedEmoji(),!1):void 0};(0,g.default)(e.plugin,f.default.EMOJI_SEARCH,(t=>{const r=t?t.trim():t,i=n,s=e.chat;if((null==s?void 0:s.isGroup)&&r&&r.includes("@"))return y(null),void a("");if(!i||!r.startsWith(i))if(r.length<2){if(!b)return;a(r),y(""===r?null:(0,u.default)(r))}else{const e=(0,u.default)(r);e.length?(a(r),o(null),y(e)):(a(r),y(null))}})),(0,g.default)(e.plugin,f.default.EMOJI_INACTIVE,S),(0,g.default)(e.plugin,f.default.EMOJI_ENTER,E),(0,g.default)(e.plugin,f.default.EMOJI_LEFT,(e=>{if((0,h.default)(e))return;const t=C.current;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionLeft())})),(0,g.default)(e.plugin,f.default.EMOJI_RIGHT,(e=>{if((0,h.default)(e))return;const t=C.current;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionRight())})),(0,g.default)(e.plugin,f.default.EMOJI_TAB,E);const T=b?(0,_.jsx)(m.UIE,{displayName:"EmojiSuggestions",escapable:!0,requestDismiss:()=>{a(""),o(t),y(null)},requestFocus:()=>{e.plugin.ctx.focus()},children:(0,_.jsx)("div",{className:(0,s.default)(d.default.overlayContainer,{[d.default.mediaCaption]:e.theme===v.MEDIA_CAPTION,[d.default.emojiInput]:e.theme===v.EMOJI_INPUT}),children:(0,_.jsx)("div",{className:d.default.resultsContainer,"data-list-scroll-container":"false",children:(0,_.jsx)("div",{className:d.default.emojiSearch,onKeyPress:t=>{t.preventDefault();const{chat:a}=e;a&&r.Cmd.pasteChatTextInput(a,String.fromCharCode(t.charCode))},onKeyDown:t=>("Backspace"===t.key&&(t.preventDefault(),document.execCommand("delete"),e.plugin.ctx.focus()),!1),children:(0,_.jsx)("div",{className:d.default.searchBody,children:(0,_.jsx)(c.EmojiSuggestionsPanel,{ref:C,onEmoji:t=>{p.RecentEmojiCollection.increment(t),e.plugin.handleSelect(t)},onFocusRelease:S,onSkinTonePicker:e.onSkinTonePicker,emojiList:b},t)},"RECENT")})})})}):null;return(0,_.jsx)(i.default,{component:"div",className:d.default.positioningContainer,transitionName:"emoji-search-panel-slide-up",children:T})}},66798:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(a(66919)).default)({EMOJI_ENTER:void 0,EMOJI_INACTIVE:void 0,EMOJI_LEFT:void 0,EMOJI_RIGHT:void 0,EMOJI_SEARCH:void 0,EMOJI_TAB:void 0});t.default=r},1769:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(57538)),i=a(62101),s=a(67247),o=n(a(66798)),l=n(a(7057)),u=n(a(37773)),d=n(a(264));const c={ArrowLeft:o.default.EMOJI_LEFT,ArrowRight:o.default.EMOJI_RIGHT,Enter:o.default.EMOJI_ENTER,Tab:o.default.EMOJI_TAB};class f extends i.BasePlugin{constructor(){super(...arguments),this.hooks={[l.default.CHANGE](e,t){let{refInput:a}=t;""===a.textContent&&this.handle(o.default.EMOJI_INACTIVE)}},this.handlers={onKeyDown(e,t){e.keyCode!==r.default.BACKSPACE&&e.repeat&&(this._lastSyncKeyDownWasRepeat=!0,setTimeout((()=>{delete this._lastSyncKeyDownWasRepeat}),0));const a=c[e.key];return!!a&&this.handle(a,[e,t])},onSelect(e,t){if(this.ctx.isComposing)return!1;if(this._lastSyncKeyDownWasRepeat)return!1;const a=window.getSelection();if(!a.modify)return!1;let n=h(t,a);return n?(n=n.slice(1),this.handle(o.default.EMOJI_SEARCH,[n]),!1):this.handle(o.default.EMOJI_INACTIVE)}}}handleSelect(e){this.ctx.forceFocus(),h(this.ctx,window.getSelection(),!0)&&(this.ctx.replaceSelection(e),this.handle(o.default.EMOJI_INACTIVE))}}function h(e,t){var a;let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,i=null,o="",l=0,c=null;return(0,u.default)(e,t,((e,t,a)=>{if("@"===e||" "===e&&" "===i)return!0;if(":"===i)if(" "===r);else{if(s.EmojiUtil.isEmoji(e))return c=o,!0;if(/\W/.test(e))return c=a.slice(t+1)+o,!0}return 0===t&&(o=a+o),r=i,i=e,l+=1,l>=50||void 0})),!c&&l<50&&":"===i&&(c=o),n&&(null===(a=c)||void 0===a?void 0:a.length)&&(0,d.default)(t,c.length),c}t.default=f},52835:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPlugin=void 0,t.isEmojiEl=function(e){return!!e&&(e instanceof HTMLElement&&!!e.dataset.isEmoji)};var r=a(13959),i=a(81572),s=n(a(64369)),o=n(a(94184)),l=a(67247),u=n(a(7057)),d=a(52596);let c=!1;const f={serializers:[["img.emoji",e=>e.getAttribute("alt")||""]],parsers:[e=>e.replace(l.EmojiUtil.emojiRegex(),((e,t)=>{const a=(e=>{const t=l.EmojiUtil.getGlyphId(e);if(null==t)return null;const a=(0,d.createSelectableElement)("img",e);a.setAttribute("alt",e),a.setAttribute("draggable","false"),a.setAttribute("class",(0,o.default)(a.getAttribute("class"),l.EmojiUtil.getCssClasses(t)));const n=l.EmojiUtil.getStyle(t);return Object.assign(a.style,n),a.setAttribute("src",s.default.ONE_BY_ONE_TRANS_GIF),a.dataset.isEmoji="true",a})(t);return a?a.outerHTML:""}))],hooks:{[u.default.MOUNT](){c||(c=!0,new Promise((e=>{0===i.Cmd.uiBusy&&e(),i.Cmd.once("ui_idle",(()=>{e()}))})).then((()=>(0,r.delayMs)(0))).then((()=>{document.execCommand("enableObjectResizing",!1,!1)})).catch((()=>{})))}},handlers:{onBeforeInput(e,t){const a=l.EmojiUtil.emojiRegex().exec(e.data);return!!a&&(e.cancelable&&t.replaceSelection(a[0]),!0)},onClick(e){if(!e.target)return!1;const t=e.target.getAttribute("class");if(!t||!~t.indexOf("emoji"))return!1;const a=window.getSelection(),n=new Range;return e.pageX<e.target.x+e.target.width/2?(n.setStartBefore(e.target),n.setEndBefore(e.target)):(n.setStartAfter(e.target),n.setEndAfter(e.target)),a.removeAllRanges(),a.addRange(n),!0}}};t.EmojiPlugin=f},99574:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(a(66919)).default)({SEARCH:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0});t.default=r},70527:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(93131),i=n(a(52047)),s=n(a(64369)),o=a(26741),l=a(45454),u=a(62101),d=a(69951),c=a(19380),f=a(67247),h=n(a(99574)),p=a(94259),m=a(72473),g=n(a(7057)),_=n(a(94509)),v=n(a(36717)),b=n(a(56695)),y=n(a(81472)),C=n(a(42107)),S=n(a(64875)),E=n(a(48442)),T=a(41566),x=n(a(69975)),M=n(a(80708)),k=n(a(37773)),w=n(a(264)),P=a(52596);const A=2*s.default.MAX_PUSHNAME_LENGTH,j=/\u200B((\d+)@c\.us)\u200B/g,I={Enter:h.default.ENTER,Tab:h.default.TAB,ArrowUp:h.default.UP,ArrowDown:h.default.DOWN};class O extends u.BasePlugin{constructor(){super(...arguments),this.serializers=[["span[data-mention-jid]",e=>(function(e){if(!e.hasChildNodes())return;for(;e.childNodes.length;)e.removeChild(e.childNodes[0])}(e),`​${e.getAttribute("data-mention-jid")||""}​`)]],this.parsers=[e=>e.replace(j,((e,t)=>{const a=c.ContactCollection.get(t);if(!a)return t;let n=!a.isMyContact&&a.notifyName?a.notifyName:a.formattedName;const i=`@${n}`,s=d.ChatCollection.getActive();if(null==s||!s.isGroup)return i;if(!(null!=s.groupMetadata&&s.groupMetadata.participants.get(t)))return i;(0,T.isDropLastNameEnabled)()&&s.groupMetadata&&s.groupMetadata.hasUniqueShortNameMention(a)&&(n=a.shortName);const o=(0,P.createSelectableElement)("span");o.dataset.mentionJid=a.id.toString();const l=document.createElement("span");l.className="at-symbol",l.appendChild(document.createTextNode("@"));const u=document.createElement("span");return u.setAttribute("dir",(0,r.dir)(n)||"auto"),u.appendChild(document.createTextNode(n)),o.appendChild(l),o.appendChild(u),o.dataset.originalName=o.textContent||"",o.dataset.plainText=o.textContent||"",o.dataset.appTextTemplate=`​${t}​`,o.outerHTML}))],this.serialize=(e,t)=>{t.mentionedJidList=[];return[e.replace(j,((e,a,n)=>(t.mentionedJidList.push((0,l.createWid)(a)),`@${n}`))),t]},this.handleSelect=e=>{let t=window.getSelection();if(function(e,t){let{anchorNode:a,anchorOffset:n}=t;a&&a===e.containerRef&&(a=a.childNodes[n],n=a.textContent.length);if(!a||a&&a.nodeType!==Node.TEXT_NODE)return!1;let r=a.textContent.slice(n),i=a;for(;0===r.length;){if(i=i.nextSibling,!i||i.nodeType!==Node.TEXT_NODE)return!1;r=i.textContent}return" "===r.charAt(0)}(this.ctx,t)&&t.modify("move","forward","character"),!F(this.ctx,t,!0))return;t=window.getSelection();const{refInput:a}=this.ctx,{mentionAfterEnd:n}=a?N(a):{};n&&B(n),this.ctx.replaceSelection(`​${e.id.toString()}​ `),this.handle(h.default.INACTIVE)},this.hooks={[g.default.CHANGE](e,t){let{refInput:a}=t;if(o.UA.isGecko)if(""===e){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createElement("br"))}else{const e=a.querySelectorAll("[data-mention-jid]");for(let t=0;t<e.length;++t){const{nextSibling:a}=e[t];a&&(a instanceof Element&&"BR"===a.tagName&&"_moz"===a.getAttribute("type")&&a.remove())}}},[g.default.INPUT](e){let{refInput:t}=e;const a=t.querySelectorAll("[data-mention-jid]");if(a.length)for(let e=0;e<a.length;++e){var n,r;const t=a[e];if(null==t||t.textContent===t.getAttribute("data-original-name"))continue;const i=t.querySelector(".at-symbol"),s=t.querySelector("span [dir]"),o=window.getSelection();let l=o.focusOffset;const u=null===(n=o.focusNode)||void 0===n||null===(r=n.parentNode)||void 0===r?void 0:r.className,d=t.parentNode,c=document.createDocumentFragment();i&&c.appendChild(document.createTextNode(i.textContent)),s&&c.appendChild(document.createTextNode(s.textContent));const f="at-symbol"===u?c.firstChild:c.lastChild;if(1===c.childNodes.length&&c.lastChild&&(l="@"===c.lastChild.textContent?1:0),d.replaceChild(c,t),o.rangeCount<=0)return;const h=o.getRangeAt(0);h.setEnd(f,l),h.collapse(!1),o.removeAllRanges(),o.addRange(h)}}},this.handlers={onKeyDown(e,t){const{key:a}=e;if(!this.ctx.isComposing&&("Backspace"===a||"Delete"===a&&(0,y.default)(e))){const e=window.getSelection();if(e.isCollapsed){const{mentionBeforeStart:t,mentionAfterEnd:n}=N(this.ctx.refInput);let r=null;if("Delete"===a&&n&&(r=n),"Backspace"===a&&t&&(r=t),r){e.removeAllRanges();const t=document.createRange();t.selectNode(r),e.addRange(t),R(this.ctx.refInput),window.setTimeout((()=>{(0,M.default)()}),0)}}else R(this.ctx.refInput)}const n=I[e.key];return!!n&&this.handle(n,[e,t])},onKeyPress(){return this.ctx.isComposing||R(this.ctx.refInput),!1},onBlur(){return this.handle(h.default.INACTIVE),!1},onSelect(e,t){var a;if(o.UA.isTrident||this.ctx.isComposing)return!1;const n=window.getSelection();n.isCollapsed&&n.rangeCount>0&&n.anchorNode&&function(e,t){let{anchorNode:a,anchorOffset:n}=t;if(a&&a===e.refInput){if(0===n)return!0;a=a.childNodes[t.getRangeAt(0).startOffset],n=(0,E.default)(a)?a.textContent.length:0}if((0,b.default)(a,"br"))return!0;if(!a)return!1;if(!(0,E.default)(a))return!1;if("\n"===a.textContent)return!0;let r=a.textContent.slice(0,n);if(""===r){const e=(0,p.findNonEmptySibling)(a,p.DIR.PREV);if(!e)return!0;if(!(0,E.default)(e))return!1;r=e.textContent}return"\n"===r.charAt(r.length-1)}(t,n)&&(0,M.default)();const r=F(this.ctx,n);if(!r||(null===(a=n.focusNode)||void 0===a?void 0:a.parentElement)&&(0,C.default)(n.focusNode.parentElement.parentElement))return this.handle(h.default.INACTIVE),!1;const i=r.slice(1);return this.handle(h.default.SEARCH,[i]),!1},onPaste(){return R(this.ctx.refInput),!1}}}}function N(e){const t=window.getSelection();if(0===t.rangeCount)return{};const a=t.getRangeAt(0),{startContainer:n,startOffset:r,endContainer:s,endOffset:o}=a,l=s instanceof HTMLElement?s.childNodes.length===o:s.textContent&&s.textContent.length===o;let u,d,c,f,h,m;0===r&&(u=n===e?e.childNodes[r]:(0,i.default)(n,(t=>t&&t!==e&&(t.parentElement===e||(0,S.default)(t,0))?[t.parentElement]:[]),(t=>t&&t.parentElement===e))),l&&(d=s===e?e.childNodes[o]:(0,i.default)(s,(t=>t&&t!==e&&(t.parentElement===e||(0,S.default)(t,-1))?[t.parentElement]:[]),(t=>t&&t.parentElement===e)));const g=(0,p.findNonEmptySibling)(u,p.DIR.PREV);(0,C.default)(g)&&(c=g),(0,C.default)(u)&&(f=u),(0,C.default)(d)&&(h=d,a.collapsed&&(c=c||h));const _=(0,p.findNonEmptySibling)(d,p.DIR.NEXT);return(0,C.default)(_)&&(m=_,a.collapsed&&(f=f||m)),{mentionBeforeStart:c,mentionAfterStart:f,mentionBeforeEnd:h,mentionAfterEnd:m}}function R(e){const{mentionBeforeStart:t,mentionAfterStart:a,mentionBeforeEnd:n,mentionAfterEnd:r}=N(e);if(!(t||a||n||r))return;const i=window.getSelection(),s=i.getRangeAt(0),o=s.collapsed;let l=!1;if(t){const e=L(t);l=!0,s.setStartAfter(e),s.collapsed&&s.setEndAfter(e)}if(a){const e=B(a);l=!0,s.setStartBefore(e),o&&s.setEndBefore(e)}if(!o){if(n){const e=L(n);l=!0,s.setEndAfter(e)}if(r){const e=B(r);l=!0,s.setEndBefore(e)}}l&&(i.removeAllRanges(),i.addRange(s))}function D(){const e=document.createElement("span");return e.textContent="​",e.contentEditable="false",setTimeout((()=>(0,x.default)(e)),0),e}function L(e){const t=D();return(0,_.default)(t,e),t}function B(e){const t=D();return(0,v.default)(t,e),t}function F(e,t){var a;let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(0,m.getSelectionSibling)(e.refInput,"BACKWARD");if((0,C.default)(r))return"";let i=null,s="",o=0,l=null;return(0,k.default)(e,t,((e,t,a)=>{if("@"===i){if(f.EmojiUtil.isEmoji(e))return l=s,!0;if(/\W/.test(e))return l=a.slice(t+1)+s,!0}if(0===t&&(s=a+s),i=e,o+=1,o>=A)return!0})),!l&&o<A&&"@"===i&&(l=s),n&&(null===(a=l)||void 0===a?void 0:a.length)&&(0,w.default)(t,l.length),l}t.default=O},44904:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResults=function(e,t){const a=t.map((e=>{let{contact:t}=e;return t})),n=(e||"").toLowerCase();return a.filter((e=>function(e,t){if(t.isMe)return!1;const a=[t.searchName||t.formattedName];!t.isMyContact&&t.notifyName&&a.push(t.notifyName.toLowerCase());return a.some((t=>function(e,t){let a=-1;do{if(t.indexOf(e,a+1)===a+1)return!0}while(-1!==(a=t.indexOf(" ",a+1)));return!1}(e,t)))}(n,e)))}},45367:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{theme:t,contact:{id:a,formattedName:n,isMyContact:c,notifyName:f},onMouseDown:h,onMouseUp:p,onMouseEnter:m,term:g,selected:_}=e;const v=l.Configuration.Search({terms:g?[g]:[],boundary:!0});return(0,d.jsxs)("div",{className:(0,i.default)(u.default.mentionsResult,{[u.default.mediaCaption]:"mediaCaption"===t,[u.default.selected]:!0===_}),"data-a8n":r.default.key(`contact-mention-list-item-${null!=f?f:"null"}`),onMouseDown:h,onMouseUp:p,onMouseEnter:m,children:[(0,d.jsx)("div",{className:u.default.resultImage,children:(0,d.jsx)(s.DetailImage,{id:a,size:32})}),(0,d.jsx)("div",{className:u.default.textContact,dir:"auto",children:(0,d.jsx)(o.EmojiText,{text:n,formatters:v})}),(0,d.jsx)("div",{className:u.default.textPushname,dir:"auto",children:!c&&f?(0,d.jsx)(o.EmojiText,{text:`~${f}`,formatters:v}):null}),null]})};var r=n(a(99964)),i=n(a(94184)),s=a(88984),o=a(65417),l=a(30695),u=n(a(33179)),d=a(85893)},16477:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Suggestions=function(e){const{theme:t,plugin:a}=e,n=(0,u.useModelValues)(e.chat,["groupMetadata","isGroup"]),s=(0,l.default)((()=>new h.default)),[S,E]=(0,o.useState)(!1),[T,x]=(0,o.useState)(0),[M,k]=(0,o.useState)(""),[w,P]=(0,o.useState)(""),[A,j]=(0,o.useState)([]),I=(0,o.useRef)(),O=e=>(t,a)=>!(!S||!A.length)&&((!t||!(0,p.default)(t))&&(e(t,a),!0)),N=e=>{const t=A[e];if(!t||!t.id)return;const r=n.assignedColor(t.id);a.handleSelect(t,r+"")},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x((a=>{var n;return t||a===e||null===(n=I.current)||void 0===n||n.scrollIntoViewIfNeeded(T),e}))},D=O((()=>N(T))),L=O((()=>{E(!1),x(0),k(""),P(""),j([])})),B=O((()=>R(Math.max(T-1,0)))),F=O((()=>{const e=A.length-1;R(Math.min(T+1,e))}));if((0,b.default)(a,d.default.ENTER,D),(0,b.default)(a,d.default.TAB,D),(0,b.default)(a,d.default.SEARCH,(e=>{if(M&&e.startsWith(M))return;if(!n||!n.isGroup)return;const{groupMetadata:t}=n,{participants:a}=null!=t?t:{};E(!0),x(0),k(null),P(e),j((0,m.getResults)(e,a))})),(0,b.default)(a,d.default.INACTIVE,L),(0,b.default)(a,d.default.UP,B),(0,b.default)(a,d.default.DOWN,F),!S||!A.length)return null;const G=A.map(((e,t)=>({height:52,itemKey:e.id.toString(),contentKey:`${w}${t===T?"-selected":""}`,index:t,contact:e})));return(0,y.jsx)(r.default,{component:"div",className:_.default.positioningContainer,transitionName:"slide-up",children:(0,y.jsx)(v.UIE,{displayName:"MentionSuggestions",escapable:!0,requestDismiss:()=>{E(!1),x(0),k(w),P(""),j([])},requestRecentFocusOnUnmount:!1,children:(0,y.jsx)("div",{className:(0,i.default)(_.default.overlayContainer,{[_.default.mediaCaption]:t===C.MEDIA_CAPTION}),children:(0,y.jsx)(f.default,{className:_.default.resultsContainer,flatListControllers:[s.current],children:(0,y.jsx)(c.FlatList,{ref:I,data:G,a8nKey:"contact-mention-list",flatListController:s.current,direction:"vertical",renderItem:e=>{const{index:a,contact:n}=e;return(0,y.jsx)(g.default,{contact:n,term:w,selected:a===T,theme:t===C.MEDIA_CAPTION?"mediaCaption":null,onMouseDown:e=>e.preventDefault(),onMouseUp:()=>N(a),onMouseEnter:()=>R(a,!0)},n.id.toString())}})})})})})},t.ThemeOptions=void 0;var r=n(a(40436)),i=n(a(94184)),s=n(a(66919)),o=a(67294),l=n(a(16223)),u=a(35461),d=n(a(99574)),c=a(47915),f=n(a(44942)),h=n(a(30855)),p=n(a(27666)),m=a(44904),g=n(a(45367)),_=n(a(54794)),v=a(18644),b=n(a(26898)),y=a(85893);const C=(0,s.default)({MEDIA_CAPTION:null});t.ThemeOptions=C},7915:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(a(66919)).default)({FILTER:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0,BACKSPACE:void 0,CLOSE:void 0});t.default=r},9180:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(51737),i=a(26741),s=a(78820),o=a(62101),l=a(93581),u=a(69951),d=a(19380),c=n(a(7915)),f=a(65563),h=n(a(12062)),p=n(a(264)),m=n(a(60356)),g=n(a(28224)),_=a(5524);const v=(0,h.default)(25,"/"),b={Enter:c.default.ENTER,Tab:c.default.TAB,ArrowUp:c.default.UP,ArrowDown:c.default.DOWN,Backspace:c.default.BACKSPACE};class y extends o.BasePlugin{constructor(){super(...arguments),this.handleSelect=e=>{switch(e.type){case f.QuickReplyTypes.PROFILE_SMART_DEFAULT:this._handleProfileQuickReply(e);break;case f.QuickReplyTypes.ADDRESS_SMART_DEFAULT:this._handleAddressQuickReply(e);break;case f.QuickReplyTypes.HOURS_SMART_DEFAULT:this._handleHoursQuickReply(e);break;default:this._handleTextQuickReply(e)}},this._handleTextQuickReply=e=>{e.useOnce();const t=window.getSelection(),a=v(this.ctx,t);null!=a&&((0,p.default)(t,a.length+1),this.ctx.replaceSelection(e.message),(0,p.default)(t,e.message.length),this.handle(c.default.INACTIVE))},this._handleHoursQuickReply=e=>{const t=u.ChatCollection.getActive();if(!t)return;const a=window.getSelection(),n=v(this.ctx,a);null!=n&&((0,p.default)(a,n.length+1),this.ctx.deleteSelection(),this.handle(c.default.INACTIVE),(0,_.sendTextMsgToChat)(t,e.message),e.useOnce())},this._handleProfileQuickReply=e=>{const t=u.ChatCollection.getActive(),a=d.ContactCollection.get((0,s.getMaybeMeUser)());if(!t||!a)return;const n=window.getSelection(),r=v(this.ctx,n);null!=r&&((0,p.default)(n,r.length+1),this.ctx.deleteSelection(),this.handle(c.default.INACTIVE),(0,m.default)([a],t),e.useOnce())},this._handleAddressQuickReply=e=>{const t=u.ChatCollection.getActive(),a=(0,s.getMaybeMeUser)(),n=l.BusinessProfileCollection.get(a),i=d.ContactCollection.get(a);if(!t||!n)return;const{latitude:o,longitude:f,address:h}=n,m=window.getSelection(),b=v(this.ctx,m);if(null!=b){if((0,r.isNumber)(o)&&(0,r.isNumber)(f)&&i){(0,p.default)(m,b.length+1),this.ctx.deleteSelection();let e=i.displayName;n.address&&(e+=`\n${n.address}`),n&&(0,g.default)(t,o,f,e)}else h&&((0,p.default)(m,b.length+1),this.ctx.deleteSelection(),(0,_.sendTextMsgToChat)(t,h));this.handle(c.default.INACTIVE),e.useOnce()}},this.handlers={onKeyDown(e,t){const a=b[e.key];return!!a&&this.handle(a,[e,t])},onSelect(){if(i.UA.isTrident)return!1;if(this.ctx.isComposing)return!1;const e=window.getSelection(),t=v(this.ctx,e);return null==t?(this.handle(c.default.CLOSE),this.handle(c.default.INACTIVE),!1):(this.handle(c.default.FILTER,[t]),!1)},onBlur(){return this.handle(c.default.INACTIVE),!1}}}}var C=new y;t.default=C},26152:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logCancelEvent=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL,quickReplyEntryPoint:e?r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});t.commit()},t.logFilterEvent=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:e,quickReplyEntryPoint:t?r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()},t.logSelectEvent=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:e?r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});t.commit()},t.logSmartDefaultSelectEvent=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:e?r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:r.default.QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});t.commit()};var r=n(a(11339))},97327:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{shortcut:t,message:a}=(0,i.useModelValues)(e.quickReply,["shortcut","message"]),{query:n,selected:d,onMouseDown:c,onMouseEnter:f,onMouseUp:h}=e,p=t.slice(n.length);return(0,u.jsxs)("div",{className:(0,r.default)(l.default.result,{[l.default.selected]:d}),onMouseDown:c,onMouseUp:h,onMouseEnter:f,children:[(0,u.jsx)("span",{className:l.default.slash,children:"/"}),(0,u.jsx)(s.EmojiText,{className:l.default.shortcutPrefix,text:n}),(0,u.jsx)(s.EmojiText,{className:l.default.shortcutSuffix,text:p}),(0,u.jsx)(s.EmojiText,{className:l.default.message,a8n:"quick-reply-message",ellipsify:!0,text:a,formatters:o.Configuration.QuickReply()})]})};var r=n(a(94184)),i=a(35461),s=a(65417),o=a(30695),l=n(a(73248)),u=a(85893)},65894:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{plugin:t,isOpenFromMenu:a,onClose:n}=e,[i,c]=(0,s.useState)(""),[f,b]=(0,s.useState)([]),[E,T]=(0,s.useState)(!1),[x,M]=(0,s.useState)(0),k=(0,o.default)((()=>new h.default)),w=(0,s.useRef)(null),P=(0,s.useRef)(null),A=e=>(t,a)=>!(!E||!f.length)&&((!t||!(0,p.default)(t))&&(e(t,a),!0)),j=()=>{c(""),b([]),T(!1),M(0)},I=(0,u.default)((()=>{g.QuickReplyCollection.synced()||g.QuickReplyCollection.sync()})),O=e=>{g.QuickReplyCollection.synced()||I();const t=g.QuickReplyCollection.filterShortcuts(e);t.length&&!E&&(0,m.logFilterEvent)(t.length,a),c(e),b(t),T(!0),M(0)},N=A((()=>O(i))),R=e=>{const n=f[e];n&&n.id&&(P.current=n.message,n.isSmartDefault()?(0,m.logSmartDefaultSelectEvent)(a):(0,m.logSelectEvent)(a),t.handleSelect(n))},D=A((()=>R(x))),L=A((()=>{j()})),B=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==x&&(M(e),!t&&w.current&&w.current.scrollIntoViewIfNeeded(x))},F=A((()=>{const e=Math.max(x-1,0);B(e)})),G=A((()=>{const e=f.length-1,t=Math.min(x+1,e);B(t)}));return(0,l.useListener)(g.QuickReplyCollection,"add remove change:shortcut",N),(0,y.default)(t,d.default.ENTER,D),(0,y.default)(t,d.default.TAB,D),(0,y.default)(t,d.default.FILTER,O),(0,y.default)(t,d.default.INACTIVE,L),(0,y.default)(t,d.default.UP,F),(0,y.default)(t,d.default.DOWN,G),(0,y.default)(t,d.default.BACKSPACE,(()=>{const t=window.getSelection().toString();P.current&&t===P.current&&(0,m.logCancelEvent)(e.isOpenFromMenu)})),(0,y.default)(t,d.default.CLOSE,(()=>{n()})),(0,s.useEffect)((()=>()=>{I.cancel()}),[]),(0,C.jsx)(r.default,{component:"div",className:v.default.positioningContainer,transitionName:"slide-up",children:(0,C.jsx)(S,{results:f,query:i,offset:x,handleEscape:()=>{j()},flatListController:k.current,flatListRef:w,renderItem:e=>{const{index:t,quickReply:a}=e;return(0,C.jsx)(_.default,{quickReply:a,query:i,selected:t===x,onMouseDown:e=>e.preventDefault(),onMouseUp:()=>R(t),onMouseEnter:()=>B(t,!0)},a.id)}})})};var r=n(a(40436)),i=n(a(94184)),s=a(67294),o=n(a(16223)),l=a(87550),u=n(a(90886)),d=n(a(7915)),c=a(47915),f=n(a(44942)),h=n(a(30855)),p=n(a(27666)),m=a(26152),g=a(99662),_=n(a(97327)),v=n(a(99544)),b=a(18644),y=n(a(26898)),C=a(85893);function S(e){let{results:t,query:a,offset:n,handleEscape:r,flatListController:s,flatListRef:o,renderItem:l}=e;const u=t.map(((e,t)=>({height:52,itemKey:e.id,contentKey:`${a}${t===n?"-selected":""}`,index:t,quickReply:e})));return t.length?(0,C.jsx)(b.UIE,{displayName:"QuickReplySuggestions",escapable:!0,requestDismiss:r,children:(0,C.jsx)("div",{className:(0,i.default)(v.default.overlayContainer),children:(0,C.jsx)(f.default,{className:v.default.resultsContainer,flatListControllers:[s],children:(0,C.jsx)(c.FlatList,{ref:o,data:u,flatListController:s,direction:"vertical",renderItem:l})})})}):null}},87859:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.isComposing)return!1;const a=window.getSelection();return function(e,t,a){if(!t.modify)return!1;if(1!==t.rangeCount)return!1;let n=u.backwardsEmojiTextsTrie;const d=e.data||"";if(n=n.get(d),!n)return!1;if(!t.getRangeAt(0).collapsed)return!1;let c=d,f=null,h=null;if((0,o.default)(a,t,((e,t,a)=>((0,r.default)(n,"Trie ptr somehow not set"),n=n.get(e),!n||(n.hasChildren()?void(0===t&&(c=a+c)):(c=a.slice(t)+c,h=(0,u.textToEmoji)(c),h&&(f=c),!0))))),!f)return!1;const p=a.serializeTextBeforeCursor();if((0,i.isInsideCodeBlock)(p))return!1;(0,l.default)(t,f.length-1),a.replaceSelection(h||"");const{refInput:m}=a,g=(0,s.getSelectionSibling)(m,s.Direction.BACKWARD);if(!g)return!0;return g.dataset.replacedEmojiText=f,!0}(e,a,t)};var r=n(a(41143)),i=a(4841),s=a(72473),o=n(a(37773)),l=n(a(264)),u=a(80509)},73123:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.keyCode===r.default.BACKSPACE)return function(e,t){if(t.isComposing)return!1;const a=window.getSelection();return function(e,t,a){if(!t.modify)return!1;const{refInput:n}=a,r=(0,i.getSelectionSibling)(n,i.Direction.BACKWARD);if(!r)return!1;if(s=r,!Boolean(s.dataset.replacedEmojiText))return!1;var s;t.modify("extend","backward","character"),t.modify("move","backward","character");const o=r.dataset.replacedEmojiText,l=r.parentNode;if(!l)return!1;l.replaceChild(document.createTextNode(o+" "),r);const u=o.length;for(let e=0;e<u+1;e++)t.modify("extend","forward","character"),t.modify("move","forward","character");return!1}(0,a,t)}(0,t);return!1};var r=n(a(57538)),i=a(72473)},8103:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(62101),i=n(a(87859)),s=n(a(73123));class o extends r.BasePlugin{constructor(){super(...arguments),this.handlers={onBeforeInput:i.default,onKeyDown:s.default}}}var l=new o;t.default=l},80509:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.backwardsEmojiTextsTrie=void 0,t.textToEmoji=function(e){const t=o[e];let a;t&&(a=i.EmojiUtil.getSkinToneBase(t)&&s.EmojiVariantCollection.getVariant(t));return a||t};var r=n(a(55205)),i=a(67247),s=a(13185);const o={"(y)":"👍","(Y)":"👍","(n)":"👎","(N)":"👎",":-)":"🙂",":-(":"🙁",":-p":"😛",":-P":"😛",":-|":"😐",":-\\":"😕",":-D":"😀",":-*":"😘",":-o":"😮","<3":"❤️","^_^":"😁",">_<":"😆",";-)":"😉"};const l=Object.keys(o),u=r.default.fromBackwardsStrings(l);t.backwardsEmojiTextsTrie=u},15196:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(81572),i=a(62101),s=n(a(81472));class o extends i.BasePlugin{constructor(){super(...arguments),this.handlers={onKeyDown(e){return!this.ctx.isComposing&&(!(" "!==e.key||!(0,s.default)(e))&&(!this.ctx.value.length&&(r.Cmd.scrollMessages(),!0)))}}}}var l=new o;t.default=l},64947:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t}=e;return(0,i.jsxs)("div",{className:r.default.container,children:[" ",t," "]})};var r=n(a(12095)),i=a(85893)},45260:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{base:t,unicode:a,action:n}=e,f=(0,i.isBaseMultiSkinToneEmoji)(t),h=f?(0,i.getPermutations)(d.SKIN_TONE_VARIATIONS.slice(1),2):d.SKIN_TONE_VARIATIONS.map((e=>[e])),p=h.reduce(((e,a)=>{const n=i.EmojiUtil.getSkinToneVariant(t,a);return n?(e.push(n),e):e}),[]).filter((e=>i.EmojiUtil.isEmoji(e))).map(((e,t)=>(0,c.jsx)(r.DropdownItem,{type:f?"emoji-grid":"emoji",a8n:"mi-emoji-variant",action:t=>n(t,a,e),children:(0,c.jsx)(s.EmojiText,{text:e,formatters:o.Configuration.LargeEmojiOnly(),tabIndex:"-1"})},e+t)));return f?(0,c.jsx)(l.default,{base:t,action:n,unicode:a,children:p}):(0,c.jsx)(u.default,{children:p})};var r=a(71174),i=a(67247),s=a(65417),o=a(30695),l=n(a(8932)),u=n(a(64947)),d=a(89964),c=a(85893)},26898:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){const n=(0,i.default)(s.pluginContext),o=(0,r.useRef)(a);o.current=a,(0,r.useEffect)((()=>{const a=n.current;return e.registerHandler(a,t,(function(){return o.current(...arguments)})),()=>e.unregisterHandler(a,t)}),[e,t,n])};var r=a(67294),i=n(a(16223)),s=a(62101)},53689:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(18446)),i=a(67294),s=n(a(56720)),o=n(a(37453)),l=a(29623),u=n(a(48846)),d=n(a(14296)),c=a(23520),f=a(85893);const h={rollerContainer:{minHeight:"dn5wc90o",maxHeight:"nammujze",overflowX:"gfz4du6o",overflowY:"r7fjleex",marginStart:"qnz2jpws",marginEnd:"kjemk6od"},counterContainer:{minHeight:"dn5wc90o",height:"ilf8vifs"},counter:{fontSize:"f8jlpxt4",textAlign:"qfejxiq4",color:"ce5kru2g"},rollerAnimation:{animationDuration:"nq7eualt",animationTimingFunction:"mjl5wphb",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0"},animateFirstUp:{animationName:"m21mz96n"},animateSecondUp:{animationName:"g2k4c4jm"},animateFirstDown:{animationName:"lvug1qsr",position:"g0rxnol2",top:"te4632jy"},animateSecondDown:{position:"g0rxnol2",animationName:"pev8zhet",top:"qq0sjtgm"}};function p(e){let{reactionsAgregateCount:t}=e;const a="999+",n=(0,o.default)(t),r=(0,c.useRollerCounter)(n,t),i=null!=r.currentValueProp?r.currentValueProp:0,p=i>999?a:i,m=[];if(null!=r.previousValueProp&&r.previousValueProp!==i){const e=i-r.previousValueProp,t=r.previousValueProp>999?a:r.previousValueProp;let n=t,o=p,l=h.animateFirstUp,u=h.animateSecondUp;e<0&&(n=p,o=t,l=h.animateFirstDown,u=h.animateSecondDown);const c=(0,f.jsx)("div",{className:(0,s.default)([h.counterContainer,h.rollerAnimation,l]),children:(0,f.jsx)("span",{className:(0,s.default)(h.counter),children:d.default.n(n)})},String(r.previousValueProp)),g=(0,f.jsx)("div",{className:(0,s.default)([h.counterContainer,h.rollerAnimation,u]),children:(0,f.jsx)("span",{className:(0,s.default)(h.counter),children:d.default.n(o)})},String(p));m.push(c,g)}else{const e=(0,f.jsx)("div",{className:(0,s.default)([h.counterContainer]),children:(0,f.jsx)("span",{className:(0,s.default)(h.counter),children:d.default.n(p)})},String(p));m.push(e)}return(0,f.jsx)(u.default,{align:"center",children:(0,f.jsx)(l.FlexColumn,{xstyle:h.rollerContainer,children:m})})}function m(e,t){return(0,r.default)(e,t)}var g=(0,i.memo)(p,m);t.default=g},82857:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RoundTheme=t.Round=void 0;var r=n(a(81109)),i=n(a(99964)),s=n(a(94184)),o=n(a(34470)),l=n(a(54889)),u=n(a(59373)),d=a(85893);const c=a(76672).Mirrored(["Default","Small","Medium","Large","Inverted","NoShadow","SVGGrayButton","ReactionsEntryPoint"]);t.RoundTheme=c;t.Round=e=>{let{large:t,medium:a,small:n,inverted:f,theme:h,a8nText:p,label:m,onClick:g,onKeyDown:_,className:v,children:b,disabled:y,dataTab:C,hideBackground:S}=e;const E=(0,s.default)(v,u.default.btn,{[u.default.large]:t||h===c.Large,[u.default.medium]:a||h===c.Medium,[u.default.small]:n||h===c.Small,[u.default.inverted]:f||h===c.Inverted,[u.default.disabled]:y,[u.default.hideBackground]:!0===S,[u.default.noShadow]:h===c.NoShadow,[u.default.svgGrayButton]:h===c.SVGGrayButton,[u.default.reactionsEntryPoint]:h===c.ReactionsEntryPoint}),[T,x]=(0,o.default)(g,{disabled:y}),M=_?e=>{(0,l.default)(e)&&(e.preventDefault(),y||_(e))}:x.onKeyPress;return(0,d.jsx)("div",(0,r.default)((0,r.default)({},x),{},{"data-a8n":i.default.key(p),role:"button","aria-label":m,tabIndex:"0",className:E,onKeyDown:M,onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},ref:T,"data-tab":C,children:b}))}},52711:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)("div",{className:(0,r.default)(s.icon,"transparent"===e.theme&&s.transparent,"compact"===e.theme&&s.compact,!0===e.disabled&&s.disabled,e.xstyle),children:e.children})};var r=n(a(56720)),i=a(85893);const s={icon:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"dyxdk6fi",height:"m3o1wsh7",color:"k17s6i4e",backgroundColor:"ju2rvew0",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},disabled:{backgroundColor:"lmoo7qev"},transparent:{color:"svlsagor",backgroundColor:"j1wdo6yn"},compact:{width:"qssinsw9",height:"lniyxyh2"}}},53145:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(94184)),s=n(a(34470)),o=n(a(95919)),l=a(85893);var u=e=>{let{children:t,side:a,ellipsify:n,onClick:u,"aria-label":d}=e;const c=(0,i.default)({[o.default.clickable]:u}),f=(0,i.default)(o.default.main,{[o.default.mainEllipsify]:n}),h=null!=a?(0,l.jsx)("div",{className:o.default.side,children:a}):null;let p={};const[m,g]=(0,s.default)(u);return null!=u&&(p=(0,r.default)({ref:m},g)),(0,l.jsx)("div",(0,r.default)((0,r.default)({className:c,"aria-label":d},p),{},{children:(0,l.jsxs)("div",{className:o.default.body,children:[(0,l.jsx)("div",{className:f,children:t}),h]})}))};t.default=u},20723:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafariLimitedText=function(){return n.fbt._("To use all of WhatsApp's features like photo capturing and Voice Message recording, we recommend using {=m2}, {=m5} or {=m8}.",[n.fbt._implicitParam("=m2",(0,i.jsx)(r.ExternalLink,{href:"https://www.google.com/chrome",children:n.fbt._("Google Chrome",null,{hk:"B3NgG"})})),n.fbt._implicitParam("=m5",(0,i.jsx)(r.ExternalLink,{href:"http://www.firefox.com",children:n.fbt._("Mozilla Firefox",null,{hk:"1NG7FH"})})),n.fbt._implicitParam("=m8",(0,i.jsx)(r.ExternalLink,{href:"http://www.opera.com",children:n.fbt._("Opera",null,{hk:"4qwXEs"})}))],{hk:"2Iekba"})};var n=a(48360),r=a(12591),i=a(85893)},11497:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=n(a(22268)),s=a(85893);var o=e=>{const{header:t,uppercase:a=!0}=e;return(0,s.jsx)("div",{className:(0,r.default)(i.default.container,{[i.default.uppercase]:a}),children:t})};t.default=o},86365:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76521));class i extends r.default{constructor(e){super(),this.isSelectable=e}setSelectable(e){return this.isSelectable=e,this.trigger("update-selectable",e),this.isSelectable}}t.default=i},87541:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(25389),r=a(11290),i=a(80134),s=a(8080);a(97335);t.default=class{constructor(e,t,a,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.componentName=e,this.name=t,this._isStrong=r,this.keys=a;const o=i.ProxyStates[t];o||(__LOG__(4,void 0,new Error,!0)`Unknown StateHOC concern type "${t}"`,SEND_LOGS("state-hoc-error")),this._proxyClass=o,this._limitedAccessProxyClass=function(e,t,a,r){const i={$ProxyState$ComponentName:{value:e},proxyBitMask:{value:(0,n.genBitMask)(t.prototype.mirrorMask,a)}};for(const t of a){const a={enumerable:!0};a.get=function(){return this.$ProxyState$state.get(t)},a.set=function(){__LOG__(4,void 0,new Error)`READ ONLY: Cannot write to proxied property "${t}", created in <${e} />, it is not writable.`},r||(a.set=function(e){this.$ProxyState$state.set(t,e)}),i[t]=a}function s(e){t.call(this,e)}return s.prototype=Object.create(t.prototype,i),s.prototype.constructor=s,s}(e,o,a,s)}getModel(e){return e instanceof this._proxyClass?e.$ProxyState$state:e}getModelAndValidate(e){const t=e instanceof this._proxyClass?e.$ProxyState$state:e;return t?t instanceof r.BaseModel?t:(__LOG__(4,void 0,new Error,!0)`${this.componentName} given invalid object for ${this.name}: ${a=t,"string"==typeof a?a:a.toString?a.toString():"Invalid Object"}`,SEND_LOGS("state-hoc-error"),null):(s.Stream.mode===s.StreamMode.MAIN&&(__LOG__(4,void 0,new Error,!0)`${this.componentName} was not supplied the ${this.name} model with keys ${String(this.keys)}.`,SEND_LOGS("state-hoc-error")),null);var a}createProxy(e){return new this._limitedAccessProxyClass(e)}attachConcern(e,t,a){e.incObservers(!this._isStrong),e.mirror.addListener(a,t,this)}detachConcern(e,t){e.decObservers(),e.mirror.removeListener(t)}}},60899:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{animationFrames:t,signal:a,onFrameChange:r,shouldStop:i}=e;if(a.aborted)return Promise.reject(new n.AbortError);if(0===t.length)return Promise.resolve();const s=(new Date).getTime();let o=0,l=0,u=s,d=()=>{};return new Promise(((e,s)=>{const c=()=>{0!==o&&window.cancelAnimationFrame(o),s(new n.AbortError)};a.addEventListener("abort",c),d=()=>{a.removeEventListener("abort",c)};const f=()=>{const a=(new Date).getTime();if(a<u)return void(o=window.requestAnimationFrame(f));const{duration:n,rgbaBuffer:s}=t[l];r(s),l=(l+1)%t.length,u=a+n,1===l&&i()?e():o=window.requestAnimationFrame(f)};o=window.requestAnimationFrame(f)})).finally((()=>{d()}))};var n=a(89385)},88461:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{blob:t}=e,[a,n]=(0,i.useState)(null);if((0,i.useEffect)((()=>{(0,r.blobToArrayBuffer)(t).then(o.default).then((e=>{n(e)})).catch((e=>{__LOG__(3)`AnimationCanvas error: ${e}`}))}),[]),!a)return e.renderPreview();const{width:u,height:d,frames:c}=a;return(0,l.jsx)(s.default,{className:e.className,width:u,height:d,animationFrames:c,startAnimation:Boolean(e.loopAnimation||e.startAnimation),maxLoops:e.maxLoops,onClick:e.onClick})};var r=a(65885),i=a(67294),s=n(a(3285)),o=n(a(95190)),l=a(85893)},41481:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=a(67294),s=n(a(44692)),o=a(87550),l=a(1776),u=a(46428),d=n(a(97869)),c=a(85893);var f=(0,i.forwardRef)(((e,t)=>{const a=(0,i.useRef)(),n=(0,i.useRef)(),f=(0,i.useRef)(),h=(0,i.useRef)(),[p,{isIntersecting:m}]=(0,s.default)({root:null,rootMargin:"25px",threshold:.99}),[g,_]=(0,i.useState)(e.startAnimation),[v,b]=(0,i.useState)(!1),[y,C]=(0,u.useManualTimeout)((()=>{const e=f.current;null==e||e.refreshBlob(),_(!1),h.current=null})),S=()=>{const t=(0,r.default)(e.mediaData.singleLoopDuration,"props.mediaData.singleLoopDuration"),a=(Date.now()-(0,r.default)(h.current,"startedAtRef.current"))%t,n=e.mediaData.animationDuration-a;y(n)},E=()=>{C(),null==h.current&&(h.current=Date.now()),_(!0)};(0,o.useListener)(document,"visibilitychange",(()=>{const e="visible"===document.visibilityState;m&&e?(E(),S()):_(!1)})),(0,i.useEffect)((()=>{m?(E(),S()):null!=h.current&&S()}),[m]);const T=(0,l.useSetModelValue)(e.mediaData,"animatedAsNewMsg"),x=()=>{if(v)return;const t=a.current,r=n.current;t&&r&&(t.width=r.naturalWidth/2,t.height=r.naturalHeight/2,t.getContext("2d").drawImage(r,0,0,t.width,t.height)),e.startAnimation&&(h.current=Date.now(),S(),T(!0)),b(!0)};(0,i.useImperativeHandle)(t,(()=>({startAnimation:E})));const M=!v||g;return(0,c.jsxs)("div",{className:e.className,onMouseEnter:E,onMouseLeave:()=>{null!=h.current&&S()},onClick:e.onClick,ref:p,children:[(0,c.jsx)(d.default,{ref:f,mediaData:e.mediaData,placeholderRenderer:e.placeholderRenderer,downloadMedia:e.downloadMedia,children:t=>(0,c.jsx)("img",{alt:e.label,className:e.className,style:{display:M?"block":"none"},draggable:"false",src:t,ref:n,onLoad:x})}),(0,c.jsx)("canvas",{className:e.className,style:{display:M?"none":"block"},draggable:"false",ref:a})]})}));t.default=f},3285:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{startAnimation:t,animationFrames:a,maxLoops:n}=e,d=(0,s.default)(),c=(0,i.useRef)(!1),f=(0,i.useRef)(0),h=(0,i.useRef)(!1),[p,m]=(0,i.useState)(null),g=()=>{c.current||(c.current=!0,(0,o.default)({animationFrames:a,signal:d,onFrameChange:e=>m(e),shouldStop:()=>f.current>=n||(h.current||f.current++,!1)}).catch((e=>{if(e.name!==r.ABORT_ERROR)throw e})).finally((()=>{c.current=!1})))};return(0,i.useEffect)((()=>{t?g():(()=>{if(0===a.length)return;m(a[0].rgbaBuffer)})()}),[]),p?(0,u.jsx)(l.default,{rgbaBuffer:p,className:e.className,width:e.width,height:e.height,onClick:e.onClick,onMouseEnter:()=>{n!==1/0&&(h.current=!0,f.current=1,g())},onMouseLeave:()=>{h.current=!1}}):null};var r=a(89385),i=a(67294),s=n(a(3409)),o=n(a(60899)),l=n(a(61146)),u=a(85893)},30106:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(o.default,{xstyle:[u.button],onClick:t=>{var a;null===(a=e.onClick)||void 0===a||a.call(e,t)},children:(0,l.jsxs)("div",{className:(0,i.default)(u.container),children:[(0,l.jsx)(s.default,{xstyle:u.icon,name:"plus-large"}),(0,l.jsx)("span",{children:r.fbt._("Create",null,{hk:"1lqA1O"})})]})})};var r=a(48360),i=n(a(56720)),s=n(a(23217)),o=n(a(1784)),l=a(85893);const u={button:{width:"ywgftmbl",height:"b1lctrli",display:"p357zi0d",justifyContent:"ac2vgrno",alignItems:"gndfcl4n"},container:{width:"fi5r6efy",height:"tl6iuc6d",backgroundColor:"f7wxzknn",color:"t7i5gvrw",fontSize:"ovllcyds",borderTop:"oosapc3q",borderEnd:"fefz13mk",borderBottom:"ob9ouq0z",borderStart:"tntx47yo",borderTopStartRadius:"g1jn521u",borderTopEndRadius:"mrnekr2l",borderBottomEndRadius:"wu0i2wpa",borderBottomStartRadius:"bbs9k8l5",marginTop:"bddvio20",marginBottom:"du8bjn1j",":hover":{transform:"sl8qjjwd"},transitionProperty:"bo8jc6qi",transitionDuration:"slppp3mo",transitionTimingFunction:"pu4k07i0",willChange:"exvbdj68",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno"},icon:{marginBottom:"inww9tbj"}}},12064:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(89385),i=n(a(45095)),s=n(a(47259)),o=n(a(94184)),l=a(61498),u=a(48360),d=a(67294),c=n(a(16223)),f=a(35461),h=n(a(3409)),p=n(a(88461)),m=n(a(41481)),g=n(a(30106)),_=n(a(54776)),v=n(a(63793)),b=a(58668),y=n(a(20553)),C=n(a(34949)),S=n(a(72625)),E=n(a(61146)),T=a(85893);const x=(0,d.forwardRef)(((e,t)=>{let{className:a,loopAnimation:n,mediaData:r,startAnimation:i,renderPreview:s,downloadMedia:o,onClick:l,label:u}=e;return r.animationDuration>0&&!n?(0,T.jsx)(m.default,{className:a,mediaData:r,startAnimation:i,onClick:l,placeholderRenderer:s,downloadMedia:o,ref:t,label:u}):(0,T.jsx)(y.default,{mediaData:r,placeholderRenderer:s,downloadMedia:o,children:e=>(0,T.jsx)("img",{className:a,draggable:"false",onClick:l,src:e,alt:u})})}));function M(e){let{className:t,loopAnimation:a,mediaData:n,startAnimation:r,renderPreview:s,downloadMedia:o,onClick:l}=e;if(n.animationDuration>0){const e=a?1/0:n.animationDuration/(0,i.default)(n.singleLoopDuration,"mediaData.singleLoopDuration");return(0,T.jsx)(v.default,{mediaData:n,render:n=>(0,T.jsx)(p.default,{className:t,loopAnimation:a,maxLoops:e,blob:n,renderPreview:s,startAnimation:r,onClick:l}),renderPlaceholder:s,downloadMedia:o})}return n.rgbaBuffer?(0,T.jsx)(E.default,{className:t,height:n.rgbaHeight,onClick:l,rgbaBuffer:n.rgbaBuffer,width:n.rgbaWidth}):s()}function k(e){var t;let{mediaData:a,className:n,isCreateButton:r,onClick:i}=e;const s=a.preview,l=s instanceof C.default?s.url():null,d=null===(t=a.emojis)||void 0===t?void 0:t.join(" "),c=d?u.fbt._("Sticker with: {emojis}",[u.fbt._param("emojis",d)],{hk:"1sig9t"}):u.fbt._("Sticker with no label",null,{hk:"1aw5TF"});return l?(0,T.jsx)("img",{className:n,draggable:"false",onClick:i,src:l,alt:c}):r?(0,T.jsx)(g.default,{onClick:i}):(0,T.jsx)(S.default,{className:(0,o.default)(_.default.placeholder,n)})}x.displayName="StickerWithWebp";const w=(e,t)=>{const a=(0,f.useModelValues)(e.mediaData,["animatedAsNewMsg","animationDuration","singleLoopDuration","mediaBlob","preview","renderableUrl","rgbaBuffer","rgbaHeight","rgbaWidth","emojis","mediaStage"]),n=(0,c.default)((()=>a.animatedAsNewMsg)).current,i=function(){const[e,t]=(0,d.useState)(l.getCachedWebpSupport),a=(0,h.default)();return(0,d.useEffect)((()=>{null==e&&(0,s.default)((0,l.detectWebpSupport)(),a).then(t).catch((e=>{if(e.name!==r.ABORT_ERROR)throw e}))}),[]),e}(),p=(0,d.useRef)(),m=(0,d.useRef)();(0,d.useImperativeHandle)(t,(()=>({startAnimation(){var e;null===(e=m.current)||void 0===e||e.startAnimation()},getImgNode:()=>p.current})));const g=(0,o.default)({[_.default.conversation]:"conversation"===e.theme,[_.default.quoted]:"quoted"===e.theme,[_.default.composeBoxQuoted]:"composeBoxQuoted"===e.theme,[_.default.stickerPanel]:"stickerPanel"===e.theme,[_.default.stickerStore]:"stickerStore"===e.theme,[_.default.stickerDetails]:"stickerDetails"===e.theme,[_.default.clickable]:Boolean(e.onClick),[_.default.large]:!0});let v;if(null==i)v=(0,T.jsx)(k,{isCreateButton:e.isCreateButton,mediaData:a,className:g,onClick:e.onClick});else{var y;const t=null===(y=a.emojis)||void 0===y?void 0:y.join(" "),r=t?u.fbt._("Sticker with: {emojis}",[u.fbt._param("emojis",t)],{hk:"1sig9t"}):u.fbt._("Sticker with no label",null,{hk:"1aw5TF"}),s=Boolean(e.animateOnView||e.isNewMsg&&!n),o=Boolean(e.loopAnimation);v=i?(0,T.jsx)(x,{ref:m,className:g,mediaData:a,loopAnimation:o,startAnimation:s,renderPreview:()=>(0,T.jsx)(k,{isCreateButton:e.isCreateButton,mediaData:a,className:g,onClick:e.onClick}),onClick:e.onClick,downloadMedia:e.downloadMedia,label:r}):(0,T.jsx)(M,{className:g,mediaData:a,loopAnimation:o,startAnimation:s,renderPreview:()=>(0,T.jsx)(k,{isCreateButton:e.isCreateButton,mediaData:a,className:g,onClick:e.onClick}),onClick:e.onClick,downloadMedia:e.downloadMedia,label:r})}return(0,T.jsx)("span",{ref:p,className:(0,o.default)(_.default.container,{[_.default.showSticker]:a.mediaStage===b.MEDIA_DATA_STAGE.RESOLVED,[_.default.large]:!0}),children:v})};var P=(0,d.forwardRef)(w);t.default=P},72625:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t,size:a}=e;return(0,i.jsx)(r.default,{className:t,xstyle:s.container,name:"sticker-placeholder",width:a,height:a})};n(a(56720));var r=n(a(23217)),i=a(85893);const s={container:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",color:"r7focko8"}}},38932:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{disabled:t,onClick:a,type:n,title:c,"aria-label":f}=e,h=(0,i.default)(e,u);return(0,l.jsx)(o.default,{xstyle:t&&d.disabled,disabled:t,onClick:a,"aria-label":f,title:c,type:n,children:(0,l.jsx)(s.default,(0,r.default)({},h))})};var r=n(a(81109)),i=n(a(6479)),s=(n(a(56720)),n(a(23217))),o=n(a(1784)),l=a(85893);const u=["disabled","onClick","type","title","aria-label"],d={disabled:{opacity:"aiwu9bi8"}}},90011:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TextInputCustomStyleThemes=t.TextInput=void 0;var r=a(64331),i=n(a(52013)),s=n(a(40436)),o=n(a(94184)),l=a(48360),u=n(a(66919)),d=a(67294),c=(n(a(56720)),n(a(16223))),f=n(a(37453)),h=n(a(89113)),p=a(60811),m=n(a(18888)),g=a(30424),_=a(18609),v=a(65417),b=a(29424),y=n(a(14296)),C=a(11054),S=n(a(23217)),E=n(a(65690)),T=a(18644),x=n(a(24717)),M=n(a(1784)),k=a(85893);const w=(0,u.default)({groupInfoName:null,desaturated:null,noErrorInfo:null,chatInfoDefaultText:null,chatInfoLargeText:null,disabledLabel:null});t.TextInputCustomStyleThemes=w;const P={iconMain:{position:"lhggkp7q",top:"jgz0asyo",right:"grt5ktjy",color:"gtscxtjd",cursor:"ajgl1lbb",":focus":{boxShadow:"esbo3we0"}},emojiBtn:{marginEnd:"kjemk6od",marginStart:"p3lsiedt",color:"gtscxtjd",cursor:"ajgl1lbb",":focus":{boxShadow:"esbo3we0"}}};function A(e,t){var a;const{customStyleThemes:n=[],focusOnMount:u,selectOnMount:A,lockable:j,onEnter:I,multiline:O,onChange:N,onFocus:R,onBlur:D,onBeginEdit:L,lowProfile:B,error:F,validate:G,value:U,onSave:V,onError:W,onCancel:H,emptyValuePlaceholder:q,editable:Y=!0,renderEmojiTextInLockMode:z,pending:K,blockFocusOnLock:$,managed:Q,managedError:X}=e,J=(0,c.default)(m.default),Z=(0,d.useRef)(!1),ee=(0,d.useRef)(null),te=(0,d.useRef)(null),ae=(0,d.useRef)(null),[ne,re]=(0,d.useState)(e.startActive||!1),[ie,se]=(0,d.useState)(!e.startActive&&!!j),[oe,le]=(0,d.useState)(null),ue=(0,f.default)(ie),de=(0,f.default)(Y),ce=(0,f.default)(K),fe=()=>{var e;null===(e=ee.current)||void 0===e||e.focus()};(0,d.useEffect)((()=>{var e;A&&(null===(e=ee.current)||void 0===e||e.select());u&&fe()}),[]);const he=e=>{var t;null===(t=ee.current)||void 0===t||t.replaceSelection(e)},pe=()=>{le(null)},me=()=>{var e;null===(e=te.current)||void 0===e||e.restoreFocus()},ge=()=>{let e=!(!B&&F);G&&e&&(e=G(U)),e?(V&&V(),se(!0)):W&&W()},_e=e=>{e.stopPropagation(),R&&R(e)},ve=()=>{L&&L(),se(!1)},be=(0,h.default)((()=>{H&&H(),se(!0)})),ye=(0,h.default)((()=>Y&&!ie));(0,d.useEffect)((()=>{ue||!de||Y||be(),ae.current&&!$&&(!ue&&ie||ce&&!K)&&i.default.focus(ae.current);const e=ee.current;ye()&&!Q||(null==e?void 0:e.value)===U||null==e||e.reset(U||""),X&&F&&ie&&se(!1)}),[$,Y,F,be,ye,ie,Q,X,K,de,ue,ce,U]),(0,d.useImperativeHandle)(t,(()=>({restoreFocus:fe})));const Ce=null!==(a=e.maxLength)&&void 0!==a?a:25,Se=ye()&&!!e.error&&!e.lowProfile,Ee={container:(0,o.default)(E.default.textInput,n&&n.map((e=>E.default[e])),{[E.default.noPlaceholder]:!e.placeholder,[E.default.invite]:"v4-invite-caption"===e.theme,[E.default.active]:ye(),[E.default.small]:"small"===e.theme,[E.default.inputLarge]:"large"===e.theme,[E.default.editOnHover]:e.showEditOnHover,[E.default.editable]:Y,[E.default.highlightOnHover]:e.showHighlightOnHover}),label:(0,o.default)(E.default.labelText,{[E.default.float]:!!e.value,[E.default.hideFloatingLabel]:!!e.hideFloatingLabel}),inputWrapper:(0,o.default)(E.default.wrapper,{[E.default.textError]:Se,[E.default.invite]:"v4-invite-caption"===e.theme,[E.default.textActive]:ne,[E.default.locked]:ie,[E.default.editing]:ye()}),infoWrapper:(0,o.default)(E.default.infoStrip,{[E.default.textError]:Se,[E.default.textActive]:ne})};let Te,xe;if(e.lockable){if(e.pending)xe=(0,k.jsx)("div",{className:(0,o.default)(E.default.iconSpinner,E.default.iconMain),children:(0,k.jsx)(C.Spinner,{size:18,stroke:6,color:"highlight"})},"spinner");else if(ie)if(Y){var Me;xe=(0,k.jsx)("button",{className:E.default.iconMain,onClick:ve,title:l.fbt._("Click to edit {fieldName}",[l.fbt._param("fieldName",null!==(Me=e.fieldName)&&void 0!==Me?Me:"")],{hk:"Wjo4r"}),ref:ae.current,children:(0,k.jsx)(S.default,{className:E.default.icon,name:"pencil",directional:!0})},"btn-edit")}else e.editRestrictionInfo&&!Y&&(xe=(0,k.jsx)("div",{className:E.default.iconMain,onClick:e.editRestrictionInfo,children:(0,k.jsx)(S.default,{className:E.default.icon,name:"info"})},"btn-info"));else xe=(0,k.jsx)(M.default,{xstyle:P.iconMain,onClick:ge,title:y.default.t(188),children:(0,k.jsx)(S.default,{className:E.default.icon,name:"checkmark"})},"btn-done");e.lockable&&(Te=(0,k.jsx)(s.default,{transitionLeave:!e.showEditOnHover,transitionEnter:!e.showEditOnHover||!ie,className:E.default.iconMainContainer,transitionName:"pop",children:xe}))}const ke=ye()&&e.supportsEmoji?(0,k.jsx)(M.default,{xstyle:P.emojiBtn,onClick:e=>{e&&(e.preventDefault(),e.stopPropagation());const t=(0,k.jsx)(g.EmojiPanel,{onEmoji:he,onFocusNext:fe,onFocusPrev:fe});le({menu:t,dirY:p.DirY.TOP,type:p.MenuType.EmojiPicker,anchor:e.target}),fe()},onFocus:()=>{oe&&me()},title:l.fbt._("Open emojis panel",null,{hk:"3IEMY6"}),children:(0,k.jsx)(S.default,{className:E.default.icon,name:"emoji-input"})},"emoji-btn"):null;let we;if(e.showRemaining){const t=(0,r.numCodepoints)(e.value||"");we=Ce-t<50&&ye()?(0,k.jsx)("div",{className:(0,o.default)(E.default.charCounter),children:y.default.n(Ce-t)},"counter"):null}const Pe=e.supportsEmoji||e.showRemaining?(0,k.jsxs)(s.default,{className:E.default.iconsEditContainer,transitionLeave:!e.showEditOnHover,transitionName:"pop",children:[we,ke]}):null,Ae=e.error?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:E.default.errorText,children:Se?e.error:null}),(0,k.jsx)("div",{className:E.default.visiblyHidden,role:"alert",children:l.fbt._("Error: {error}",[l.fbt._param("error",e.error)],{hk:"2Q7l44"})})]}):null,je=e.lowProfile?null:(0,k.jsx)("div",{className:Ee.infoWrapper,children:Ae});let Ie;if(e.lockable&&!ie){let e;oe&&(e=(0,k.jsx)(T.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,requestDismiss:pe,requestFocus:me,children:(0,k.jsx)(x.default,{contextMenu:oe})})),Ie=(0,k.jsx)(T.UIE,{displayName:"TextInput",escapable:!0,requestFocus:fe,requestDismiss:be,children:(0,k.jsx)("div",{children:e})})}else!e.lockable&&oe&&(Ie=(0,k.jsx)(T.UIE,{displayName:"EmojiPicker",escapable:!0,popable:!0,requestDismiss:pe,requestFocus:me,children:(0,k.jsx)(x.default,{contextMenu:oe})}));const Oe=Y&&!ie,Ne=J.current,Re=Oe||!z,De=e.theme||"default",Le=e.showHighlightOnHover&&ie?{margin:0}:null;let Be,Fe;n.includes(w.chatInfoLargeText)?(Be=24,Fe=28):n.includes(w.chatInfoDefaultText)&&(Be=16,Fe=24);const Ge=Re?(0,k.jsx)("div",{className:(0,o.default)(E.default.inputWrapper,{[E.default.constrainedWidth]:e.constrainedWidth}),children:(0,k.jsx)(Ne,{a8n:e.a8n,ref:ee,initialValue:e.value,theme:De,multiline:e.multiline,onChange:e=>{N&&N(e)},onFocus:_e,onBlur:e=>{Z.current||(ne&&re(!1),D&&D(e))},onEnter:e=>{j&&ge(),I&&!O&&I(e)},onKeyDown:e.onKeyDown,onFiles:e.onFiles,spellCheck:e.spellCheck,maxLength:e.maxLength,readOnly:!Oe,title:e.title,placeholder:e.inputPlaceholder,style:Le,size:Be,lineHeight:Fe})}):(()=>{if(!z||!U)return;const{textLimit:e,readMoreText:t,onReadMore:a,formatters:n,ellipsify:i,multiline:s,inferLinesDirection:o}=z;return(0,k.jsxs)("div",{className:E.default.emojiText,children:[(0,k.jsx)(v.EmojiText,{text:U,ellipsify:i,multiline:s,selectable:!0,emojiSize:v.EMOJI_SIZE.SMALL,textLimit:e,formatters:n,inferLinesDirection:o}),(0,r.numCodepoints)(U)>e&&(0,k.jsx)(M.default,{onClick:a,children:(0,k.jsxs)("span",{className:E.default.more,children:[" ",t]})})]})})();let Ue,Ve;return e.placeholder&&(Ue=(!e.value||!e.hideFloatingLabel)&&(0,k.jsx)("span",{className:Ee.label,children:e.placeholder}),Ve=(0,k.jsx)("div",{className:E.default.spacer})),(0,k.jsxs)(b.HotKeys,{className:Ee.container,onFocus:_e,children:[Ue,Ve,(0,k.jsxs)("div",{className:Ee.inputWrapper,children:[Ge,(!U||""===U)&&q&&ie&&(0,k.jsx)("div",{className:E.default.emptyValPlaceholder,children:q}),Pe,Te]}),Re&&(0,k.jsx)(Ne.EmojiSuggestions,{theme:_.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:e=>{Z.current=e}}),je,Ie]})}const j=(0,d.forwardRef)(A);t.TextInput=j},71688:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const n=e.maxLines,h=null===(t=e.style)||void 0===t?void 0:t.singleLine,p=null===(a=e.style)||void 0===a?void 0:a.multipleLine,[m,g]=(0,s.useState)(h),_=(0,l.default)(m),{width:v}=(0,u.default)(),b=(0,l.default)(v),y=(0,s.useCallback)((e=>{if(null==e||!(v>0))return;if(1===n||null==p)return;const t=(0,d.getNumberOfLines)(e);m===h&&_===p&&t>1||m!==p&&(null==b||v<b)&&t>1?g(p):m!==h&&(null==b||v>b)&&1===t&&g(h)}),[n,h,p,m,_,v,b]);let C;(0,i.default)(n>=1,"expect lines to be >= 1"),C=1===n?{display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:n};return(0,c.jsx)("span",{ref:y,className:(0,r.default)((0,o.default)(f),m),style:C,dir:e.dir,children:e.children})};var r=n(a(94184)),i=n(a(41143)),s=a(67294),o=n(a(56720)),l=n(a(37453)),u=n(a(87778)),d=a(33811),c=a(85893);const f={position:"g0rxnol2",overflowX:"gfz4du6o",overflowY:"r7fjleex"}},2712:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipAnchor=t.Tooltip=void 0;var r=n(a(99964)),i=n(a(56720)),s=a(85893);const o=a(76672).Mirrored(["Left","Right","Top","Bottom"]);t.TooltipAnchor=o;const l={position:"lhggkp7q",zIndex:"qwzl264q",display:"l7jjieqr",maxWidth:"b1w2sqt8",paddingTop:"fbgy3m38",paddingEnd:"kyc7k6mt",paddingBottom:"oq31bsqd",paddingStart:"f78eapp6",fontSize:"ovllcyds",color:"gt1inm12",textAlign:"qfejxiq4",textOverflow:"lhj4utae",textShadow:"s52zzds6",whiteSpace:"le5p0ye3",backgroundColor:"puskumha",borderTopStartRadius:"ajyz1gl2",borderTopEndRadius:"y4d21rkf",borderBottomEndRadius:"aznl1635",borderBottomStartRadius:"n3l3zu01",animationName:"n0uige08",animationDuration:"ijnr8jqx",animationTimingFunction:"gaqnkt02"},u={top:"myeiuhv9",left:"eej3x5sv",transform:"btgdcgtm"},d={top:"myeiuhv9",right:"f6un2avg",transform:"teu70ee9"},c={top:"cy13c0w7",right:"j3as33wi",transform:"h442i0ze"},f={right:"j3as33wi",bottom:"iibwf64q",transform:"hvx74mdw"};function h(e){switch(e){case o.Left:return u;case o.Right:return d;case o.Top:return c;case o.Bottom:return f}}t.Tooltip=e=>{let{children:t,anchor:a=o.Right}=e;return(0,s.jsx)("div",{"data-a8n":r.default.key("tooltip"),className:(0,i.default)(l,h(a)),children:t})}},24717:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=a(81572),s=a(67294),o=n(a(95402));function l(e,t){const{contextMenu:a}=e,n=(0,o.default)(),l=(0,s.useRef)(null);(0,s.useEffect)((()=>(i.Cmd.openContextMenu({menuOptions:a,uim:(0,r.default)(n,"uim")},(e=>{l.current=e})),()=>{i.Cmd.closeContextMenu(n)})),[]);const u=()=>l.current;return(0,s.useImperativeHandle)(t,(()=>({getElement:u}))),null}var u=(0,s.forwardRef)(l);t.default=u},46780:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(81572),i=a(67294),s=n(a(95402));function o(e,t){const{tooltip:a}=e,n=(0,i.useRef)(null),o=(0,s.default)();(0,i.useEffect)((()=>{if(null!=o)return r.Cmd.openTooltip({menuOptions:a,uim:o},(e=>{n.current=e})),()=>{r.Cmd.closeTooltip(o)}}),[]);const l=()=>n.current;return(0,i.useImperativeHandle)(t,(()=>({getElement:l}))),null}var l=(0,i.forwardRef)(o);t.default=l},1784:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(6479)),s=n(a(99964)),o=n(a(94184)),l=a(67294),u=n(a(56720)),d=n(a(85647)),c=n(a(78506)),f=a(85893);const h=["a8nText","className","children","dataTab","disabled","onClick","onMouseEnter","onMouseDown","title","type","onFocus","xstyle"],p={button:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",fontFamily:"shdiholb",fontSize:"phqmzxqs",color:"gtscxtjd",cursor:"ajgl1lbb",backgroundColor:"thr4l2wc",borderTop:"cc8mgx9x",borderEnd:"eta5aym1",borderBottom:"d9802myq",borderStart:"e4xiuwjv"},focused:{borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",boxShadow:"lgxs6e1q"},disabled:{cursor:"rcg4vxlo"}};function m(e,t){let{a8nText:a,className:n,children:l,dataTab:m,disabled:g,onClick:_,onMouseEnter:v,onMouseDown:b,title:y,type:C="button",onFocus:S,xstyle:E}=e,T=(0,i.default)(e,h);const[x,M]=(0,d.default)(),k=(0,c.default)(t,x),w={};return null!=T["aria-label"]&&(w["aria-label"]=T["aria-label"]),null!=T["aria-pressed"]&&(w["aria-pressed"]=T["aria-pressed"]),(0,f.jsx)("button",(0,r.default)((0,r.default)({className:(0,o.default)((0,u.default)(p.button,M&&p.focused,g&&p.disabled,E),n),"data-tab":null!=m?m:void 0,"data-a8n":s.default.key(a),disabled:!0===g,onClick:_,onMouseEnter:v,onMouseDown:b,onFocus:S,ref:k,title:y,type:C},w),{},{children:l}))}var g=(0,l.forwardRef)(m);t.default=g},23520:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useRollerCounter=function(e,t){const[a,n]=(0,r.useState)(t),[s,o]=(0,r.useState)(null),l=(0,r.useRef)(null);null==l.current&&(l.current=e);const u=(0,i.default)((()=>{null!=l.current&&l.current!==t&&(n(t),o(l.current)),l.current=null}),50);null!=t&&u();return{currentValueProp:a,previousValueProp:s}};var r=a(67294),i=n(a(51799))},35148:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=l.default.t(185),a=r.fbt._("Business Account",null,{hk:"3UVemK"}),n=(0,i.useModelValues)(e.contact,["name","verifiedName"]),h=(0,i.useModelValues)(e.presence,["withholdDisplayStage","forceDisplay","hasData"]);(0,i.useModelValues)(e.chatstate,["type","deny","t"]);const{location:p,showBusinessCheckmark:m}=e;let g,_;g="list"===p||"info"===p?h.getUserSubtitleText():h.withholdDisplayStage===u.WithholdDisplayStage.Info?t:h.withholdDisplayStage===u.WithholdDisplayStage.Business?a:h.getUserSubtitleText()||(h.forceDisplay?"":t);g&&(_=(0,f.jsx)(s.default,{text:g,location:p}));if("title"===p&&g!==t&&g!==a&&m)return(0,f.jsxs)("div",{className:c.default.wrapper,children:[(0,f.jsx)(o.EmojiText,{text:n.verifiedName,className:c.default.verifiedText,direction:"auto",ellipsify:!0,titlify:!0}),(0,f.jsx)("div",{className:c.default.icon,children:(0,f.jsx)(d.default,{name:"psa-verified"})}),_&&(0,f.jsx)("span",{className:c.default.divider,children:"·"}),_]});return _||null};var r=a(48360),i=a(35461),s=n(a(32756)),o=a(65417),l=n(a(14296)),u=a(42931),d=n(a(23217)),c=n(a(60299)),f=a(85893)},23425:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(22712),i=n(a(94184)),s=a(67294),o=n(a(16223)),l=a(87550),u=n(a(55010)),d=n(a(82796)),c=a(85893);var f=(0,s.forwardRef)(((e,t)=>{const{srcObject:a,src:n,autoPlay:f,muted:h,controls:p,onPlay:m,onLoadedMetadata:g}=e,_=(0,s.useRef)(null),[v,b]=(0,s.useState)(!1),[y,C]=(0,s.useState)(null);(0,u.default)((()=>{var e;null===(e=_.current)||void 0===e||e.call(_)}));const S=()=>y,E=()=>{(null==y?void 0:y.paused)&&y.play()},T=()=>{y&&(y.currentTime=0,y.paused||y.pause())},x=()=>null==y?void 0:y.duration;(0,s.useImperativeHandle)(t,(()=>({underlyingVideo:S,play:E,pauseAndReset:T,getDuration:x})));const M=(0,o.default)((()=>Symbol("audio-channel")));return(0,s.useEffect)((()=>{y&&("srcObject"in y&&a?y.srcObject=a:n&&(y.src=n)),f&&(null==y||y.play())}),[y]),(0,l.useListener)(y,"playing",(()=>{y&&(!0!==h&&(_.current=()=>{r.MainAudioChannel.claim(M.current,(()=>{!0===p&&y.pause()}))}),y.videoHeight&&y.videoWidth||v||(b(!0),y.pause(),y.play(),__LOG__(4,void 0,new Error,!0)`Neither the height nor the width of video should have zero value`,SEND_LOGS("non-zero height and width")),y.videoHeight&&y.videoWidth&&m&&(m(y),b(!1)))})),(0,l.useListener)(y,"pause",(()=>{var e;null===(e=_.current)||void 0===e||e.call(_)})),(0,c.jsx)("video",{ref:C,className:(0,i.default)(d.default.video,e.className),muted:e.muted,controls:e.controls,controlsList:e.controlsList,width:e.width,height:e.height,loop:e.loop,onClick:e.onClick,onEnded:e.onEnded,onLoadedMetadata:e=>{null==g||g(e)},onLoadedData:e.onLoadedData,style:e.style,children:e.children})}));t.default=f},38090:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerState=void 0,t.YouTube=f;var r=n(a(48926)),i=n(a(81109)),s=n(a(18446)),o=a(67294),l=n(a(11062)),u=a(85893);function d(e){return(0,i.default)((0,i.default)({},e),{},{playerVars:(0,i.default)((0,i.default)({},e.playerVars),{},{autoplay:0,start:0,end:0})})}const c={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function f(e){const{onReady:t,onError:a,onStateChange:n,onEnd:f,onPlay:h,onPause:p,onPlaybackRateChange:m,onPlaybackQualityChange:g,opts:_,videoId:v,id:b,className:y}=e,C=(0,o.useRef)(null),S=(0,o.useRef)(null),E=(0,o.useRef)([]),T=(0,o.useRef)(e),x=(0,o.useCallback)((e=>t(e)),[t]),M=(0,o.useCallback)((e=>a(e)),[a]),k=(0,o.useCallback)((e=>{switch(n(e),e.data){case c.ENDED:f(e);break;case c.PLAYING:h(e);break;case c.PAUSED:p(e)}}),[f,p,h,n]),w=(0,o.useCallback)((e=>m(e)),[m]),P=(0,o.useCallback)((e=>g(e)),[g]),A=(0,o.useCallback)((()=>{var e,t,a,n;const r=(0,i.default)((0,i.default)({},_),{},{videoId:v});S.current=(0,l.default)(C.current,r),E.current.push(S.current.on("ready",x),null===(e=S.current)||void 0===e?void 0:e.on("error",M),null===(t=S.current)||void 0===t?void 0:t.on("stateChange",k),null===(a=S.current)||void 0===a?void 0:a.on("playbackRateChange",w),null===(n=S.current)||void 0===n?void 0:n.on("playbackQualityChange",P))}),[M,P,w,x,k,_,v]);(0,o.useEffect)((()=>(A(),()=>{var e;E.current.filter(Boolean).forEach((e=>{var t;null===(t=S.current)||void 0===t||t.off(e)})),null===(e=S.current)||void 0===e||e.destroy()})),[]);const j=(0,o.useCallback)((()=>{var e,t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.destroy().then(A))&&void 0!==e?e:Promise.resolve()}),[A]),I=(0,o.useCallback)((0,r.default)((function*(){var e;const t=yield null===(e=S.current)||void 0===e?void 0:e.getIframe();b?null==t||t.setAttribute("id",b):null==t||t.removeAttribute("id"),y?null==t||t.setAttribute("class",y):null==t||t.removeAttribute("class")})),[y,b]),O=(0,o.useCallback)((()=>{var e,t;if(null==v)return void(null===(t=S.current)||void 0===t||t.stopVideo());let a,n,r=!1;"playerVars"in _&&(r=1===_.playerVars.autoplay,"start"in _.playerVars&&(a=_.playerVars.start),"end"in _.playerVars&&(n=_.playerVars.end));const i={videoId:v,startSeconds:a,endSeconds:n};var s;r?null===(s=S.current)||void 0===s||s.loadVideoById(i):null===(e=S.current)||void 0===e||e.cueVideoById(i)}),[_,v]);return(0,o.useEffect)((()=>{const t=T.current;(function(e,t){return e.id===t.id||e.className===t.className})(t,e)&&I(),function(e,t){return!(0,s.default)(d(e.opts),d(t.opts))}(t,e)&&j(),function(e,t){if(e.videoId!==t.videoId)return!0;const a=e.opts.playerVars||{},n=t.opts.playerVars||{};return a.start!==n.start||a.end!==n.end}(t,e)&&O(),T.current=e}),[e,j,I,O]),(0,u.jsx)("span",{className:e.containerClassName,children:(0,u.jsx)("div",{id:e.id,className:e.className,ref:C})})}t.PlayerState=c,f.defaultProps={id:null,className:null,opts:{playerVars:{}},containerClassName:"",onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}}},48708:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.useModelValues)(e.mute,["isMuted"]);const t=(0,o.useModelValues)(e.chat,["id"]),a=(0,o.useModelValues)(e.groupMetadata,["participants"]),n=e=>{const t=a.participants.get(e.id);return!!(null==t?void 0:t.isAdmin)},f=e=>{(0,d.findChat)(e).then((e=>{e.quotedMsgAdminGroupJid=t.id,r.Cmd.openChatBottom(e)}))},h=e=>{f(e.id),i.ModalManager.close()},p=(0,c.jsx)("span",{role:"button",onClick:()=>{const e=a.participants.getAdmins();1!==e.length?i.ModalManager.open((0,c.jsx)(u.default,{title:s.fbt._("Message admin",null,{hk:"Bfaqs"}),filter:n,onCancel:()=>i.ModalManager.close(),onSelect:h})):f(e[0].id)},className:l.default.adminBtn,children:s.fbt._("admins",null,{hk:"2HQmrC"})});return s.fbt._("Only {admins} can send messages",[s.fbt._param("admins",p)],{hk:"3RYttw"})};var r=a(81572),i=a(14597),s=a(48360),o=a(35461),l=n(a(99041)),u=n(a(29234)),d=a(50101),c=a(85893)},36707:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderDescription=p,t.OrderPreview=function(e){const{msg:t,onClick:a,theme:n}=e,{thumbnail:i,isSentByMe:s}=t;let o;i&&(o=(0,c.jsx)("div",{className:l.default.media,style:{backgroundImage:`url("data:image/jpeg;base64,${i}")`}}));const u=(0,r.default)(l.default.preview,{[l.default.bubbleIn]:!s&&"quoted"!==n,[l.default.bubbleOut]:s||"quoted"===n,[l.default.quoted]:"quoted"===n});return(0,c.jsxs)("div",{className:u,onClick:a,children:[o,(0,c.jsxs)("div",{className:l.default.body,children:[(0,c.jsx)(h,{msg:t}),(0,c.jsx)(p,{msg:t})]})]})},t.OrderTitle=h;var r=n(a(94184)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(39519)),s=a(65417),o=n(a(14296)),l=n(a(10593)),u=a(64551),d=n(a(23217)),c=a(85893);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function h(e){const{msg:t}=e;let a;if(u.ServerProps.webCartV11OrderMessageChanges){const e=o.default.t(445,{count:t.itemCount||0,_plural:t.itemCount||0});a=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{className:l.default.titleIcon,name:"shopping-cart"}),(0,c.jsx)(s.EmojiText,{text:e})]})}else a=(0,c.jsx)(s.EmojiText,{text:t.orderTitle});return(0,c.jsx)("div",{className:l.default.title,children:a})}function p(e){const{msg:t,showMessage:a}=e,{totalAmount1000:n,totalCurrencyCode:r,itemCount:f}=t;let h=null;if(u.ServerProps.webCartV11OrderMessageChanges&&null!=n&&null!=r&&""!==r){const e=o.default.t(592,{total:i.formatAmount1000(r,n)});h=(0,c.jsx)(s.EmojiText,{text:e})}else if(!u.ServerProps.webCartV11OrderMessageChanges){const e=o.default.t(445,{count:f||0,_plural:f||0});h=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{className:l.default.descriptionIcon,name:"shopping-cart"}),(0,c.jsx)(s.EmojiText,{text:e})]})}const p=!0===a?(0,c.jsx)(s.EmojiText,{text:t.message}):null;return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:l.default.description,children:h}),p]})}},24667:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,onClick:a}=e;const{list:n,isSentByMe:h,dir:p,productListHeaderImage:m}=(0,s.useModelValues)(t,["list","isSentByMe","dir","productListHeaderImage"]),[g,_]=(0,o.default)(a);if(null==n)return null;const v=null!=m?(0,f.jsx)("div",{alt:"",className:c.default.media,style:{backgroundImage:`url(${(0,d.convertToDataURI)(m)})`}}):null,b=(0,f.jsx)("div",{className:c.default.title,children:(0,f.jsx)(l.EmojiText,{text:n.title,ellipsify:!0})}),y=u.default.t(445,{count:t.productListItemCount||0,_plural:t.productListItemCount||0}),C=(0,f.jsx)(l.EmojiText,{text:y,direction:p,ellipsify:!0}),S=(0,i.default)(c.default.preview,{[c.default.bubbleOut]:h});return(0,f.jsxs)("div",(0,r.default)((0,r.default)({},_),{},{className:S,ref:g,children:[v,(0,f.jsxs)("div",{className:c.default.body,children:[b,(0,f.jsx)("div",{className:c.default.description,children:C})]})]}))};var r=n(a(81109)),i=n(a(94184)),s=a(35461),o=n(a(34470)),l=a(65417),u=n(a(14296)),d=a(81309),c=n(a(59431)),f=a(85893)},72345:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeNumberNotification=function(e){const t=(0,d.useModelValues)(e.chat,["changeNumberOldJid","changeNumberNewJid","id","showChangeNumberNotification"]),a=()=>{const{changeNumberNewJid:e}=t,a=t.id;b((0,r.default)(e,"changeNumberNewJid"),a)},n=()=>{t.sendDismissChangeNumber()},{changeNumberOldJid:i,changeNumberNewJid:h,id:y}=t,C=void 0===i&&void 0!==h,S=void 0!==i&&void 0===h,E=(0,u.useMemo)((()=>{const e=i||y,t=p.ContactCollection.get(e),a=(null==t?void 0:t.isMyContact)?t.formattedName:(0,o.widToFormattedUser)(e);return S?g.default.t(174,{name:a}):g.default.t(175,{name:a})}),[i,y,S]);let T=null;if(t.showChangeNumberNotification){const e=C?(0,v.jsx)("div",{className:f.default.messageNewNumberButton,children:(0,v.jsx)(c.default,{onClick:a,type:"plain-white",nowrap:!0,children:l.fbt._("Message new number",null,{hk:"4pjpb0"})})}):null;T=(0,v.jsx)(m.default,{onClose:n,children:(0,v.jsxs)("div",{className:f.default.container,children:[(0,v.jsx)(_.TextSpan,{theme:"plain",className:f.default.text,children:E}),e]})})}return(0,v.jsx)(s.default,{transitionName:"butterbar",children:T})},t.onChangeNumberNotificationClick=b;var r=n(a(45095)),i=a(81572),s=n(a(40436)),o=a(62054),l=a(48360),u=a(67294),d=a(35461),c=n(a(39770)),f=n(a(70744)),h=a(69951),p=a(19380),m=n(a(84518)),g=n(a(14296)),_=a(13923),v=a(85893);function b(e,t){const a=h.ChatCollection.gadd(e);a.changeNumberOldJid||(a.changeNumberOldJid=t),a.changeNumberNewJid=void 0,i.Cmd.openChatFromUnread(a).then((e=>{e&&i.Cmd.focusChatTextInput(a)}))}},29250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasText=function(){return a},t.setHasText=function(e){a=e};let a=!1},21518:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(48926)),s=r(a(81109)),o=a(89385),l=a(50796),u=r(a(45095)),d=a(57319),c=r(a(99964)),f=a(92574),h=a(81572),p=r(a(64369)),m=r(a(38224)),g=a(41455),_=a(65885),v=r(a(45120)),b=Ue(a(51428)),y=a(38184),C=Ue(a(95726)),S=Ue(a(35232)),E=a(8139),T=a(14597),x=(a(55715),a(94816)),M=r(a(76139)),k=a(55452),w=r(a(40436)),P=r(a(94184)),A=a(48360),j=a(67294),I=r(a(51799)),O=r(a(59312)),N=r(a(16223)),R=a(87550),D=a(35461),L=r(a(55010)),B=a(1776),F=r(a(89113)),G=r(a(91962)),U=r(a(79013)),V=r(a(44395)),W=a(32826),H=a(3198),q=a(11933),Y=a(4841),z=r(a(31079)),K=a(56512),$=r(a(52665)),Q=r(a(5354)),X=r(a(94908)),J=a(24808),Z=a(65100),ee=r(a(26847)),te=r(a(54995)),ae=r(a(46220)),ne=r(a(56624)),re=a(29250),ie=a(29424),se=r(a(78227)),oe=r(a(14296)),le=r(a(19146)),ue=r(a(51845)),de=a(61596),ce=r(a(11339)),fe=a(43257),he=r(a(34949)),pe=a(24264),me=r(a(81880)),ge=a(77853),_e=a(371),ve=r(a(24317)),be=r(a(63639)),ye=a(35863),Ce=r(a(35072)),Se=a(51906),Ee=r(a(15554)),Te=a(77690),xe=a(70597),Me=r(a(8694)),ke=r(a(264)),we=a(85330),Pe=a(5524),Ae=r(a(40639)),je=a(18146),Ie=r(a(23217)),Oe=a(50452),Ne=a(18644),Re=a(89618),De=r(a(74460)),Le=r(a(46603)),Be=r(a(64099)),Fe=a(85893);function Ge(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Ge=function(e){return e?a:t})(e)}function Ue(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Ge(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const Ve=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,We=parseInt(se.default["-overlay-border-left"].replace(/px$/,""),10);var He=(0,j.forwardRef)(((e,t)=>{const{onPageUpDown:a,onComposeHeightChange:r}=e,c=(0,O.default)(),ne=(0,D.useModelValues)(e.chat,["id","trusted","composeContents","composeQuotedMsg","isPSA","isGroup","pttRecordingSession","shouldAppearInList","presence","contact","attachMediaContents","quotedMsgAdminGroupJid","quotedMsgAdminGroupSubject","quotedMsgAdminParentGroupJid","receivedVcardMsgs","vcardDismissed","composeQuotedMsgRemoteJid"]),be=(0,B.useSetModelValue)(ne,"composeQuotedMsg"),Ie=(0,B.useSetModelValue)(ne,"quotedMsgAdminGroupJid"),Ge=(0,B.useSetModelValue)(ne,"composeQuotedMsgRemoteJid"),Ue=(0,B.useSetModelValue)(ne,"pttRecordingSession"),He=(0,j.useMemo)((()=>ne.getComposeContents()),[ne]),Ke=(0,j.useRef)(He.omittedURL),[$e,Qe]=(0,j.useState)(null),Xe=(0,j.useRef)(He.omittedURL),Je=(0,j.useRef)(He.text||""),Ze=()=>{const e=(0,Y.removeCodeBlocks)(Je.current);return C.findLinks(e,!0)[0]},et=(0,Le.default)(),tt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0!==e&&$e&&(Xe.current=Ke.current,Qe(null))},at=()=>{Ke.current=null,tt()},[nt,rt]=(0,j.useState)(!!Je.current),[it,st]=(0,j.useState)(He.ctwaContextLinkData),ot=(0,j.useRef)(null),lt=(0,j.useRef)(null),ut=(0,j.useRef)(null),dt=(0,j.useRef)(null),ct=(0,j.useRef)(null),ft=(0,j.useRef)(null),ht=(0,j.useRef)(null),pt=(0,j.useRef)(He.selection),mt=(0,j.useRef)(0),gt=(0,j.useRef)(),_t=(0,j.useRef)([]),vt=(0,N.default)((()=>new n)),bt=(0,j.useRef)(!1),yt=(0,j.useRef)(!1),Ct=(0,j.useRef)(null),St=(0,F.default)((()=>{if(!nt||it)return void at();const e=Ze();if(!e)return void at();const t=e.url;if(Ke.current&&Ke.current===t)return;Ke.current=t,Xe.current=null;const a=vt.current.signal,n=(0,le.default)(e,!0).then((e=>{if(a.aborted)throw new o.AbortError;if(e&&Ke.current===e.url&&e.data&&(e.data.title||e.data.description))return Qe(e),((e,t)=>{const{thumbnailHQ:a}=e.data;return a?he.default.createFromBase64Jpeg(a).then((e=>(0,De.default)({thumbnail:e,mediaType:de.MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:(0,Ee.default)(),uploadOrigin:(0,ae.default)(ne),forwardedFromWeb:!1,signal:t,timeout:p.default.MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}))).then((t=>{const a=t.mediaEntry;if(!a)return;const n={mediaKey:a.mediaKey,mediaKeyTimestamp:a.mediaKeyTimestamp,thumbnailDirectPath:a.directPath,thumbnailSha256:t.filehash,thumbnailEncSha256:a.encFilehash};if((null==$e?void 0:$e.url)===e.url){const t=(0,s.default)((0,s.default)({},e),{},{data:(0,s.default)((0,s.default)({},e.data),n)});Qe(t)}})).catch((0,o.catchAbort)((()=>{}))).catch((()=>{__LOG__(2)`Full preview upload has failed: `})):Promise.resolve()})(e,a)}));_t.current.push(n),n.catch((0,l.filteredCatch)([S.Unmount,f.WebdDrop],(()=>{}))).catch((0,o.catchAbort)((()=>{})))})),Et=(0,N.default)((()=>new d.ShiftTimer(St))),[Tt]=(0,j.useState)(!1),[xt,Mt]=(0,j.useState)(!1),[kt,wt]=(0,j.useState)(ne.pttRecordingSession),[Pt,At]=(0,j.useState)(null!=ne.pttRecordingSession),[jt,It]=(0,j.useState)(null),[Ot,Nt]=(0,j.useState)(!1),[Rt,Dt]=(0,j.useState)(m.default.get().textsize),[Lt,Bt]=(0,j.useState)(null),[Ft,Gt]=(0,j.useState)(He.ctwaContext),[Ut,Vt]=(0,j.useState)({handleOnce:[],handleMultiple:[]});(0,R.useListener)(W.BlocklistCollection,["add","remove","reset"],c),(0,R.useListener)(y.LegacyPhoneFeatures.supportsFeature(y.LegacyPhoneFeatures.F.INDEX_RECEIVED_VCARD)?ne.getReceivedVcardMsgs():null,["add","remove","reset"],c);const Wt=()=>{ne.setComposeContents({text:Je.current,selection:pt.current,omittedURL:Xe.current,ctwaContextLinkData:it,ctwaContext:Ft,editorStateJSON:null})},Ht=e=>{Wt(),at();e.sourceUrl&&(0,ye.fetchCtwaContextData)(e).then((e=>{Gt(e),Wt()})).catch((e=>{__LOG__(3)`Unable to retrieve CTWA context data, error: ${e}`}))};(0,j.useEffect)((()=>{mt.current=(0,u.default)(ut.current,"composeBlockRef.current").clientHeight,Et.current.debounceAndCap(50,50),!it||Ft&&Ft.sourceUrl===it.sourceUrl||(Gt(null),Ht(it))}),[]);(0,L.default)((()=>{var e;Et.current.cancel(),vt.current.abort(),null===(e=Ct.current)||void 0===e||e.cancel(),Wt()}));const qt=()=>{(0,je.unproxy)(ne).dismissVcard()},Yt=(0,I.default)(Wt,200),zt=()=>{const e=Je.current.trim().length>0;return(0,re.setHasText)(e),e},Kt=e=>{var t;null===(t=ct.current)||void 0===t||t.focus(e)},$t=e=>{var t;null===(t=ct.current)||void 0===t||t.replaceSelection(e)},Qt=()=>{Nt(!1)},Xt=()=>{T.ModalManager.open((0,Fe.jsx)($.default,{title:oe.default.t(520),onOK:()=>{T.ModalManager.close()},okText:A.fbt._("OK",null,{hk:"2KEeHb"}),children:oe.default.t(519)}))},Jt=()=>{var e;null===(e=ct.current)||void 0===e||e.reset()},Zt=()=>{Kt()},ea=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0!==e&&be(null)},ta=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0!==e&&Ie(null)},aa=()=>{},na=()=>{st(null),Gt(null),Wt(),Et.current.onOrBefore(1)},ra=e=>{var t;a&&(e.stopPropagation(),a(e),null===(t=Ct.current)||void 0===t||t.debounce(0))},ia=e=>{$t(e)},sa=(0,F.default)((()=>ne.getComposeContents())),oa=(0,F.default)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{initCaptionUsed:a}=t;e&&a&&Jt(),e&&na()})),la=(0,F.default)((()=>{Yt.flush()})),ua=e=>{It(e),Bt(null==jt&&null!=e&&null!=ut.current?ut.current.offsetWidth-We:Lt)},da=()=>{ua(null),Zt()},ca=(e,t,a)=>{const n=(0,ee.default)(e,{headers:{Accept:"video/mp4"}}).then((e=>{if(!e.ok)throw __LOG__(3)`failed loading gif (status: ${e.status})`,new S.MediaFileFailedLoad;return e.blob()})).then(function(){var e=(0,i.default)((function*(e){const{thumbs:[n],duration:r}=yield b.generateVideoThumbsAndDuration({file:e,maxDimensions:[p.default.IMG_THUMB_MAX_EDGE],debugHint:"handleGif"});return{file:e,filename:t,mimetype:e.type,isGif:!0,gifAttribution:a,fullPreview:window.URL.createObjectURL(e),fullPreviewSize:{width:n.fullWidth,height:n.fullHeight},preview:M.default.parseDataURL(n.url).data,duration:r}}));return function(){return e.apply(this,arguments)}}());return Yt.flush(),h.Cmd.attachMediaDrawer({chat:ne,attachments:[n],initCaption:sa(),fileOrigin:ce.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:(e,t)=>{oa(e,t),e&&da()}}),n.catch((()=>{})),n},fa=e=>{gt.current=e},ha=(e,t)=>{ca(e,e,t)},pa=(e,t)=>{if(e.isCreateButton){var a;new ce.default.WebcStickerMakerEvents({stickerMakerEventName:ce.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit(),null===(a=ht.current)||void 0===a||a.open()}else{const a=ne.composeQuotedMsg,n=(0,ge.prepareCtwaContextSend)(it,Ft);(0,we.sendStickerToChat)(ne,e,{stickerSendOrigin:t,quotedMsg:a,ctwaContext:n}),be(null),na()}},ma=e=>{if(!e)return;e.stopPropagation();const t=null==e.target.files?[]:Array.from(e.target.files);t.length&&(new ce.default.WebcStickerMakerEvents({stickerMakerEventName:ce.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit(),h.Cmd.attachMediaDrawer({chat:ne,attachments:t.map((e=>({file:e,stickerMaker:!0}))),fileOrigin:ce.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,sendAsSticker:!0}))},ga=()=>{v.default.shouldIndicateFocus(),Zt()},_a=e=>{var t;let{target:a}=e;const n=null===(t=ct.current)||void 0===t?void 0:t.getRefInput(),r=(0,u.default)(lt.current,"containerRef.current");do{if(a===n)return}while(a!==r&&a instanceof HTMLElement&&(a=a.parentNode));Ye(e),Kt(!1)},va=e=>{let t=!1;{const a=(0,u.default)(ut.current,"composeBlockRef.current").clientHeight,n=a-mt.current;n&&r({input:n},!1),mt.current=a;const i=zt();Je.current=e||"",""===e&&(yt.current=!0),t=zt(),t!==i&&rt(t)}t?(ne.presence.subscribe().catch((0,l.filteredCatch)(f.WebdDrop,(()=>{}))),(0,_e.markComposing)(ne),(0,Z.eagerlyEstablishE2EESessionWhenTyping)(ne)):(0,_e.markPaused)(ne);const a=Ze();(!a&&Ke.current||a&&a.url!==Ke.current)&&at(),bt.current?Et.current.onOrBefore(1):Et.current.debounce(700),bt.current=!1,Yt()},ba=function(){var e=(0,i.default)((function*(){var e;const t=null!==(e=ne.pttRecordingSession)&&void 0!==e?e:(0,xe.createRecordingSession)({chat:(0,je.unproxy)(ne)});let a;wt(t),At(!1);try{a=yield t.start()}finally{const e=a?t:null;Ue(e),wt(e),At(null!=e)}}));return function(){return e.apply(this,arguments)}}(),ya=e=>{let{width:t}=e;Lt!==t&&Bt(t)},Ca=e=>{ua(e),null!=e&&(0,k.setLastComposeBoxPanel)(e)},Sa=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r({overlay:e},t)},Ea=e=>{const t=e.getFiles().filter((e=>{const t=(0,_.typeFromMimetype)(e.type);return"image"===t||"video"===t}));if(e.hasType("text/html")){const t=e.getData("text/html");if(t){if(t.includes("<meta name=ProgId content=PowerPoint.Slide>"))return!1;const e=t.includes("urn:schemas-microsoft-com:office"),a=t.includes("urn:schemas-microsoft-com:office:excel");if(e&&!a)return!1}}if(t.length)return Yt.flush(),h.Cmd.attachMediaDrawer({chat:ne,attachments:t.map((e=>({file:e}))),fileOrigin:ce.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE,initCaption:sa(),onComplete:oa}),!0},Ta=e=>{const t=Ve.exec(e);if(t){const a=`https://media.giphy.com/media/${t[1]}/200w.mp4`;return ca(a,e,J.Message$VideoMessageAttribution.GIPHY).catch((()=>{var t;g.DrawerManager.closeDrawerMid(),Kt(!0),null===(t=ct.current)||void 0===t||t.replaceSelection(e),x.ToastManager.open((0,Fe.jsx)(Oe.Toast,{msg:A.fbt._("The item you tried adding failed to load.",null,{hk:"1MmBvO"}),id:(0,Oe.genId)()}))})),!0}return bt.current=!0,!1},xa=e=>{pt.current=e},Ma=()=>{var e;null===(e=ot.current)||void 0===e||e.activate(),v.default.maybeIndicateFocus(dt.current,se.default.focusAnimation),Kt(!1)},ka=()=>{let e,t;(0,Te.reconnect)();{const a=ct.current;if(!a)return;const n=a.serialize();e=n[0].trim(),t=n[1]}if(0===e.length&&!it)return;_t.current=[],vt.current.abort(),vt.current=new n,!0===xt&&Mt(!1);const a=ne.composeQuotedMsg,r=ne.quotedMsgAdminGroupJid;let i,s;(0,E.communitiesEnabled)()&&(i=ne.quotedMsgAdminGroupSubject,s=ne.quotedMsgAdminParentGroupJid);const o=null==$e?void 0:$e.data,l=t.mentionedJidList||[],u=(0,ge.prepareCtwaContextSend)(it,Ft),d=yt.current;if(ua(null),rt(!1),Qe(null),d){const e=(0,je.unproxy)(ne);e.urlText&&(e.urlText=void 0)}(0,Pe.sendTextMsgToChat)(ne,e,{linkPreview:o,quotedMsg:a,mentionedJidList:l,quotedMsgAdminGroupJid:r,quotedMsgAdminGroupSubject:i,quotedMsgAdminParentGroupJid:s,ctwaContext:u}),yt.current=!1,na(),Ut.handleOnce.forEach((e=>null==e?void 0:e())),Ut.handleMultiple.forEach((e=>null==e?void 0:e())),Vt({handleMultiple:Ut.handleMultiple,handleOnce:[]}),be(null),Ie(null),Ge(null),ne.setComposeContents({}),Jt(),e="",zt()},wa=e=>{e.repeat||ka()},Pa=e=>{var t;jt&&(null===(t=ft.current)||void 0===t||t.restoreFocus(!0),Ye(e))};return(0,j.useImperativeHandle)(t,(()=>({flushSaveComposeContentDebounced:la,getCurrentComposeContent:sa,updateTextAfterMediaDrawerClose:oa})),[la,sa,oa]),(0,Fe.jsx)(Ne.UIE,{displayName:"ComposeBox",ref:ot,uimState:Re.UIMState.PASSIVE,requestFocus:et?null:Zt,children:(0,Fe.jsxs)(ie.HotKeys,{component:"footer",tabIndex:null,handlers:{pagedown:ra,pageup:ra},className:(0,P.default)(se.default.footer,{[se.default.pttComposerActive]:Pt}),ref:lt,onContextMenu:_a,onMouseDown:_a,children:[null,(0,Fe.jsx)(Q.default,{canCut:!0,className:(0,P.default)(se.default.blockCompose,(0,H.getTextsizeClassForScale)(Rt)),ref:ut,children:(0,Fe.jsxs)("div",{className:se.default.mainContentContainer,children:[(0,Fe.jsx)(w.default,{transitionName:"pttComposer",children:Pt?(0,Fe.jsx)("div",{className:se.default.pttComposerContainer,children:(0,Fe.jsx)(ve.default,{recordingSession:(0,u.default)(kt,"recordingSession"),onComplete:()=>{Ue(null),wt(null),At(!1),Zt()}})}):null}),(0,Fe.jsx)(w.default,{transitionName:"messageComposer",children:Pt?null:(0,Fe.jsxs)("div",{className:se.default.textMessageComposerContainer,children:[(0,Fe.jsxs)("div",{className:(0,P.default)(se.default.childPadding,se.default.boxPanelWrapper),children:[(0,Fe.jsx)(pe.ComposeBoxPanelsMenu,{selectedPanelId:jt,onChange:Ca,theme:pe.PanelsTheme.ChatComposeBox}),(0,Fe.jsx)("div",{className:se.default.attachButtonContainer,children:(0,Fe.jsx)(V.default,{chat:(0,je.unproxy)(ne),getComposeContents:sa,onMenuComplete:oa})})]}),(0,Fe.jsxs)("div",{className:se.default.textMessageComposerInputContainer,children:[(0,Fe.jsx)(ie.HotKeys,{ref:dt,className:(0,P.default)(se.default.inputContainer,{[se.default.disabled]:Tt}),handlers:{tab:Pa,"shift+tab":Pa},onFocus:Ma,onBlur:aa,children:(0,Fe.jsx)(z.default,{a8n:"conversation-compose-box-input",placeholder:A.fbt._("Type a message",null,{hk:"3h5KZB"}),readOnly:null!=kt,ref:ct,initialValue:Je.current,initialSelection:pt.current,spellCheck:!0,multiline:!0,maxLength:p.default.MAX_TXT_MSG_SIZE,onMaxPasteExceeded:Xt,onEnter:wa,onFiles:Ea,onTextPaste:Ta,onChange:va,onSelect:xa,textPasteMimePriority:[q.APP_TEXT_MIMETYPE,"text/plain"],theme:"compose",title:A.fbt._("Type a message",null,{hk:"3h5KZB"})})}),(0,Fe.jsx)("div",{className:(0,P.default)(se.default.childPadding,se.default.sendButtonContainer),children:(0,Fe.jsx)(ze,{hasText:nt,onClickSend:ka,recordingSession:kt,onStartRecording:()=>{ba()}})})]})]})})]})}),(()=>{let e;if($e){const{title:t,canonicalUrl:a,description:n,thumbnail:r}=$e.data;e=(0,Fe.jsx)(U.default,{children:(0,Fe.jsx)(Ne.UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:tt,children:(0,Fe.jsx)(me.default,{onOmit:tt,children:(0,Fe.jsx)(ue.default,{title:t,compose:!0,canonicalUrl:a,description:n,thumbnailJpeg:r})})})})}const t=ne.composeQuotedMsg,a=ne.quotedMsgAdminGroupJid,n=ne.quotedMsgAdminGroupSubject,r=ne.quotedMsgAdminParentGroupJid,i=ne.composeQuotedMsgRemoteJid;let s;t?s=(0,Fe.jsx)(U.default,{children:(0,Fe.jsx)(Ne.UIE,{displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:Zt,requestDismiss:ea,children:(0,Fe.jsx)(me.default,{onOmit:ea,children:(0,Fe.jsx)(Ce.default,{msg:t.safe(),composeQuotedMsgRemoteJid:i,theme:"composeBox",chat:t.chat},t.id.toString())})})}):a&&(s=(0,Fe.jsx)(U.default,{children:(0,Fe.jsx)(Ne.UIE,{displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:Zt,requestDismiss:ea,children:(0,Fe.jsx)(me.default,{onOmit:ta,children:(0,Fe.jsx)(Se.QuotedMsgAdminGroupName,{isComposePreview:!0,quotedGroupJid:a,quotedParentGroupJid:null!=n?r:void 0,quotedGroupSubject:n},a.toString())})})}));const o=(0,je.unproxy)(ne),l=!o.isPSA&&o.shouldAppearInList&&o.msgs&&o.msgs.length>0;let u=null;if(l){const e=W.BlocklistCollection.get(o.id),t=ne.getReceivedVcardMsgs();Boolean(!e&&(null==t?void 0:t.length)&&!o.vcardDismissed)&&(u=(0,Fe.jsx)(U.default,{children:(0,Fe.jsx)(Be.default,{chat:o,dismissVcardPanel:qt})}))}let d=null;!o.trusted&&l&&null==u&&(d=(0,Fe.jsx)(U.default,{children:(0,Fe.jsx)(Ae.default,{chat:o,contact:o.contact})}));let c,f=null;return jt&&null!=Lt&&(f=(0,Fe.jsx)(U.default,{children:(0,Fe.jsxs)(Me.default,{onResize:ya,children:[(0,Fe.jsx)(K.ComposeBoxPanelsLoadable,{displayCache:gt.current,width:Lt,onDisplayCache:fa,onEmoji:ia,onFocusRelease:ga,onGif:ha,onPanelChange:Ca,onSticker:pa,requestDismiss:da,forwardedRef:e=>{ft.current=e},selectedPanelId:jt,theme:pe.PanelsTheme.ChatComposeBox}),(0,Fe.jsx)(te.default,{ref:ht,mimes:fe.IMAGE_MIMES,onChange:ma,multiple:!1})]})})),it&&(c=(0,Fe.jsx)(U.default,{children:(0,Fe.jsx)(Ne.UIE,{displayName:"ComposeBoxCtwaContextPreview",escapable:!0,requestDismiss:na,children:(0,Fe.jsx)(me.default,{onOmit:na,children:(0,Fe.jsx)(X.default,{context:Ft,sourceUrl:it.sourceUrl,compose:!0})})})})),(0,Fe.jsx)("div",{className:se.default.positioningContainer,children:(0,Fe.jsx)("div",{className:se.default.overlayContainer,children:(0,Fe.jsxs)(G.default,{onHeightChange:Sa,children:[d,u,f,s,e,c]})})})})(),(0,Fe.jsx)(qe,{chatId:ne.id,restoreFocus:Zt,pasteEmojiInput:e=>{if(" "===e&&!zt())return h.Cmd.scrollMessages();Kt(!0),$t(e)},handleRoutedPaste:e=>{var t;Kt(!0),null===(t=ct.current)||void 0===t||t.onPaste(e)},onSendText:ka,onTextSizeChange:e=>{Dt(e)},setChatCtwaContextLinkData:e=>{st(e),Gt(null),Ht(e)},addChatMsgSentLogAttributes:e=>{Vt((t=>{let{handleOnce:a,handleMultiple:n}=t;return{handleOnce:e.handleOnce?a.concat(e.handleOnce):a,handleMultiple:e.handleMultiple?a.concat(e.handleMultiple):n}}))},handleQuickRepliesToggle:()=>{Nt(!0);const e=ct.current,t=ne.getComposeContents().text||"";if(ne&&e)if(t.length&&"/"===t.slice(-1)){const t=window.getSelection();Kt(!0),(0,ke.default)(t,1),e.deleteSelection()}else t.length&&" "===t.slice(-1)||h.Cmd.pasteChatTextInput(ne," "),h.Cmd.pasteChatTextInput(ne,"/")}},ne.id.toString()),(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(z.default.EmojiSuggestions,{chat:(0,je.unproxy)(ne)}),(0,Fe.jsx)(z.default.Suggestions,{chat:(0,je.unproxy)(ne)}),(0,E.canSendQuickReply)()&&(0,Fe.jsx)(z.default.QuickRepliesSuggestions,{chat:(0,je.unproxy)(ne),isOpenFromMenu:Ot,onClose:Qt}),!1]})]})})}));function qe(e){const{chatId:t}=e;return(0,R.useListener)(h.Cmd,`focus_chat_text_input_${t.toString()}`,e.restoreFocus),(0,R.useListener)(h.Cmd,`paste_chat_text_input_${t.toString()}`,e.pasteEmojiInput),(0,R.useListener)(h.Cmd,`send_paste_to_compose_${t.toString()}`,e.handleRoutedPaste),(0,R.useListener)(h.Cmd,`enter_chat_text_input_${t.toString()}`,e.onSendText),(0,R.useListener)(h.Cmd,`chat_add_sending_log_attributes_${t.toString()}`,e.addChatMsgSentLogAttributes),(0,R.useListener)(h.Cmd,`chat_set_ctwa_context_link_data_${t.toString()}`,e.setChatCtwaContextLinkData),(0,R.useListener)(h.Cmd,"focus_chat_text_input",e.restoreFocus),(0,R.useListener)(h.Cmd,"textsize_change",e.onTextSizeChange),(0,R.useListener)(h.Cmd,"quick_replies_toggle",e.handleQuickRepliesToggle),null}function Ye(e){e&&(e.preventDefault(),e.stopPropagation())}function ze(e){let{hasText:t,recordingSession:a,onStartRecording:n,onClickSend:r}=e;const i=ne.default&&window.AudioContext;return!t&&i?(0,Fe.jsx)(be.default,{disabled:null!=a,onConfirm:n}):(0,Fe.jsx)("button",{"data-a8n":c.default.key("compose-btn-send"),className:se.default.btnSend,onClick:r,disabled:!t,children:(0,Fe.jsx)(Ie.default,{name:"send",directional:!0})})}t.default=He},8936:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PANELS=void 0;t.PANELS={EMOJI:"EMOJI",GIF:"GIF",STICKER:"STICKER"}},60425:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{forwardedRef:t}=e,a=(0,i.default)(e,b);return(0,v.jsx)(C,(0,r.default)({ref:t},a))};var r=n(a(81109)),i=n(a(6479)),s=a(88555),o=a(67294),l=(a(57297),a(28325)),u=a(30424),d=n(a(51099)),c=a(30524),f=n(a(7380)),h=a(8936),p=a(24264),m=a(64551),g=n(a(64894)),_=a(18644),v=a(85893);const b=["forwardedRef"];function y(e,t){const{displayCache:a,selectedPanelId:n,onPanelChange:r,onFocusRelease:i,onDisplayCache:b,theme:y}=e,C=(0,o.useRef)(null==a?void 0:a.emojiPanel),S=(0,o.useRef)(null==a?void 0:a.gifPanel),E=(0,o.useRef)(null==a?void 0:a.stickerPanel),T=(0,o.useRef)(y===p.PanelsTheme.StatusReplyComposeBox),x=(0,o.useRef)(null),M=(0,o.useRef)(null),k=(0,o.useRef)(null),[w,P]=(0,o.useState)(""),A=e=>{switch(n){case h.PANELS.STICKER:k.current&&k.current.restoreFocus();break;case h.PANELS.GIF:M.current&&M.current.restoreFocus(e);break;case h.PANELS.EMOJI:default:x.current&&x.current.restoreFocus(e)}},j=()=>{b({emojiPanel:C.current,gifPanel:S.current,stickerPanel:E.current})},I=e=>{C.current=e,j()},O=()=>{const e=T.current?h.PANELS.STICKER:h.PANELS.GIF;r(e)},N=()=>{i()},R=e=>{S.current=e,j()},D=e=>{P(e)},L=()=>{r(h.PANELS.STICKER)},B=()=>{r(h.PANELS.EMOJI)},F=e=>{E.current=e,j()},G=()=>{i()},U=()=>{const e=T.current?h.PANELS.EMOJI:h.PANELS.GIF;r(e)};(0,o.useImperativeHandle)(t,(()=>({restoreFocus:A})));let V=null;const W=T.current?l.DisplayLocation.StatusV3ComposeBox:l.DisplayLocation.ComposeBox;switch(e.selectedPanelId){case h.PANELS.STICKER:(0,s.isMDBackend)()?m.ServerProps.webServerStickerPanel&&(V=(0,v.jsx)(f.default,{ref:k,displayLocation:W,displayCache:E.current,onChange:D,defaultSearchText:w,onDisplayCache:F,onFocusPrev:U,onFocusNext:G,onSticker:e.onSticker})):V=(0,v.jsx)(g.default,{ref:k,displayCache:E.current,displayLocation:W,onChange:D,defaultSearchText:w,onDisplayCache:F,onFocusPrev:U,onFocusNext:G,onSticker:e.onSticker});break;case h.PANELS.EMOJI:default:V=(0,v.jsx)(u.EmojiPanel,{ref:x,displayCache:C.current,width:e.width,displayLocation:W,onChange:D,defaultSearchText:w,onDisplayCache:I,onEmoji:e.onEmoji,onFocusPrev:N,onFocusNext:O});break;case h.PANELS.GIF:V=(0,v.jsx)(c.GifPanel,{ref:M,displayCache:S.current,onChange:D,defaultSearchText:w,onDisplayCache:R,onFocusNext:L,onFocusPrev:B,onGif:e.onGif})}return V&&(0,v.jsx)(d.default,{reason:"compose-box-panels",children:(0,v.jsx)(_.UIE,{displayName:"ComposeBoxPanels",escapable:!0,requestDismiss:e.requestDismiss,requestFocus:()=>{A(!1)},children:V})})}const C=(0,o.forwardRef)(y)},24264:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ComposeBoxPanelsMenu=function(e){const t=(0,d.useRef)(),a=(0,d.useRef)(),n=(0,d.useRef)(),h=(0,d.useRef)(),S=(0,d.useRef)(),E=e.theme===b.StatusReplyComposeBox,T=t=>{e.onChange(t)};(0,f.useListener)(s.Cmd,"open_compose_box_panel",T);const{readOnly:x}=e,M=Boolean(e.selectedPanelId),k=!(0,i.isMDBackend)()||g.ServerProps.webServerStickerPanel,w=[v.button,e.buttonStyle];return(0,_.jsxs)("div",{"data-state":M?"open":"closed",ref:e=>{S.current=e},className:(0,c.default)(v.menu,y(e.theme,M,k)),children:[(0,_.jsx)(m.PanelsMenuButton,{"aria-label":u.fbt._("Close panel",null,{hk:"3ofbOg"}),xstyle:[w,M?v.visible:v.invisible],"data-tab":M&&!x?o.TAB_ORDER.COMPOSE_BOX_MENU_BUTTON:null,icon:"x",onClick:()=>{e.onChange(null)},ref:t,size:m.SIZES.SQUARE24}),(0,_.jsx)(m.PanelsMenuButton,{"aria-label":u.fbt._("Open emojis panel",null,{hk:"3IEMY6"}),xstyle:[w],"data-a8n":r.default.key("compose-btn-emoji"),"data-tab":M||x?null:o.TAB_ORDER.COMPOSE_BOX_MENU_BUTTON,icon:"smiley",isActive:e.selectedPanelId===p.PANELS.EMOJI,isMain:!0,onClick:()=>{Boolean(e.selectedPanelId)||E?T(p.PANELS.EMOJI):e.onChange((0,l.getLastComposeBoxPanel)()||p.PANELS.EMOJI)},ref:a,size:m.SIZES.SQUARE26,style:C(p.PANELS.EMOJI,M,e.theme)}),!E&&(0,_.jsx)(m.PanelsMenuButton,{"aria-label":u.fbt._("Open gif panel",null,{hk:"NE5Dz"}),xstyle:[v.button,M?v.visible:v.invisible],icon:"gif",isActive:e.selectedPanelId===p.PANELS.GIF,onClick:()=>T(p.PANELS.GIF),ref:n,size:m.SIZES.SQUARE26,style:C(p.PANELS.GIF,M,e.theme)}),k&&(0,_.jsx)(m.PanelsMenuButton,{"aria-label":u.fbt._("Open sticker panel",null,{hk:"1MfILW"}),xstyle:[w,M||E?v.visible:v.invisible],"data-a8n":r.default.key("compose-btn-sticker"),icon:"sticker",isActive:e.selectedPanelId===p.PANELS.STICKER,onClick:()=>T(p.PANELS.STICKER),ref:h,size:m.SIZES.SQUARE26,style:C(p.PANELS.STICKER,M,e.theme)})]})},t.PanelsTheme=void 0;var r=n(a(99964)),i=a(88555),s=a(81572),o=a(55715),l=a(55452),u=a(48360),d=a(67294),c=n(a(56720)),f=a(87550),h=n(a(14296)),p=a(8936),m=a(35251),g=a(64551),_=a(85893);const v={menu:{position:"g0rxnol2",display:"p357zi0d",height:"d1pdhp1p",marginEnd:"bugiwsl0",transition:"rj4tx0cq",":hover":{willChange:"cx8fzybs"}},menuOpenStatusReply:{width:"cosm3z4q"},menuOpen:{width:"huo8y3a1"},menuFull:{width:"n73lgpzo"},menuClosedStatusReply:{width:"mu5rq31i"},menuClosed:{width:"fyy3ld6e"},button:{transition:"qizq0yyl",transform:"t1844p82"},visible:{opacity:"bs7a17vp"},invisible:{opacity:"axi1ht8l"}},b=a(76672).Mirrored(["ChatComposeBox","StatusReplyComposeBox"]);t.PanelsTheme=b;const y=(e,t,a)=>{switch(e){case b.ChatComposeBox:return t?a?v.menuFull:v.menuOpen:v.menuClosed;case b.StatusReplyComposeBox:return t?v.menuOpenStatusReply:v.menuClosedStatusReply}},C=(e,t,a)=>{let n=0;switch(e){case p.PANELS.EMOJI:n=t?42:0;break;case p.PANELS.GIF:n=t?84:0;break;case p.PANELS.STICKER:switch(a){case b.ChatComposeBox:n=t?126:0;break;case b.StatusReplyComposeBox:n=t?84:42}}return{transform:"translateX("+(h.default.isRTL()?-1:1)*n+"px)"}}},35251:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SIZES=t.PanelsMenuButton=void 0;var r=a(67294),i=n(a(56720)),s=a(29424),o=n(a(23217)),l=a(85893);const u={SQUARE24:"SQUARE24",SQUARE26:"SQUARE26"};t.SIZES=u;const d={container:{position:"lhggkp7q",bottom:"mvj9yovn",display:"f804f6gw",width:"fyy3ld6e",color:"svlsagor",borderTopStartRadius:"dntxsmpk",borderTopEndRadius:"ixn6u0rb",borderBottomEndRadius:"s2vc4xk1",borderBottomStartRadius:"o0wkt7aw",transform:"bxpi4b5r",":focus":{boxShadow:"esbo3we0"}},containerActive:{color:"jq3rn4u7"},square24Svg:{marginTop:"b9l0eqez",marginEnd:"ojci89ib",marginBottom:"inogquss",marginStart:"akljc1zx"},square26Svg:{width:"ekdr8vow",height:"dhq51u3o"},containerTop:{zIndex:"b9fczbqn"},containerPadding:{position:"g0rxnol2",bottom:"jxacihee",display:"p357zi0d"},containerPaddingSquare24:{top:"eg0stril"},containerPaddingSquare26:{top:"oybnjv0e"}},c=(e,t)=>{const a=t=>{t.stopPropagation(),t.preventDefault(),e.onClick()};return(0,l.jsx)(s.HotKeys,{component:"button",className:(0,i.default)(d.container,e.xstyle,e.isActive&&d.containerActive,(e.isMain||e.singleButton)&&d.containerTop,e.singleButton&&d.containerPadding,e.size===u.SQUARE24?d.containerPaddingSquare24:d.containerPaddingSquare26),"aria-label":e["aria-label"],"data-tab":e["data-tab"],"data-a8n":e["data-a8n"],onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick()},ref:t,handlers:{enter:a,space:a},style:e.style,children:(0,l.jsx)("div",{className:(0,i.default)(e.size===u.SQUARE24&&d.square24Svg),children:(0,l.jsx)(o.default,{name:e.icon,iconXstyle:e.size===u.SQUARE26&&d.square26Svg})})})},f=(0,r.memo)((0,r.forwardRef)(c));t.PanelsMenuButton=f},81880:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=n(a(84015)),s=n(a(23217)),o=a(85893);var l=(0,r.forwardRef)(((e,t)=>{const a=(0,r.useRef)();return(0,r.useImperativeHandle)(t,(()=>({getElement:()=>a.current}))),(0,o.jsxs)("div",{className:i.default.panel,ref:a,children:[(0,o.jsx)("div",{className:i.default.body,children:e.children}),(0,o.jsx)("div",{className:i.default.cancelButton,children:(0,o.jsx)("div",{role:"button",onClick:e.onOmit,children:(0,o.jsx)(s.default,{name:"x"})})})]})}));t.default=l},23409:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onSelectMessages:t,enableChatThreadLogging:a}=e,n=(0,f.default)(),D=(0,p.useModelValues)(e.chat,["isPSA","mute","id"]),L=(0,p.useModelValues)(e.contact,["id","isBusiness","name","isContactBlocked"]),B=(0,c.useRef)(null);(0,h.useListener)(N.Stream,"change:displayInfo",n),(0,c.useEffect)((()=>{!0===a&&(0,v.addChatThreadLoggingActivities)([{activityType:"chatOverflowClicks",ts:i.Clock.globalUnixTime(),chatId:D.id}])}),[a,D.id]);const F=()=>{(0,g.blockContact)(L),l.ModalManager.close()},G=()=>{(0,g.unblockContact)(L),l.ModalManager.close()},U=()=>{(0,j.sendSpamReport)(D,u.SpamFlow.Dropdown),l.ModalManager.close()},V=()=>{(0,j.sendSpamReport)(D,u.SpamFlow.Block),(0,g.blockContact)(L),l.ModalManager.close()},W=()=>{(0,j.sendSpamBlockClear)(D,u.SpamFlow.Block),l.ModalManager.close()},H=()=>{l.ModalManager.open((0,R.jsx)(A.default,{isBusiness:L.isBusiness,isGroupChat:!1,onReport:U,onReportBlockClear:W,onCancel:()=>l.ModalManager.close()}))},q=()=>{l.ModalManager.open((0,R.jsx)(_.default,{contact:L,onCancel:()=>l.ModalManager.close(),onBlock:F,onReportSpamBlock:V}))},Y=()=>{const e=(0,R.jsx)(P.Name,{contact:L});l.ModalManager.open((0,R.jsx)(b.default,{okText:E.default.t(681),onOK:G,cancelText:d.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>l.ModalManager.close(),children:(0,R.jsx)(T.default,{id:682,params:{contact:e}})}))},z=()=>{s.Cmd.ephemeralDrawer((0,O.unproxy)(e.chat),!1,k.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)},K=()=>{const a=[];return D.isPSA||a.push((0,R.jsx)(S.DropdownItem,{a8n:"mi-contact",action:()=>{L.isBusiness&&(0,M.qplStartProfileView)("ToolsMenu"),s.Cmd.chatInfoDrawer(D)},testid:"menu-item-chat-info",children:d.fbt._("Contact info",null,{hk:"LUJtH"})},"info")),L.isBusiness&&((0,o.canSeeECommerceComplianceIndiaSoftEnforcement)(L.id.user)&&a.push((0,R.jsx)(S.DropdownItem,{a8n:"merchant-details",action:()=>s.Cmd.merchantDetailsDrawer(L.id),children:d.fbt._("Business details",null,{hk:"m9xzp"})},"merchantDetails")),a.push((0,R.jsx)(S.DropdownItem,{a8n:"report",action:H,children:d.fbt._("Report business",null,{hk:"2Tvnn8"})},"report"),(0,R.jsx)(S.DropdownItem,{a8n:"block",action:L.isBlocked()?Y:q,children:L.isBlocked()?E.default.t(681):E.default.t(148)},"block"))),a.push((0,R.jsx)(S.DropdownItem,{a8n:"mi-select-messages",action:t,children:E.default.t(888)},"select")),a.push((0,R.jsx)(S.DropdownItem,{a8n:"mi-close-chat",action:()=>s.Cmd.closeChat(D),children:E.default.t(190)},"close")),D.mute.canMute()&&a.push((0,R.jsx)(w.default,{onMute:e=>s.Cmd.muteChat(D,e),mute:D.mute,chat:D,settings:I.default},"mute")),(0,r.isMDBackend)()&&(0,m.getABPropConfigValue)("add_dm_to_chat_overflow_menu")&&(0,x.isDisappearingModeEnabled)()&&e.chat.shouldShowEphemeralSetting()&&a.push((0,R.jsx)(S.DropdownItem,{action:z,children:d.fbt._("Disappearing messages",null,{hk:"2Yz01q"})},"disappearingMessages")),a.push((0,R.jsx)(S.DropdownItem,{a8n:"mi-clear",action:()=>s.Cmd.clearChat(D),children:E.default.t(183)},"clear")),a.push((0,R.jsx)(y.default,{onDeleteOrExit:()=>s.Cmd.deleteOrExitChat(D),chat:D},"delete")),a};if(e.toContextMenuManager)return(0,R.jsx)("div",{ref:B,"data-testid":"contact-menu-dropdown",children:K()});return(0,R.jsx)(C.Dropdown,{ref:e=>{B.current=e},type:C.MenuType.DropdownMenu,flipOnRTL:!0,dirX:C.DirX.LEFT,testid:"contact-menu-dropdown",children:K()},"ContactMenuDropdown")};var r=a(88555),i=(a(10206),a(40234)),s=a(81572),o=a(8139),l=a(14597),u=a(87674),d=a(48360),c=a(67294),f=n(a(59312)),h=a(87550),p=a(35461),m=a(57849),g=a(80140),_=n(a(58836)),v=a(32107),b=n(a(52665)),y=n(a(39424)),C=a(60811),S=a(71174),E=n(a(14296)),T=n(a(56074)),x=a(41566),M=a(56057),k=n(a(11339)),w=n(a(90922)),P=a(12176),A=n(a(30934)),j=a(19569),I=n(a(68132)),O=a(18146),N=a(8080),R=(a(84356),n(a(89345)),a(46167),a(85893))},83001:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(41609)),i=a(50796),s=a(92574),o=a(81572),l=a(67294),u=a(93581),d=n(a(66034)),c=n(a(23527)),f=n(a(97759)),h=a(84387),p=n(a(96876)),m=a(59871),g=a(64551),_=a(8080),v=n(a(4478)),b=a(85893);class y extends l.Component{constructor(){super(...arguments),this._refContainer=(0,l.createRef)(),this._handleOpenChatId=0,this._newChatScrollInfo=(e,t)=>{const a=t?t.msg||m.MsgCollection.get(t.key):void 0;if(t&&a&&e){const{chat:t,renderedMsgsInfo:n,visibleMsgOrder:i}=e;if(t&&n&&i&&!(0,r.default)(n)&&!(0,r.default)(i)){const e=n[i[0].toString()],r=Object.keys(n).find((e=>e===a.id.toString())),s=r?n[r]:null;if(s)return{wasVisible:!0,offset:s.offset};if(t===a.chat)return e&&a.t<e.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}},this._windowLostFocus=()=>{_.Stream.markUnavailable(15e3)},this._handleOpenChat=(e,t,a)=>{var n;o.Cmd.updateChatlistSelection(e);const r=this._openedChatInfo,i={};this._openedChatInfo=i;const s=t?t.collection:e.msgs;this._handleOpenChatId++;const l=this._handleOpenChatId,u=()=>l===this._handleOpenChatId;let d=!1;const c=()=>{u()&&(d=!0,a(this._newChatScrollInfo(r,t)))},f=(null==t||null===(n=t.msg)||void 0===n?void 0:n.id)||(null==t?void 0:t.key);this.setState({chat:e,msgCollection:s,focusCtx:t,notifyChatRendered:e=>{if(d||!u())return;if(!f)return void c();e.some((e=>e.id.equals(f)))&&c()},updateOpenedChatInfo:e=>{Object.assign(i,e)}})},this._handleCloseChat=e=>{this.state.chat===e&&this.setState({chat:void 0,msgCollection:void 0,focusCtx:void 0})},this._windowGainedFocus=()=>{_.Stream.markAvailable();const e=this.state.chat;(null==e?void 0:e.isUser)&&e.presence.subscribe().catch((0,i.filteredCatch)(s.WebdDrop,(()=>{})))},this._msgCollectionChanged=(e,t,a,n)=>{const r=this.state.msgCollection;r!==e&&r!==t||this.setState({msgCollection:a,focusCtx:n&&(n.msg||n.collection)?n:this.state.focusCtx})},this.state={chat:void 0,msgCollection:void 0,focusCtx:void 0,showConversationPreview:!1,animate:void 0}}static getDerivedStateFromProps(e,t){return null==t.animate?{animate:e.animate}:!1!==t.animate?{animate:!1}:null}containsDOMNode(e){return!!this._refContainer.current&&this._refContainer.current.containsDOMNode(e)}animatePanel(e,t){return!!this._refContainer.current&&this._refContainer.current.animatePanel(e,t)}componentDidMount(){this.props.listeners.add(o.Cmd,"open_chat",this._handleOpenChat),this.props.listeners.add(o.Cmd,"close_chat",this._handleCloseChat),this.props.listeners.add(window,"focus",this._windowGainedFocus),this.props.listeners.add(window,"blur",this._windowLostFocus),g.ServerProps.wallpapersV2&&(this.props.listeners.add(d.default,"wallpaper_drawer_open",(()=>{this.setState({showConversationPreview:!0})})),this.props.listeners.add(d.default,"wallpaper_drawer_close",(()=>{this.setState({showConversationPreview:!1})})))}componentDidUpdate(e,t){const a=this.state.chat,n=t.chat;a&&n!==a&&(this.props.listeners.add(a,"change:cmc:merge",this._msgCollectionChanged),n&&this.props.listeners.remove(n,"change:cmc:merge",this._msgCollectionChanged),a.contact.isBusiness&&u.BusinessProfileCollection.find(a.id))}shouldComponentUpdate(e,t){return t!==this.state||e.animate!==this.props.animate}render(){const{chat:e,msgCollection:t,focusCtx:a,showConversationPreview:n,animate:r}=this.state;return e&&t||n?(0,b.jsx)(c.default,{chat:e,groupMetadata:null==e?void 0:e.groupMetadata,chatPreference:d.default.assertGet("defaultPreference"),focusCtx:a,msgCollection:t,notifyChatRendered:this.state.notifyChatRendered||(()=>{}),updateOpenedChatInfo:this.state.updateOpenedChatInfo||(()=>{}),ref:this._refContainer,showPreview:n},null==e?void 0:e.id.toString()):(0,b.jsx)(f.default,{animate:r,ref:this._refContainer,mdOptInDeadline:p.default})}}y.displayName="Conversation";const C=(0,h.ListenerHOC)((0,v.default)(y));t.default=class extends C{animatePanel(e,t){return super.getComponent().animatePanel(e,t)}containsDOMNode(e){return this.getComponent().containsDOMNode(e)}}},91050:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{wallpaperColor:t,showDoodle:a}=e;const{theme:n}=(0,i.useContext)(l.ThemeContext);let c;c=o.ServerProps.wallpapersV2?a:t===u.DEFAULT_CHAT_WALLPAPER;if(c&&(0,u.colorExistsInTheme)(t,n)){const e={opacity:(0,u.getDoodleOpacity)(t,n)},a=(0,u.getDoodleAssetName)(t,n),i={};return i[a]=!0,(0,d.jsx)("div",(0,r.default)((0,r.default)({className:s.default.tile},i),{},{style:e}))}return null};var r=n(a(81109)),i=a(67294),s=n(a(8546)),o=a(64551),l=a(97628),u=a(78123),d=a(85893)},83028:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(6479)),s=r(a(81109)),o=r(a(41609)),l=r(a(52353)),u=r(a(23279)),d=r(a(23493)),c=a(89385),f=r(a(33693)),h=a(50796),p=r(a(45095)),m=a(57319),g=a(92574),_=a(88555),v=a(40234),b=a(81572),y=r(a(38224)),C=a(98159),S=r(a(52013)),E=a(41906),T=r(a(65212)),x=a(55715),M=a(94816),k=a(26741),w=r(a(62831)),P=r(a(40436)),A=r(a(94184)),j=a(48360),I=a(67294),O=r(a(73935)),N=r(a(96774)),R=a(63183),D=a(32107),L=a(3198),B=r(a(23409)),F=r(a(31951)),G=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=ce(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(70513)),U=r(a(5354)),V=r(a(14296)),W=a(41566),H=a(84387),q=a(96688),Y=a(96205),z=a(52684),K=r(a(62685)),$=a(87931),Q=r(a(11339)),X=a(59871),J=r(a(6704)),Z=a(82857),ee=r(a(39812)),te=r(a(23217)),ae=a(50452),ne=a(18644),re=r(a(24717)),ie=r(a(90012)),se=r(a(72994)),oe=a(9609),le=a(85893);const ue=["msgLoadState"],de=["msgLoadState"];function ce(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(ce=function(e){return e?a:t})(e)}class fe extends I.Component{constructor(e){var t;super(e),t=this,this._chatOpenScrollTimestamp=0,this._renderedMsgCache=new Map,this._visibleMsgOrder=[],this._loadEarlierScrollThreshold=300,this._mdHistorySyncStatusContentPlaceholderShown=!1,this._blockAdditionalLoadEalierRequest=!1,this._setScrollContainer=e=>this.scrollContainer=e,this._refStickyDateMarker=(0,I.createRef)(),this._refMessageList=(0,I.createRef)(),this._handleHistorySyncStateUpdate=e=>{e.has(this.props.chat.id.toString())&&(__LOG__(2,void 0,void 0,void 0,["Conversaion msgs"])`_onHistorySyncStateUpdate called, attempt to load earlier`,this._blockAdditionalLoadEalierRequest=!1,this.loadEarlierMsgs())},this._handlePanesWillChange=()=>{const e=this._visibleMsgOrder[this._visibleMsgOrder.length-1];if(!e)return;const t=e.toString(),a=this._refMessageList.current;if(t&&a){var n;const e=null===(n=a.getMsgWrapperRef(t))||void 0===n?void 0:n.getContainerElement();if(e){const t=this.scrollContainer;if(!t)return;const a=this._getMsgBottom(t,e);this._panesChanging={msg:e,container:t,msgBottom:a}}}},this._handlePanesDidChange=()=>{if(!this._panesChanging)return;const{msg:e,container:t,msgBottom:a}=this._panesChanging;this._setMsgBottom(t,e,a),this._panesChanging=void 0},this._attachMsgCollectionObservers=e=>{const{listeners:t,chat:a,msgCollection:n}=this.props,{focusCtx:r,chat:i,msgCollection:s}=e;var o,l;(n&&(t.remove(n,"remove_msgs insert_msgs",this._handleMsgsUpdate),t.remove(a.msgs,"change:last",this._handleLastMsgChanged)),t.remove(a,"change:unreadCount",this._handleUnreadCount),null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this._msgLoadStateChangeUnsubscribe=s.onMsgLoadStateChange(this._handleMsgLoadStateChange),(0,W.isGroupCatchUpEnabled)())&&(a.isGroup&&(null===(o=a.groupMetadata)||void 0===o?void 0:o.unreadMentionMetadata.unreadMentionCollection)&&t.remove(a.groupMetadata.unreadMentionMetadata.unreadMentionCollection,"add remove reset",this._handleUnreadMentionCount),i.isGroup&&(null===(l=i.groupMetadata)||void 0===l?void 0:l.unreadMentionMetadata.unreadMentionCollection)&&t.add(i.groupMetadata.unreadMentionMetadata.unreadMentionCollection,"add remove reset",this._handleUnreadMentionCount));t.add(i,"change:unreadCount",this._handleUnreadCount),t.add(i.msgs,"change:last",this._handleLastMsgChanged),t.add(s,"remove_msgs insert_msgs",this._handleMsgsUpdate),r&&s.loadAroundPromise&&s.loadAroundPromise.catch((0,h.filteredCatch)(g.E404,(()=>{M.ToastManager.open((0,le.jsx)(ae.Toast,{msg:V.default.t(518),id:(0,ae.genId)()}))})))},this._updateForCurrentPosition=(0,d.default)((()=>{const e=this.props.getUnmountSignal();(0,C.documentFlushed)({signal:e}).then((()=>{if(e.aborted)throw new c.AbortError;this._updateRenderedMsgCache(),O.default.unstable_batchedUpdates((()=>{if(e.aborted)return;const{scrollContainer:t}=this;if(null==t)return;if(this._blockAdditionalLoadEalierRequest&&t.scrollTop<80)return;t.scrollTop>80&&(this._blockAdditionalLoadEalierRequest=!1),t.scrollTop<300&&this.loadEarlierMsgs();const{isNearBottom:a,cursor:n}=this.state,r=this._nearBottom();r?(this._maybeSendSeen(!0),G.isMostRecentCMC(this.props)&&a!==r&&this.setState({isNearBottom:r,newUnread:0}),(n.getEnd(this.props.msgCollection)<this.props.msgCollection.length||!G.isMostRecentCMC(this.props))&&this._loadRecentMsgs()):a!==r&&this.setState({isNearBottom:r})}))})).catch((0,h.filteredCatch)(c.AbortError,(()=>{})))}),100),this._handleMsgLoadStateChange=()=>{const e=this.state.msgLoadState,t=G.getMsgLoadState(this.props.msgCollection);let a={msgLoadState:t};if(e.isLoadingAroundMsgs&&!t.isLoadingAroundMsgs){const e=G.validateFocusCtx(this.props.focusCtx),t=null==e?void 0:e.msg;t&&(a=(0,s.default)((0,s.default)({},a),{},{cursor:this.state.cursor.init(t.id,this.props.msgCollection),focusCtx:e}))}this.setState(a)},this._handleResizeThrottle=(0,d.default)((()=>{this._updateRenderedMsgCache()}),100),this._handleMsgKeyChange=e=>{let{newKey:t,oldKey:a}=e;const n=a.toString(),r=t.toString(),i=this._renderedMsgCache.get(n);i&&(this._renderedMsgCache.delete(n),this._renderedMsgCache.set(r,i));for(let e=0;e<this._visibleMsgOrder.length;++e)if(this._visibleMsgOrder[e]===a){this._visibleMsgOrder[e]=t;break}},this._handleResizeDebounce=(0,u.default)((()=>{const e=this._nearBottom();this._nearBottom!==e&&this.setState({isNearBottom:e})}),100),this.loadEarlierMsgs=()=>{const{chat:e,msgCollection:t}=this.props,{cursor:a,msgLoadState:n}=this.state;if(a.getStart(t)>0)a.hasBefore(t)&&this.setState({cursor:a.loadBefore(t)});else{if(n.isLoadingEarlierMsgs||n.isLoadingAroundMsgs)return;if(G.noEarlierMsgStateIsIncorrect(e,G.isMostRecentCMC(this.props),n)&&(t.msgLoadState.noEarlierMsgs=!1),t.msgLoadState.noEarlierMsgs)return;const r=this.props.getUnmountSignal();e.loadEarlierMsgs(t).then((e=>{if(r.aborted)return;!(0,_.isMDBackend)()||e&&0!==e.length||(this._blockAdditionalLoadEalierRequest=!0);const n={};this.state.focusCtx||(n.focusCtx=G.getUnreadFocusCtx(this.props,this.state.unreadCount)),a.hasBefore(t)?(n.cursor=a.loadBefore(t),this.setState(n)):this.setState(n)})).catch((e=>{__LOG__(2)`ConversationMsgs:loadEarlierMsgs failed\n${e}`}))}},this._loadRecentMsgs=()=>{const{chat:e,msgCollection:t}=this.props,{cursor:a,msgLoadState:r}=this.state;if(a.getEnd(t)<t.length)return void this.setState({cursor:a.loadAfter(t)});if(r.isLoadingRecentMsgs||r.isLoadingAroundMsgs)return;const i=new n,s=i.signal,o=this.props.getUnmountSignal(),l=(0,J.default)([s,o],(n=>e.loadRecentMsgs(t,n).then((()=>{if(n.aborted)throw new c.AbortError;a.hasAfter(t)?this.setState({cursor:a.loadAfter(t)}):this.state.cursor.getEnd(t)>=t.length&&G.isMostRecentCMC(this.props)&&this.forceUpdate()})))).catch((0,c.catchAbort)((()=>{}))).catch((e=>{__LOG__(2)`ConversationMsgs:loadRecentMsgs failed\n${e}`})).finally((()=>{this._loadRecentMsgsPromise=null}));this._loadRecentMsgsPromise={promise:l,controller:i}},this.handleComposeHeightChange=e=>{const t=this.scrollContainer;if(t)if(e){if(t&&e<0&&t.scrollTop===t.scrollHeight-t.clientHeight)return;this._setScrollTop(t,t.scrollTop+e)}else{const e=t.scrollHeight-(t.scrollTop+t.clientHeight);(0,w.default)(t,{tween:18},{progress:()=>{this._setScrollTop(t,t.scrollHeight-e-t.clientHeight)},duration:300},[.1,.82,.25,1])}},this._getScrollContainer=()=>(0,p.default)(this.scrollContainer,"this.scrollContainer"),this.getScrollBottom=()=>{const e=this.scrollContainer;return e?e.scrollHeight-(e.scrollTop+e.clientHeight):0},this._hideStickyDateMarker=new m.ShiftTimer((()=>{var e;null===(e=this._refStickyDateMarker.current)||void 0===e||e.setVisibility(!1)})),this._updateStickyDateMarker=new m.ShiftTimer((e=>{const{dateMarkerIdx:t,silent:a=!1}=e||{},n=this._refMessageList.current;if(!n||"number"!=typeof t)return;a||Date.now()-(this._programmaticScroll||0)<200||this._showStickyDateMarker();const r=n.getDateMarkerRef(t);var i;if(-1===t)null===(i=this._refStickyDateMarker.current)||void 0===i||i.updateDateMarkerText();else if(r){var s;const e=r.getTimestamp(),t=v.Clock.relativeDateStr(e).toString().toUpperCase();null===(s=this._refStickyDateMarker.current)||void 0===s||s.updateDateMarkerText(t)}if(this._dateMarkerIdx!==t){const e=n.getDateMarkerRef(this._dateMarkerIdx);e&&e.show(),r&&r.hide()}})),this._removeViewedMentions=()=>{this._renderedMsgCache.forEach(((e,t)=>{var a,n;(null===(a=this.props.chat.groupMetadata)||void 0===a?void 0:a.unreadMentionMetadata.hasMentionId(t))&&(null===(n=this.props.chat.groupMetadata)||void 0===n||n.unreadMentionMetadata.removeUnreadMentions(t))}))},this.isMsgVisible=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t._renderedMsgCache.has(e.toString())&&(!!a||t.getMsgComponent(e))},this.getSequentialMsg=e=>{const t=this.getMsgs();return t?(0,f.default)(t,(t=>e.equals(t.id))):null},this._handleScroll=()=>{this._updateForCurrentPosition()},this._handleWindowGainedFocus=()=>{const e=this.props.chat;!this._clearUnreadTimer&&e.isDirty()&&(this._clearUnreadTimer=setTimeout((()=>{delete this._clearUnreadTimer,this._maybeSendSeen()}),2500))},this._handleWindowLostFocus=()=>{if(!this.state.unreadCount||!G.isMostRecentCMC(this.props))return;const e=this.props.chat;0===e.unreadCount&&this.setState({unreadCount:0}),e.markedUnread=!1},this._jumpToBottom=()=>{const{msgCollection:e}=this.props;G.isMostRecentCMC(this.props)&&this.state.cursor.getEnd(e)>=e.length?this._scrollToBottom():b.Cmd.openChatBottom(this.props.chat).then((e=>{e&&b.Cmd.focusChatTextInput(this.props.chat)}))},this._jumpToMention=()=>{if((0,W.isGroupCatchUpEnabled)()){var e;const t=this.props.chat,a=null===(e=t.groupMetadata)||void 0===e?void 0:e.unreadMentionMetadata;if(a){const e=a.pendingUnreadMentionCount,n=(0,Y.roundUp10thPercentage)(e,a.getUnreadMentionCount());if(new Q.default.GroupCatchUp({mentionsCountPendingPercentage:n}).commit(),e>0){const t=V.default.t(685,{count:V.default.n(e),_plural:e});return M.ToastManager.open((0,le.jsx)(ae.Toast,{msg:t,id:(0,ae.genId)()})),a.pendingUnreadMentionCount=0,void this.setState({unreadMentionCount:a.getUnreadMentionCount()})}if(a.unreadMentionCollection.length){const e=a.oldestUnreadMention(),n=T.default.fromString(null==e?void 0:e.id),r=X.MsgCollection.get(n.toString()),i=t.getSearchContext(r||n);i.highlightMentionMsg=!0,i.enableAnimation=!1,i&&b.Cmd.openChatAt(this.props.chat,i)}}}},this._scrollToBottom=e=>{const t=this.scrollContainer;t&&this._setScrollTop(t,t.scrollHeight),e&&e();const a=this.props.getUnmountSignal();(0,C.documentFlushed)({signal:a}).then((()=>{a.aborted||this.setState({cursor:this.state.cursor.resetBeforeCursor(this.props.msgCollection)})})).catch((0,h.filteredCatch)(c.AbortError,(()=>{})))},this._handleLastMsgChanged=(e,t)=>{const{msgCollection:a}=this.props,{focusCtx:n}=this.state;let{cursor:r}=this.state;const i=a.last();if(!G.isMostRecentCMC(this.props))return void(t&&(null==e?void 0:e.isSentByMe)&&this._jumpToBottom());const s={},l=document.hasFocus(),u=this._nearBottom();let d=u;l&&u?(s.unreadCount=0,s.focusCtx=void 0,r=r.setFocusedMsgKey(a)):(null==i?void 0:i.isSentByMe)&&t&&(d=!0,this.state.unreadCount&&(s.unreadCount=0,s.focusCtx=void 0,r=r.setFocusedMsgKey(a)),this._jumpToBottom()),r=n&&!s.hasOwnProperty("focusCtx")?r.loadAfter(a,{count:1}):r.loadBeforeCapped(a,{count:1}),r!==this.state.cursor&&(s.cursor=r),(0,o.default)(s)||this.setState(s,(()=>{d&&this._scrollToBottom()}))},this._reactionOnLastMessage=()=>{this.state.isNearBottom&&this._scrollToBottom()},this._handleUnreadMentionCount=()=>{var e,t;const{chat:a}=this.props,n=null!==(e=null===(t=a.groupMetadata)||void 0===t?void 0:t.unreadMentionMetadata.getUnreadMentionCount())&&void 0!==e?e:0;this.setState({unreadMentionCount:n})},this._handleUnreadCount=()=>{var e;const{chat:t}=this.props,a=this._nearBottom(),n=document.hasFocus();this._maybeSendSeen(a,n);const r={};if(t.unreadCount&&!t.pendingSeenCount&&G.isMostRecentCMC(this.props)){r.unreadCount=t.unreadCount;const e=G.getUnreadFocusCtx(this.props,this.state.unreadCount);var i;if(e)r.focusCtx=e,r.cursor=this.state.cursor.setFocusedMsgKey(this.props.msgCollection,null===(i=e.msg)||void 0===i?void 0:i.id)}else 0===t.unreadCount&&0!==this.state.unreadCount&&(null===(e=this.props.msgCollection.last())||void 0===e?void 0:e.asRevoked)&&(r.unreadCount=0);const s=a&&r.unreadCount-this.state.unreadCount==1;(!a&&G.isMostRecentCMC(this.props)||!t.pendingSeenCount&&this.state.newUnread!==t.unreadCount)&&(r.newUnread=t.unreadCount),(0,o.default)(r)||this.setState(r,(()=>{s&&this._scrollToBottom()}))},this._handleMsgsUpdate=()=>{const e=this.state.cursor.ensureValidFocus(this.props.msgCollection);this.state.cursor!==e?this.setState({cursor:e}):this.forceUpdate()},this.handlePageUpDown=()=>{S.default.focus(this.scrollContainer)},this.scrollMessages=()=>{var e;const t=this._visibleMsgOrder[this._visibleMsgOrder.length-1];if(!t)return;const a=this._refMessageList.current;if(!a)return;const n=null===(e=a.getMsgWrapperRef(t.toString()))||void 0===e?void 0:e.getContainerElement();if(!n)return;const r=1===this._visibleMsgOrder.length?n.clientHeight:0,i=this.scrollContainer;(0,w.default)(n,"stop"),i&&(0,w.default)(i,"stop"),(0,w.default)(n,"scroll",{duration:300,container:i,offset:r})},this._handleKeyPress=e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),"Enter"!==e.key||e.shiftKey?b.Cmd.pasteChatTextInput(this.props.chat,String.fromCharCode(e.charCode)):b.Cmd.enterChatTextInput(this.props.chat))},this._handleContextMenu=e=>{const t=this.props.chat,a=this.props.onSelectMessages;let n;if(t.isUser)n=(0,le.jsx)(B.default,{chat:t,toContextMenuManager:!0,contact:t.contact,onSelectMessages:a,enableChatThreadLogging:!1});else if(t.isGroup)n=(0,z.groupMenu)(t,a);else{if(!t.isBroadcast)return;n=(0,z.broadcastMenu)(t,a)}e.preventDefault(),e.stopPropagation(),(0,D.addChatThreadLoggingActivities)([{activityType:"chatOverflowClicks",ts:v.Clock.globalUnixTime(),chatId:t.id}]),this.setState({contextMenu:{menu:n,event:e}})},this._handleContextClose=()=>{this.setState({contextMenu:null})},this._handlePaste=e=>{e.preventDefault(),b.Cmd.sendPasteToCompose(this.props.chat,e)},this._notifyChatRendered=()=>{this.props.notifyChatRendered&&this.props.notifyChatRendered(this.getMsgs())};const{chat:a}=e,r=a.pendingSeenCount?0:a.unreadCount;let i=0;var l,E;(0,W.isGroupCatchUpEnabled)()&&a.isGroup&&(i=null!==(l=null===(E=a.groupMetadata)||void 0===E?void 0:E.unreadMentionMetadata.getUnreadMentionCount())&&void 0!==l?l:0);this.state=(0,s.default)((0,s.default)({},G.getInitialCursorAndFocusContext(e,r)),{},{unreadCount:r,unreadMentionCount:i,isNearBottom:!0,newUnread:0,contextMenu:null,textsize:y.default.get().textsize,msgLoadState:G.getMsgLoadState(e.msgCollection),lastSelectable:e.selectable,lastChat:e.chat,lastMsgCollection:e.msgCollection,lastFocusCtx:e.focusCtx})}componentWillUnmount(){var e;(null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this._updateStickyDateMarker.cancel(),this._updateForCurrentPosition.cancel(),this._handleResizeThrottle.cancel(),this._handleResizeDebounce.cancel(),this._hideStickyDateMarker.cancel(),this._clearUnreadTimer&&clearTimeout(this._clearUnreadTimer),this._maybeSendSeen(),this.props.chat.markedUnread=!1,(0,W.isGroupCatchUpEnabled)()&&this.props.chat.isGroup)&&(null===(e=this.props.chat.groupMetadata)||void 0===e||e.unreadMentionMetadata.reset())}componentDidMount(){const{chat:e,listeners:t}=this.props;t.add(b.Cmd,"scroll_chat_to_bottom",(e=>{this._scrollToBottom(e)})),t.add(b.Cmd,"scroll_messages",this.scrollMessages),t.add(b.Cmd,"textsize_change",(e=>this.setState({textsize:e}))),t.add(b.Cmd,"panes_will_change",this._handlePanesWillChange),t.add(b.Cmd,"panes_did_change",this._handlePanesDidChange),t.add(b.Cmd,"scroll_to_focused_msg",(()=>{this._chatOpenScrollTimestamp=Date.now()})),t.add(b.Cmd,"reaction_changed_last_msg",this._reactionOnLastMessage),t.add(window,"focus",this._handleWindowGainedFocus),t.add(window,"blur",this._handleWindowLostFocus),t.add(window,"resize",this._handleResizeThrottle),t.add(window,"resize",this._handleResizeDebounce),t.add(X.MsgCollection,"change:msgKey",this._handleMsgKeyChange),t.add(b.Cmd,"new_history_sync_chunk_processed",this._handleHistorySyncStateUpdate),this._attachMsgCollectionObservers(this.props);const a=this.props.getUnmountSignal();(0,C.documentFlushed)({signal:a}).then((()=>{a.aborted||this._showStickyDateMarker()})).catch((0,h.filteredCatch)(c.AbortError,(()=>{}))),this.props.updateOpenedChatInfo({chat:e}),(0,oe.sendSeen)(e),this._updateForCurrentPosition(),this._notifyChatRendered()}static getDerivedStateFromProps(e,t){let a={lastSelectable:e.selectable,lastChat:e.chat,lastMsgCollection:e.msgCollection,lastFocusCtx:e.focusCtx};return e.selectable!==t.lastSelectable||e.chat===t.lastChat&&e.msgCollection===t.lastMsgCollection&&e.focusCtx===t.lastFocusCtx||(a=(0,s.default)((0,s.default)({},a),{},{msgLoadState:G.getMsgLoadState(e.msgCollection)},G.getInitialCursorAndFocusContext(e,t.unreadCount))),a}shouldComponentUpdate(e,t){if(!(0,N.default)(e,this.props))return!0;const a=this.state,{msgLoadState:n}=a,r=(0,i.default)(a,ue),{msgLoadState:s}=t,o=(0,i.default)(t,de);return!(0,N.default)(s,n)||!(0,N.default)(o,r)}componentDidUpdate(e){e.selectable!==this.props.selectable||e.chat===this.props.chat&&e.msgCollection===this.props.msgCollection&&e.focusCtx===this.props.focusCtx||(this._loadRecentMsgsPromise&&this._loadRecentMsgsPromise.controller.abort(),this._attachMsgCollectionObservers(this.props));const{chat:t}=this.props;this._updateRenderedMsgCache(e.chat===t),this.props.updateOpenedChatInfo({chat:t}),e.msgCollection!==this.props.msgCollection&&this._updateForCurrentPosition(),this._notifyChatRendered()}_getMsgBottom(e,t){const a=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return n-(t.offsetTop+t.clientHeight+(n-(a+r)))}_setMsgBottom(e,t,a){const n=t.offsetTop+t.clientHeight+a-e.clientHeight;this._setScrollTop(e,n)}getRenderedMessageCount(){return this.getMsgs().length}setScrollBottom(e){const t=this.scrollContainer;t&&this._setScrollTop(t,t.scrollHeight-e-t.clientHeight)}_setScrollTop(e,t){this._programmaticScroll=Date.now(),e&&(e.scrollTop=t)}_showStickyDateMarker(){var e;null===(e=this._refStickyDateMarker.current)||void 0===e||e.setVisibility(!0),this._hideStickyDateMarker.debounce(3e3)}_nearBottom(){const e=this.scrollContainer;return!!e&&e.scrollTop+E.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}getMsgs(){const{focusCtx:e,msgCollection:t}=this.props,{cursor:a,msgLoadState:n}=this.state;return e&&n.isLoadingAroundMsgs?[]:t.toArray().slice(a.getStart(t),a.getEnd(t)).map((e=>e.safe()))}_updateRenderedMsgCache(e){const t=this._refMessageList.current;if(!t)return void this._renderedMsgCache.clear();const a=[],n=t.props.msgs,r=new Map,i={};let s=0,o=n.length-1;for(;s<o;){const e=Math.floor((s+o)/2),a=n[e].id.toString(),r=t.getMsgWrapperRef(a);t.getMsgVisibility(r).visibility===$.MSG_VISIBILITY.ABOVE?s=e+1:o=e}for(let e=s;e<n.length;e++){const s=n[e].id.toString(),o=t.getMsgWrapperRef(s);if(!o)throw new Error("msgRef not found!");const l=t.getMsgVisibility(o);if(l.visibility!==$.MSG_VISIBILITY.VISIBLE)break;i[s]={offset:l.offset,t:n[e].t},r.set(s,o),a.push(n[e].id)}if(!this.scrollContainer)return;const l=this.scrollContainer.scrollTop;s=0,o=Object.keys(t.getRenderedDateMarkers()).length-1;const u=t.getDateMarkerRef(0),d=u&&u.getElement();if(d&&d.offsetTop<=l+8.5)for(;s<o;){const e=Math.ceil((s+o)/2),a=t.getDateMarkerRef(e);if(!a)throw new Error(`DateMarkerRef: ${e} not found. ${Object.keys(t.getRenderedDateMarkers()).toString()}}`);(0,p.default)(a.getElement(),"midDateMarkerRef.getElement()").offsetTop>l+8.5?o=e-1:s=e}else s=-1;this._updateStickyDateMarker.onOrBefore(0,{dateMarkerIdx:s,silent:e}),this._dateMarkerIdx=s,this.pauseHiddenGifs(this._renderedMsgCache,r),this._renderedMsgCache=r,this._visibleMsgOrder=a,(0,W.isGroupCatchUpEnabled)()&&this.props.chat.isGroup&&this._removeViewedMentions(),this.props.updateOpenedChatInfo({renderedMsgsInfo:i,visibleMsgOrder:a,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0})}getMsgComponent(e){const t=this._refMessageList.current;if(t)return t.getMsgComponentRef(e.toString())}pauseHiddenGifs(e,t){e.forEach(((e,a)=>{if(t.has(a))return;const n=this.props.msgCollection.get(a),r=this._refMessageList.current,i=null==r?void 0:r.getMsgComponentRef(a);(null==n?void 0:n.isGif)&&(null==i||i.pause())}))}_maybeSendSeen(e,t){let a=e,n=t;const{chat:r,msgCollection:i}=this.props,{cursor:s}=this.state;if(r.isDirty()&&G.isMostRecentCMC(this.props)&&s.getEnd(i)>=i.length&&((0,l.default)(n)&&(n=document.hasFocus()),n&&((0,l.default)(a)&&(a=this._nearBottom()),a)))return(0,oe.sendSeen)(r),!0}render(){const{chat:e,msgCollection:t,selectable:a,onMessageSelect:n}=this.props,{focusCtx:r,msgLoadState:i,unreadMentionCount:s}=this.state,o=(0,A.default)(F.default.pane,{[F.default.selectable]:a}),l=(0,L.getTextsizeClassForScale)(this.state.textsize),u=this.getMsgs(),d=(0,le.jsx)(K.default,{ref:this._refMessageList,getScrollContainer:this._getScrollContainer,chat:e,unreadCount:this.state.unreadCount,selectable:a,onMessageSelect:n,msgs:u,focusedMsgCtx:r,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,getSequentialMsg:this.getSequentialMsg,isLoadingEarlierMsgs:i.isLoadingEarlierMsgs});let c,f,h,p,m=(0,le.jsx)(q.LoadMoreMessages,{direction:"around",isMostRecentCMC:G.isMostRecentCMC(this.props),loadMoreMsgs:()=>{},isLoadingEarlierMsgs:i.isLoadingEarlierMsgs,isLoadingRecentMsgs:i.isLoadingRecentMsgs,isLoadingAroundMsgs:i.isLoadingAroundMsgs});(this.state.cursor.getStart(t)>0||!i.noEarlierMsgs||e.endOfHistoryTransferType===R.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||e.endOfHistoryTransferType===R.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC||G.noEarlierMsgStateIsIncorrect(e,G.isMostRecentCMC(this.props),i))&&(c=(0,le.jsx)(q.LoadMoreMessages,{direction:"earlier",isMostRecentCMC:G.isMostRecentCMC(this.props),loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:i.isLoadingEarlierMsgs,isLoadingRecentMsgs:i.isLoadingRecentMsgs,isLoadingAroundMsgs:i.isLoadingAroundMsgs,mdHistorySyncTransferState:e.endOfHistoryTransferType})),(this.state.cursor.getEnd(t)<t.length||!G.isMostRecentCMC(this.props))&&(f=(0,le.jsx)(q.LoadMoreMessages,{direction:"recent",isMostRecentCMC:G.isMostRecentCMC(this.props),loadMoreMsgs:this._loadRecentMsgs,isLoadingEarlierMsgs:i.isLoadingEarlierMsgs,isLoadingRecentMsgs:i.isLoadingRecentMsgs,isLoadingAroundMsgs:i.isLoadingAroundMsgs})),r&&i.isLoadingAroundMsgs?(f=void 0,c=void 0):m=void 0;const{isNearBottom:g,newUnread:_}=this.state;if(!g||!i.isLoadingAroundMsgs&&!G.isMostRecentCMC(this.props)){_&&e.unreadCount&&(p=(0,le.jsx)(se.default,{count:this.state.newUnread},"icon-unread"));const t=(0,A.default)(F.default.incoming,{[F.default.ffFix]:k.UA.isGecko});h=(0,le.jsxs)(Z.Round,{className:t,dataTab:x.TAB_ORDER.MESSAGE_LIST_SCROLL_BUTTON,onClick:this._jumpToBottom,label:j.fbt._("Scroll to bottom",null,{hk:"3UK0Wq"}),children:[(0,le.jsx)(P.default,{transitionName:"pop",className:F.default.unread,children:p}),(0,le.jsx)(te.default,{name:"down",className:F.default.iconDown})]})}let v,b=null;if((0,W.isGroupCatchUpEnabled)()&&e.isGroup&&s>0){const e=(0,A.default)(F.default.atMentions,{[F.default.ffFix]:k.UA.isGecko,[F.default.buttonGap]:h,[F.default.buttonGapRemove]:!h}),t=V.default.t(4,{count:V.default.n(s),_plural:s}),a=(0,le.jsxs)(Z.Round,{className:e,onClick:this._jumpToMention,dataTab:x.TAB_ORDER.MESSAGE_LIST_SCROLL_BUTTON,children:[(0,le.jsx)(P.default,{transitionName:"pop",className:F.default.unread,children:(0,le.jsx)(se.default,{count:s,ariaLabel:t})}),(0,le.jsx)(te.default,{name:"mentions",className:F.default.iconMentions})]});b=g?a:(0,le.jsx)(P.default,{transitionName:"pop",children:a})}return this.state.contextMenu&&(v=(0,le.jsx)(ne.UIE,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,requestDismiss:this._handleContextClose,children:(0,le.jsx)(re.default,{contextMenu:this.state.contextMenu})})),(0,le.jsxs)(U.default,{className:l,children:[(0,le.jsx)(ee.default,{ref:this._refStickyDateMarker}),(0,le.jsxs)("div",{className:F.default.incomingContainer,children:[b,(0,le.jsx)(P.default,{transitionName:"pop",children:h})]}),(0,le.jsxs)("div",{className:o,ref:this._setScrollContainer,onScroll:this._handleScroll,onKeyPress:this._handleKeyPress,onContextMenu:a?null:this._handleContextMenu,onPaste:this._handlePaste,tabIndex:"0",children:[(0,le.jsx)("div",{className:F.default.empty}),m,c,d,f]}),v]})}}fe.displayName="ConversationMsgs";const he=(0,ie.default)((0,H.ListenerHOC)(fe));t.default=class extends he{getRenderedMessageCount(){return this.getComponent().getRenderedMessageCount()}getScrollBottom(){return this.getComponent().getScrollBottom()}onComposeHeightChange(e){this.getComponent().handleComposeHeightChange(e)}onPageUpDown(e){this.getComponent().handlePageUpDown(e)}setScrollBottom(e){this.getComponent().setScrollBottom(e)}}},70513:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getInitialCursorAndFocusContext=function(e,t){const{focusCtx:a,chat:n,msgCollection:r}=e,i=o(a)||l(e,t),u=null==i?void 0:i.msg,d=null==u?void 0:u.id;return{cursor:s.RenderCursor.create({msgCollection:r,focusedMsgKey:d,type:n.isGroup?s.RENDER_CURSOR.GROUP_CONVERSATION:s.RENDER_CURSOR.CONVERSATION}),focusCtx:i}},t.getMsgLoadState=function(e){const{msgLoadState:t}=e;return{noEarlierMsgs:t.noEarlierMsgs,isLoadingEarlierMsgs:t.isLoadingEarlierMsgs,isLoadingRecentMsgs:t.isLoadingRecentMsgs,isLoadingAroundMsgs:t.isLoadingAroundMsgs,contextLoaded:t.contextLoaded}},t.getUnreadFocusCtx=l,t.isMostRecentCMC=u,t.noEarlierMsgStateIsIncorrect=function(e,t,a){const n=a.noEarlierMsgs&&e.shouldAppearInList&&t&&e.msgChunks.filter((e=>e.filter((t=>t.msgChunk===e)).length>0)).length>0;n&&(__LOG__(4,void 0,new Error,!0)`MRM noEarlierMsgs on chat ${String(e.id)} is true but chat.msgChunks has length: ${e.msgChunks.length},
and chat.msgs.length: ${e.msgs.length}`,SEND_LOGS("noEarlierMsgs-error"));return n},t.validateFocusCtx=o;var r=n(a(81109)),i=(a(67294),a(59871)),s=a(75705);function o(e){return null==e?null:null!=e.key?(0,r.default)((0,r.default)({},e),{},{msg:i.MsgCollection.get(e.key)}):e}function l(e,t){const{chat:a,msgCollection:n,focusCtx:r}=e;let i;if(i=a.unreadCount?a.unreadCount:t,r&&!u(e)||!i)return;let s=n.filter((e=>e.isUnreadType)).reverse().slice(0,i);return s.length===i?(s=s[s.length-1],{msg:s,isUnreadDivider:a.shouldShowUnreadDivider,highlightMsg:!1}):void 0}function u(e){return e.chat.msgs===e.msgCollection}},84518:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=n(a(78438)),s=n(a(23217)),o=a(85893);function l(e,t){const a=e.onClose?(0,o.jsx)("div",{className:i.default.closeBtn,role:"button",onClick:e.onClose,children:(0,o.jsx)(s.default,{name:"x"})}):null;return(0,o.jsxs)("div",{className:i.default.subheader,ref:t,children:[(0,o.jsx)("div",{className:i.default.main,children:e.children}),a]})}var u=(0,r.forwardRef)(l);t.default=u},404:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(81572),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(95726)),s=n(a(94184)),o=a(48360),l=a(67294),u=a(65417),d=a(30695),c=n(a(89576)),f=n(a(8694)),h=n(a(65932)),p=a(13923),m=a(85893);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}class _ extends l.Component{constructor(e){super(e),this._setBodyRef=e=>{this._bodyRef=e},this._setDescRef=e=>{this._descRef=e},this._handleReadMore=()=>{const{chat:e}=this.props;r.Cmd.chatInfoDrawer(e,!0)},this._handleResize=e=>{let{width:t}=e;const{descWidth:a}=this.state;a<=0||this.setState({truncated:t<a})},this.state={desc:b(e.groupMetadata),descWidth:0,truncated:!1,hidden:!0}}static getDerivedStateFromProps(e,t){const a=b(e.groupMetadata);return a===t.desc?null:{desc:a,descWidth:0,truncated:!1,hidden:!0}}_handleDescWidthObtained(){const{_bodyRef:e,_descRef:t}=this;if(!e||!t)return;const a=e.clientWidth,n=t.getWidth();this.setState({descWidth:n,truncated:a<n,hidden:!1})}componentDidMount(){this._handleDescWidthObtained()}componentDidUpdate(e,t){t.desc!==this.state.desc&&this._handleDescWidthObtained()}render(){const{desc:e}=this.state;if(!e)return null;const{truncated:t,hidden:a}=this.state,n=this.props.chat.isTrusted()?d.Configuration.TrustedGroupDesc({links:i.findLinks(e)}):d.Configuration.UntrustedGroupDesc();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.TextDiv,{theme:"title",children:o.fbt._("Group Description",null,{hk:"3Cs2oY"})}),(0,m.jsx)(f.default,{ref:this._setBodyRef,onResize:this._handleResize,className:c.default.body,children:(0,m.jsxs)(p.TextSpan,{theme:"small",className:(0,s.default)(c.default.text,{[c.default.hidden]:a}),children:[(0,m.jsx)(u.EmojiText,{ref:this._setDescRef,text:e,selectable:!0,formatters:n,className:c.default.desc}),t&&(0,m.jsx)("div",{className:c.default.more,role:"button",onClick:this._handleReadMore,children:o.fbt._("Read more",null,{hk:"2DvSvh"})})]})})]})}}_.CONCERNS={groupMetadata:["displayedDesc"]},_.displayName="GroupDescriptionBar";var v=(0,h.default)(_,_.CONCERNS);function b(e){return null==e?void 0:e.displayedDesc}t.default=v},55800:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GrowthLockedModal=function(){return(0,c.jsx)(u.default,{title:o.fbt._("Invite link unavailable",null,{hk:"3nV0kV"}),onLearnMoreClicked:h,onOkClicked:f,children:o.fbt._("You can't join this group because the invite link is unavailable.",null,{hk:"4iPF7L"})})},t.openGrowthLockedModal=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e){const e=o.fbt._("You can't view this group's invite link because you're not an admin.",null,{hk:"2GPPmB"});return void s.ToastManager.open((0,c.jsx)(d.Toast,{msg:e,id:(0,d.genId)()}))}const a=t?o.fbt._("Invite via link unavailable",null,{hk:"3qjGKv"}):o.fbt._("Invite via link was unavailable",null,{hk:"4wgNSd"}),n=t?o.fbt._("Invite via link is temporarily unavailable for this group.",null,{hk:"wdAra"}):o.fbt._("Invite via link was temporarily unavailable for this group.",null,{hk:"txY0N"});i.ModalManager.open((0,c.jsx)(u.default,{title:a,onLearnMoreClicked:h,onOkClicked:f,children:n}),{transition:"modal-flow"})};var r=a(21310),i=a(14597),s=a(94816),o=a(48360),l=a(12591),u=n(a(91204)),d=a(50452),c=a(85893);const f=()=>{i.ModalManager.close()},h=()=>{(0,l.openExternalLink)((0,r.getGroupInviteGrowthLockedFaqUrl)())}},98295:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(88555),i=a(81572),s=a(41455),o=a(65885),l=a(8139),u=a(14597),d=a(78820),c=a(48360),f=a(67294),h=n(a(59312)),p=n(a(16223)),m=a(87550),g=n(a(60008)),_=a(85874),v=a(62044),b=a(7156),y=a(93581),C=a(94010),S=a(17239),E=a(60811),T=a(71174),x=a(65100),M=n(a(54995)),k=n(a(56624)),w=n(a(14296)),P=a(77975),A=a(82145),j=n(a(11339)),I=a(43257),O=n(a(67700)),N=a(9153),R=a(64551),D=n(a(23217)),L=a(2712),B=n(a(95402)),F=a(85893);function G(e){return(0,F.jsxs)("button",{"aria-label":e.ariaLabel,className:g.default.iconsItem,"data-animate-menu-icons-item":!0,children:[(0,F.jsx)(D.default,{name:e.svgName,className:g.default.iconImage}),e.children]})}function U(e){return(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:e.tooltipPosition,children:c.fbt._("Quick Replies",null,{hk:"3VBzfb"})}),a8n:"mi-attach-quick-replies",action:e.onClick,children:(0,F.jsx)(G,{ariaLabel:c.fbt._("Quick Replies",null,{hk:"3VBzfb"}),svgName:"attach-quick-replies"})})}function V(e){const t=y.BusinessProfileCollection.get((0,d.getMaybeMeUser)());return!e.sendProductCatalog||(0,l.blockCatalogCreationECommerceComplianceIndia)(t)?null:(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:e.tooltipPosition,children:c.fbt._("Catalog",null,{hk:"4o6ci2"})}),a8n:"mi-attach-product-catalog",action:e.onClick,children:(0,F.jsx)(G,{ariaLabel:c.fbt._("Catalog",null,{hk:"4o6ci2"}),svgName:"attach-product"})})}const W=(0,f.forwardRef)(((e,t)=>(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:e.tooltipPosition,children:w.default.t(137)}),a8n:"mi-attach-document",action:e.onClick,children:(0,F.jsx)(G,{ariaLabel:w.default.t(137),svgName:"attach-document",children:(0,F.jsx)(M.default,{ref:t,mimes:I.DOC_MIMES,onChange:e.onDocumentPick})})}))),H=(0,f.forwardRef)(((e,t)=>(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:e.tooltipPosition,children:c.fbt._("Sticker",null,{hk:"zXZ2C"})}),a8n:"mi-attach-sticker",action:e.onClick,children:(0,F.jsx)(G,{ariaLabel:c.fbt._("Sticker",null,{hk:"zXZ2C"}),svgName:"attach-sticker",children:(0,F.jsx)(M.default,{ref:t,mimes:I.IMAGE_MIMES,onChange:e.onStickerPick,multiple:!1})})})));function q(e){if(!e.sendOrder)return null;const t=String(c.fbt._("Order",null,{hk:"1oAcE0"}));return(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:e.tooltipPosition,children:t}),a8n:"mi-attach-order",action:e.onClick,children:(0,F.jsx)(G,{ariaLabel:t,svgName:"attach-order"})})}function Y(){if(!S.Conn.isSMB)return!1;if((0,l.orderDetailsCustomItemEnabled)())return!0;const e=y.BusinessProfileCollection.get((0,d.getMaybeMeUser)());return(0,l.orderDetailsFromCatalogEnabled)()&&(0,C.hasCatalog)(e)}function z(){if(!S.Conn.isSMB)return!1;if(!R.ServerProps.shopsHideCatalogAttachmentEntrypoint)return!0;const e=y.BusinessProfileCollection.get((0,d.getMaybeMeUser)());return!(0,C.hasShop)(e)}var K=(0,f.forwardRef)(((e,t)=>{const a=c.fbt._("Poll",null,{hk:"1PlYYp"}),n=w.default.isRTL()?L.TooltipAnchor.Left:L.TooltipAnchor.Right,r=(0,B.default)(),C=(0,h.default)(),S=(0,f.useRef)(),x=(0,f.useRef)(),R=(0,f.useRef)(),K=(0,p.default)((()=>new N.ProductCatalogSession));(0,m.useListener)((0,f.useMemo)((()=>y.BusinessProfileCollection.get((0,d.getMaybeMeUser)())),[]),"change:profileOptions",C);const Q=()=>{null==r||r.requestDismiss()},X=function(t){var a;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.Cmd.attachMediaDrawer({chat:e.chat,attachments:t,fileOrigin:j.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:null===(a=e.getComposeContents)||void 0===a?void 0:a.call(e),onComplete:(t,a)=>{var n;null===(n=e.onMenuComplete)||void 0===n||n.call(e,t,a)},sendAsSticker:n})};return(0,F.jsxs)("div",{className:g.default.attachMenuContainer,ref:t,children:[(0,F.jsx)(D.default,{name:"attach-shadow"}),(0,F.jsxs)(E.Dropdown,{type:E.MenuType.Menu,children:[(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:n,children:c.fbt._("Photos & Videos",null,{hk:"ZW4y9"})}),a8n:"mi-attach-media",action:t=>{if(t.preventDefault(),null!=S.current)return S.current.open(),$(e.chat),!1},children:(0,F.jsx)(G,{ariaLabel:c.fbt._("Photos & Videos",null,{hk:"ZW4y9"}),svgName:"attach-image",children:(0,F.jsx)(M.default,{ref:S,mimes:[I.IMAGE_MIMES,I.VIDEO_MIMES].join(","),onChange:e=>{var t;if(!e)return void Q();e.stopPropagation();const a=Array.from(null!==(t=e.target.files)&&void 0!==t?t:[]);Q(),a.length&&X(a.map((e=>({file:e}))))}})})}),(0,F.jsx)(q,{tooltipPosition:n,sendOrder:Y(),onClick:()=>{s.DrawerManager.openDrawerRight((0,F.jsx)(O.default,{chat:e.chat}),"slide-left")}}),(0,F.jsx)(H,{ref:x,tooltipPosition:n,onClick:t=>{t.preventDefault();const a=x.current;if(a)return new j.default.WebcStickerMakerEvents({stickerMakerEventName:j.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit(),a.open(),$(e.chat),!1},onStickerPick:e=>{if(!e)return void Q();e.stopPropagation();const t=null==e.target.files?[]:Array.from(e.target.files);Q(),t.length&&(new j.default.WebcStickerMakerEvents({stickerMakerEventName:j.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit(),X(t.map((e=>({file:e,stickerMaker:!0}))),!0))}}),(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:n,children:c.fbt._("Camera",null,{hk:"1AmyYx"})}),a8n:"mi-attach-camera",action:e.onCaptureClick,disabled:!k.default,children:(0,F.jsx)(G,{ariaLabel:c.fbt._("Camera",null,{hk:"1AmyYx"}),svgName:"attach-camera"})}),(0,F.jsx)(W,{tooltipPosition:n,onClick:t=>{if(t.preventDefault(),R.current)return R.current.open(),$(e.chat),!1},onDocumentPick:e=>{if(!e)return void Q();e.stopPropagation();const t=null==e.target.files?[]:Array.from(e.target.files);if(Q(),!t.length)return;const a=t.map((e=>({file:e,type:o.FILETYPE.DOCUMENT})));X(a)},ref:R}),(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:n,children:w.default.t(139)}),a8n:"mi-attach-contact",action:t=>{t.preventDefault(),u.ModalManager.open((0,F.jsx)(b.AttachVcardsFlowLoadable,{chat:e.chat,onContactsSent:()=>{var t;null===(t=e.onMenuComplete)||void 0===t||t.call(e,!0,{initCaptionUsed:!1})}})),$(e.chat)},children:(0,F.jsx)(G,{ariaLabel:w.default.t(139),svgName:"attach-contact"})}),(0,F.jsx)(V,{sendProductCatalog:z(),tooltipPosition:n,onClick:t=>{var a;t.preventDefault();const n=null===(a=K.current)||void 0===a?void 0:a.toString();null!=n&&((0,P.logCatalogAttachmentButtonClick)(n),(0,A.qplStartCatalogView)("Attachment"),u.ModalManager.open((0,F.jsx)(v.AttachProductsFlowLoadable,{chat:e.chat,sessionId:n})),$(e.chat))}}),(0,l.canSendQuickReply)()?(0,F.jsx)(U,{onClick:e=>{e.preventDefault(),i.Cmd.toggleQuickReplies()},tooltipPosition:n}):null,e.chat.isGroup&&(0,l.isPollsCreationEnabled)()?(0,F.jsx)(T.DropdownItem,{type:"icon",tooltip:(0,F.jsx)(L.Tooltip,{anchor:n,children:a}),a8n:"mi-attach-poll",action:t=>{t.preventDefault(),u.ModalManager.open((0,F.jsx)(_.AttachPollModalLoadable,{chat:e.chat})),$(e.chat)},children:(0,F.jsx)(G,{ariaLabel:a,svgName:"attach-poll"})}):void 0]},"AttachMenuDropdown")]})}));function $(e){(0,r.isMDBackend)()&&(0,x.eagerlyEstablishE2EESessionForMedia)(e)}t.default=K},44395:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,onMenuComplete:a}=e,n=(0,h.default)(),T=(0,c.useRef)(null),x=(0,f.default)();(0,c.useEffect)((()=>()=>{var e;null===(e=T.current)||void 0===e||e.call(T),o.DrawerManager.closeDrawerMid()}),[]);return(0,E.jsx)(y.MenuBarItem,{a8nText:"conversation-clip",icon:(0,E.jsx)(S.default,{name:"clip"}),tabOrder:d.TAB_ORDER.COMPOSE_BOX_ATTACH_BUTTON,title:v.default.t(503),transitionName:"menu",onClick:e=>{(e=>{o.DrawerManager.existsDrawerMid((t=>{t&&e.preventDefault()}))})(e)},children:(0,E.jsx)(p.default,{chat:e.chat,onCaptureClick:()=>{(()=>{const{asyncStream:e,disposeStream:s}=b.start("camera");T.current=s,(0,i.default)(e,n).then((e=>{e&&o.DrawerManager.openDrawerMid((0,E.jsx)(m.CaptureFlowLoadable,{chat:(0,C.unproxy)(t),stream:e,disposeStream:T.current,onCaptureSent:()=>{null==a||a(!0,{initCaptionUsed:!1})}}),"slide-up",x,{noFocus:!0})})).catch((0,r.filteredCatch)(l.GUM.NotAllowedError,(()=>{u.ModalManager.open((0,E.jsx)(_.GuidePopup,{messaging:_.Messaging.CAMERA_FAIL,type:_.TYPE.GUIDE_UNBLOCK}))}))).catch((0,r.filteredCatch)(l.GUM.GUMError,(()=>{u.ModalManager.open((0,E.jsx)(_.GuidePopup,{messaging:_.Messaging.CAMERA_MISSING,type:_.TYPE.GUIDE_NONE}))})))})(),(0,s.isMDBackend)()&&(0,g.eagerlyEstablishE2EESessionForMedia)(t)},getComposeContents:e.getComposeContents,onMenuComplete:e.onMenuComplete})})};var r=a(50796),i=n(a(47259)),s=a(88555),o=a(41455),l=x(a(35232)),u=a(14597),d=a(55715),c=a(67294),f=n(a(95402)),h=n(a(3409)),p=n(a(98295)),m=a(71989),g=a(65100),_=a(18671),v=n(a(14296)),b=x(a(61849)),y=a(46346),C=a(18146),S=n(a(23217)),E=a(85893);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}},28460:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294),r=a(60811),i=a(52684),s=a(85893);function o(e,t){const{chat:a,onSelectMessages:n,toContextMenuManager:o=!1}=e,l=(0,i.broadcastMenu)(a,n);return o?(0,s.jsx)("div",{ref:t,children:l}):(0,s.jsx)(r.Dropdown,{ref:t,type:r.MenuType.DropdownMenu,flipOnRTL:!0,dirX:r.DirX.LEFT,children:l},"BroadcastMenuDropdown")}var l=(0,n.forwardRef)(o);t.default=l},77003:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(40234),r=a(67294),i=a(32107),s=a(60811),o=a(52684),l=a(85893);function u(e,t){const{chat:a,onSelectMessages:u}=e;(0,r.useEffect)((()=>{(0,i.addChatThreadLoggingActivities)([{activityType:"chatOverflowClicks",ts:n.Clock.globalUnixTime(),chatId:a.id}])}),[a.id]);const d=(0,o.groupMenu)(a,u);return e.toContextMenuManager?(0,l.jsx)("div",{ref:t,children:d}):(0,l.jsx)(s.Dropdown,{ref:t,type:s.MenuType.DropdownMenu,flipOnRTL:!0,dirX:s.DirX.LEFT,testid:"group-menu-dropdown",children:d},"GroupMenuDropdown")}var d=(0,r.forwardRef)(u);t.default=d},48948:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,g.default)(),a=(0,f.default)(),n=(0,c.useRef)(!1),y=(0,c.useRef)(!1),V=(0,c.useRef)(null),K=(0,p.useModelValues)(e.chat,["id","formattedTitle","presence","isUser","isGroup","isBroadcast","groupMetadata","isPSA","contact","name"]),Q=(0,p.useModelValues)(e.contact,["showBusinessCheckmarkAsPrimary","showBusinessCheckmarkAsSecondary","shouldForceBusinessUpdate"]),X=(0,_.default)(),[J,Z]=(0,c.useState)(!1),[ee,te]=(0,c.useState)(E.Conn.isVoipInitialized),[ae,ne]=(0,c.useState)(null);(0,c.useEffect)((()=>{function e(){return(e=(0,r.default)((function*(){yield b.BusinessProfileCollection.find(K.contact.id),a()}))).apply(this,arguments)}Q.shouldForceBusinessUpdate&&function(){e.apply(this,arguments)}()}),[]);const[re]=(0,m.useTimeout)((()=>{Z(!1)}),100),ie=()=>{y.current=!0},se=()=>{K.contact.isBusiness&&(0,O.qplStartProfileView)("Header"),!K.isPSA&&(K.isUser||K.isBroadcast||K.isGroup)&&o.DrawerManager.openDrawerRight((0,z.jsx)(A.InfoFlowLoadable,{chat:(0,W.unproxy)(K),profileEntryPoint:R.default.PROFILE_ENTRY_POINT.CHAT_HEADER},`info-${K.id.toString()}`),"slide-left",t)};let oe,le,ue;if((0,h.useListener)(null,["BrowserWindow:focus"],(()=>{})),(0,h.useListener)(null,"BrowserWindow:move",(function(){n.current&&ie(...arguments)})),(0,h.useListener)(K.contact.businessProfile,["change:profileOptions","change:catalogStatus"],a),(0,h.useListener)(null,"change:activeCall",a),(0,h.useListener)(null,"change:participants",a),(0,h.useListener)(E.Conn,"change:isVoipInitialized",(()=>{te(E.Conn.isVoipInitialized)})),(0,h.useListener)(s.Cmd,"get_conversation_header_offset",(e=>{if(V.current){const t=V.current.getBoundingClientRect();e((0,i.default)(t,["right","bottom"]))}else e(null)})),K.isUser)oe=(0,z.jsx)(T.default,{chat:K,contact:K.contact,onSelectMessages:e.onSelectMessages,toContextMenuManager:!0,enableChatThreadLogging:!0}),le=(0,z.jsx)(Y.default,{contact:K.contact,presence:K.presence,chatstate:K.presence.chatstate,location:"title",showBusinessCheckmark:Q.showBusinessCheckmarkAsSecondary});else if(K.isBroadcast)oe=(0,z.jsx)(v.default,{chat:(0,W.unproxy)(K),onSelectMessages:e.onSelectMessages,toContextMenuManager:!0}),le=null;else if(K.isGroup){var de;oe=(0,z.jsx)(k.default,{chat:(0,W.unproxy)(K),onSelectMessages:e.onSelectMessages,toContextMenuManager:!0});const t=(null===(de=K.groupMetadata)||void 0===de?void 0:de.participants)&&K.groupMetadata.participants.iAmAdmin()&&K.groupMetadata.announce?d.fbt._("Admin announcements",null,{hk:"397CTf"}):j.default.t(184);le=(0,z.jsx)(w.default,{chatstate:K.presence.chatstate,groupMetadata:K.groupMetadata,presence:K.presence,placeholder:t,location:"title"})}if(ae&&oe){const e={menu:oe,anchor:ae,autoFocus:!0,dirX:j.default.isRTL()?M.DirX.RIGHT:M.DirX.LEFT,dirY:M.DirY.BOTTOM,offsetY:5,type:M.MenuType.DropdownMenu};ue=(0,z.jsx)(q.default,{contextMenu:e})}let ce;0;const fe=(0,z.jsx)(N.MenuBarItem,{tabOrder:u.TAB_ORDER.CHAT_HEADER_BUTTON,a8nText:"search-button",icon:(0,z.jsx)(H.default,{name:"search-alt"}),title:j.default.t(624),onClick:e=>{e.preventDefault(),o.DrawerManager.existsDrawerMid((e=>{e||o.DrawerManager.openDrawerRight((0,z.jsx)(S.default,{chat:(0,W.unproxy)(K)},`chat-search-${K.id.toString()}`),"slide-left",t)}))}});K.isPSA&&(le=null);return X.aborted?null:(0,z.jsxs)("header",{ref:V,className:P.default.chatHeader,onClickCapture:()=>{},onMouseDown:()=>{},children:[(0,z.jsx)("div",{className:P.default.chatAvatar,onClick:se,title:d.fbt._("Profile Details",null,{hk:"22n3V4"}),role:K.isPSA?null:"button",children:(0,z.jsx)(x.DetailImage,{id:K.id,size:40,ephemeralIcon:"conversation-header"})}),(0,z.jsxs)("div",{className:P.default.chatBody,onClick:se,role:K.isPSA?null:"button",children:[(0,z.jsx)("div",{className:P.default.chatMain,children:(0,z.jsx)("div",{className:P.default.chatTitle,children:(0,z.jsx)(D.Name,{chat:K,titlify:!0,ellipsify:!0,showBusinessCheckmark:Q.showBusinessCheckmarkAsPrimary})})}),le]}),(0,z.jsx)("div",{className:P.default.chatControls,children:(0,z.jsxs)(N.MenuBar,{children:[null,null,ce,(0,z.jsx)($,{chat:K,onShopClick:e=>{e.preventDefault(),(0,C.goToShop)(K.contact.businessProfile)},onProductCatalogClick:e=>{e.preventDefault(),(0,l.canViewCollections)()&&G.QPL.markerStart(U.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}});const a=(0,L.buildProductCatalogContext)(new B.ProductCatalogSession,R.default.BIZ_PLATFORM.SMB,R.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_CHAT),n=K.contact.id;(0,I.logChatCatalogView)({catalogOwnerWid:n,catalogContext:a}),o.DrawerManager.openDrawerRight((0,z.jsx)(F.ProductDetailsFlowLoadable,{chat:K,catalogOwnerJid:n.toJid()}),"slide-left",t,a)}}),fe,(0,z.jsx)("div",{ref:ne,children:(0,z.jsx)(N.MenuBarItem,{tabOrder:u.TAB_ORDER.CHAT_HEADER_BUTTON,a8nText:"conversation-menu",icon:(0,z.jsx)(H.default,{name:"menu"}),title:j.default.t(504),onClick:e=>{o.DrawerManager.existsDrawerMid((t=>{t&&e.preventDefault()}))},testid:"conversation-menu-button",children:ue})})]},"conversation-header")})]})};var r=n(a(48926)),i=n(a(78718)),s=a(81572),o=(n(a(64369)),a(41455)),l=a(8139),u=(a(14597),a(55715)),d=a(48360),c=a(67294),f=n(a(59312)),h=a(87550),p=a(35461),m=a(46428),g=n(a(95402)),_=n(a(3409)),v=n(a(28460)),b=a(93581),y=a(93170),C=a(94010),S=n(a(62857)),E=a(17239),T=n(a(23409)),x=a(88984),M=a(60811),k=n(a(77003)),w=n(a(30140)),P=n(a(97095)),A=a(23831),j=n(a(14296)),I=a(77975),O=a(56057),N=a(46346),R=n(a(11339)),D=a(12176),L=a(97567),B=a(9153),F=a(67455),G=a(48870),U=a(27798),V=a(64551),W=(n(a(29535)),a(18146)),H=n(a(23217)),q=n(a(24717)),Y=n(a(35148)),z=(a(84356),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=K(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n)}(a(46167)),a(85893));function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(K=function(e){return e?a:t})(e)}function $(e){var t;let{chat:a,onShopClick:n,onProductCatalogClick:r}=e;const{businessProfile:i}=a.contact;return V.ServerProps.webShopsChatHeaderButtonEnabled&&(0,C.hasShop)(i)?(0,l.bannedShopsEnabled)()&&(0,C.isShopBanned)(i)?null:(0,z.jsx)(N.MenuBarItem,{tabOrder:u.TAB_ORDER.CHAT_HEADER_BUTTON,a8nText:"shop-button",icon:(0,z.jsx)(H.default,{name:"shop"}),title:d.fbt._("Shop",null,{hk:"3KsdlE"}),onClick:n}):(null==i||null===(t=i.profileOptions)||void 0===t?void 0:t.commerceExperience)===y.COMMERCE_EXPERIENCE_TYPES.CATALOG||(null==i?void 0:i.catalogStatus)===b.CATALOG_EXISTS?(0,z.jsx)(N.MenuBarItem,{tabOrder:u.TAB_ORDER.CHAT_HEADER_BUTTON,a8nText:"product_catalog-button",icon:(0,z.jsx)(H.default,{name:"catalog-entrypoint"}),title:d.fbt._("Catalog",null,{hk:"3t362Y"}),onClick:r}):null}},96688:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.HistorySyncLoadMoreUiState=void 0,t.LoadMoreMessages=function(e){let{direction:t,loadMoreMsgs:a,isLoadingEarlierMsgs:n,isLoadingRecentMsgs:h,isLoadingAroundMsgs:p,mdHistorySyncTransferState:m}=e;const g="earlier"===t&&n||"recent"===t&&h||"around"===t&&p,_=null!=m&&!g,v=m===o.ConversationEndOfHistoryTransferModelPropType.INCOMPLETE;let b,y,C;if(g)b=(0,f.jsx)(d.Spinner,{stroke:6,size:24,color:"highlight"}),y=l.default.t(473);else if((0,r.isMDBackend)()&&_){let e;e=v?s.fbt._("Chat history sync in progress. This may take a while.",null,{hk:"2ZazaX"}):s.fbt._("Use WhatsApp on your phone to see older chat messages.",null,{hk:"442sJJ"}),b=(0,f.jsxs)("div",{className:u.default.historySyncStateContainerBody,children:[v&&(0,f.jsx)("div",{className:u.default.historySyncSpinner,children:(0,f.jsx)(d.Spinner,{stroke:6,size:20,color:"highlight"})}),(0,f.jsx)("div",{className:u.default.historySyncStatusText,children:e})]}),y=e}else{switch(t){case"earlier":y=l.default.t(470);break;case"recent":y=l.default.t(471);break;default:y=l.default.t(473)}b=(0,f.jsx)(c.default,{name:"refresh"}),C=a}const S=(0,i.default)(u.default.wrapper,{[u.default.historySyncStatusWrapper]:_}),E=(0,i.default)(u.default.historySyncStateContainer,{[u.default.historySyncSystemMsg]:!v,[u.default.historySyncLoadingIndicator]:v}),T=_?(0,f.jsx)("div",{className:E,children:b}):(0,f.jsx)("div",{className:u.default.button,title:y,onClick:C,children:b});return(0,f.jsx)("div",{className:S,children:T})},t.MessageListButton=function(e){let{children:t,onClick:a,title:n}=e;return(0,f.jsx)("div",{className:u.default.wrapper,children:(0,f.jsx)("div",{className:u.default.button,title:n,onClick:a,children:t})})};var r=a(88555),i=n(a(94184)),s=a(48360),o=a(63183),l=n(a(14296)),u=n(a(14570)),d=a(11054),c=n(a(23217)),f=a(85893);const h=a(76672).Mirrored(["SYNC_IN_PROGRESS","SYNC_COMPLETE_BUT_MORE_MSG_ON_PHONE"]);t.HistorySyncLoadMoreUiState=h},52684:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.broadcastMenu=function(e,t){const a=[];return a.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-broadcast-info",action:()=>i.Cmd.chatInfoDrawer(e),children:s.fbt._("Broadcast list info",null,{hk:"1cXRzw"})},"info")),a.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-select-messages",action:t,children:d.default.t(888)},"select")),a.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-clear",action:()=>i.Cmd.clearChat(e),children:d.default.t(183)},"clear")),a.push((0,g.jsx)(l.default,{onDeleteOrExit:()=>i.Cmd.deleteOrExitChat(e),chat:e},"delete")),a},t.groupMenu=function(e,t){var a;const n=[],_=()=>{i.Cmd.ephemeralDrawer((0,m.unproxy)(e),!1,f.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)};n.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-group-info",testid:"menu-item-chat-info",action:()=>i.Cmd.chatInfoDrawer(e),children:s.fbt._("Group info",null,{hk:"2SfTUZ"})},"info")),n.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-select-messages",action:t,children:d.default.t(888)},"select")),e.mute.canMute()&&n.push((0,g.jsx)(h.default,{onMute:t=>i.Cmd.muteChat(e,t),mute:e.mute,chat:e,settings:p.default},"mute"));(0,r.isMDBackend)()&&(0,o.getABPropConfigValue)("add_dm_to_chat_overflow_menu")&&(0,c.isDisappearingModeEnabled)()&&e.shouldShowEphemeralSetting()&&(null===(a=e.groupMetadata)||void 0===a?void 0:a.canSetEphemeralSetting())&&n.push((0,g.jsx)(u.DropdownItem,{action:_,children:s.fbt._("Disappearing messages",null,{hk:"29k6qZ"})},"disappearingMessages"));return n.push((0,g.jsx)(u.DropdownItem,{a8n:"mi-clear",action:()=>i.Cmd.clearChat(e),children:d.default.t(183)},"clear")),n.push((0,g.jsx)(l.default,{onDeleteOrExit:()=>i.Cmd.deleteOrExitChat(e),chat:e},"delete")),n};var r=a(88555),i=a(81572),s=a(48360),o=a(57849),l=n(a(39424)),u=a(71174),d=n(a(14296)),c=a(41566),f=n(a(11339)),h=n(a(90922)),p=n(a(68132)),m=a(18146),g=a(85893)},12285:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(45095)),s=a(10206),o=a(81572),l=a(21634),u=n(a(45120)),d=n(a(52013)),c=a(8139),f=a(14597),h=a(67811),p=n(a(40436)),m=n(a(94184)),g=a(48360),_=n(a(41143)),v=a(67294),b=n(a(96774)),y=n(a(62087)),C=a(13738),S=a(81250),E=n(a(72655)),T=a(16593),x=n(a(52665)),M=n(a(99131)),k=a(71174),w=a(75362),P=n(a(14703)),A=n(a(67745)),j=n(a(20568)),I=n(a(70842)),O=n(a(14296)),N=a(1041),R=a(78986),D=n(a(34377)),L=a(87931),B=n(a(20485)),F=a(63132),G=a(56979),U=n(a(52500)),V=n(a(6088)),W=a(78756),H=a(18146),q=n(a(23217)),Y=a(18644),z=n(a(24717)),K=n(a(1961)),$=a(58827),Q=a(82573),X=a(85893);const J=[C.AlbumPosition.TOP_LEFT,C.AlbumPosition.TOP_RIGHT,C.AlbumPosition.BOTTOM_LEFT,C.AlbumPosition.BOTTOM_LEFT];class Z extends v.Component{getContainerElement(){return this._refAlbumWrapper.current}constructor(e){super(e),this._refAlbumWrapper=(0,v.createRef)(),this.refAlbumComponents={},this.setRefContext=e=>{this.refContext=e},this._refTail=(0,v.createRef)(),this.setRefBubble=e=>{this.refBubble=e},this._setRefLeftStickerBubble=e=>{this._refLeftStickerBubble=e},this._setRefRightStickerBubble=e=>{this._refRightStickerBubble=e},this._firstStickerRef=(0,v.createRef)(),this._secondStickerRef=(0,v.createRef)(),this.mouseOver=e=>{e.buttons||this.state.hover||this.setState({hover:!0})},this.mouseDown=()=>{this.state.hover&&this.setState({hover:!1})},this.contextMenu=e=>{e.stopPropagation()},this.openForwardFlow=(e,t)=>{const{msgs:a}=this.props;let n;for(let e=0;e<a.length;e++)if(a[e].isUnsentMedia){n=O.default.t(352,{_plural:1});break}n?f.ModalManager.open((0,X.jsx)(x.default,{title:O.default.t(355),onOK:()=>f.ModalManager.close(),okText:g.fbt._("OK",null,{hk:"2KEeHb"}),children:n})):e?this._handleSelectClick({selectedMsg:t}):f.ModalManager.open((0,X.jsx)(w.ForwardMessageFlowLoadable,{msgs:a.map((e=>e.unsafe()))}),{transition:"modal-flow"})},this._handleStar=()=>{const{msgs:e}=this.props;o.Cmd.sendStarMsgs(e[0].chat,e)},this._handleUnstar=()=>{const{msgs:e}=this.props;o.Cmd.sendUnstarMsgs(e[0].chat,e)},this._handleSelectClick=e=>{const{selectedMsg:t,event:a}=e;if(a&&a.stopPropagation(),t)return void this.props.onMessageSelect((0,H.unproxy)(t.unsafe()),!this.props.selectedMessages.isSelected((0,H.unproxy)(t)),a);const n=0===this.state.selectedCount;this.props.msgs.forEach((e=>{this.props.onMessageSelect((0,H.unproxy)(e.unsafe()),n,a)}))},this._computeSelectedCount=()=>{const{msgs:e,selectedMessages:t}=this.props;let a=0;return e.forEach((e=>{t.isSelected((0,H.unproxy)(e.unsafe()))&&a++})),a},this._handleDownload=()=>{l.FileSaver.initDownload(this.props.msgs.map((e=>e.unsafe())))},this._handleDeleteMessage=()=>{const{msgs:e}=this.props;f.ModalManager.open((0,X.jsx)(M.default,{chat:e[0].chat,msgList:e.map((e=>e.unsafe())),isMsgVisible:this.props.isMsgVisible}))},this._getMenuRefContext=()=>{if(this.refContext)return this.refContext.getComponent().refContext},this._handleMenu=(e,t)=>{const{msgs:a}=this.props;if(t&&this.state.contextMenu)return void this.setState({contextMenu:null});const n=t?this._getMenuRefContext():e,r=[];a.every((e=>e.mediaData&&e.mediaData.isDownloadable()))&&r.push((0,X.jsx)(k.DropdownItem,{a8n:"mi-msg-download",action:this._handleDownload,children:g.fbt._("Download all",null,{hk:"22A8O7"})},"download"));a.every((e=>e.canForward()))&&r.push((0,X.jsx)(k.DropdownItem,{a8n:"mi-msg-forward",action:()=>{this.openForwardFlow(!0)},children:g.fbt._("Forward all",null,{hk:"1iWm4D"})},"forward"));if(a.every((e=>e.canStar()))){a.every((e=>e.star))?r.push((0,X.jsx)(k.DropdownItem,{a8n:"mi-msg-unstar",action:()=>{this._handleUnstar()},children:g.fbt._("Unstar all",null,{hk:"3XG8TV"})},"star")):r.push((0,X.jsx)(k.DropdownItem,{a8n:"mi-msg-star",action:()=>{this._handleStar()},children:g.fbt._("Star all",null,{hk:"k3tpf"})},"star"))}r.push((0,X.jsx)(k.DropdownItem,{a8n:"mi-msg-delete",action:this._handleDeleteMessage,children:g.fbt._("Delete all",null,{hk:"4FG8uO"})},"delete")),this.setState({contextMenu:{menu:r,anchor:n,theme:k.ThemeOptions.COMPACT}})},this.openContextMenu=()=>{this.state.hover?this._handleMenu(void 0,!0):this.setState({hover:!0},(()=>{this._handleMenu(void 0,!0)}))},this.closeContextMenu=()=>{const e={contextMenu:null};this._isKeyboardUser()&&(e.hover=!1),this.setState(e)},this._handleAlbumGridRendered=(e,t)=>{e?this.refAlbumComponents[t.id.toString()]=e:delete this.refAlbumComponents[t.id.toString()]},this.scrollMsg=(e,t)=>{const a=this._refAlbumWrapper.current;if(!a)return;const n=a.offsetParent;n&&((0,_.default)(n instanceof HTMLElement,"DOM offset parent is not a valid HTMLElement"),(0,W.scrollAt)(a,n,t).then(e))},this.highlight=()=>{const e=this._refTail.current;let t;this.isGroupedSticker()?0===this.props.focusedMsgIndex?t=this._refLeftStickerBubble:1===this.props.focusedMsgIndex&&(t=this._refRightStickerBubble):t=this.refBubble,t&&(u.default.indicateFocus(t,K.default.highlightAnimation),u.default.indicateFocus(e,K.default.highlightAnimation),this.props.isFocusable&&this.focus({preventScroll:!0}))},this._handleReactionChange=()=>{const e=this.props.msgs.map((e=>e.id.toString()));(0,h.lastMessageReactionChange)(e)};const t=this._computeSelectedCount();this.state={contextMenu:null,hover:!1,selectedCount:t}}componentDidMount(){(0,s.isFeatureEnabled)("media_existence_check")&&this.props.msgs.map((e=>e.asAlbumAsset)).filter(Boolean).forEach((e=>{(0,R.checkExistence)(e)}))}componentDidUpdate(e){if(this.props.msgs!==e.msgs&&(0,s.isFeatureEnabled)("media_existence_check")){const t=new Set(e.msgs);this.props.msgs.map((e=>e.asAlbumAsset)).filter(Boolean).filter((e=>!t.has(e))).forEach((e=>{(0,R.checkExistence)(e)}))}}shouldComponentUpdate(e,t){if(!(0,b.default)(t,this.state))return!0;return!(0,b.default)(e,this.props,((e,t,a)=>{if("msgs"===a)return(0,b.default)(e,t)}))}onSelectChange(e){let t;t=this.isGroupedSticker()?this._computeSelectedCount():e?this.props.msgs.length:0,this.state.selectedCount!==t&&this.setState({selectedCount:t})}_isKeyboardUser(){return this.context}isGroupedSticker(){const[e,t]=this.props.msgs;return null!=e.asGroupedSticker&&null!=t.asGroupedSticker}focus(e){var t;(null===(t=this._refAlbumWrapper)||void 0===t?void 0:t.current)&&d.default.focus(this._refAlbumWrapper.current,e)}render(){const{msgs:e,position:t,isMsgVisible:a,albumId:n,isFocusedAlbum:s,focusedMsgIndex:o,selectedMessages:l,isFocusable:u,displayType:d}=this.props,[f,g]=e,{isSentByMe:_,isGroupMsg:v}=f,b=this.isGroupedSticker(),C=e.length>S.ALBUM_MIN_SIZE?e.length-S.ALBUM_MIN_SIZE+1:null,x=t===L.MsgPosition.FRONT||t===L.MsgPosition.SINGLE||b,M=(0,m.default)(K.default.msg,{[K.default.msgContinuation]:t===L.MsgPosition.FRONT||t===L.MsgPosition.MID,"message-out":_,"message-in":!_,[N.LIST_FOCUSABLE_ITEM_CLASS_NAME]:u}),k=!_&&v;let w;if(k){const t=(0,m.default)(K.default.author,{[K.default.groupStickerAuthor]:b});w=(0,X.jsx)("div",{className:t,children:(0,X.jsx)(E.default,{msg:e[0],contact:e[0].senderObj,albumId:n})})}const I=(0,m.default)(K.default.message,{[K.default.messageTransparent]:b,[K.default.hasTail]:x,[K.default.tailOverrideHide]:b&&x&&(_||!v),[K.default.hasAuthor]:!this.isGroupedSticker()&&k,[K.default.forwarded]:!this.isGroupedSticker()&&(0,F.showForwarded)(e[0])}),O=(0,m.default)(K.default.albumBubbleContainer,{[K.default.messageBackground]:!b,[K.default.hasBorderBox]:!b});let R,W,Z,ee,te;x&&(R=(0,X.jsx)(q.default,{name:(0,$.getTailName)(_),className:K.default.tail,containerRef:this._refTail})),f.canQuickForward()&&(W=(0,X.jsx)("div",{className:(0,m.default)(K.default.quickActionButton,{[K.default.authorForward]:k}),onClick:()=>{this.openForwardFlow(!1)},role:"button",children:(0,X.jsx)(q.default,{name:"forward-chat"})})),(this.state.hover||this.state.contextMenu)&&(Z=(0,X.jsx)(D.default,{msg:f.unsafe(),hasAuthor:k,position:t,ref:this.setRefContext,onToggle:e=>{this._handleMenu(e)}},"icon-context")),ee=this.state.contextMenu?"none":f.isRTL?"pop-fast-reverse":"pop-fast",this.state.contextMenu&&(te=(0,X.jsx)(Y.UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu,children:(0,X.jsx)(z.default,{contextMenu:this.state.contextMenu})}));const ae=this.props.selectable?(0,X.jsx)(B.default,{checked:this.state.selectedCount>0,theme:this.state.selectedCount>0&&this.state.selectedCount<e.length?T.CHECKBOX_THEME.PARTIAL:void 0,onClick:e=>{this._handleSelectClick({event:e})}}):null;let ne;if(this.props.isFocusedAlbum&&(ne=(0,X.jsx)(Q.WhileFocusedListener,{parent:this})),b){var re,ie;const t=e.map((e=>(0,X.jsx)(Q.SelectionListener,{parent:this,msgId:e.id.toString(),selectedMessages:l},e.id.toString()))),r=this.props.selectable?(0,X.jsx)(j.default,{checked:this.props.selectedMessages.isSelected((0,H.unproxy)(f.unsafe())),onClick:()=>{this._handleSelectClick({selectedMsg:f.unsafe()})}}):null,u=this.props.selectable?(0,X.jsx)(j.default,{checked:this.props.selectedMessages.isSelected((0,H.unproxy)(g.unsafe())),onClick:()=>{this._handleSelectClick({selectedMsg:g.unsafe()})}}):null,m=e.map((e=>e.id.toString()));let _;return e.some((e=>(0,h.canReactToMessage)(e.unsafe())))&&(_=(0,X.jsx)(G.ReactionSendFailButton,{msgIds:m,fromMe:f.isSentByMe})),(0,X.jsxs)("div",{className:M,"data-id":n,ref:this._refAlbumWrapper,tabIndex:-1,children:[(0,X.jsx)(p.default,{transitionName:"delay-leave",children:ae}),(0,X.jsxs)("div",{className:I,onContextMenu:this.contextMenu,children:[R,w,(0,X.jsxs)("div",{className:K.default.groupStickerContainer,children:[(0,X.jsxs)("div",{onMouseEnter:null===(re=this._firstStickerRef.current)||void 0===re?void 0:re.startAnimation,className:K.default.singleGroupedStickerContainer,ref:this._setRefLeftStickerBubble,children:[(0,X.jsx)(p.default,{transitionName:"delay-leave",children:r}),(0,X.jsx)(A.default,{msg:(0,i.default)(f.asGroupedSticker,"firstMsg.asGroupedSticker"),menuTransition:ee,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:a,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:s&&0===o,forwardRef:this._firstStickerRef,displayType:d})]}),(0,X.jsxs)("div",{onMouseEnter:null===(ie=this._secondStickerRef.current)||void 0===ie?void 0:ie.startAnimation,className:K.default.singleGroupedStickerContainer,ref:this._setRefRightStickerBubble,children:[(0,X.jsx)(p.default,{transitionName:"delay-leave",children:u}),(0,X.jsx)(A.default,{msg:(0,i.default)(g.asGroupedSticker,"secondMsg.asGroupedSticker"),menuTransition:ee,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:a,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:s&&1===o,forwardRef:this._secondStickerRef,displayType:d})]}),(0,c.receiveReactionsEnabled)()&&(0,X.jsx)(V.default,{msgIds:m,onReactionChange:this._handleReactionChange})]}),_]}),t]})}const se=e.map((e=>e.asAlbumAsset)).filter(Boolean);se.length!==e.length&&(__LOG__(4,void 0,new Error,!0)`Only ${se.length}/${e.length} were valid album messages`,SEND_LOGS("invalid-album-grid"));let oe=null,le=null;if((0,c.receiveReactionsEnabled)()&&se.length>0){const e=se.map((e=>e.id.toString())),t=se.some((e=>!0===e.hasReaction));oe=(0,X.jsx)(U.default,{msgIds:e,isSentByMe:_,hasReaction:t})}(0,c.sendReactionsEnabled)()&&se.length>0&&(le=(0,X.jsx)(G.ReactionSendFailButton,{msgIds:se.map((e=>e.id.toString())),fromMe:f.isSentByMe}));const ue=se.length>S.ALBUM_MIN_SIZE?se[0]:null,de=(0,F.showForwarded)(e[0])?(0,X.jsx)(P.default,{msg:e[0].unsafe(),className:K.default.forwardedIndicator}):null;return(0,X.jsxs)("div",{className:M,"data-id":n,ref:this._refAlbumWrapper,tabIndex:-1,children:[(0,X.jsx)(p.default,{transitionName:"delay-leave",children:ae}),(0,X.jsxs)("div",{className:I,onContextMenu:this.contextMenu,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown,children:[R,(0,X.jsxs)("div",{className:O,ref:this.setRefBubble,children:[w,de,(0,X.jsx)("div",{className:K.default.gridContainer,children:e.slice(0,4).map(((e,t)=>{const n=3===t?{numAdditionalMedia:C,zoomMsg:ue}:null;return(0,X.jsx)(y.default,(0,r.default)({msg:(0,i.default)(e.asAlbumAsset,"msg.asAlbumAsset"),albumMsgs:se,albumPosition:J[t%4],isMsgVisible:a,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((t=>{this._handleAlbumGridRendered(t,e)}))},n),e.id.toString())}))})]}),(0,X.jsx)(p.default,{transitionName:ee,children:Z}),le,W,oe]}),te,ne,(0,X.jsx)(Q.SelectionListener,{parent:this,msgId:e[0].id.toString(),selectedMessages:l})]})}}t.default=Z,Z.contextType=I.default,Z.displayName="AlbumWrapper"},1195:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(35470),i=a(14597),s=a(48360),o=a(67294),l=a(35461),u=a(41036),d=n(a(20668)),c=a(58668),f=a(18146),h=n(a(23217)),p=a(85893);var m=(0,o.forwardRef)(((e,t)=>{const a=(0,l.useModelValues)(e.msg,["ack","isSentByMe","type"]),n=(0,l.useModelValues)(e.mediaData,["mediaStage","size"]),m=(0,o.useRef)(null),g=()=>{e.msg.forceDownloadMediaEvenIfExpensive()},_=()=>{e.msg.resumeUpload()},v=()=>{e.msg.resumeRemoteUpload()},b=()=>{i.ModalManager.open((0,p.jsx)(d.default,{msg:e.msg.unsafe()}))},y=()=>{e.msg.cancelUpload()};switch((0,o.useImperativeHandle)(t,(()=>({handleKeyActivation:e=>{var t;null===(t=m.current)||void 0===t||t.handleKeyActivation(e)}}))),n.mediaStage){case c.MEDIA_DATA_STAGE.RESOLVED:return(0,p.jsx)(u.WrappedAudioPlayer,{ref:m,mediaData:(0,f.unproxy)(e.mediaData),outgoingMsg:a.isSentByMe,played:"ptt"!==a.type||a.ack===r.ACK.PLAYED,displayType:e.displayType,getSequentialMsg:e.getSequentialMsg,msg:(0,f.unproxy)(a)});case c.MEDIA_DATA_STAGE.NEED_POKE:return(0,p.jsx)(u.AudioPlayerFrame,{icon:(0,p.jsx)(h.default,{name:"audio-download"}),ariaLabel:s.fbt._("Download voice message",null,{hk:"1IMhGA"}),outgoingMsg:a.isSentByMe,action:g,msg:"ptt"===a.type?(0,f.unproxy)(a):void 0});case c.MEDIA_DATA_STAGE.NEED_UPLOAD:return(0,p.jsx)(u.AudioPlayerFrame,{icon:(0,p.jsx)(h.default,{name:"audio-upload"}),ariaLabel:s.fbt._("Upload voice message",null,{hk:"GMghs"}),outgoingMsg:a.isSentByMe,action:_,msg:"ptt"===a.type?(0,f.unproxy)(a):void 0});case c.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:return(0,p.jsx)(u.AudioPlayerFrame,{icon:(0,p.jsx)(h.default,{name:"audio-upload"}),ariaLabel:s.fbt._("Upload voice message",null,{hk:"GMghs"}),outgoingMsg:a.isSentByMe,action:v,msg:"ptt"===a.type?(0,f.unproxy)(a):void 0});case c.MEDIA_DATA_STAGE.ERROR_MISSING:return(0,p.jsx)(u.AudioPlayerFrame,{icon:(0,p.jsx)(h.default,{name:"audio-play",directional:!0}),ariaLabel:s.fbt._("Play voice message",null,{hk:"1IoAqS"}),outgoingMsg:a.isSentByMe,action:b,msg:"ptt"===a.type?(0,f.unproxy)(a):void 0});case c.MEDIA_DATA_STAGE.UPLOADING:case c.MEDIA_DATA_STAGE.SENDING:const t=n.mediaStage===c.MEDIA_DATA_STAGE.UPLOADING;return(0,p.jsx)(u.AudioPlayerFrame,{action:t?y:void 0,canCancel:t,fileSize:n.size,outgoingMsg:a.isSentByMe,spinner:!0,msg:"ptt"===a.type?(0,f.unproxy)(a):void 0});default:return(0,p.jsx)(u.AudioPlayerFrame,{spinner:!0,outgoingMsg:a.isSentByMe,msg:"ptt"===a.type?(0,f.unproxy)(a):void 0})}}));t.default=m},72655:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,disableClick:a,displaySelf:n,quotedRemoteJid:o,albumId:d}=e,g=(0,l.useModelValues)(e.msg,["sender","chat","type","isLive","isStatusV3","id","quotedMsg"]),_=(0,l.useModelValues)(e.contact,["id","name","notifyName","pushname","verifiedName"]),v=t||g.chat;v||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("author-with-no-chat"));const b=v?v.assignedColor(g.sender):1,y=a?null:()=>{(0,f.findChat)(g.sender).then((e=>{r.Cmd.openChatFromUnread(e).then((t=>{t&&r.Cmd.focusChatTextInput(e)}))}))},C=(0,s.default)(u.default.author,`color-${b}`,{[u.default.hoverable]:y});let S;if(n)S=(0,p.jsx)(c.EmojiText,{text:m(h.default.t(913),g.isStatusV3,o)});else if(_.name||_.verifiedName){var E;S=[(0,p.jsx)(c.EmojiText,{text:m(null!==(E=_.name)&&void 0!==E?E:_.verifiedName,g.isStatusV3,o),className:u.default.name,onClick:y},"author")]}else{S=[(0,p.jsx)("span",{className:u.default.number,role:y?"button":null,onClick:y,children:m((0,i.widToFormattedUser)(_.id),g.isStatusV3,o)},`${g.id.toString()}-number`)];const e=S;if(!g.isStatusV3){const t=d?`${d}-push-name`:`${g.id.toString()}-push-name`;let a;a=_.notifyName?_.notifyName:_.pushname,e.push((0,p.jsx)(c.EmojiText,{className:u.default.screenName,onClick:y,direction:"auto",ellipsify:!0,text:a},t))}}return(0,p.jsx)("div",{className:C,role:e.role||"",children:S})};var r=a(81572),i=a(62054),s=n(a(94184)),o=a(48360),l=a(35461),u=n(a(96302)),d=a(69951),c=a(65417),f=a(50101),h=n(a(14296)),p=a(85893);function m(e,t,a){let n;if(a){const e=d.ChatCollection.get(a);n=e?e.formattedTitle:o.fbt._("Group",null,{hk:"DNiv2"}).toString()}return t?`${e} · ${o.fbt._("Status",null,{hk:"4gjFRX"}).toString()}`:n?`${e} · ${n}`:e}},18941:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.msg,["thumbnail","title","description","matchedText","isSentByMe","star"]);return(0,o.jsx)(s.default,{title:t.title,description:t.description,thumbnailJpeg:t.thumbnail,onClick:()=>{const e=t.matchedText;(0,i.openExternalLink)(e)},isSentByMe:t.isSentByMe,star:t.star})};var r=a(35461),i=a(12591),s=n(a(51845)),o=a(85893)},11740:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.unproxy)(e.msg);if(t.ctwaContext){const a=t.ctwaContext.mediaType!==s.ContextInfo$ExternalAdReplyInfoMediaType.VIDEO||t.ctwaContext.isSuspiciousLink?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.SuspiciousLabel,{msg:t}),(0,u.jsx)(r.default,{context:t.ctwaContext,isSentByMe:t.isSentByMe,compose:!1})]}):(0,u.jsx)(i.default,{msg:t,context:t.ctwaContext});return(0,u.jsx)("div",{className:e.wrapperClass,children:a})}return null};var r=n(a(94908)),i=n(a(71604)),s=a(24808),o=a(18146),l=a(7538),u=a(85893)},94908:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,{sourceUrl:a,context:n,isSentByMe:m,compose:g}=e;t=(null==n?void 0:n.isSuspiciousLink)||!(null==n?void 0:n.thumbnailUrl)&&!(null==n?void 0:n.thumbnail)?(0,p.jsx)("div",{className:u.default.noThumbContainer,children:(0,p.jsx)(h.default,{className:u.default.noThumbIcon,name:"link"})}):(0,p.jsx)("img",{alt:"",className:u.default.media,src:n.thumbnailUrl?n.thumbnailUrl:`data:image/jpeg;base64,${n.thumbnail||""}`});const _=null!=(null==n?void 0:n.description)&&!n.isSuspiciousLink&&(0,p.jsx)("div",{className:u.default.description,children:(0,p.jsx)(d.EmojiText,{text:n.description,titlify:!0})});let v=a;if(n&&(v=n.sourceUrl,!n.isSuspiciousLink&&(n.title||n.thumbnailUrl||n.thumbnail))){v=s.default.hostname(v);try{v=l.default.toUnicode(v)}catch(e){}}const b=v&&(0,p.jsx)("div",{className:u.default.source,children:(0,p.jsx)(d.EmojiText,{text:v})}),y=(null==n?void 0:n.isSuspiciousLink)?null:null==n?void 0:n.title,C=(0,o.default)(u.default.preview,{[u.default.isCompose]:g,[u.default.bubbleIn]:!g&&!m,[u.default.bubbleOut]:m});return(0,p.jsxs)("div",{className:C,onClick:()=>{if(!g)if(null==n?void 0:n.isSuspiciousLink){const e=(0,r.findLink)(n.sourceUrl);e&&i.ModalManager.open((0,p.jsx)(f.default,{link:e}))}else(null==n?void 0:n.sourceUrl)&&(0,c.openExternalLink)(n.sourceUrl)},children:[t,(0,p.jsxs)("div",{className:u.default.body,children:[(0,p.jsx)("div",{className:u.default.title,title:y,children:(0,p.jsx)(d.EmojiText,{text:y})}),_,b]})]})};var r=a(95726),i=a(14597),s=n(a(76139)),o=n(a(94184)),l=n(a(3689)),u=n(a(11515)),d=a(65417),c=a(12591),f=n(a(82791)),h=n(a(23217)),p=a(85893)},71604:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{context:a}=e,n=(0,c.useMemo)((()=>{if(e.msg.type===s.MSG_TYPE.VIDEO){const t=e.msg.toJSON(),a=new i.default({fromMe:e.msg.id.fromMe,remote:e.msg.id.remote,id:i.default.newId()});return t.id=a,new v.Msg(t)}return e.msg}),[e.msg]),M=(0,c.useRef)(null),[P,A]=(0,c.useState)((()=>b.default.isOpened(n)?w:k));(0,f.useListener)(b.default,`${n.id.toString()}_pip_did_open`,(()=>{A(w)})),(0,f.useListener)(b.default,`${n.id.toString()}_pip_did_close`,(()=>{P!==k&&A(k)}));const j=e=>{e.preventDefault(),e.stopPropagation(),(0,g.openExternalLink)(a.sourceUrl)},I=l.default.withoutWww(l.default.hostname(e.context.sourceUrl)),O=(0,x.jsx)("div",{className:E.default.source,children:(0,x.jsx)(m.EmojiText,{text:I})}),N=(0,u.default)(E.default.body,{[E.default.noThumb]:!e.context.thumbnail}),R=a.description?(0,x.jsx)("div",{className:E.default.description,title:e.context.description,children:(0,x.jsx)(m.EmojiText,{text:e.context.description})}):null,D=(0,u.default)(E.default.preview,{[E.default.bubbleIn]:!n.isSentByMe,[E.default.bubbleOut]:n.isSentByMe}),L=P===k&&(0,r.isLegacyWebdBackend)()?(0,x.jsx)("div",{className:E.default.mediaStateControlsWrapper,children:(0,x.jsx)(_.Play,{})}):null,B=P===w?(0,x.jsx)(y.default,{icon:(0,x.jsx)(C.default,{name:"video-pip-large"}),children:d.fbt._("This video is playing in picture in picture.",null,{hk:"4pqtaj"})}):null;let F;F=e.context.thumbnail||e.context.thumbnailUrl?(0,x.jsx)("img",{alt:"",className:(0,u.default)(E.default.thumbnail,{[E.default.youtubeThumbnail]:!1}),src:e.context.thumbnail?`data:image/jpeg;base64,${e.context.thumbnail}`:e.context.thumbnailUrl}):(0,x.jsx)("div",{className:E.default.thumbnailPlaceholder});const G=(0,x.jsx)("div",{className:(0,u.default)(E.default.attribution,p.default.clickable),onClick:j,children:(0,x.jsx)(C.default,{name:null!==(t=h.ATTRIBUTION_ICONS[I])&&void 0!==t?t:"logo-facebook"})});return(0,x.jsxs)("div",{className:D,children:[(0,x.jsxs)("div",{ref:M,className:E.default.thumbnailWrapper,onClick:(0,r.isMDBackend)()?j:()=>{var t,a;b.default.openOgVideoPiP("",e.context.thumbnail||"",n,0,null!==(t=null===(a=M.current)||void 0===a?void 0:a.getBoundingClientRect())&&void 0!==t?t:null),T.default.queryVideoPlaybackUrl(e.context.mediaUrl).then((t=>{if(b.default.isOpened(n)){if(!t.url)throw new Error("Url is missing in response.");b.default.openOgVideoPiP(t.url,e.context.thumbnail||"",n,0,null)}})).catch((()=>{b.default.closePiP(),o.ToastManager.open((0,x.jsx)(S.Toast,{id:(0,S.genId)(),msg:d.fbt._("The video can't be played.",null,{hk:"4Es7E8"}),action:{actionText:d.fbt._("Open the link",null,{hk:"2xiq6A"}),onAction:()=>{(0,g.openExternalLink)(e.context.sourceUrl)}}}))}))},children:[G,F,L,B]}),(0,x.jsxs)(g.ExternalLink,{className:N,href:a.sourceUrl,children:[(0,x.jsx)("div",{className:E.default.title,title:a.title,children:(0,x.jsx)(m.EmojiText,{text:a.title})}),R,O]})]})};var r=a(88555),i=n(a(65212)),s=a(15461),o=a(94816),l=n(a(76139)),u=n(a(94184)),d=a(48360),c=a(67294),f=a(87550),h=a(40875),p=n(a(92946)),m=a(65417),g=a(12591),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),v=a(17304),b=n(a(77912)),y=n(a(27557)),C=n(a(23217)),S=a(50452),E=n(a(72836)),T=n(a(56891)),x=a(85893);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}const k="PREVIEW",w="FLOATER"},75343:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{displayAuthor:t,msg:a}=e;const n=(0,i.getMaybeMeUser)(),x=a.sender.equals(n),M=(0,o.default)(),k=e=>{e&&e.stopPropagation();const{orderId:t,sellerJid:n,token:i}=a;if(null!=t&&null!=n&&null!=i){const e=(0,y.buildProductCatalogContext)(new C.ProductCatalogSession,(0,u.getMaybeBizPlatformForLogging)(n),g.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_ORDER_MESSAGE);(0,f.logOrderMessageClick)({catalogContext:e,catalogOwnerJid:n,orderId:t}),null!=a.orderId&&((0,h.qplStartOrderView)(!!v.OrderCollection.get(t)),r.DrawerManager.openDrawerRight((0,T.jsx)(S.ProductDetailsFlowLoadable,{chat:a.chat,orderMessage:a,orderId:t,token:i,userIsCartOwner:x,sellerJid:n}),"slide-left",M,e))}},w=(0,T.jsx)(d.EmojiText,{text:a.message,dirMismatch:a.rtl!==c.default.isRTL(),direction:a.dir,inferLinesDirection:!0}),P=(0,T.jsx)("div",{className:_.default.meta,children:(0,T.jsx)(m.Meta,{msg:a})}),A=(0,T.jsx)(l.default,{items:[{label:x?s.fbt._("View sent cart",null,{hk:"25rEco"}):s.fbt._("View cart",null,{hk:"FzP7d"}),a8nKey:"view-cart-button",onClick:k}]});return(0,T.jsxs)(E.default,{msg:a,displayAuthor:t,hideMeta:!0,children:[(0,T.jsx)("div",{className:_.default.orderPreview,children:(0,T.jsx)(b.OrderPreview,{msg:a.unsafe(),onClick:k})}),(0,T.jsxs)(p.default,{msg:a.unsafe(),"data-id":a.id,className:_.default.messageText,children:[w,P]}),A]})};var r=a(41455),i=a(78820),s=a(48360),o=n(a(95402)),l=n(a(58286)),u=a(62632),d=a(65417),c=n(a(14296)),f=a(79544),h=a(56057),p=n(a(54703)),m=a(42316),g=n(a(11339)),_=n(a(59931)),v=a(84312),b=a(36707),y=a(97567),C=a(9153),S=a(67455),E=n(a(12209)),T=a(85893)},93135:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onProductClick:t,trusted:a,displayAuthor:n,quotedMsg:I}=e,O=(0,c.default)(),[N]=(0,l.useState)((()=>new M.ProductCatalogSession));(0,l.useEffect)((()=>{const{msg:t}=e;t.businessOwnerJid&&(0,s.createWid)(t.businessOwnerJid)&&h.CatalogCollection.addMsgAsProduct((0,P.unproxy)(t.unsafe()))}),[]);const R=(0,d.useModelValues)(e.msg,["businessOwnerJid","caption","chat","dir","footer","id","isGroupMsg","asProductInquiry","mediaData","productId","productImageCount","retailerId","rtl","senderObj","t","title","type","url"]),{productId:D,businessOwnerJid:L,t:B,chat:F}=R,G=(0,l.useCallback)((e=>{if(e&&e.stopPropagation(),!D||!L)return;(0,y.qplStartProductView)("Message");const a=(0,_.default)({productId:D,businessOwnerJid:L,msgT:B});if(!a)return void(0,y.qplDropProductView)();const n=(0,x.buildProductCatalogContext)(N,(0,m.getMaybeBizPlatformForLogging)(L),E.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE);(0,b.logProductMsgClick)({product:(0,P.unproxy)(a),catalogContext:n});const r=M.ProductCatalogSession.toString();t?t(a,r):i.DrawerManager.openDrawerRight((0,A.jsx)(k.ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:F,product:a}),"slide-left",O,n)}),[D,L,t,B,F,N,O]),U=Boolean(R.caption||R.footer);let V;if(U){const t={selectable:a,dirMismatch:R.rtl!==v.default.isRTL(),direction:R.dir,inferLinesDirection:!0};V=(0,A.jsxs)("div",{className:(0,u.default)([j.content,v.default.isRTL()&&j.contentRTL]),children:[R.caption?(0,A.jsx)(C.default,{msg:e.msg.unsafe(),spacer:!1,children:(0,A.jsx)(g.EmojiText,(0,r.default)((0,r.default)({},t),{},{text:R.caption,xstyle:j.caption,element:"p"}))}):null,R.footer?(0,A.jsx)(g.EmojiText,(0,r.default)((0,r.default)({},t),{},{text:R.footer,formatters:(0,p.Conversation)({links:R.getFooterLinks(),phoneNumbers:R.getFooterPhoneNumbers(),trusted:a,fromMe:R.id.fromMe}),xstyle:[j.footer,R.caption&&j.footerMargin]})):null,(0,A.jsx)("div",{className:(0,u.default)([j.meta,v.default.isRTL()&&j.metaRTL]),children:(0,A.jsx)(S.Meta,{msg:e.msg})})]})}const W=n?(0,A.jsx)("div",{className:(0,u.default)(j.author),children:(0,A.jsx)(f.default,{msg:R,contact:R.senderObj})}):null;return(0,A.jsxs)("div",{className:(0,u.default)(j.bubble),children:[W,(0,A.jsx)(T.default,{msg:e.msg,mediaData:R.mediaData,hideMeta:U,trusted:a,displayAuthor:!1,contentContainerClassName:(0,u.default)(j.productContainer),captionComponent:(0,A.jsx)(w.ProductInfo,{trusted:a,onClick:G,msg:e.msg}),thumbClassName:(0,u.default)(j.thumb),onThumbClick:G,quotedMsg:I}),V,(0,A.jsx)(g.EmojiText,{xstyle:[j.productCta,U&&j.btnBorder],onClick:G,text:o.fbt._("View",null,{hk:"3e9NPU"})})]})};var r=n(a(81109)),i=a(41455),s=a(45454),o=a(48360),l=a(67294),u=n(a(56720)),d=a(35461),c=n(a(95402)),f=n(a(72655)),h=a(99989),p=a(74331),m=a(62632),g=a(65417),_=n(a(26218)),v=n(a(14296)),b=a(77975),y=a(82145),C=n(a(54703)),S=a(42316),E=n(a(11339)),T=n(a(74790)),x=a(97567),M=a(9153),k=a(67455),w=a(75737),P=a(18146),A=a(85893);const j={bubble:{position:"g0rxnol2",zIndex:"jnl3jror",boxSizing:"cm280p3y",maxWidth:"ktbp76dp"},author:{paddingTop:"ocd2b0bc",paddingEnd:"f9ovudaz",paddingBottom:"bxcbqipq",paddingStart:"mhcwslh8"},thumb:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",cursor:"ajgl1lbb",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw"},productContainer:{position:"g0rxnol2",overflowX:"gfz4du6o",overflowY:"r7fjleex"},productCta:{display:"f804f6gw",paddingTop:"esbfogcw",paddingBottom:"aiput80m",fontSize:"f8jlpxt4",fontWeight:"hnx8ox4h",color:"o0rubyzf",textAlign:"qfejxiq4",cursor:"ajgl1lbb",":hover":{textDecoration:"o69d8n2f"}},btnBorder:{borderTop:"ei53l81b"},content:{position:"g0rxnol2",marginTop:"dj1c3cmq",marginEnd:"bugiwsl0",marginBottom:"or9x5nie",marginStart:"fooq7fky"},contentRTL:{textAlign:"cb8ormfa"},caption:{fontSize:"f8jlpxt4"},footer:{display:"f804f6gw",fontSize:"ovllcyds",lineHeight:"q6wg26sa",color:"hp667wtd"},footerMargin:{marginTop:"qt60bha0"},meta:{position:"lhggkp7q",end:"ebjesfe0",bottom:"pgz13gmm"},metaRTL:{right:"ryab0j1q"}}},75737:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInfo=function(e){const{trusted:t,onClick:a}=e,{description:n,currencyCode:f,isSentByMe:h,priceAmount1000:p,salePriceAmount1000:m,title:g}=(0,i.useModelValues)(e.msg,["currencyCode","description","isSentByMe","priceAmount1000","salePriceAmount1000","title"]),_=(0,s.Conversation)({mentions:e.msg.mentionMap(),phoneNumbers:e.msg.getPhoneNumbers(),links:e.msg.getLinks(),selectable:!0,trusted:!0===t,fromMe:e.msg.id.fromMe});let v;null!=p&&f?v=(0,d.jsx)(l.default,{product:{currency:f,priceAmount1000:p,salePriceAmount1000:m},direction:"inherit",selectable:!0}):n&&(v=(0,d.jsx)(o.EmojiText,{direction:"inherit",selectable:!0,text:n,formatters:_,textLimit:70}));return(0,d.jsxs)("div",{className:(0,r.default)(c.productInfo,h&&c.bubbleOut,!h&&c.bubbleIn),onClick:a,children:[(0,d.jsx)(o.EmojiText,{direction:"inherit",selectable:!0,text:g,formatters:_,ellipsify:!0,xstyle:c.title}),v?(0,d.jsx)(u.default,{msg:e.msg.unsafe(),xstyle:c.subtitle,children:v}):null]})};var r=n(a(56720)),i=a(35461),s=a(74331),o=a(65417),l=n(a(62089)),u=n(a(21595)),d=a(85893);const c={productInfo:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",paddingTop:"n1yiu2zv",paddingEnd:"ft2m32mm",paddingBottom:"eb4rp10x",paddingStart:"nu34rnf1",cursor:"ajgl1lbb",borderBottomStartRadius:"cqsf3vkf",borderBottomEndRadius:"sfeitywo"},bubbleIn:{backgroundColor:"rrq4r3yd"},bubbleOut:{backgroundColor:"s0eflmyh"},title:{fontSize:"f8jlpxt4"},subtitle:{marginTop:"kiiy14zj",fontSize:"dsh4tgtl",color:"hp667wtd",overflowWrap:"fd365im1"}}},7538:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SuspiciousLabel=function(e){var t;const a=c(e);return null==a?null:(0,d.jsxs)("div",{className:(0,i.default)(l.default.container,{[l.default.isLinkMsg]:Boolean(e.link),[l.default.ctwaContainer]:null!=(null===(t=e.msg)||void 0===t?void 0:t.ctwaContext)}),children:[(0,d.jsx)(u.default,{name:"alert",display:"inline",className:l.default.icon}),(0,d.jsx)("span",{className:l.default.text,children:a})]})},t.getSuspiciousLabel=c;var r=a(5177),i=n(a(94184)),s=a(48360),o=n(a(14296)),l=n(a(40300)),u=n(a(23217)),d=a(85893);function c(e){var t;let a,{msg:n,link:i,displayType:l}=e;if(n||i){if(null==n||null===(t=n.ctwaContext)||void 0===t?void 0:t.isSuspiciousLink)a=s.fbt._("Suspicious link",null,{hk:"J2Yam"});else if(i){var u;(null===(u=i.suspiciousCharacters)||void 0===u?void 0:u.size)&&(a=s.fbt._("Suspicious link",null,{hk:"J2Yam"}))}else if(n){const e=n.getSuspiciousLinks().length;if(e){a=1===n.getLinks().length||l===r.DISPLAY_TYPE.GALLERY?s.fbt._("Suspicious link",null,{hk:"J2Yam"}):o.default.t(671,{count:e,_plural:e})}}return a}}},257:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{chat:a}=e,n=(0,d.default)(),o=(0,f.useModelValues)(e.msg,["buttons","isQuickReply","from"]);(0,c.useListeners)((null!==(t=o.buttons)&&void 0!==t?t:[]).map((e=>({source:e,eventOrEvents:"change:selected",callback:n}))));const x=e=>{const{subtype:t,url:n,displayText:l,selectionId:d,id:c}=e;t===T?function(){const e=(0,C.jsx)(h.default,{a8nText:"popup-controls-ok",type:"primary",onClick:()=>s.ModalManager.close(),children:u.fbt._("OK",null,{hk:"2KEeHb"})},0);s.ModalManager.open((0,C.jsx)(m.Modal,{actions:[e],children:u.fbt._("Calls are not supported on WhatsApp Web. Open WhatsApp on your phone to call this business.",null,{hk:"2GJELE"})}))}():t===E&&n?function(e,t){const a=(0,i.findLink)(e,!1,t.from);if(null==a?void 0:a.suspiciousCharacters)return s.ModalManager.open((0,C.jsx)(v.default,{link:a}));const n=(0,C.jsx)(h.default,{a8nText:"popup-controls-go",type:"primary",onClick:()=>function(e){(0,p.openExternalLink)(e),s.ModalManager.close()}(e),children:u.fbt._("Go",null,{hk:"2SCOvN"})},0),o=(0,C.jsx)(h.default,{a8nText:"popup-controls-cancel",type:"secondary",onClick:()=>s.ModalManager.close(),children:u.fbt._("Cancel",null,{hk:"H0gNq"})},1),l=r.default.TEMPLATE_URL_START+r.default.TEMPLATE_URL_END;s.ModalManager.open((0,C.jsxs)(m.Modal,{title:u.fbt._("Opening link in new window...",null,{hk:"2i7gQe"}),actions:[o,n],children:[(0,C.jsx)("div",{children:u.fbt._("You will now be directed to",null,{hk:"36dsBS"})}),(0,C.jsx)(p.ExternalLink,{href:e,isLongTemplateUrl:e.length>l,children:e})]}))}(n,o):t===S&&(0,g.sendTextMsgToChat)(a,l,{quotedMsg:(0,_.unproxy)(o),selectedIndex:parseInt(c,10),selectedId:d}).then((()=>{e.selected=!0}))};let M;o.buttons&&(M=o.buttons.map((e=>{let t;switch(e.subtype){case T:t=(0,C.jsx)(b.default,{name:"hsm-call",className:y.default.icon});break;case E:t=(0,C.jsx)(b.default,{name:"hsm-link",className:y.default.icon})}const a=e.selected?void 0:()=>x(e);return(0,C.jsxs)("button",{className:(0,l.default)(y.default.actionButton,{[y.default.firstButton]:0===parseInt(e.id,10)&&e.subtype!==S,[y.default.disabled]:e.selected}),onClick:a,children:[t,(0,C.jsx)("span",{className:y.default.actionText,children:e.displayText})]},e.id)})));return(0,C.jsx)("div",{className:(0,l.default)({[y.default.quickReply]:o.isQuickReply,[y.default.callUrl]:!o.isQuickReply}),children:(0,C.jsx)("div",{className:y.default.buttonContainer,children:M})})};var r=n(a(64369)),i=a(95726),s=a(14597),o=a(15411),l=n(a(94184)),u=a(48360),d=n(a(59312)),c=a(87550),f=a(35461),h=n(a(39770)),p=a(12591),m=a(57224),g=a(5524),_=a(18146),v=n(a(82791)),b=n(a(23217)),y=n(a(66158)),C=a(85893);const{QUICK_REPLY:S,URL:E,CALL:T}=o.TEMPLATE_BUTTON_SUBTYPE},95839:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{dir:t,footer:a,isShown:n,msg:f,rtl:h,type:p,trusted:m}=e,g=h!==l.default.isRTL();if(n&&a){const e=(0,i.default)(d.default.footer,{[d.default.isMedia]:p!==r.MSG_TYPE.CHAT,[d.default.dirMismatch]:g}),{formatters:n,selectable:l}=f.isDynamicReplyButtonsMsg?(0,o.enableHeaderAndFooterFormatting)(f.getFooterLinks(),!0===m):{};return(0,c.jsx)(u.default,{className:e,spacer:!h,msg:f,children:(0,c.jsx)(s.EmojiText,{text:a,direction:t,dirMismatch:g,selectable:l,formatters:n})})}return null};var r=a(15461),i=n(a(94184)),s=a(65417),o=a(9412),l=n(a(14296)),u=n(a(54703)),d=n(a(91941)),c=a(85893)},27295:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.msg,["type","subtype","body","recipients"]),{subtype:a,body:n,recipients:l}=t;if("create"===a){const e=parseInt(n,10);return(0,o.jsx)(s.default,{id:914,params:{count:e},plural:e,wrapInHiddenToken:!0})}if("add"===a)return(0,o.jsx)(s.default,{id:829,params:{name:(0,i.getFormattedNames)(l,!0)},plural:l.length,wrapInHiddenToken:!0});if("remove"===a)return(0,o.jsx)(s.default,{id:830,params:{name:(0,i.getFormattedNames)(l,!0)},plural:l.length,wrapInHiddenToken:!0});return null};var r=a(35461),i=a(16961),s=n(a(56074)),o=a(85893)},58286:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;t=!0===e.placeholder?(0,l.jsx)("div",{className:(0,i.default)(u.actionsBtn),children:"​"}):e.items.map(((t,a)=>{var n;return(0,l.jsxs)("div",{"data-a8n":r.default.key(t.a8nKey),className:(0,i.default)(u.actionsBtn,e.xstyle,!0===t.disabled&&u.disabledActionsBtn,1===a&&u.secondActionBtn),"aria-disabled":t.disabled,onClick:!0===t.disabled?void 0:t.onClick,role:"button",title:null!==(n=t.title)&&void 0!==n?n:t.label,children:[t.icon?(0,l.jsx)(o.default,{name:t.icon,className:(0,i.default)(u.icon)}):null,t.label]},a)}));return(0,l.jsx)(s.FlexRow,{className:(0,i.default)(u.actions,"no-divider"===e.theme&&u.noDivider),align:"center",justify:"evenly",children:t})};var r=n(a(99964)),i=n(a(56720)),s=a(29623),o=n(a(23217)),l=a(85893);const u={actions:{width:"ln8gz9je",marginTop:"dj1c3cmq",borderTop:"ei53l81b"},noDivider:{marginTop:"tt8xd2xn",borderTop:"q4zabkcz"},icon:{marginTop:"tt8xd2xn",marginEnd:"q471nw87",marginBottom:"mpdn4nr2",marginStart:"p3lsiedt"},actionsBtn:{display:"p357zi0d",flexGrow:"ggj6brxn",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"emrlamx0",paddingEnd:"f9ovudaz",paddingBottom:"ckm995li",paddingStart:"gx1rr48f",overflowX:"gfz4du6o",overflowY:"r7fjleex",fontSize:"f8jlpxt4",lineHeight:"r5qsrrlp",color:"o0rubyzf",textAlign:"qfejxiq4",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},disabledActionsBtn:{color:"hp667wtd",cursor:"bx7g2weo"},secondActionBtn:{marginStart:"a3oefunm"}}},85559:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,className:a,contact:n,msg:c,onClick:f,style:h,xstyle:p}=e,{isMe:m,formattedUser:g}=(0,o.useModelValues)(n,["formattedUser","name","isMe"]),{t:_}=(0,o.useModelValues)(c,["senderObj","t"]),v=r.Clock.timeStr(_),b=function(e,t){const a=null!=t?t:"";return e&&l.Conn.pushname?l.Conn.pushname:a}(m,g);return(0,d.jsx)(u.CopyableDiv,{className:(0,i.default)(a,(0,s.default)(p)),onClick:f,prePlainText:`[${v}] ${b}: `,style:h,children:t})};var r=a(40234),i=n(a(94184)),s=n(a(56720)),o=a(35461),l=a(17239),u=a(9964),d=a(85893)},28414:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t}=e;const{replyButtons:a}=t;if(null==a||0===a.length)return null;const n=a.some((e=>e.displayText.length>10));return(0,f.jsx)("div",{className:(0,i.default)(u.default.buttonContainer,{[u.default.stacked]:a.length>=3||n,[u.default.withLargeButtonsSpace]:n}),children:a.map(((e,a)=>(0,f.jsx)(h,{msg:t,replyButton:e},a)))})};var r=n(a(81109)),i=n(a(94184)),s=a(35461),o=a(1776),l=n(a(34470)),u=n(a(27660)),d=n(a(22540)),c=a(13705),f=a(85893);function h(e){let{msg:t,replyButton:a}=e;const{chat:n,isSentByMe:h}=(0,s.useModelValues)(t,["chat","isSentByMe"]),p=(0,s.useModelValues)(a,["selected","displayText","id"]),m=(0,o.useSetModelValue)(a,"selected"),{selected:g,displayText:_}=a,[v,b]=(0,l.default)((()=>{m(!0),(0,d.default)(t,p,n).then((e=>{e!==c.SendMsgResult.OK&&m(!1)})).catch((()=>{m(!1)}))}),{disabled:g});return _?(0,f.jsx)("div",(0,r.default)((0,r.default)({ref:v,className:(0,i.default)(u.default.buttonWrapper,{[u.default.disabled]:g})},b),{},{children:(0,f.jsx)("div",{className:(0,i.default)(u.default.buttonLabel,{[u.default.sentByMe]:h}),children:(0,f.jsx)("span",{children:_})})})):null}},6725:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{spacer:t,trusted:a}=e,n=(0,r.useModelValues)(e.msg,["t","id","dir","rtl","text","initialPageSize","footer","ctwaContext"]),f=n.text;if(!f)return null;const h=!(!n.dir||n.rtl===l.default.isRTL());return(0,c.jsxs)(c.Fragment,{children:[!n.ctwaContext&&(0,c.jsx)(d.SuspiciousLabel,{msg:n}),(0,c.jsx)(u.default,{msg:n,"data-id":n.id,spacer:t,children:(0,c.jsx)(o.default,{text:f,textLimit:n.initialPageSize,children:e=>{let{textLimit:t}=e;const r=(0,i.Conversation)({mentions:n.mentionMap(),links:n.getLinks(t),phoneNumbers:n.getPhoneNumbers(),selectable:true,trusted:!0===a,fromMe:n.id.fromMe});return(0,c.jsx)(s.EmojiText,{direction:n.dir,dirMismatch:h,formatters:r,inferLinesDirection:!0,selectable:true,text:n.text,textLimit:t})}})})]})};var r=a(35461),i=a(74331),s=a(65417),o=n(a(17080)),l=n(a(14296)),u=n(a(54703)),d=a(7538),c=a(85893)},98886:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useModelValues)(e.msg,["isSentByMe","isGroupMsg","senderObj","subtype"]);let a,n;"fanout"===t.subtype?(a=i.fbt._("Waiting for this message. Check your phone.",null,{hk:"3bM8te"}),n=(0,r.getFanoutPlaceholderFaqUrl)()):(a=u.default.t(598),n=(0,r.getCiphertextFaqUrl)());return(0,h.jsx)(f.default,{msg:(0,c.unproxy)(t),displayAuthor:e.displayAuthor,children:(0,h.jsxs)(d.default,{iconName:"ciphertext",msg:t.unsafe(),children:[a," ",(0,h.jsx)("span",{className:(0,s.default)(p),role:"button",onClick:()=>{(e=>{(0,l.openExternalLink)(e)})(n)},children:u.default.t(447)})]})})};var r=a(21310),i=a(48360),s=n(a(56720)),o=a(35461),l=a(12591),u=n(a(14296)),d=n(a(99422)),c=a(18146),f=n(a(12209)),h=a(85893);const p={color:"seuajalt"}},21504:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.canUseCustomCropping=p,t.getBubbleDimension=function(e,t,a,n,i,s,c){const f=s&&a<1?1:a,m=function(e,t,a,n){const i=p(e,t,a)?d:u;return(0,r.default)((0,r.default)({},i),{},{width:null!=n&&n<=i.width?n:i.width})}(e,n,i,c);let g,_;n===l.DisplayTheme.Album?(g=o.ALBUM_MAX_HEIGHT-o.ALBUM_PADDING,_=o.ALBUM_MAX_HEIGHT):(g=f<1?m.portraitWidth:m.width,_=function(e,t,a,n){const r=1.91;if(n&&t<=r)return h(r,e,a);return h(t,e,a)}(m,f,e,t));return{bubbleWidth:g,bubbleHeight:_}},t.getImgStyle=function(e,t,a,n){if(null==e||0===e||null==t||0===t||null==a||0===a||null==n||0===n)return{width:"100%",height:"100%"};if(e/t>a/n)return{height:"100%"};return{width:"100%"}};var r=n(a(81109)),i=a(5177),s=a(15461),o=a(81250),l=a(29565);const u={width:330,portraitWidth:330,minAspectRatio:1,maxAspectRatio:2.4},d=(0,r.default)((0,r.default)({},u),{},{portraitWidth:240,minAspectRatio:.71,maxAspectRatio:4}),c=new Set([s.MSG_TYPE.IMAGE,s.MSG_TYPE.VIDEO]),f=new Set([i.DISPLAY_TYPE.CONVERSATION,i.DISPLAY_TYPE.MSG_INFO,i.DISPLAY_TYPE.STARRED_MSGS]);function h(e,t,a){if(null==e)return a===s.MSG_TYPE.VIDEO?240:330;let n;return n=e<t.minAspectRatio?t.portraitWidth/t.minAspectRatio:e<1?t.portraitWidth/e:e<=t.maxAspectRatio?t.width/e:t.width/t.maxAspectRatio,n}function p(e,t,a){return c.has(e)&&f.has(a)&&t!==l.DisplayTheme.Album}},3154:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(40234),i=a(81572),s=n(a(30381)),o=a(67294),l=n(a(59312)),u=a(87550),d=a(65417),c=a(58827),f=a(85893);function h(e,t){const{isFocusable:a,timestamp:n}=e,h=(0,l.default)(),p=(0,o.useRef)(null),[m,g]=(0,o.useState)(!1),_=(0,o.useMemo)((()=>n>=(0,s.default)().startOf("day").subtract(7,"day").unix()),[n]);(0,u.useListener)(_?i.Cmd:null,"midnight",h);const v=()=>n,b=()=>{m&&g(!1)},y=()=>{m||g(!0)},C=()=>p.current;let S;if((0,o.useImperativeHandle)(t,(()=>({getTimestamp:v,show:b,hide:y,getElement:C}))),!m)try{const t=r.Clock.relativeDateStr(e.timestamp);S=(0,f.jsx)(d.EmojiText,{direction:"auto",text:t.toString().toUpperCase()})}catch(e){__LOG__(4,void 0,new Error,void 0,["date_marker"])`Clock.relativeDateStr threw with error ${null==e?void 0:e.name}, stack: ${null==e?void 0:e.stack}`}return(0,f.jsx)(c.SystemBubble,{ref:p,hidden:m,isFocusable:a,children:S})}var p=(0,o.forwardRef)(h);t.default=p},68466:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{className:t,children:a,direction:n="horizontal",outgoingMsg:o,position:l}=e;return(0,i.jsx)("div",{className:(0,r.default)(s.wrapper,"bottom"===l&&s.posBottom,"top"===l&&s.posTop,!o&&s.wrapperIn,o&&s.wrapperOut),children:a})};var r=n(a(56720)),i=a(85893);const s={posBottom:{borderTopStartRadius:"bi2mdrpt",borderTopEndRadius:"hsk1pqkj"},posTop:{borderBottomStartRadius:"a0vc5f8u",borderBottomEndRadius:"e3yfz9gx"},wrapper:{borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf",cursor:"ajgl1lbb",overflowX:"gfz4du6o",overflowY:"r7fjleex",textDecoration:"aja0x350",width:"ln8gz9je"},wrapperIn:{backgroundColor:"rrq4r3yd"},wrapperOut:{backgroundColor:"s0eflmyh"}}},49885:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.buildDropdownMenu=function(e){let{msg:t,displayType:a,onKeepClick:n,onUndoKeepClick:_,onMsgInfoClick:v,onReplyClick:b,onPrivateReplyClick:y,onMessageDownloadClick:C,onStarClick:S,onUnstarClick:E,onFavoriteStickerClick:T,onUnfavoriteStickerClick:x,onForwardClick:M,onEditLabelClick:k,onCopyFavoriteStickerClick:w,onOpenStickerPackClick:P,onReactionClick:A,onMoreReactionOptionsClick:j,onMessageDeleteClick:I,onOpenContactChatClick:O}=e;const N=[];!t.isSentByMe||a===s.DISPLAY_TYPE.MSG_INFO||t.asRevoked||t.isMdHistoryMsg||N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-info",action:v,children:p.default.t(510)},"info"));t.canReply()&&N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-reply",action:b,children:d.fbt._("Reply",null,{hk:"1C7DPa"})},"reply"));(t.canPrivateReply()||t.canPrivateReplyInRestrictedGrp())&&N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-reply",action:y,children:d.fbt._("Reply privately",null,{hk:"1XQeK2"})},"private_reply"));(0,u.canReactToMessage)(t)&&N.push((0,g.jsx)(f.DropdownItem,{a8n:"react-to-message",action:A,children:d.fbt._("React to message",null,{hk:"1MagBh"})},"react-to-message"));t.isDownloadable()&&N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-download",action:C,children:d.fbt._("Download",null,{hk:"1g5Jix"})},"download"));t.canForward()&&N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-forward",action:M,children:p.default.t(368)},"forward"));(0,o.canEditLabelAssociation)()&&!t.asRevoked&&N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-edit-label",action:k,children:d.fbt._("Edit label",null,{hk:"3QX44B"})},"editLabel"));t.canStar()&&(t.star?N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-unstar",action:E,children:p.default.t(689)},"star")):N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-star",action:S,children:p.default.t(665)},"star")));(0,r.isMDBackend)()&&t.type===l.MSG_TYPE.STICKER&&(0,c.getABPropConfigValue)("sticker_md_favorite_stickers_enabled")&&((0,h.isStickerFilehashFavorited)(t.filehash)?N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-remove-favorite-sticker",action:x,children:d.fbt._("Remove from favorites",null,{hk:"4YvuK"})},"remove-favorite-sticker")):N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-favorite-sticker",action:T,children:d.fbt._("Add to favorites",null,{hk:"2ODf78"})},"favorite-sticker")));const R=m.MediaBlobCache.get(t.filehash);t.type===l.MSG_TYPE.STICKER&&null!=R&&(0,i.supportsCopyImageToClipboard)()&&N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-copy-favorite-sticker",action:()=>w(R),children:d.fbt._("Copy Sticker Image",null,{hk:"2hsnNe"})},"copy-favorite-sticker"));if((0,r.isMDBackend)()&&t.type===l.MSG_TYPE.STICKER){const{stickerPackId:e}=t.mediaData;null!=e&&N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-open-sticker-pack",action:()=>P(e),children:d.fbt._("View Pack",null,{hk:"tAlU3"})},"open-sticker-pack"))}N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-delete",action:I,children:p.default.t(277)},"delete")),!t.isGroupMsg||!t.author||t.isSentByMe||N.push((0,g.jsx)(f.DropdownItem,{a8n:"mi-msg-author",action:O,children:p.default.t(506,{author:t.displayName()})},"author"));return N};var r=a(88555),i=(a(81572),a(15022)),s=(n(a(88755)),a(5177)),o=a(8139),l=(n(a(65212)),a(15461)),u=a(67811),d=(a(78820),a(48360)),c=a(57849),f=a(71174),h=a(83610),p=n(a(14296)),m=a(84866),g=(a(88258),a(90585),n(a(84159)),a(84728),a(85893))},87350:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,o.useState)(!1);let n;const[h,p]=(0,l.default)(e.onClick);null!=e.onClick&&(n=p);let m=[(0,f.jsx)("div",(0,r.default)((0,r.default)({className:d.default.error,ref:h},n),{},{children:(0,f.jsx)(c.default,{name:"error"})}),"error-button")];if(t){const t=(0,f.jsx)(u.default,{fromMe:e.fromMe,children:e.tooltip},"error-tooltip");m.unshift(t)}!1===e.fromMe&&(m=m.reverse());return(0,f.jsx)("div",{className:(0,s.default)(d.default.container,{[d.default.compact]:e.displayType===i.DISPLAY_TYPE.MSG_INFO,[d.default.notFromMe]:!1===e.fromMe}),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),"data-testid":"fail-container",children:m})};var r=n(a(81109)),i=a(5177),s=n(a(94184)),o=a(67294),l=n(a(34470)),u=n(a(36075)),d=n(a(75140)),c=n(a(23217)),f=a(85893)},94638:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,displayType:a,mdDowngrade:n}=e,{isFailed:d,to:c}=(0,s.useModelValues)(t,["isFailed","to"]);if(!d)return null;return(0,u.jsx)(o.default,{displayType:a,tooltip:i.fbt._("Could not deliver message",null,{hk:"YbK1b"}),onClick:()=>{r.ModalManager.open((0,u.jsx)(l.default,{to:c,participant:n,msg:t}))}})};var r=a(14597),i=a(48360),s=a(35461),o=n(a(87350)),l=n(a(56227)),u=a(85893)},70367:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,displayType:a}=e,{isFailed:n}=(0,s.useModelValues)(t,["isFailed"]);if(!n)return null;return(0,u.jsx)(o.default,{displayType:a,tooltip:i.fbt._("Could not deliver message",null,{hk:"YbK1b"}),onClick:()=>{r.ModalManager.open((0,u.jsx)(l.default,{msg:t}))}})};var r=a(14597),i=a(48360),s=a(35461),o=n(a(87350)),l=n(a(72434)),u=a(85893)},8235:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{displayType:t,msg:a}=e,{mediaData:n,mdDowngrade:c,isSendFailure:f}=(0,i.useModelValues)(a,["mediaData","mdDowngrade","isSendFailure"]);if(n)return(0,d.jsx)(l.default,{displayType:t,msg:a});if((0,r.isMDBackend)()){if(c)return(0,d.jsx)(s.default,{msg:a,displayType:t,mdDowngrade:c});if(f)return(0,d.jsx)(o.default,{msg:a,displayType:t})}return(0,d.jsx)(u.default,{msg:a,displayType:t})};var r=a(88555),i=a(35461),s=n(a(94638)),o=n(a(70367)),l=n(a(72021)),u=n(a(26760)),d=a(85893)},72021:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{displayType:t,msg:a}=e,{isFailed:n,type:m,isUnsentMedia:g}=(0,l.useModelValues)(a,["isFailed","type","isUnsentMedia"]),{mediaStage:_,type:v}=(0,l.useModelValues)(a.mediaData,["mediaStage","type"]),b=t===r.DISPLAY_TYPE.CONVERSATION;if(m===s.MSG_TYPE.REVOKED)return null;if(_===c.MEDIA_DATA_STAGE.ERROR_TOO_LARGE)return(0,h.jsx)(f.default,{displayType:t,mediaType:v});if(g&&(_===c.MEDIA_DATA_STAGE.ERROR_MISSING||_===c.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED))return(0,h.jsx)(u.default,{displayType:t,tooltip:o.fbt._("Couldn't send this message.",null,{hk:"szFnN"})});if(n)return _===c.MEDIA_DATA_STAGE.ERROR_MISSING?(0,h.jsx)(u.default,{displayType:t,tooltip:o.fbt._("Could not forward this message because the file is no longer on your phone.",null,{hk:"4FZlXM"})}):m===s.MSG_TYPE.PTT&&_===c.MEDIA_DATA_STAGE.PREPARING?(0,h.jsx)(u.default,{displayType:t,tooltip:d.default.t(603)}):i.LegacyPhoneFeatures.supportsFeature(i.LegacyPhoneFeatures.F.RESEND_ICON)&&b&&_!==c.MEDIA_DATA_STAGE.REMOTE_UPLOADING?(0,h.jsx)(u.default,{displayType:t,onClick:p.bind(null,a),tooltip:d.default.t(617)}):(0,h.jsx)(u.default,{displayType:t,tooltip:o.fbt._("Couldn't send this message.",null,{hk:"szFnN"})});return null};var r=a(5177),i=a(38184),s=a(15461),o=a(48360),l=a(35461),u=n(a(87350)),d=n(a(14296)),c=a(58668),f=n(a(82787)),h=a(85893);function p(e){e.resend().catch((function(e){__LOG__(2)`msg_media_fail_icon:resend failure: ${e}`}))}},82787:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=function(e){const t=l.default.filesize(u.ServerProps.media),a=l.default.filesize((0,u.getMaxFilesSizeServerProp)());switch(e){case i.MSG_TYPE.AUDIO:case i.MSG_TYPE.PTT:return l.default.t(505,{maxSize:t});case i.MSG_TYPE.IMAGE:return l.default.t(509,{maxSize:t});case i.MSG_TYPE.VIDEO:return l.default.t(521,{maxSize:t});case i.MSG_TYPE.DOCUMENT:return l.default.t(507,{maxSize:a});case i.MSG_TYPE.UNKNOWN:default:return l.default.t(508,{maxSize:a})}}(e.mediaType);return(0,d.jsx)(o.default,{displayType:e.displayType,onClick:c.bind(null,t),tooltip:t})};var r=a(14597),i=a(15461),s=n(a(52665)),o=n(a(87350)),l=n(a(14296)),u=a(64551),d=a(85893);function c(e){r.ModalManager.open((0,d.jsx)(s.default,{onOK:()=>r.ModalManager.close(),children:e}))}},26760:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,displayType:a}=e,{isFailed:n}=(0,r.useModelValues)(t,["isFailed"]);if(!n)return null;return(0,o.jsx)(i.default,{displayType:a,tooltip:s.default.t(617),onClick:()=>{t.resend().catch((()=>{__LOG__(2)`PlainMsgFailIcon: failed to resend message`}))}})};var r=a(35461),i=n(a(87350)),s=n(a(14296)),o=a(85893)},14703:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t}=e,a=(0,s.useModelValues)(e.msg,["isForwarded","forwardingScore","numTimesForwarded","isFrequentlyForwarded"]);if(!(0,l.showForwarded)(a))return null;const n=a.isFrequentlyForwarded,f=u.ServerProps.hfmStringChanges?"highly-forwarded-v2":"highly-forwarded",h=n?f:"forwarded",p=(0,r.default)(o.default.icon,{[o.default.iconHighlyForwarded]:n&&!u.ServerProps.hfmStringChanges}),m=u.ServerProps.hfmStringChanges?i.fbt._("Forwarded many times",null,{hk:"3LRhTn"}):i.fbt._("Forwarded",null,{hk:"VlL2I"}),g=n?m:i.fbt._("Forwarded",null,{hk:"VlL2I"});return(0,c.jsxs)("div",{className:(0,r.default)(o.default.container,t),children:[(0,c.jsx)(d.default,{name:h,display:"inline",className:p}),(0,c.jsx)("span",{className:o.default.text,children:g})]})};var r=n(a(94184)),i=a(48360),s=a(35461),o=n(a(67713)),l=a(63132),u=a(64551),d=n(a(23217)),c=a(85893)},23296:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45120)),i=n(a(94184)),s=a(67294),o=n(a(14583)),l=a(85893);function u(e,t){const a=(0,s.useRef)(null),n=(0,i.default)(o.default.msg,{[o.default.hover]:e.hover,[o.default.current]:e.current,[o.default.active]:e.active}),u=()=>{r.default.maybeIndicateFocus(a.current,o.default.focusAnimation)};return(0,s.useImperativeHandle)(t,(()=>({indicateFocus:u}))),(0,l.jsx)("div",{ref:a,className:n,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,children:e.children})}var d=(0,s.forwardRef)(u);t.default=d},10455:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedGif=t.MAX_DIM=t.BUBBLE_PADDING=void 0;var r=n(a(99964)),i=a(81572),s=a(5177),o=a(14597),l=a(8248),u=n(a(94184)),d=a(67294),c=a(35461),f=n(a(72655)),h=n(a(85559)),p=n(a(6725)),m=n(a(11740)),g=a(24808),_=n(a(14703)),v=n(a(1565)),b=n(a(22358)),y=n(a(14296)),C=n(a(20668)),S=a(58668),E=a(42316),T=n(a(11339)),x=a(63132),M=n(a(34949)),k=a(18146),w=n(a(23217)),P=n(a(2749)),A=n(a(23425)),j=a(85893);const I=(0,l.getIntFromStylesProp)(v.default,"-width-picture-bubble-inner");t.MAX_DIM=I;const O=(0,l.getIntFromStylesProp)(v.default,"-padding-picture-bubble");t.BUBBLE_PADDING=O;const N=I/4;function R(e,t){const{isMsgVisible:a}=e,n=(0,c.useModelValues)(e.msg,["id","ack","caption","isFailed","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj"]),l=(0,c.useModelValues)(e.mediaData,["aspectRatio","preview","duration","type","mediaStage","renderableUrl","fullWidth","fullHeight","size"]),R=l,L=(0,d.useRef)(null),B=(0,d.useRef)(0),F=(0,d.useRef)(null),[G,U]=(0,d.useState)(!1);(0,d.useEffect)((()=>{n.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:T.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[]);const V=()=>{var e;B.current=0,U(!1),null===(e=L.current)||void 0===e||e.pauseAndReset()},W=()=>{const e=L.current;e&&(B.current<=0?V():(B.current-=1,G||U(!0),e.play()))},H=e=>{var t;if(!a)return null;const n=a(e);return n?null===(t=n.getImgNode)||void 0===t?void 0:t.call(n):null},q=()=>!G&&B.current!==1/0,Y=e=>{e&&e.stopPropagation(),i.Cmd.mediaViewerModal({msg:(0,k.unproxy)(n.unsafe()),getZoomNode:H})},z=e=>{switch(R.mediaStage){case S.MEDIA_DATA_STAGE.RESOLVED:q()?(e=>{const t=L.current;if(l.mediaStage===S.MEDIA_DATA_STAGE.RESOLVED&&t){if(e&&e.stopPropagation(),null==F.current||0===F.current){const e=t.getDuration();null!=e?F.current=e:l.duration&&"0"!==l.duration&&(F.current=parseInt(l.duration,10))}if(null!=F.current&&0!==F.current){const e=Math.ceil(6/F.current);B.current=Math.max(e,3)}else B.current=3;W()}})(e):Y(e);break;case S.MEDIA_DATA_STAGE.INIT:Y(e);break;case S.MEDIA_DATA_STAGE.FETCHING:n.cancelDownload();break;case S.MEDIA_DATA_STAGE.NEED_POKE:n.forceDownloadMediaEvenIfExpensive();break;case S.MEDIA_DATA_STAGE.UPLOADING:n.cancelUpload();break;case S.MEDIA_DATA_STAGE.NEED_UPLOAD:n.resumeUpload();break;case S.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:n.resumeRemoteUpload();break;case S.MEDIA_DATA_STAGE.ERROR_MISSING:o.ModalManager.open((0,j.jsx)(C.default,{msg:n.unsafe()}))}},K=e=>{e.stopPropagation(),e.preventDefault(),z(e)},$=()=>{var e;return null===(e=L.current)||void 0===e?void 0:e.underlyingVideo()},Q=()=>B.current;(0,d.useImperativeHandle)(t,(()=>({getImgNode:$,handleKeyActivation:K,pause:V,getPlayCount:Q})));const X=R.preview instanceof M.default?R.preview.url():void 0;let J=null,Z=(()=>{const e=R.aspectRatio||R.fullWidth/R.fullHeight;if(!e)return{bubbleWidth:I,bubbleHeight:"100%",contentWidth:I,contentHeight:"100%"};let t,a;e<=1/4?(a=I,t=1.2*N):e<1?(a=I,t=I*e):e<4?(t=I,a=I/e):(t=I,a=N);let n=R.renderableUrl&&R.fullWidth||t,r=R.renderableUrl&&R.fullHeight||a;return n/r>t/a?(n=n*a/r,r=a):(r=r*t/n,n=t),r>I&&(r=I),{bubbleWidth:t,bubbleHeight:a,contentWidth:n,contentHeight:r}})();null!=e.maxWidth&&e.maxWidth<Z.bubbleWidth&&(Z=(e=>{const t=R.aspectRatio||R.fullWidth/R.fullHeight;let a,n;const r=1.2*N;t>=1?e<I?(a=e,n=a/t,n<N&&(n=N)):(a=I,n=a/t,n<N&&(n=N)):(n=I,a=n*t,a<r&&(a=r),e<I&&a>e&&(a=e));let i=a,s=n;return i/s>a/n?(i=i*n/s,s=n):(s=s*a/i,i=a),{bubbleWidth:a,bubbleHeight:n,contentWidth:i,contentHeight:s}})(e.maxWidth));const{bubbleWidth:ee,contentWidth:te,contentHeight:ae}=Z;if(R.mediaStage===S.MEDIA_DATA_STAGE.RESOLVED){const e=R.aspectRatio>=1?{width:"auto",height:ae}:{width:te,height:"auto"};J=(0,j.jsx)("div",{className:v.default.thumbVideo,children:(0,j.jsx)(A.default,{ref:L,src:R.renderableUrl,style:e,onEnded:W,muted:!0,children:y.default.t(708)})})}const ne=X?(0,j.jsx)("div",{className:v.default.thumbImage,style:{backgroundImage:`url(${X})`}}):null,re=n.caption?(0,j.jsx)("div",{className:v.default.caption,style:{maxWidth:ee},children:(0,j.jsx)(p.default,{msg:n.unsafe(),trusted:e.trusted})}):null,ie=re?null:(0,j.jsx)(P.default,{}),se=(0,x.showForwarded)(n),oe=(0,u.default)(v.default.bubble,{[v.default.hasCaption]:n.caption,[v.default.hasAuthor]:e.displayAuthor,[v.default.forwarded]:se,[v.default.isPSA]:n.isPSA,[v.default.isGallery]:e.displayType===s.DISPLAY_TYPE.STARRED_MSGS||e.displayType===s.DISPLAY_TYPE.GALLERY,[v.default.isInfo]:e.displayType===s.DISPLAY_TYPE.MSG_INFO}),le=e.displayAuthor?(0,j.jsx)("div",{className:v.default.author,children:(0,j.jsx)(f.default,{msg:n,contact:n.senderObj})}):null,ue=se?(0,j.jsx)(_.default,{msg:n.unsafe(),className:v.default.forwardedIndicator}):null;let de;switch(n.gifAttribution){case g.Message$VideoMessageAttribution.GIPHY:de=(0,j.jsx)("div",{className:v.default.vendor,children:(0,j.jsx)(w.default,{name:"giphy"})});break;case g.Message$VideoMessageAttribution.TENOR:de=(0,j.jsx)("div",{className:v.default.vendor,children:(0,j.jsx)(w.default,{name:"tenor"})});break;default:de=null}const ce=e.quotedMsg?(0,j.jsx)("div",{className:v.default.quote,children:e.quotedMsg}):null,fe=(0,j.jsxs)(j.Fragment,{children:[le,ue,ce,(0,j.jsx)(m.default,{msg:n.unsafe(),wrapperClass:v.default.ctwaContext}),(0,j.jsxs)("div",{"data-a8n":r.default.key("image-thumb-gif"),className:v.default.thumb,onClick:z,style:{width:te,height:ae},children:[(0,j.jsx)(b.default,{mediaStage:R.mediaStage,mediaDataFileSize:R.size,isFailed:n.isFailed,shouldPlay:q(),onClick:z}),ne,J,ie,de]}),re,(0,j.jsx)("div",{className:v.default.meta,children:(0,j.jsx)(E.Meta,{msg:n})})]});return re?(0,j.jsx)(h.default,{contact:n.senderObj,msg:n.unsafe(),className:oe,onClick:D,style:{width:ee},children:fe}):(0,j.jsx)("div",{className:oe,onClick:D,style:{width:ee+2*O},children:fe})}function D(e){e.stopPropagation()}const L=(0,d.forwardRef)(R);t.WrappedGif=L},22358:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{mediaStage:t,isFailed:a,mediaDataFileSize:s,shouldPlay:o,onClick:l}=e;switch(t){case r.MEDIA_DATA_STAGE.INIT:case r.MEDIA_DATA_STAGE.EXISTS:return null;case r.MEDIA_DATA_STAGE.RESOLVED:return o?(0,i.jsx)(n.GifIcon,{onClick:l}):null;case r.MEDIA_DATA_STAGE.FETCHING:case r.MEDIA_DATA_STAGE.UPLOADING:case r.MEDIA_DATA_STAGE.REUPLOADING:case r.MEDIA_DATA_STAGE.DECRYPTING:return(0,i.jsx)(n.Pending,{cancelable:!0});case r.MEDIA_DATA_STAGE.NEED_POKE:return(0,i.jsx)(n.Download,{filesize:s});case r.MEDIA_DATA_STAGE.NEED_UPLOAD:case r.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:return(0,i.jsx)(n.Upload,{filesize:s});case r.MEDIA_DATA_STAGE.SENDING:return a?null:(0,i.jsx)(n.Pending,{cancelable:!0});default:return(0,i.jsx)(n.Pending,{})}};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),r=a(58668),i=a(85893);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}},76998:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(81572),i=a(41455),s=a(78820),o=n(a(89867)),l=a(62054),u=n(a(94184)),d=a(48360),c=a(67294),f=n(a(59312)),h=a(87550),p=a(35461),m=n(a(95402)),g=a(65417),_=a(51382),v=a(16961),b=a(55800),y=n(a(36437)),C=a(79259),S=n(a(56074)),E=n(a(11339)),T=n(a(23217)),x=a(85893);const M=e=>{e.stopPropagation(),e.preventDefault()},k=e=>o.default.equals(e,(0,s.getMaybeMeUser)());function w(e){let{text:t}=e;return(0,x.jsx)(g.EmojiText,{direction:"auto",text:t})}function P(e){let{clickable:t,msg:a}=e;const{subtype:n,author:r,body:i}=a,s=r?(0,v.getFormattedName)(r,!t):null;switch(n){case"add":return k(r)?d.fbt._("You were added",null,{hk:"4x0xHD"}):(0,x.jsx)(S.default,{id:803,params:{name:s}});case"remove":return k(r)?d.fbt._("You were removed",null,{hk:"2gyTSa"}):(0,x.jsx)(S.default,{id:811,params:{name:s}});case"leave":return k(r)?d.fbt._("You left",null,{hk:"3mSR6P"}):null!=r?(0,x.jsx)(S.default,{id:809,params:{name:s}}):d.fbt._("This group has ended.",null,{hk:"C2izu"});case"picture":return"remove"===i?k(r)?(0,x.jsx)(S.default,{id:878}):(0,x.jsx)(S.default,{id:877,params:{name:s}}):k(r)?(0,x.jsx)(S.default,{id:876}):(0,x.jsx)(S.default,{id:875,params:{name:s}});case"subject":{const e=(0,x.jsx)(w,{text:i});return k(r)?(0,x.jsx)(S.default,{id:824,params:{subject:e}}):null!=s?(0,x.jsx)(S.default,{id:822,params:{subject:e,name:s}}):(0,x.jsx)(S.default,{id:823,params:{subject:e}})}case"modify":if(k(r)){const e=(0,l.widToFormattedUser)(i);return(0,x.jsx)(S.default,{id:805,params:{new_number:e,name:s}})}return(0,x.jsx)(S.default,{id:804,params:{name:s}});default:__LOG__(2)`wa:groupNotification:unknown message subtype: ${n}`}}function A(e){var t;let{clickable:a,msg:n}=e;const{subtype:r,author:i,body:s,recipients:u,chat:c,templateParams:f}=n,h=n.displayName(),p=i?(0,v.getFormattedName)(i,!a):null,m=u?u[0]:void 0,g=m?(0,v.getFormattedName)(m,!a):null,b=(0,v.getFormattedNames)(u,!a);switch(r){case"add":return i?k(i)?(0,x.jsx)(S.default,{id:818,params:{participants:b}}):k(m)?null!=p?(0,x.jsx)(S.default,{id:813,params:{name:p}}):d.fbt._("A participant added you",null,{hk:"LtOH1"}):null!=p?(0,x.jsx)(S.default,{id:812,params:{participants:b,name:p}}):(0,x.jsx)(S.default,{id:816,params:{participants:b}}):k(m)?d.fbt._("You were added",null,{hk:"4x0xHD"}):(0,x.jsx)(S.default,{id:803,params:{name:g}});case"remove":return i?o.default.equals(i,m)?d.fbt._("You were removed",null,{hk:"2gyTSa"}):k(i)?(0,x.jsx)(S.default,{id:819,params:{participants:b}}):k(m)?null!=p?(0,x.jsx)(S.default,{id:815,params:{name:p}}):d.fbt._("A participant removed you",null,{hk:"3MXPgr"}):null!=p?(0,x.jsx)(S.default,{id:814,params:{participants:b,name:p}}):(0,x.jsx)(S.default,{id:817,params:{participants:b}}):k(m)?d.fbt._("You were removed",null,{hk:"2gyTSa"}):(0,x.jsx)(S.default,{id:811,params:{name:g}});case"leave":return k(m)?d.fbt._("You left",null,{hk:"3mSR6P"}):""!==b?(0,x.jsx)(S.default,{id:809,params:{name:b}}):d.fbt._("This group has ended.",null,{hk:"C2izu"});case"picture":return"remove"===s?k(i)?(0,x.jsx)(S.default,{id:878}):(0,x.jsx)(S.default,{id:877,params:{name:p}}):k(i)?(0,x.jsx)(S.default,{id:876}):(0,x.jsx)(S.default,{id:875,params:{name:p}});case"subject":{const e=(0,x.jsx)(w,{text:s});return k(i)?(0,x.jsx)(S.default,{id:824,params:{subject:e}}):null!=p?(0,x.jsx)(S.default,{id:822,params:{name:p,subject:e}}):(0,x.jsx)(S.default,{id:823,params:{subject:e}})}case"modify":{const e=(0,l.widToFormattedUser)(i),t=(0,l.widToFormattedUser)(m);return e===h?(0,x.jsx)(S.default,{id:805,params:{name:h,new_number:t}}):(0,x.jsx)(S.default,{id:804,params:{name:h}})}case"create":if(k(i))return s?(0,x.jsx)(S.default,{id:782,params:{subject:(0,x.jsx)(w,{text:s})}}):(0,x.jsx)(S.default,{id:783});if(s)return null!=p?(0,x.jsx)(S.default,{id:779,params:{subject:(0,x.jsx)(w,{text:s}),name:p}}):(0,x.jsx)(S.default,{id:781,params:{subject:(0,x.jsx)(w,{text:s})}});if(null!=p){const e=c.title();return""===e.trim()?(0,x.jsx)(S.default,{id:780,params:{name:p}}):(0,x.jsx)(S.default,{id:779,params:{name:p,subject:e}})}return d.fbt._("An admin created this group",null,{hk:"4GaP6B"});case"delete":return c.isSupportGroup()?d.fbt._("This chat has been closed",null,{hk:"4v1FVm"}):d.fbt._("This group has ended",null,{hk:"3LCAzO"});case"promote":{const e=u.length;return 1===e&&k(m)?d.fbt._("You're now an admin",null,{hk:"3kNNwA"}):(0,x.jsx)(S.default,{id:810,params:{count:e,participants:b},plural:e})}case"demote":{const e=u.length;return 1===e&&k(m)?d.fbt._("You're no longer an admin",null,{hk:"4b22N8"}):(0,x.jsx)(S.default,{id:806,params:{count:e,participants:b},plural:e})}case"invite":return k(m)?(0,x.jsx)(S.default,{id:808}):(0,x.jsx)(S.default,{id:807,params:{name:g}});case"revoke_invite":return k(i)?d.fbt._("You reset this group's invite link. Click to view the new invite link.",null,{hk:"27k9Gu"}):(0,x.jsx)(S.default,{id:800,params:{name:p}});case"description":return k(i)?d.fbt._("You changed the group description. Click to view.",null,{hk:"44K01H"}):null!=p?(0,x.jsx)(S.default,{id:798,params:{name:p}}):d.fbt._("A participant changed the group description. Click to view.",null,{hk:"2V9oO8"});case"announce":return"on"===s?k(i)?d.fbt._("You allowed only admins to send messages to this group",null,{hk:"w9ZN5"}):(0,x.jsx)(S.default,{id:778,params:{name:p}}):k(i)?d.fbt._("You changed this group's settings to allow all participants to send messages to this group.",null,{hk:"3Oj0Tj"}):(0,x.jsx)(S.default,{id:777,params:{name:p}});case"restrict":return"on"===s?k(i)?d.fbt._("You changed this group's settings to allow only admins to edit this group's info.",null,{hk:"2ywD8F"}):(0,x.jsx)(S.default,{id:821,params:{name:p}}):k(i)?d.fbt._("You changed this group's settings to allow all participants to edit this group's info.",null,{hk:"1dWmtw"}):(0,x.jsx)(S.default,{id:820,params:{name:p}});case"no_frequently_forwarded":return"on"===s?k(i)?d.fbt._("You changed this group's settings to not allow messages that have been forwarded many times.",null,{hk:"16hyEI"}):(0,x.jsx)(S.default,{id:802,params:{name:p}}):k(i)?d.fbt._("You changed this group's settings to allow messages that have been forwarded many times.",null,{hk:"3Ib1Hu"}):(0,x.jsx)(S.default,{id:801,params:{name:p}});case"announce_msg_bounce":return d.fbt._("Only admins can message this group.",null,{hk:"O3Va5"});case"v4_add_invite_sent":return(0,x.jsx)(S.default,{id:705,params:{participants:b,count:u.length}});case"v4_add_invite_join":return(0,x.jsx)(S.default,{id:704,params:{participants:b,count:u.length}});case"ephemeral":const e=null===(t=c.groupMetadata)||void 0===t?void 0:t.canSetEphemeralSetting(),v=(e=>{const t=e.templateParams[0];return t&&parseInt(t,10)||0})(n);return i?k(i)?e?(0,x.jsx)(C.EphemeralL10n,{type:C.EphemeralStringType.SettingChangeByYouAsAdmin,numSeconds:v}):(0,x.jsx)(C.EphemeralL10n,{type:C.EphemeralStringType.SettingChangeByYou,numSeconds:v}):e?(0,x.jsx)(C.EphemeralL10n,{type:C.EphemeralStringType.SettingChangeByOthersAsAdmin,numSeconds:v,name:p}):(0,x.jsx)(C.EphemeralL10n,{type:C.EphemeralStringType.SettingChangeByOthers,numSeconds:v,name:p}):e?(0,x.jsx)(C.EphemeralL10n,{type:C.EphemeralStringType.SettingChangeByUnknownAsAdmin,numSeconds:v}):(0,x.jsx)(C.EphemeralL10n,{type:C.EphemeralStringType.SettingChangeByUnknown,numSeconds:v});case"initial_pHash_mismatch":return d.fbt._("Group participants have changed. Click to view",null,{hk:"FzeN7"});case"growth_locked":return d.fbt._("Invite via link became unavailable. Click to learn more.",null,{hk:"kGh3d"});case"growth_unlocked":return d.fbt._("Invite via link became available again. Click to view the new invite link.",null,{hk:"1TFNSV"});case"parent_group_link":case"sibling_group_link":case"sub_group_link":case"parent_group_unlink":case"sibling_group_unlink":case"sub_group_unlink":return(0,_.formatLinkNotification)(r,i,f,a);default:__LOG__(2)`wa:groupNotification:unknown message subtype: ${r}`}}function j(e){let{clickable:t,msg:a}=e;const{type:n,subtype:r}=a;if("gp2"===n){if("announce"===r)return(0,x.jsx)("div",{className:(0,u.default)(y.default.icon,y.default.iconMegaphone),children:(0,x.jsx)(T.default,{name:"megaphone"})});if("ephemeral"===r&&t)return(0,x.jsx)("div",{className:(0,u.default)(y.default.icon,y.default.iconDisappearing),children:(0,x.jsx)(T.default,{name:"disappearing"})})}return null}function I(e,t){const{clickable:n}=e,s=(0,f.default)(),o=(0,m.default)(),l=(0,c.useRef)(null),u=(0,p.useModelValues)(e.msg,["author","body","chat","recipients","subtype","templateParams","type"]),{type:d,subtype:g,chat:_}=u,v=()=>{var e;null===(e=l.current)||void 0===e||e.click()},C=e=>t=>{M(t),r.Cmd.chatInfoDrawer(_,!0,e)};if((0,c.useImperativeHandle)(t,(()=>({handleKeyActivation:v}))),(0,h.useListener)(u.chat.groupMetadata,"change:support",s),"group_notification"!==d&&"gp2"!==d)return null;const S="gp2"===d?(0,x.jsx)(A,{clickable:n,msg:u}):(0,x.jsx)(P,{clickable:n,msg:u});if(!S)return null;const T=((e,t)=>{if(n)switch(t){case"picture":case"subject":return e=>{M(e),r.Cmd.chatInfoDrawer(u.chat)};case"revoke_invite":return e=>{M(e);const{GroupInviteLinkDrawerLoadable:t}=a(88280);i.DrawerManager.openDrawerRight((0,x.jsx)(t,{chat:_,groupMetadata:_.groupMetadata,onBack:()=>i.DrawerManager.closeDrawerRight()}),"slide-left",o)};case"description":return C();case"ephemeral":var s;if(null===(s=_.groupMetadata)||void 0===s?void 0:s.canSetEphemeralSetting())return e=>{M(e),r.Cmd.ephemeralDrawer(_,!1,E.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.SYSTEM_MESSAGE)};break;case"initial_pHash_mismatch":return C(!0);case"growth_unlocked":return e=>{var t;M(e);const n=!!(null===(t=_.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin()),r=_.isInviteGrowthLockedGroup();if(n&&!r){const{GroupInviteLinkDrawerLoadable:e}=a(88280);i.DrawerManager.openDrawerRight((0,x.jsx)(e,{chat:_,groupMetadata:_.groupMetadata,onBack:()=>i.DrawerManager.closeDrawerRight()}),"slide-left",o)}else(0,b.openGrowthLockedModal)(n,r)};case"growth_locked":return e=>{var t;M(e);const a=!!(null===(t=_.groupMetadata)||void 0===t?void 0:t.participants.iAmAdmin()),n=_.isInviteGrowthLockedGroup();(0,b.openGrowthLockedModal)(a,n)}}})(0,g);return(0,x.jsxs)("div",{ref:T?l:void 0,role:T?"button":void 0,className:y.default.notification,onClick:T,children:[(0,x.jsx)(j,{clickable:n,msg:u}),S]})}var O=(0,c.forwardRef)(I);t.default=O},67745:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(88555),i=a(81572),s=a(15022),o=a(14597),l=a(67811),u=n(a(40436)),d=a(48360),c=a(67294),f=n(a(51799)),h=a(87550),p=a(57849),m=n(a(99131)),g=a(60811),_=a(71174),v=a(83610),b=a(50101),y=a(29623),C=n(a(48846)),S=n(a(66480)),E=n(a(14296)),T=a(84866),x=n(a(34377)),M=a(87931),k=n(a(32231)),w=a(82857),P=a(21357),A=a(61761),j=a(13228),I=a(18146),O=n(a(1539)),N=n(a(23217)),R=a(18644),D=n(a(24717)),L=a(82573),B=a(85893);const F=75;function G(e,t){const{msg:a,menuTransition:n,isMsgVisible:G,onOpenForwardFlow:U}=e,V=(0,c.useRef)(null),W=(0,c.useRef)(),[H,q]=(0,c.useState)(null),[Y,z]=(0,c.useState)(!1),[K,$]=(0,c.useState)(null),[Q,X]=(0,c.useState)(!1);(0,h.useListener)(a,"change:asRevoked",(()=>{i.Cmd.refreshMessages()}));const J=(0,f.default)(X,F);(0,c.useEffect)((()=>{J(Y||null!=K)}),[Y,K,J]);const Z=()=>{z(!0)},ee=()=>{z(!1)},te=()=>{i.Cmd.msgInfoDrawer((0,I.unproxy)(a.unsafe()))},ae=()=>{const e=(0,I.unproxy)(a.unsafe()),t=e.chat;t.composeQuotedMsg=e,i.Cmd.focusChatTextInput(t)},ne=()=>{const e=(0,I.unproxy)(a.unsafe());(0,k.default)(e)},re=()=>{const e=(0,I.unproxy)(a.unsafe());i.Cmd.sendStarMsgs(e.chat,[e])},ie=()=>{const e=(0,I.unproxy)(a.unsafe());i.Cmd.sendUnstarMsgs(e.chat,[e])},se=()=>{i.Cmd.addFavoriteSticker((0,I.unproxy)(a.unsafe()))},oe=()=>{i.Cmd.removeFavoriteSticker((0,I.unproxy)(a.unsafe()))},le=()=>{o.ModalManager.open((0,B.jsx)(m.default,{chat:a.chat,msgList:[(0,I.unproxy)(a.unsafe())],isMsgVisible:G}))},ue=()=>{(0,b.findChat)(a.author).then((e=>{i.Cmd.openChatFromUnread(e).then((t=>{t&&i.Cmd.focusChatTextInput(e)}))}))},de=()=>{$(null)},ce=e=>{if(!(0,l.canReactToMessage)(e))return;const t={dirY:g.DirY.TOP,dirX:g.DirX.CENTER,type:g.MenuType.ReactionSendTray,menu:(0,B.jsx)(j.SendReactionsTrayContainer,{msg:a.unsafe(),selectedCallback:t=>{t!==A.MORE_REACTIONS&&(0,P.sendReactionToMsg)(e,t).catch((()=>{})),de()},onMouseEnter:Z,onMouseOver:Z,onMouseLeave:ee}),flipOnRTL:!1,anchor:W.current};$(t)};(0,h.useListener)(window,"resize",(()=>{de()}));const fe=(e,t)=>{if(t&&H)return void q(null);const n=t?(()=>{if(V.current)return V.current.getComponent().refContext})():e,o=(0,I.unproxy)(a),u=[];if(o.isSentByMe&&!o.asRevoked&&u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-msg-info",action:te,children:E.default.t(510)},"info")),o.canReply()&&u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-msg-reply",action:ae,children:d.fbt._("Reply",null,{hk:"1C7DPa"})},"reply")),(o.canPrivateReply()||o.canPrivateReplyInRestrictedGrp())&&u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-msg-reply",action:ne,children:d.fbt._("Reply privately",null,{hk:"1XQeK2"})},"private_reply")),(0,l.canReactToMessage)(a.unsafe())&&u.push((0,B.jsx)(_.DropdownItem,{a8n:"send-reaction-btn",action:()=>{ce(a.unsafe())},children:d.fbt._("React to message",null,{hk:"1MagBh"})},"sendReaction")),o.canForward()&&u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-msg-forward",action:()=>{U(!0,a.unsafe())},children:E.default.t(368)},"forward")),o.canStar()&&(o.star?u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-msg-unstar",action:ie,children:E.default.t(689)},"star")):u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-msg-star",action:re,children:E.default.t(665)},"star"))),(0,r.isMDBackend)()&&(0,p.getABPropConfigValue)("sticker_md_favorite_stickers_enabled")&&((0,v.isStickerFilehashFavorited)(a.filehash)?u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-remove-favorite-sticker",action:oe,children:d.fbt._("Remove from favorites",null,{hk:"4YvuK"})},"remove-favorite-sticker")):u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-favorite-sticker",action:se,children:d.fbt._("Add to favorites",null,{hk:"2ODf78"})},"favorite-sticker"))),(0,r.isMDBackend)()){const{stickerPackId:e}=a.mediaData;e&&u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-open-sticker-pack",action:()=>i.Cmd.openStickerPack(e),children:d.fbt._("View Pack",null,{hk:"tAlU3"})},"open-sticker-pack"))}const c=T.MediaBlobCache.get(a.filehash);null!=c&&(0,s.supportsCopyImageToClipboard)()&&u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-copy-favorite-sticker",action:()=>{(0,s.copyImageToClipboard)(c)},children:d.fbt._("Copy Sticker Image",null,{hk:"2hsnNe"})},"copy-favorite-sticker")),u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-msg-delete",action:le,children:E.default.t(277)},"delete")),a.isGroupMsg&&a.author&&!a.isSentByMe&&u.push((0,B.jsx)(_.DropdownItem,{a8n:"mi-msg-author",action:ue,children:E.default.t(506,{author:a.displayName()})},"author")),q({menu:u,anchor:n,theme:_.ThemeOptions.COMPACT})},he=()=>{q(null)},pe={scrollMsg:(t,a)=>{e.scrollMsg(t,a)}};let me,ge,_e,ve;(0,c.useImperativeHandle)(t,(()=>pe)),(Y||H)&&(me=(0,B.jsx)(x.default,{msg:a.unsafe(),hasAuthor:!1,position:M.MsgPosition.SINGLE,ref:V,onToggle:e=>{fe(e)},isGroupedSticker:!0},"icon-context")),e.isFocused&&(ge=(0,B.jsx)(L.WhileFocusedListener,{parent:pe})),H&&(_e=(0,B.jsx)(R.UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:he,children:(0,B.jsx)(D.default,{contextMenu:H})})),K&&(ve=(0,B.jsx)(R.UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,requestDismiss:de,children:(0,B.jsx)(D.default,{contextMenu:K})}));const be=[(0,B.jsx)(O.default,{mediaData:a.mediaData,msg:a,displayAuthor:!1,forwardRef:e.forwardRef,animateOnView:!0,displayType:e.displayType},"sticker-bubble")];if((0,l.canReactToMessage)(a.unsafe())){let e=null;Q&&(e=(0,B.jsx)(C.default,{children:(0,B.jsx)(w.Round,{theme:w.RoundTheme.ReactionsEntryPoint,onClick:()=>ce(a.unsafe()),small:!0,children:(0,B.jsx)(N.default,{className:S.default.entryPointColor,width:15,name:"react"})})}));const t=(0,B.jsx)("div",{ref:W,className:S.default.entryPointCont,children:e},"reaction-entry-point");a.isSentByMe?be.unshift(t):be.push(t)}return(0,B.jsxs)("div",{className:S.default.stickerItem,onMouseOver:Z,onMouseDown:ee,onMouseUp:Z,onMouseLeave:ee,children:[(0,B.jsx)(y.FlexRow,{children:be}),(0,B.jsx)("div",{className:S.default.stickerMenu,children:(0,B.jsx)(u.default,{transitionName:n,children:me})}),_e,ve,ge]})}var U=(0,c.forwardRef)(G);t.default=U},20568:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)("div",{className:i.default.outerContainer,onClick:e.onClick,children:(0,s.jsx)("div",{className:i.default.innerContainer,children:(0,s.jsx)(r.CheckBox,{onChange:e.onClick,checked:e.checked})})})};var r=a(16593),i=n(a(21690)),s=a(85893)},82903:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{displayAuthor:t}=e,a=(0,l.useModelValues)(e.msg,["id","inviteCode","inviteCodeExp","inviteGrp","inviteGrpName","inviteGrpJpegThum","senderObj","comment","isSentByMe","isGroupMsg","isPSA","isGroupsV4InviteExpired"]),n=()=>{(0,r.communitiesEnabled)()?i.ModalManager.open((0,C.jsx)(_.default,{msg:a})):i.ModalManager.open((0,C.jsx)(f.default,{msg:a}))},S=a.isGroupsV4InviteExpired,E=a.inviteGrpName,T=(0,C.jsx)(v.default,{size:49,thumb:a.inviteGrpJpegThum}),x=a.comment?(0,C.jsx)("div",{className:h.default.caption,children:(0,C.jsx)(c.default,{msg:a.unsafe(),spacer:!0,trusted:a.isTrusted()})}):null,M=S?null:(0,C.jsx)(u.default,{items:[{label:a.isSentByMe?o.fbt._("View invite",null,{hk:"1iTWkT"}):p.default.t(387),onClick:n}],theme:a.comment?void 0:"no-divider"}),k=!S||!x,w=k?(0,C.jsx)("div",{className:h.default.meta,children:(0,C.jsx)(g.Meta,{msg:a})}):null,P=a.comment?o.fbt._("WhatsApp group invite",null,{hk:"Yox1t"}):(0,C.jsx)(b.default,{msg:a.unsafe(),children:o.fbt._("WhatsApp group invite",null,{hk:"Yox1t"})});let A;if(S){const e=x?o.fbt._("Invite Expired",null,{hk:"1TFgKg"}):(0,C.jsx)(b.default,{msg:a.unsafe(),children:o.fbt._("Invite Expired",null,{hk:"1TFgKg"})});A=(0,C.jsx)("div",{className:h.default.status,children:e})}return(0,C.jsxs)(y.default,{msg:a,displayAuthor:t,hideMeta:k,children:[(0,C.jsxs)(d.default,{contact:a.senderObj,msg:a.unsafe(),className:(0,s.default)(h.default.container,{[h.default.expired]:S,[h.default.noCaption]:!x}),children:[(0,C.jsx)("div",{className:h.default.linkPreview,children:(0,C.jsx)(m.default,{description:P,isInvite:!0,isSentByMe:a.isSentByMe,onClick:S?void 0:n,thumbnail:T,title:E,theme:S?"extended":void 0})}),A,x,w]}),M]})};var r=a(8139),i=a(14597),s=n(a(94184)),o=a(48360),l=a(35461),u=n(a(58286)),d=n(a(85559)),c=n(a(6725)),f=n(a(89136)),h=n(a(38410)),p=n(a(14296)),m=n(a(51845)),g=a(42316),_=n(a(74361)),v=n(a(87543)),b=n(a(21595)),y=n(a(12209)),C=a(85893)},41381:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayAuthor:a,displayType:n,displayFooter:C=!0,header:S,actions:E}=e;const T=t.isTrusted(),x={selectable:T,dirMismatch:t.rtl!==h.default.isRTL(),direction:t.dir,inferLinesDirection:!0},M=t.text,k=M?(0,b.jsx)(p.default,{msg:t.unsafe(),"data-id":t.id,spacer:!1,children:(0,b.jsx)(c.default,{text:M,textLimit:t.initialPageSize,children:e=>{let{textLimit:a}=e;return(0,b.jsx)(d.EmojiText,(0,r.default)((0,r.default)({},x),{},{text:M,formatters:(0,u.Conversation)({links:t.getLinks(a),phoneNumbers:t.getPhoneNumbers(),trusted:T,selectable:T,fromMe:t.id.fromMe}),textLimit:a}))}})}):null,w=C&&t.footer?(0,b.jsx)(d.EmojiText,(0,r.default)((0,r.default)({},x),{},{text:t.footer,formatters:(0,u.Conversation)({links:t.getFooterLinks(),phoneNumbers:t.getFooterPhoneNumbers(),selectable:T,trusted:T,fromMe:t.id.fromMe}),xstyle:[y.footer,s.uiMargin.top6]})):null,P=(null==E?void 0:E.length)&&n!==i.DISPLAY_TYPE.STARRED_MSGS?(0,b.jsx)("div",{className:(0,o.default)(y.actionRow),children:(0,b.jsx)(l.default,{items:E.map((e=>{var t;return{label:e.label,onClick:null!==(t=e.onClick)&&void 0!==t?t:()=>(0,g.default)(),disabled:e.disabled}}))})}):null,A=Boolean((0,_.getSuspiciousLabel)({msg:t.unsafe(),displayType:n})),j=!1!==a?!t.isSentByMe&&t.isGroupMsg:null,I=(0,m.showForwarded)(t)||j||A;return(0,b.jsxs)(f.FlexColumn,{align:"stretch",xstyle:y.bubble,children:[(0,b.jsxs)(v.default,{msg:t,displayAuthor:a,children:[A?(0,b.jsx)(_.SuspiciousLabel,{msg:t.unsafe()}):null,(0,b.jsxs)("div",{className:(0,o.default)([s.uiMargin.bottom10,I&&s.uiMargin.top5]),children:[S,k,w]})]}),P]})};var r=n(a(81109)),i=a(5177),s=a(28298),o=n(a(56720)),l=n(a(58286)),u=a(74331),d=a(65417),c=n(a(17080)),f=a(29623),h=n(a(14296)),p=n(a(54703)),m=a(63132),g=n(a(56635)),_=a(7538),v=n(a(12209)),b=a(85893);const y={bubble:{width:"m3h9lho3",maxWidth:"laorhtua"},footer:{display:"f804f6gw",fontSize:"ovllcyds",lineHeight:"q6wg26sa",overflowWrap:"fd365im1",whiteSpace:"bbv8nyr4",color:"hp667wtd"},actionRow:{paddingBottom:"oq31bsqd",paddingLeft:"t6kbzwdk",paddingRight:"thbdkvv5",marginTop:"aliwjmjd"}}},40719:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,quotedMsg:a,displayType:n}=e;const b=(0,s.default)(),{interactiveHeader:y}=t;let C,S;if(null==y?void 0:y.mediaType)switch(y.mediaType){case d.InteractiveMessageHeaderMediaType.IMAGE:S=(0,_.jsx)(u.default,{msg:t,displayType:n});break;case d.InteractiveMessageHeaderMediaType.DOCUMENT:S=(0,_.jsx)(o.default,{msg:t});break;case d.InteractiveMessageHeaderMediaType.VIDEO:S=(0,_.jsx)(g.default,{msg:t,mediaData:t.mediaData,displayType:n})}t.nativeFlowName===h.default.ORDER_DETAILS||t.nativeFlowName===h.default.ORDER_STATUS?C=(0,_.jsx)(p.default,{msg:t,quotedMsg:a,displayType:n}):y&&(t.interactiveType===c.default.SHOPS_STOREFRONT?C=(0,_.jsx)(m.default,{msg:t}):null==y.title&&null==y.subtitle||(C=S?(0,_.jsx)(f.default,{msg:t}):(0,_.jsx)("div",{className:(0,i.default)(r.uiMargin.top6),children:(0,_.jsx)(f.default,{msg:t})})));if(C){const e=(0,l.default)({msg:t,uimContext:b});e&&(C=(0,_.jsx)("div",{role:"button",onClick:e.onClick,children:C}))}return null==C&&null==S?null:(0,_.jsxs)("div",{className:(0,i.default)(v),children:[C&&S?(0,_.jsx)("div",{className:(0,i.default)(r.uiMargin.bottom6),children:S}):S,C]})};var r=a(28298),i=n(a(56720)),s=n(a(95402)),o=n(a(11465)),l=n(a(62352)),u=n(a(516)),d=a(34535),c=n(a(84064)),f=n(a(42112)),h=n(a(5165)),p=n(a(96251)),m=n(a(97364)),g=n(a(50253)),_=a(85893);const v={marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"ngycyvoj",marginStart:"heai6z19"}},516:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayType:a}=e;const n=t.isTrusted();return(0,s.jsx)(i.default,{contentContainerClassName:(0,r.default)(o),displayAuthor:!1,mediaData:t.mediaData,displayType:a,msg:t,hideMeta:!0,trusted:n})};var r=n(a(56720)),i=n(a(74790)),s=a(85893);const o={marginTop:"if44n927",marginEnd:"ryaohf54",marginBottom:"f6aumy9w",marginStart:"sd2p8cyi"}},89808:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,quotedMsg:a,displayAuthor:n,displayType:c}=e;const f=(0,r.default)(),h=(0,i.default)({msg:t,uimContext:f}),p=null==h?void 0:h.map((e=>{var t;return{label:e.label,disabled:e.disabled,onClick:null!==(t=e.onClick)&&void 0!==t?t:()=>(0,u.default)()}}));return(0,d.jsx)(s.default,{msg:t,displayAuthor:n,displayType:c,displayFooter:t.nativeFlowName!==l.default.ORDER_STATUS,header:(0,d.jsx)(o.default,{msg:t,quotedMsg:a,displayType:c}),actions:p})};var r=n(a(95402)),i=n(a(17830)),s=n(a(41381)),o=n(a(40719)),l=n(a(5165)),u=n(a(56635)),d=a(85893)},88191:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{msg:a,captionEndElement:n}=e;const{title:p,subtitle:m,thumbnail:g}=null!==(t=a.interactiveHeader)&&void 0!==t?t:{},_={selectable:a.isTrusted(),dirMismatch:a.rtl!==d.default.isRTL(),direction:a.dir,inferLinesDirection:!0};return(0,f.jsxs)(l.FlexRow,{align:"stretch",xstyle:[h.container,!a.isSentByMe&&h.bubbleIn,a.isSentByMe&&h.bubbleOut],children:[g?(0,f.jsx)("img",{alt:"",className:(0,s.default)(h.media),src:`data:image/jpeg;base64,${g}`}):null,(0,f.jsxs)(l.FlexColumn,{xstyle:[h.body,i.uiPadding.vert6,i.uiPadding.horiz9],children:[p?(0,f.jsx)(c.default,{maxLines:2,children:(0,f.jsx)(o.EmojiText,(0,r.default)((0,r.default)({},_),{},{text:p,xstyle:h.title}))}):null,m?(0,f.jsx)(u.default,{shrink:10,xstyle:h.subtitle,children:(0,f.jsx)(c.default,{maxLines:1,children:(0,f.jsx)(o.EmojiText,(0,r.default)((0,r.default)({},_),{},{text:m}))})}):null,n]})]})};var r=n(a(81109)),i=a(28298),s=n(a(56720)),o=a(65417),l=a(29623),u=n(a(48846)),d=n(a(14296)),c=n(a(71688)),f=a(85893);const h={container:{borderTopStartRadius:"l147y7tb",borderTopEndRadius:"mjscftrx",borderBottomEndRadius:"fqwk616h",borderBottomStartRadius:"pkud3j3x",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2"},bubbleIn:{backgroundColor:"rrq4r3yd"},bubbleOut:{backgroundColor:"s0eflmyh"},media:{width:"sgifyl94",height:"pydpkpus",objectFit:"jpthtbts",flexShrink:"oq44ahr5"},body:{boxSizing:"cm280p3y",maxHeight:"o0vrdr7e"},title:{fontSize:"bze30y65",fontWeight:"hnx8ox4h"},subtitle:{fontSize:"ovllcyds",color:"pm5hny62",overflowX:"gfz4du6o",overflowY:"r7fjleex",width:"ln8gz9je"}}},42112:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{msg:a}=e;const{title:n,subtitle:i}=null!==(t=a.interactiveHeader)&&void 0!==t?t:{},d=a.isTrusted();return(0,c.jsxs)(l.FlexColumn,{xstyle:[s.uiMargin.end4,s.uiMargin.start6],children:[null!=n?(0,c.jsx)(o.EmojiText,(0,r.default)((0,r.default)((0,r.default)({},p(n)),(0,u.enableHeaderAndFooterFormatting)(a.getHeaderLinks(),d)),{},{text:n,xstyle:h.title,inferLinesDirection:!0})):null,null!=i?(0,c.jsx)(o.EmojiText,(0,r.default)((0,r.default)({},p(i)),{},{selectable:d,text:i,xstyle:h.subtitle,inferLinesDirection:!0})):null]})};var r=n(a(81109)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(93131)),s=a(28298),o=(n(a(56720)),a(65417)),l=a(29623),u=a(9412),d=n(a(14296)),c=a(85893);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const h={title:{fontSize:"bze30y65",fontWeight:"hnx8ox4h",overflowWrap:"fd365im1",whiteSpace:"bbv8nyr4",width:"ln8gz9je"},subtitle:{color:"hp667wtd"}};function p(e){const t=i.dir(e);return{direction:t,dirMismatch:"rtl"===t!==d.default.isRTL()}}},96251:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=null;const{msg:a}=e;if(a.nativeFlowName===s.default.ORDER_DETAILS){const e=(0,u.getOrderInfo)(a);var n;if(e)t=(0,h.jsx)(d.default,{amount:(0,i.formatAmount)(e.currency,e.totalAmount),quantity:e.quantity,orderId:e.referenceId,text:(0,l.getOrderDetailProductLabel)(e.items),numberOfItems:e.items.length,isSentByMe:a.isSentByMe,thumbnail:null!==(n=p(a))&&void 0!==n?n:void 0})}else a.nativeFlowName===s.default.ORDER_STATUS&&(t=function(e){let{msg:t,quotedMsg:a,displayType:n}=e;if(a)return a;const r=(0,c.getOrderMessage)(t);if(r)return(0,h.jsx)(f.default,{msg:r,chat:t.chat,rootMsg:t,displayType:n});return null}(e));return t};var r=a(15461),i=a(39519),s=n(a(5165)),o=n(a(34949)),l=a(30699),u=a(34841),d=n(a(81624)),c=a(88998),f=n(a(35072)),h=a(85893);const p=e=>{var t;if(e.type===r.MSG_TYPE.INTERACTIVE&&null!=(null===(t=e.interactiveHeader)||void 0===t?void 0:t.thumbnail))return`data:image/jpeg;base64,${e.interactiveHeader.thumbnail}`;if(e.mediaData){const{preview:t}=e.mediaData;if(t instanceof o.default)return t.url()}}},97364:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t}=e;return(0,u.jsx)(o.default,{msg:t,captionEndElement:(0,u.jsx)(s.FlexColumn,{justify:"end",xstyle:d.logoContainer,children:(0,u.jsxs)(s.FlexRow,{align:"center",children:[(0,u.jsx)(l.default,{color:"secondary",width:13,height:14,xstyle:[d.shopsIcon,r.uiMargin.end6],name:"shop-filled"}),i.fbt._("Shops",null,{hk:"2UMMxA"})]})})})};var r=a(28298),i=a(48360),s=(n(a(56720)),a(29623)),o=n(a(88191)),l=n(a(23217)),u=a(85893);const d={logoContainer:{fontSize:"ovllcyds",color:"pm5hny62",flexGrow:"bk1nl7o2"},shopsIcon:{display:"l7jjieqr"}}},73770:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LargeEmoji=T,t.SIZE=void 0;var r=n(a(64369)),i=n(a(94184)),s=a(67294),o=n(a(56720)),l=a(87550),u=n(a(30588)),d=n(a(84636)),c=a(67247),f=a(13045),h=n(a(47065)),p=n(a(57312)),m=a(52596),g=a(85893);const{getGlyphId:_,getGlyphPath:v,markGlyphCached:b,isGlyphCached:y}=c.EmojiUtil,C=f.LARGE_EMOJI_SIZE;t.SIZE=C;const S="large",E="xlarge";function T(e){const{emoji:t,size:a,animation:n,element:c,selectable:f,xstyle:T}=e,x=()=>{const t=_(e.emoji);return Boolean(null!=t&&y(t))},[M,k]=(0,s.useState)(x);(0,l.useListener)(window,"dpichange",(()=>{k(x())}));const w=_(t);if(null==w)return null;const P=(0,i.default)({[p.default.medium]:a===C.MEDIUM,[p.default.large]:a===C.LARGE,[p.default.xlarge]:a===C.XLARGE});let A;A=a===C.XLARGE?E:S;const j=v(w,A)[u.default.currentRes];if(M&&n)return(0,g.jsxs)(c,{className:(0,i.default)(p.default.animation,(0,o.default)(T)),children:[(0,g.jsx)(m.SelectableImg,{alt:t,className:(0,i.default)(p.default.highRes,P),draggable:!1,plainText:t,selectable:Boolean(f),src:r.default.ONE_BY_ONE_TRANS_GIF}),(0,g.jsx)(h.default,{className:(0,i.default)(p.default.highRes,P,p.default.heartbeat),draggable:!1,selectable:!1,src:j})]});const I=M?void 0:(0,g.jsx)(d.default,{className:(0,i.default)(p.default.lowRes,P),emoji:t,xstyle:T,selectable:f},"low-res"),O=(0,g.jsx)(d.default,{className:(0,i.default)(p.default.highRes,P,{[p.default.invisible]:!M}),emoji:t,xstyle:T,selectable:f,src:j,onLoad:()=>{const e=_(t);null!=e&&b(e),k(!0)}},"high-res");return(0,g.jsxs)("span",{className:p.default.wrapper,children:[I,O]})}T.defaultProps={animation:!1,element:"div",size:C.MEDIUM}},99940:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{displayAuthor:a,msg:n}=e,i=n.list,s=(0,u.default)();if(!i)return null;const l={selectable:!0,dirMismatch:n.rtl!==p.default.isRTL(),direction:n.dir,inferLinesDirection:!0},g=(0,c.Conversation)({links:n.getHeaderLinks(),phoneNumbers:n.getHeaderPhoneNumbers(),selectable:!0,trusted:n.isTrusted(),fromMe:n.id.fromMe}),b=(0,c.Conversation)({mentions:n.mentionMap(),links:n.getLinks(),phoneNumbers:n.getPhoneNumbers(),selectable:!0,trusted:n.isTrusted(),fromMe:n.id.fromMe}),y=(0,c.Conversation)({links:n.getFooterLinks(),phoneNumbers:n.getFooterPhoneNumbers(),selectable:!0,trusted:n.isTrusted(),fromMe:n.id.fromMe}),C=i.listType===f.Message$ListMessageListType.PRODUCT_LIST?(0,w.jsx)("div",{className:(0,o.default)(m.default.productListPreview,{[m.default.productListPreviewForwarded]:n.isForwarded}),children:(0,w.jsx)(E.default,{msg:n,onClick:e=>{e&&e.stopPropagation(),P(n,s)}})}):null,S=i.listType!==f.Message$ListMessageListType.PRODUCT_LIST?(0,w.jsx)(h.EmojiText,(0,r.default)((0,r.default)({},l),{},{className:m.default.title,text:i.title,formatters:g,ellipsify:!0})):null,T=(0,w.jsx)(h.EmojiText,(0,r.default)((0,r.default)({},l),{},{text:i.description,formatters:b})),x=(0,w.jsx)(h.EmojiText,(0,r.default)((0,r.default)({},l),{},{className:m.default.footer,text:n.footer,formatters:y})),M=(0,w.jsx)("div",{className:m.default.meta,children:(0,w.jsx)(v.Meta,{msg:n})}),I=(0,w.jsx)(d.default,{items:[{label:null!==(t=A(i))&&void 0!==t?t:"",icon:j(i),onClick:e=>{e&&e.stopPropagation(),P(n,s)}}]});return(0,w.jsx)("div",{className:m.default.bubble,children:(0,w.jsxs)(k.default,{msg:n,displayAuthor:a,hideMeta:!0,children:[C,S,(0,w.jsxs)(_.default,{msg:n.unsafe(),"data-id":n.id,children:[T,n.footer?x:null,M]}),I]})})};var r=n(a(81109)),i=a(41455),s=a(14597),o=n(a(94184)),l=a(48360),u=n(a(95402)),d=n(a(58286)),c=a(74331),f=a(24808),h=a(65417),p=n(a(14296)),m=n(a(28982)),g=n(a(14828)),_=n(a(54703)),v=a(42316),b=n(a(11339)),y=a(97567),C=a(9153),S=a(67455),E=n(a(24667)),T=a(18952),x=a(48870),M=a(27798),k=n(a(12209)),w=a(85893);function P(e,t){const{list:{listType:a}}=e;if(null!=a)switch(a){case f.Message$ListMessageListType.SINGLE_SELECT:s.ModalManager.open((0,w.jsx)(g.default,{msg:e}));break;case f.Message$ListMessageListType.PRODUCT_LIST:!function(e,t){const a=e.requiresDirectConnection,n=e.isForwarded?e.businessOwnerJid:e.from.toString({legacy:!0});if(null==e.list.productListInfo||null==n)return;const r=!!T.ProductMessageListCollection.get(e.id);x.QPL.markerStart(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{annotations:{bool:{IsCached:r}}});const s=T.ProductMessageListCollection.getOrAdd(e.id,e.list.productListInfo,a,n,e.list.title);null!=s?i.DrawerManager.openDrawerRight((0,w.jsx)(S.ProductDetailsFlowLoadable,{chat:e.chat,catalogOwnerJid:n,productListId:s.id}),"slide-left",t,(0,y.buildProductCatalogContext)(new C.ProductCatalogSession,b.default.BIZ_PLATFORM.ENT,b.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE)):x.QPL.markerDrop(M.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW)}(e,t)}}function A(e){const{listType:t}=e;return t===f.Message$ListMessageListType.PRODUCT_LIST?l.fbt._("View items",null,{hk:"44ji9D"}):e.buttonText}function j(e){const{listType:t}=e;if(t!==f.Message$ListMessageListType.PRODUCT_LIST)return"list-msg-icon"}},19795:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LiveLocation=function(e){const{trusted:t,displayAuthor:a,quotedMsg:n}=e,x=(0,c.useModelValues)(e.msg,["chat","comment","dir","finalLat","finalLng","isGroupMsg","isPSA","isSentByMe","lat","lng","rtl","sender","senderObj","shareDuration","t"]),[M,k]=(0,u.useState)(!1),{chat:w,sender:P,t:A,shareDuration:j}=x,I=()=>{s.Cmd.liveLocationDrawer(w,P)},O=()=>{o.ModalManager.open((0,E.jsx)(m.default,{okText:l.fbt._("OK",null,{hk:"2KEeHb"}),onOK:()=>o.ModalManager.close(),children:l.fbt._("Live Location is not available on this device. View location on your phone.",null,{hk:"20gBIV"})}))},N=()=>{o.ModalManager.open((0,E.jsx)(v.default,{chat:w}))},R=()=>null==j?A:A+j,D=!!x.comment,L=a?(0,E.jsx)("div",{className:(0,d.default)(T.author),children:(0,E.jsx)(f.default,{msg:x,contact:x.senderObj})}):null,B=n?(0,E.jsx)("div",{className:(0,d.default)(T.quote),children:n}):null,F=i.Clock.globalUnixTime()>=R(),G=F&&void 0!==x.finalLat&&void 0!==x.finalLng;let U=x.lat,V=x.lng,W=F?void 0:I;W||(W=()=>{s.Cmd.expiredLocationDrawer(x.unsafe())});G&&(U=x.finalLat,V=x.finalLng);(0,r.isMDBackend)()&&(W=O);const H=(0,E.jsxs)("div",{className:(0,d.default)(T.thumb),onClick:W,style:{height:150},children:[(0,E.jsx)("div",{className:(0,d.default)(T.map),children:(0,E.jsx)(b.default,{lat:U,lng:V,width:270,height:150,className:(0,d.default)(T.thumbBody),linkify:!1,showMarker:!1,onLoad:()=>{k(!0)}})}),(0,E.jsx)("div",{className:(0,d.default)(T.avatar,!M&&T.hidden),children:(0,E.jsx)(g.DetailImage,{id:x.sender,size:40,border:!0})}),F&&(0,E.jsx)("div",{className:(0,d.default)(T.overlay)})]}),q=R();let Y=F?l.fbt._("Live location ended",null,{hk:"1qhVqb"}):_.default.t(456,{time:i.Clock.timestampStr(q),_plural:i.Clock.timestampHour(q)});(0,r.isMDBackend)()&&(Y=l.fbt._("Live Location not available",null,{hk:"1yZJG7"}));const z=(0,E.jsxs)("div",{className:(0,d.default)(T.status),onClick:W,children:[(0,E.jsx)("span",{className:(0,d.default)(T.statusIcon),children:(0,E.jsx)(S.default,{name:(0,C.liveLocationIcon)(!F),display:"inline"})}),(0,E.jsx)("span",{className:(0,d.default)(T.statusText),children:Y})]}),K=x.comment?(0,E.jsx)("div",{className:(0,d.default)(T.caption),children:(0,E.jsx)(p.default,{msg:x.unsafe(),trusted:t})}):null,$=(0,E.jsx)("div",{className:(0,d.default)(T.meta,D&&T.metaWithCaption),children:(0,E.jsx)(y.Meta,{msg:x})});let Q;if(!F&&(0,r.isLegacyWebdBackend)()){let e,t,a;x.isSentByMe?(e=N,t=(0,d.default)(T.stopLocation),a=l.fbt._("Stop Sharing",null,{hk:"14LWdj"})):(e=I,t=(0,d.default)(T.viewLocation),a=l.fbt._("View Live Location",null,{hk:"3s9YUm"})),Q=(0,E.jsx)("div",{className:(0,d.default)(T.actionButton,D&&T.actionButtonWithCaption),onClick:e,children:(0,E.jsx)("span",{className:t,children:a})})}return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(h.default,{className:(0,d.default)(T.container,Boolean(W)&&T.clickable),contact:x.senderObj,msg:x.unsafe(),children:[L,B,H,z,K,$]}),Q]})},t.MSG_HEIGHT=void 0;var r=a(88555),i=a(40234),s=a(81572),o=a(14597),l=a(48360),u=a(67294),d=n(a(56720)),c=a(35461),f=n(a(72655)),h=n(a(85559)),p=n(a(6725)),m=n(a(52665)),g=a(88984),_=n(a(14296)),v=n(a(79834)),b=n(a(83452)),y=a(42316),C=a(87699),S=n(a(23217)),E=a(85893);const T={container:{position:"g0rxnol2",maxWidth:"dld5k21c",paddingTop:"ocd2b0bc",paddingEnd:"folpon7g",paddingBottom:"aa0kojfi",paddingStart:"snweb893",cursor:"bx7g2weo"},clickable:{cursor:"ajgl1lbb"},caption:{boxSizing:"cm280p3y",maxWidth:"dld5k21c",paddingTop:"esbfogcw",paddingEnd:"jfqm35v0",paddingBottom:"bxcbqipq",paddingStart:"mhcwslh8"},author:{paddingTop:"ocd2b0bc",paddingBottom:"bxcbqipq",paddingLeft:"rrbwxby4"},meta:{position:"lhggkp7q",right:"bfbxj8tr",bottom:"dpkuihx7",zIndex:"b9fczbqn"},thumb:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw"},avatar:{position:"lhggkp7q",top:"qq0sjtgm",right:"grt5ktjy",bottom:"jxacihee",left:"tukmaf4q",width:"hj839x6e",height:"rd228egi",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",filter:"shq0pg4y"},map:{position:"g0rxnol2"},overlay:{position:"lhggkp7q",top:"qq0sjtgm",bottom:"jxacihee",left:"tukmaf4q",width:"ln8gz9je",height:"ppled2lx",display:"f804f6gw",backgroundColor:"fmhufpvf"},thumbBody:{zIndex:"jnl3jror",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",WebkitTransition:"o9wlm8ph"},quote:{marginBottom:"kzyzudjh"},status:{position:"g0rxnol2",bottom:"jxacihee",left:"tukmaf4q",height:"fs6hn1up",paddingTop:"i5tg98hk",paddingEnd:"folpon7g",paddingBottom:"przvwfww",paddingStart:"snweb893",backgroundColor:"g9q9estb",borderBottomStartRadius:"cqsf3vkf",borderBottomEndRadius:"sfeitywo"},statusIcon:{position:"g0rxnol2",top:"jgz0asyo",marginRight:"j69yk9hm",marginLeft:"sx18v0w4",color:"cs9t9or5"},statusText:{position:"g0rxnol2",top:"agi2at81",fontSize:"dsh4tgtl",color:"pm5hny62",verticalAlign:"neme6l2y"},actionButton:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",height:"iauwx4jv",paddingBottom:"aa0kojfi",fontWeight:"hnx8ox4h",textAlign:"qfejxiq4",cursor:"ajgl1lbb"},stopLocation:{color:"mvxzr2tb"},viewLocation:{color:"o0rubyzf"},hidden:{visibility:"kojwoqec"},actionButtonWithCaption:{borderTop:"ei53l81b"},metaWithCaption:{right:"ou6eaia9",bottom:"lrw9n60e"}};t.MSG_HEIGHT=220},27863:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Location=function(e){const t=(0,o.useModelValues)(e.msg,["caption","clientUrl","dir","footer","id","isGroupMsg","isSentByMe","lat","lng","rtl","senderObj","type","ctwaContext","supportsMessageFooter","isDynamicReplyButtonsMsg","hasBodyOrFooter"]),a=()=>{let e=t.get("loc");if(t.get("loc"))return e=e.split("\n"),2===e.length?{name:e[0],addr:e[1]}:{name:e}},n=a(),T=null==n?void 0:n.name,x=t,{lat:M,lng:k}=x,w=(0,m.getMapUrl)(M,k,T),P=x.isDynamicReplyButtonsMsg?null:(e=>{const o=a(),l=t.clientUrl||e;let u,d,c;const f=i.default.hostname(l),p=(0,r.default)(E.filter((e=>f.includes(e)))),m=p?(0,S.jsx)("span",{className:h.default.link,children:f}):null,_=i.default.isHttps(l);if(!_)return l.toLowerCase().startsWith("javascript:")&&(__LOG__(4,void 0,new Error,!0)`Bad url: ${l}`,SEND_LOGS("URL error")),null;if(!p&&_&&o&&!l.includes("javascript")){u=o.name?(0,S.jsx)(b.SelectableLink,{className:h.default.title,dir:"auto",href:l,plainText:`${o.name}\n${l}`,selectable:!0,target:"_blank",title:o.name,children:o.name}):null;const e=(0,s.default)(h.default.address,{[h.default.hasURL]:m});d=(null==n?void 0:n.addr)?(0,S.jsx)(b.SelectableDiv,{className:e,selectable:!0,title:n.addr,children:n.addr}):null}return(u||d||m)&&(c=(0,S.jsx)("div",{className:h.default.text,children:(0,S.jsxs)(g.default,{msg:t.unsafe(),"data-id":t.id,children:[u,d,m]})})),c})(w),A=null!=P||x.supportsMessageFooter&&x.hasBodyOrFooter?null:(0,S.jsx)(C.default,{}),j=(0,v.showForwarded)(x),I=e.displayAuthor?(0,S.jsx)("div",{className:h.default.author,children:(0,S.jsx)(l.default,{msg:x,contact:x.senderObj})}):null,O=j?(0,S.jsx)(f.default,{msg:x.unsafe(),className:h.default.forwardedIndicator}):null,N=(0,s.default)(h.default.container,{[h.default.hasCaption]:P,[h.default.hasAuthor]:e.displayAuthor,[h.default.forwarded]:j,[h.default.ctwaContainerWidth]:null!=x.ctwaContext}),R=e.quotedMsg?(0,S.jsx)("div",{className:h.default.quote,children:e.quotedMsg}):null;let D,L;x.supportsMessageFooter&&(D=x.caption?(0,S.jsx)("div",{className:h.default.caption,children:(0,S.jsx)(d.default,{msg:x.unsafe(),spacer:!x.footer,trusted:e.trusted})}):null,L=(0,S.jsx)(y.default,{dir:x.dir,footer:x.footer,isShown:x.supportsMessageFooter,msg:x.unsafe(),rtl:x.rtl,type:x.type,trusted:e.trusted}));return(0,S.jsx)("div",{children:(0,S.jsxs)(u.default,{className:N,contact:x.senderObj,msg:x.unsafe(),children:[I,O,R,(0,S.jsx)(c.default,{msg:x.unsafe(),wrapperClass:h.default.ctwaContext}),(0,S.jsxs)(b.SelectableDiv,{className:h.default.thumb,onClick:e=>{e.stopPropagation()},plainText:w,selectable:!0,style:{height:150},children:[(0,S.jsx)(p.default,{lat:x.lat,lng:x.lng,width:x.ctwaContext?330:270,height:150,name:T,className:h.default.thumbBody}),A]}),P,D,L,(0,S.jsx)("div",{className:h.default.meta,children:(0,S.jsx)(_.Meta,{msg:x})})]})})},t.PREVIEW_HEIGHT=void 0;var r=n(a(41609)),i=n(a(76139)),s=n(a(94184)),o=a(35461),l=n(a(72655)),u=n(a(85559)),d=n(a(6725)),c=n(a(11740)),f=n(a(14703)),h=n(a(68437)),p=n(a(83452)),m=a(8384),g=n(a(54703)),_=a(42316),v=a(63132),b=a(52596),y=n(a(95839)),C=n(a(2749)),S=a(85893);t.PREVIEW_HEIGHT=150;const E=["foursquare.com","facebook.com","maps.google.com"]},56057:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplEndProfileView=function(e){n.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_PROFILE_VIEW,e)},t.qplStartOrderView=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_ORDER_VIEW,{annotations:{bool:{IsCached:e}}})},t.qplStartProfileView=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_PROFILE_VIEW,{annotations:{string:{EntryPoint:e}}})};var n=a(48870),r=a(27798)},62087:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(45095)),s=a(81572),o=a(15461),l=a(48360),u=a(67294),d=n(a(56720)),c=a(87550),f=a(13738),h=a(29565),p=n(a(74790)),m=a(13923),g=n(a(97507)),_=a(85893);const v={albumGridClass:{flexBasis:"q7l348o2",width:"ln8gz9je",maxWidth:"cu1tgave",height:"bvcnfjzh"},albumTopLeft:{marginTop:"tt8xd2xn",marginEnd:"kjemk6od",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},albumTopRight:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},albumBottomLeft:{marginTop:"g1eqewly",marginEnd:"kjemk6od",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},albumBottomRight:{marginTop:"g1eqewly",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},numberText:{position:"lhggkp7q",zIndex:"g2bpp9au",marginTop:"m3ct2rho",marginEnd:"k1jo73ug",marginBottom:"ec1z5skj",marginStart:"isfiuinm",fontSize:"lhhjz8ro",color:"k17s6i4e",pointerEvents:"m62443ks"}},b=new Map([[f.AlbumPosition.TOP_LEFT,v.albumTopLeft],[f.AlbumPosition.TOP_RIGHT,v.albumTopRight],[f.AlbumPosition.BOTTOM_LEFT,v.albumBottomLeft],[f.AlbumPosition.BOTTOM_RIGHT,v.albumBottomRight]]);function y(e,t){const{msg:a,albumPosition:n,numAdditionalMedia:o}=e,l=(0,u.useRef)(null),f=(0,u.useRef)(null);(0,c.useListener)(a,"change:asRevoked",(()=>{s.Cmd.refreshMessages()}));const h=()=>f.current,p=()=>(0,i.default)(l.current,"containerRef.current");return(0,u.useImperativeHandle)(t,(()=>({getRef:h,getContainerElement:p}))),(0,_.jsx)("div",{ref:l,className:(0,d.default)(v.albumGridClass),children:(0,_.jsx)("div",{className:(0,d.default)(b.get(n)),children:(0,_.jsx)(S,(0,r.default)((0,r.default)({},e),{},{elRef:f,overlayContent:null!=o&&o>0?(0,_.jsx)(C,{numAdditionalMedia:o}):null}))})})}function C(e){let{numAdditionalMedia:t}=e;return(0,_.jsx)(m.TextSpan,{theme:"large",className:(0,d.default)(v.numberText),children:l.fbt._("+{number}",[l.fbt._param("number",t)],{hk:"2Nqnnt"})})}function S(e){if(e.msg.type===o.MSG_TYPE.IMAGE)return(0,_.jsx)(p.default,{theme:h.DisplayTheme.Album,albumMsgs:e.albumMsgs,msg:e.msg,mediaData:e.msg.mediaData,ref:e.elRef,isMsgVisible:e.isMsgVisible,zoomMsg:e.zoomMsg,overlayContent:e.overlayContent,displayAuthor:!1});if(e.msg.type===o.MSG_TYPE.VIDEO)return(0,_.jsx)(g.default,{theme:h.DisplayTheme.Album,albumMsgs:e.albumMsgs,msg:e.msg,ref:e.elRef,zoomMsg:e.zoomMsg,displayAuthor:!1,overlayContent:e.overlayContent});throw new Error(`Unexpected Album Type: ${e.msg.type}`)}var E=(0,u.forwardRef)(y);t.default=E},13738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlbumPosition=void 0;t.AlbumPosition={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}},41942:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=a(67294),s=a(35461),o=n(a(25435)),l=n(a(90850)),u=n(a(1195)),d=n(a(72655)),c=a(88984),f=n(a(11339)),h=n(a(32570)),p=n(a(23217)),m=a(85893);const g=(e,t)=>{const a=(0,s.useModelValues)(e.msg,["ack","isForwarded","isSentByMe","senderObj","asPttLike"]),n=(0,i.useRef)(null);if((0,i.useEffect)((()=>{e.msg.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:f.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[e.msg]),(0,i.useImperativeHandle)(t,(()=>({handleKeyActivation:e=>{var t;null===(t=n.current)||void 0===t||t.handleKeyActivation(e)}}))),null!=a.asPttLike&&!a.isForwarded)return(0,m.jsx)(h.default,(0,r.default)({},e));const o=e.displayAuthor?(0,m.jsx)(d.default,{msg:a,contact:a.senderObj}):null;return(0,m.jsx)(l.default,{msg:a,quotedMsg:e.quotedMsg,author:o,player:(0,m.jsx)(u.default,{ref:n,msg:e.msg,mediaData:e.mediaData,displayType:e.displayType}),avatar:(0,m.jsx)(_,{msg:a}),displayType:e.displayType})};function _(e){const t=(0,s.useModelValues)(e.msg,["asPttLike","isForwarded","senderObj"]);return null==t.asPttLike?(0,m.jsx)("div",{className:o.default.icon,children:(0,m.jsx)(p.default,{name:"audio-file"})}):t.isForwarded?(0,m.jsx)("div",{className:o.default.icon,children:(0,m.jsx)(p.default,{name:"ptt-file"})}):(0,m.jsx)(c.DetailImage,{id:t.senderObj.id,size:55})}var v=(0,i.forwardRef)(g);t.default=v},90850:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(35470),i=a(5177),s=n(a(94184)),o=a(35461),l=n(a(7987)),u=n(a(11740)),d=n(a(14703)),c=n(a(14296)),f=a(42316),h=a(63132),p=n(a(19218)),m=a(56989),g=a(64551),_=a(85893);var v=e=>{const{msg:t}=e,{id:a,ack:n,isSentByMe:v,asPttLike:b}=(0,o.useModelValues)(t,["id","ack","isSentByMe","asPttLike"]),y=c.default.isRTL()?!v:v,C=(0,s.default)(l.default.bubble,{[l.default.bubbleRightAvatar]:!y,[l.default.bubbleLeftAvatar]:y,[l.default.hasAuthor]:e.author,[l.default.hasQuote]:e.quotedMsg,[l.default.isGallery]:e.displayType===i.DISPLAY_TYPE.STARRED_MSGS||e.displayType===i.DISPLAY_TYPE.GALLERY,[l.default.isForwarded]:(0,h.showForwarded)(t)}),S=e.status?(0,_.jsx)("div",{className:l.default.status,children:e.status}):null,E=null!=e.author?(0,_.jsx)("div",{className:l.default.author,children:e.author}):null,T=(0,h.showForwarded)(t)?(0,_.jsx)(d.default,{msg:t.unsafe(),className:l.default.forwardedIndicator}):null,x=e.quotedMsg?(0,_.jsx)("div",{className:l.default.quote,children:e.quotedMsg}):null,{playbackRate:M,playbackControlMessageId:k}=(0,o.useModelValues)(m.PttPrefs,["playbackRate","playbackControlMessageId"]);let w,P=!1;if(g.ServerProps.pttPlaybackSpeedEnabled&&null!=b){P=k===a.toString();const e=(0,s.default)(l.default.playbackRateButtonContainer,{[l.default.playbackRateButtonContainerVisible]:P});w=(0,_.jsx)("div",{className:e,children:(0,_.jsx)(p.default,{playbackRate:M,onClick:()=>{m.PttPrefs.advancePlaybackRateFor(a)},isSentByMe:v,played:n===r.ACK.PLAYED})})}const A=(0,s.default)(l.default.avatar,{[l.default.avatarVisible]:!P});return(0,_.jsxs)("div",{className:C,children:[E,T,x,(0,_.jsx)(u.default,{msg:t.unsafe(),wrapperClass:l.default.ctwaContext}),(0,_.jsxs)("div",{className:l.default.body,children:[(0,_.jsx)("div",{className:l.default.player,children:e.player}),(0,_.jsxs)("div",{className:l.default.avatarContainer,children:[w,(0,_.jsxs)("div",{className:A,children:[e.avatar,S]})]})]}),(0,_.jsx)("div",{className:l.default.meta,children:(0,_.jsx)(f.Meta,{msg:t})})]})};t.default=v},41036:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlayerFrame=j,t.WrappedAudioPlayer=void 0;var r=n(a(99964)),i=a(40234),s=a(81572),o=a(5177),l=a(81739),u=n(a(92053)),d=n(a(64310)),c=n(a(94184)),f=a(48360),h=a(67294),p=n(a(65789)),m=a(87550),g=a(35461),_=n(a(55010)),v=a(55712),b=n(a(28891)),y=a(71093),C=n(a(14296)),S=n(a(86806)),E=a(56989),T=n(a(56060)),x=a(64551),M=n(a(23217)),k=a(85893);function w(e,t){var a;const{displayType:n,msg:r,outgoingMsg:i,played:o,mediaData:v}=e,y=(0,g.useModelValues)(null!==(a=e.pttPrefs)&&void 0!==a?a:E.PttPrefs,["playbackRate"]),{playbackRate:C}=y,S=(0,h.useRef)(C),T=(0,h.useRef)(0),w=(0,h.useRef)(null),[P,O]=(0,h.useState)((()=>d.default.acquireAudio(r))),[N,R]=(0,h.useState)(r);N!==r&&(R(r),O((e=>{const t=d.default.acquireAudio(r);return e.dispose(),t})));const{audio:D,pttPlaybackLogger:L}=P,[B,F]=(0,h.useState)((()=>D.currentTime)),[G,U]=(0,h.useState)((()=>(0,l.getDurationFromAudioOrProtobuf)(D,v))),[V,W]=(0,h.useState)(!D.paused),[H,q]=(0,h.useState)(null),Y=()=>{const{currentTime:e}=D;e!==B&&F(e)};(0,p.default)(Y,{active:V}),(0,_.default)((()=>{x.ServerProps.pttOotPlayback&&E.PttPrefs.outOfChatPlayerMessage||(L.commit(!0),D.pause()),D.paused&&E.PttPrefs.clearOutOfChatMessage(r),P.dispose()}));const z=()=>{w.current&&(T.current=w.current.getBoundingClientRect().top),V?D.pause():(()=>{const e=null==r.asPttLike?1:C;D.playbackRate=e,D.defaultPlaybackRate=e,D.currentTime=B,D.play()})()},K=()=>{const e=G;return null!=e||null!=e?e:(0,l.getDurationFromProto)(v)};(0,h.useEffect)((()=>{const e=S.current;C!==e&&(D.playbackRate=C,D.defaultPlaybackRate=C,S.current=C)}),[D,C]),(0,m.useListener)(D,"playing",(()=>{W(!D.paused)})),(0,m.useListener)(D,"pause",(()=>{E.PttPrefs.clearOutOfChatMessage(),W(!D.paused)})),(0,m.useListener)(D,"ended",(()=>{D.currentTime=0,D.load(),Y(),E.PttPrefs.clearOutOfChatMessage(),W(!D.paused)})),(0,m.useListener)(D,"timeupdate",Y),(0,m.useListener)(D,"durationchange",(()=>{const e=(0,u.default)(D),t=K();null!=e&&e!==t&&U(e)})),(0,m.useListener)(s.Cmd,"sequential_playback_ptt",(e=>{var t;if(r.id!==e)return;w.current&&(T.current=w.current.getBoundingClientRect().top);const a=null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect().top;null!=a&&T.current===a&&s.Cmd.scrollToPtt(r.unsafe())}));const $=e=>{e.preventDefault(),z()};(0,h.useImperativeHandle)(t,(()=>({handleKeyActivation:$})));const Q=V?"audio-pause":"audio-play",X=V?f.fbt._("Pause voice message",null,{hk:"4aYHr6"}):f.fbt._("Play voice message",null,{hk:"1IoAqS"}),J=(0,c.default)(b.default.button,{[b.default.outgoing]:i,[b.default.incoming]:!i,[b.default.conversationWaveformEnabled]:x.ServerProps.pttConversationWaveform}),Z=(0,k.jsx)("button",{className:J,onClick:z,"aria-label":X,children:(0,k.jsx)(M.default,{name:Q})}),ee=(0,k.jsx)("div",{ref:w,className:b.default.scrollPositionDetector});return(0,k.jsxs)(j,{button:Z,played:o,outgoingMsg:i,displayType:n,msg:r.asPtt,children:[ee,(0,k.jsx)(A,{duration:V?B:(0,l.getDurationFromProto)(v),seekingTime:H}),(0,k.jsx)(I,{msg:r,currentTime:B,duration:K(),onSeek:e=>{q(e)},onSeekEnd:e=>{const{duration:t}=D,a=e!==t||V?e:0;F(a),q(null),D.currentTime=a},outgoing:i,played:null!=o&&o,waveform:v.waveform})]})}const P=(0,h.forwardRef)(w);function A(e){let{duration:t,seekingTime:a}=e;const n=null!=a?a:t;return null==n?null:(0,k.jsx)("div",{className:b.default.metadata,"aria-hidden":!0,children:i.Clock.durationStr(n)})}function j(e){var t,a,n;const i=e.spinner&&null==e.button?(0,k.jsx)("button",{className:b.default.button,onClick:e.action,"data-a8n":r.default.key("audio-player-frame-spinner"),"aria-label":e.ariaLabel,children:(0,k.jsx)("div",{className:b.default.spinner,children:(0,k.jsx)(y.Pending,{outgoingMsg:e.outgoingMsg,canCancel:e.canCancel})})}):null,s=null==e.icon||null!=e.button||e.spinner?null:(0,k.jsx)("button",{className:b.default.button,onClick:e.action,"aria-label":e.ariaLabel,children:e.icon}),l=null!=e.fileSize&&0!==e.fileSize?(0,k.jsx)("div",{className:b.default.metadata,children:C.default.filesize(e.fileSize)}):null,u=(0,c.default)(b.default.audio,{[b.default.isGallery]:e.displayType===o.DISPLAY_TYPE.STARRED_MSGS||e.displayType===o.DISPLAY_TYPE.GALLERY});return(0,k.jsxs)("div",{className:u,children:[(0,k.jsxs)("div",{className:b.default.controls,children:[e.button,i,s]}),(0,k.jsxs)("div",{className:b.default.body,children:[(0,k.jsx)(v.InvisibleLabel,{children:f.fbt._("Voice message",null,{hk:"1ac0rl"})}),null!==(t=e.children)&&void 0!==t?t:(0,k.jsx)(I,{msg:e.msg,currentTime:0,duration:100,onSeek:()=>{},onSeekEnd:()=>{},outgoing:e.outgoingMsg,played:null!==(a=e.played)&&void 0!==a&&a,waveform:null===(n=e.msg)||void 0===n?void 0:n.mediaData.waveform,disabled:!0}),l]})]})}function I(e){var t;let{msg:a,currentTime:n,duration:r,onSeek:i,onSeekEnd:s,outgoing:o,played:l,waveform:u,disabled:d}=e;const c=null!=(null===(t=(0,g.useOptionalModelValues)(a,["asPttLike"]))||void 0===t?void 0:t.asPttLike);return x.ServerProps.pttConversationWaveform&&c&&null!=u?(0,k.jsx)(S.default,{currentTime:n,duration:r,onSeek:i,onSeekEnd:s,outgoing:o,played:l,waveform:u,disabled:d,skipThumb:d}):(0,k.jsx)(T.default,{currentTime:n,duration:r,onSeek:i,onCommit:s,outgoing:o,played:l,disabled:d})}t.WrappedAudioPlayer=P},7847:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(5177),i=n(a(94184)),s=a(67294),o=a(35461),l=n(a(11740)),u=n(a(14199)),d=n(a(11465)),c=n(a(14296)),f=n(a(47049)),h=a(64551),p=n(a(67037)),m=a(85893);function g(e){let{size:t}=e;if(null==t||t<=0)return null;const a=c.default.filesize(t);return(0,m.jsx)("span",{className:u.default.metaValue,title:a,children:a})}function _(e){let{count:t}=e;if(null==t||t<=0)return null;const a=c.default.t(766,{count:t,_plural:t});return(0,m.jsx)("span",{className:u.default.metaValue,title:a,children:a})}function v(e){let{ext:t}=e;if(null==t)return null;const a=t.toUpperCase();return(0,m.jsx)("span",{"data-meta-key":"type","data-testid":"type",className:u.default.metaValue,title:a,children:a})}function b(e,t){const{displayAuthor:a,displayType:n,quotedMsg:s,trusted:c}=e,b=h.ServerProps.webLargeFilesUi,y=(0,o.useModelValues)(e.msg,["ack","caption","dir","isFromTemplate","isFailed","isSentByMe","rtl","senderObj","subtype","type","isVcardOverMmsDocument","mediaData","isDynamicReplyButtonsMsg"]),C=(0,o.useModelValues)(e.msg.mediaData,["mediaStage","filename","pageCount","size","mimetype","preview","fullPreviewData"].concat(b?["loadedSize"]:[])),S=(0,p.default)({mimetype:C.mimetype,filename:C.filename}),E=(y.isFromTemplate||y.isDynamicReplyButtonsMsg)&&y.caption,T=E?null:(0,m.jsxs)("div",{className:u.default.docMeta,children:[(0,m.jsx)(_,{count:C.pageCount}),(0,m.jsx)(v,{ext:S.ext}),(0,m.jsx)(g,{size:C.size})]});return(0,m.jsx)("div",{ref:t,className:(0,i.default)({[u.default.bubble]:!E,[u.default.templateBubble]:E,[u.default.isPreview]:n===r.DISPLAY_TYPE.MSG_INFO,[u.default.isGallery]:n===r.DISPLAY_TYPE.STARRED_MSGS||n===r.DISPLAY_TYPE.GALLERY}),children:(0,m.jsxs)(f.default,{displayType:n,msg:y,quotedMsg:s,showAuthor:a,hideCaption:!(y.isFromTemplate||y.isDynamicReplyButtonsMsg),trusted:c,children:[(0,m.jsx)(l.default,{msg:y.unsafe(),wrapperClass:u.default.ctwaContext}),(0,m.jsx)(d.default,{msg:y}),T]})})}var y=(0,s.forwardRef)(b);t.default=y},11465:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const a=k.ServerProps.webLargeFilesUi,[n,B]=(0,d.useState)(a),F=e.msg.isTrusted(),G=(0,f.useModelValues)(e.msg,["ack","caption","dir","isFromTemplate","isFailed","isSentByMe","rtl","senderObj","subtype","type","isVcardOverMmsDocument","mediaData","isDynamicReplyButtonsMsg"]),U=(0,f.useModelValues)(e.msg.mediaData,["mediaStage","filename","pageCount","size","mimetype","preview","fullPreviewData"].concat(a?["loadedSize","filehash"]:[])),V=(0,O.default)({mimetype:U.mimetype,filename:U.filename}),W=a?U.filehash:null;(0,d.useEffect)((()=>{null!=W&&a&&U.mediaStage===T.MEDIA_DATA_STAGE.INIT&&C.LruMediaStore.get(W).then((e=>{B(null!=e)}))}),[W,U.mediaStage,a]),(0,d.useEffect)((()=>{U.fullPreviewData||k.ServerProps.webDownloadDocumentThumbMmsEnabled&&(0,g.default)({msg:(0,P.unproxy)(G),isPreload:!1})}),[]);const H=e=>{R(e),s.ModalManager.open((0,N.jsx)(S.default,{msg:G.unsafe()}))},q=e=>{R(e),Modernizr.adownload?G.downloadMedia({downloadEvenIfExpensive:U.size<=104857600,rmrReason:x.default.WEBC_RMR_REASON_CODE.MSG_CLICK,isUserInitiated:!0}).catch((()=>{})).then((()=>{switch(U.mediaStage){case T.MEDIA_DATA_STAGE.RESOLVED:case T.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:!0!==G.isVcardOverMmsDocument&&((()=>{{const e=U.filename||y.default.t(694);o.ToastManager.open((0,N.jsx)(j.Toast,{msg:y.default.t(299,{name:e}),id:(0,j.genId)()}))}})(),i.FileSaver.initDownload((0,P.unproxy)(G.unsafe())));break;case T.MEDIA_DATA_STAGE.NEED_POKE:case T.MEDIA_DATA_STAGE.ERROR_MISSING:H()}})):s.ModalManager.open((0,N.jsx)(h.default,{onOK:()=>s.ModalManager.close(),okText:u.fbt._("OK",null,{hk:"2KEeHb"}),children:(0,N.jsx)(M.SafariLimitedText,{})}))},Y=e=>{R(e),G.cancelDownload()},z=e=>{R(e),G.cancelUpload()},K=e=>{R(e),G.resumeUpload()},$=e=>{R(e),G.resumeRemoteUpload()},Q=(0,l.default)((0,c.default)(D.filetypeIcon),V.icon),X=U.filename||y.default.t(694);let J=null;const Z={onClick:()=>{}};switch(U.mediaStage){case T.MEDIA_DATA_STAGE.RESOLVED:case T.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:case T.MEDIA_DATA_STAGE.NEED_POKE:case T.MEDIA_DATA_STAGE.INIT:Z.onClick=q,Z.title=y.default.t(774,{name:X}),J=(U.mediaStage===T.MEDIA_DATA_STAGE.RESOLVED||U.mediaStage===T.MEDIA_DATA_STAGE.INIT&&n)&&a?null:(0,N.jsx)(m.Download,{onClick:Z.onClick});break;case T.MEDIA_DATA_STAGE.UPLOADING:case T.MEDIA_DATA_STAGE.FETCHING:J=(0,N.jsx)(m.Pending,{outgoingMsg:G.isSentByMe,canCancel:!0,value:a&&null!=U.loadedSize&&null!=U.size&&U.size>0?Math.ceil(U.loadedSize/U.size*100):void 0}),Z.onClick=U.mediaStage===T.MEDIA_DATA_STAGE.FETCHING?Y:z;break;case T.MEDIA_DATA_STAGE.NEED_UPLOAD:J=(0,N.jsx)(m.Upload,{}),Z.onClick=K;break;case T.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:J=(0,N.jsx)(m.Upload,{}),Z.onClick=$;break;case T.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:break;case T.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:Z.onClick=w.default;break;case T.MEDIA_DATA_STAGE.ERROR_MISSING:Z.onClick=H;break;case T.MEDIA_DATA_STAGE.SENDING:J=G.isFailed?null:(0,N.jsx)(m.Pending,{outgoingMsg:G.isSentByMe});break;default:J=(0,N.jsx)(m.Pending,{outgoingMsg:G.isSentByMe})}const ee=null!=(null!==(t=U.preview)&&void 0!==t?t:U.fullPreviewData);return(0,N.jsxs)(I.default,(0,r.default)((0,r.default)({xstyle:D.buttonContainer,a8nText:"document-thumb"},Z),{},{children:[F?(0,N.jsx)(E.default,{msg:G.unsafe(),containerClassName:(0,c.default)(D.thumbContainer),childClassName:(0,c.default)(D.thumb)}):null,(0,N.jsx)(p.default,{outgoingMsg:G.isSentByMe,position:ee?"bottom":void 0,children:(0,N.jsxs)(v.FlexRow,{xstyle:D.deepContainerContent,align:"center",children:[(0,N.jsx)(b.default,{xstyle:D.icon,shrink:0,children:(0,N.jsx)("div",{className:Q})}),(0,N.jsxs)(b.default,{xstyle:[D.text,y.default.isRTL()&&D.textRTL],grow:1,children:[(0,N.jsx)(_.EmojiText,{text:X,dirMismatch:G.rtl!==y.default.isRTL(),direction:"auto"}),a&&L.has(U.mediaStage)?(0,N.jsx)(A.TimeLeftEta,{size:U.size,loadedSize:U.loadedSize,sampling:3}):null]}),(0,N.jsx)(b.default,{grow:0,shrink:0,children:J})]})})]}))};var r=n(a(81109)),i=a(21634),s=a(14597),o=a(94816),l=n(a(94184)),u=a(48360),d=a(67294),c=n(a(56720)),f=a(35461),h=n(a(52665)),p=n(a(68466)),m=a(71093),g=n(a(61516)),_=a(65417),v=a(29623),b=n(a(48846)),y=n(a(14296)),C=a(55975),S=n(a(20668)),E=n(a(4293)),T=a(58668),x=n(a(11339)),M=a(20723),k=a(64551),w=n(a(75315)),P=a(18146),A=a(41492),j=a(50452),I=n(a(1784)),O=n(a(67037)),N=a(85893);function R(e){e&&(e.stopPropagation(),e.preventDefault())}const D={buttonContainer:{boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"elxb2u3l",width:"ln8gz9je",overflowX:"gfz4du6o",overflowY:"r7fjleex",color:"gtscxtjd",textAlign:"tffp5ko5",cursor:"ajgl1lbb",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw"},text:{position:"g0rxnol2",top:"g3ewzqzm",marginTop:"tt8xd2xn",marginBottom:"mpdn4nr2",marginEnd:"spjzgwxb",marginStart:"a3oefunm",overflowX:"gfz4du6o",overflowY:"r7fjleex",textOverflow:"lhj4utae",whiteSpace:"le5p0ye3"},textRTL:{textAlign:"cb8ormfa"},icon:{marginTop:"o9i7y497"},deepContainerContent:{height:"jbxl65f1",paddingTop:"lqdozo90",paddingEnd:"igb3k0ri",paddingBottom:"bavixdlz",paddingStart:"nntdgyy8"},filetypeIcon:{backgroundRepeat:"sxl192xd",backgroundSize:"hbhfgwk1",height:"fs6hn1up",width:"ekdr8vow"},thumb:{backgroundPosition:"hrdw4pet",backgroundRepeat:"sxl192xd",backgroundSize:"qnwaluaf",borderBottom:"qj9nvfuq",height:"ppled2lx",position:"lhggkp7q",width:"ln8gz9je"},thumbContainer:{height:"fe3aadhc",position:"g0rxnol2",width:"ln8gz9je"}},L=new Set([T.MEDIA_DATA_STAGE.FETCHING,T.MEDIA_DATA_STAGE.UPLOADING])},51845:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{canonicalUrl:t,compose:a,description:n,displayType:r,isInvite:d,inviteGrpType:p,onClick:b,isSentByMe:y,star:C,thumbnail:S,thumbnailJpeg:E,thumbnailJpegHQ:T,thumbnailJpegDirectPath:x,thumbnailJpegHeight:M,thumbnailJpegWidth:k,title:w,theme:P}=e;const A=r===i.DISPLAY_TYPE.GALLERY,j=("high-quality"===P||"high-quality-extended"===P)&&!A,I=!a&&!A&&(O=t,!!O&&_.some((e=>e.test(O))));var O;let N,R,D;if(null!=S)R=(0,h.jsx)("div",{"data-testid":"link-preview-thumbnail",className:c.default.media,children:S});else if(E||T){const e=T&&!A?T:E;if(e&&(R=(0,h.jsx)("img",{"data-testid":"link-preview-thumbnail-jpeg",alt:"",className:c.default.media,src:`data:image/jpeg;base64,${e}`}),(x||T)&&null!=M&&null!=k&&!A))if(j){const e=Math.min(Math.max(M/k,.25),1),t=e<1?330:240;R=(0,h.jsx)("div",{"data-testid":"high-quality-layout",className:(0,s.default)(c.default.thumbnailContainer,{[c.default.blurred]:!T}),style:{height:t*e},children:R})}else{const e=Math.min(Math.max(M/k,1),1.4),t=90;R=(0,h.jsx)("div",{"data-testid":"standard-quality-layout",className:(0,s.default)(c.default.thumbnailContainer,{[c.default.blurred]:!T}),style:{width:t/e,minWidth:t/e},children:R})}}else r===i.DISPLAY_TYPE.GALLERY&&(R=(0,h.jsx)("div",{"data-testid":"link-preview-no-thumb",className:c.default.noThumbContainer,children:(0,h.jsx)(f.default,{className:c.default.noThumbIcon,name:"link"})}));if(r===i.DISPLAY_TYPE.GALLERY){const e=C?(0,h.jsx)(f.default,{className:c.default.iconStar,name:"star"}):null;N=(0,h.jsxs)("div",{"data-testid":"icon-star",className:c.default.galleryContainer,children:[R,e]})}else N=R;D=!0===d?p===u.GroupType.COMMUNITY?o.fbt._("",null,{hk:"HBk5G"}).toString():o.fbt._("",null,{hk:"W499u"}).toString():n;const L=m(w),B=g(L),F=t?(0,h.jsx)("div",{"data-testid":"url-element",className:c.default.source,children:(0,h.jsx)(l.EmojiText,{text:t,direction:L,dirMismatch:B})}):null,G=(0,s.default)(c.default.preview,{[c.default.isInvite]:r!==i.DISPLAY_TYPE.GALLERY&&d,[c.default.isCompose]:a,[c.default.bubbleIn]:!y,[c.default.bubbleOut]:y,[c.default.status]:r===i.DISPLAY_TYPE.STATUS,[c.default.extended]:"extended"===P,[c.default.highQualityLayout]:j,[c.default.fullPreview]:I,[c.default.withoutDescription]:null==D});return(0,h.jsxs)("div",{className:G,onClick:b,children:[N,(0,h.jsxs)("div",{className:c.default.body,children:[(0,h.jsx)("div",{className:c.default.title,title:w,children:(0,h.jsx)(l.EmojiText,{text:w,direction:L,dirMismatch:B})}),(0,h.jsx)(v,{useTextLimit:I&&!j,children:D}),F]})]})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(93131)),i=a(5177),s=n(a(94184)),o=a(48360),l=a(65417),u=a(55981),d=n(a(14296)),c=n(a(46534)),f=n(a(23217)),h=a(85893);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e){return e?r.dir(e):void 0}function g(e){return"rtl"===e!==d.default.isRTL()}const _=[/^(www.)?twitter.com$/i];function v(e){let{children:t,useTextLimit:a}=e;if(null==t)return null;const n="string"==typeof t?m(t):void 0,r=g(n),i=a?280:void 0;return(0,h.jsx)("div",{"data-testid":"link-description",className:c.default.description,children:"string"==typeof t?(0,h.jsx)(l.EmojiText,{text:t,textLimit:i,titlify:!0,direction:n,dirMismatch:r}):t})}},36588:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(14597),i=n(a(76139)),s=n(a(3689)),o=a(67294),l=a(35461),u=n(a(61516)),d=a(12591),c=n(a(51845)),f=a(32554),h=n(a(82791)),p=a(85893);function m(e){const{msg:t,displayType:a,isInvite:n,theme:m}=e,g=(0,l.useModelValues)(t,["t","thumbnail","thumbnailHQ","thumbnailDirectPath","thumbnailHeight","thumbnailWidth","title","description","canonicalUrl","matchedText","isSentByMe","star","asUrl","inviteGrpType"]);(0,o.useEffect)((()=>{const e=g.asUrl;!e||(0,f.hqLinkPreviewExpired)(g.t)||e.thumbnailHQ||(0,u.default)({msg:e,isPreload:!1})}),[g]);let _=null;if(!n){_=i.default.hostname(g.canonicalUrl||g.matchedText);try{_=s.default.toUnicode(_)}catch(e){}}const v=g.getSuspiciousLinks().filter((e=>{let{url:t}=e;return g.matchedText===t}));let b,y,C,S,E,T,x;return v.length?x=()=>{const e=v[0];r.ModalManager.open((0,p.jsx)(h.default,{link:e}))}:(x=()=>{const e=g.matchedText;(0,d.openExternalLink)(e)},b=g.description,y=g.thumbnail,(0,f.hqLinkPreviewExpired)(g.t)||(C=g.thumbnailHQ,S=g.thumbnailDirectPath,E=g.thumbnailHeight,T=g.thumbnailWidth)),(0,p.jsx)(c.default,{canonicalUrl:_,description:b,displayType:a,isInvite:n,inviteGrpType:g.inviteGrpType,onClick:x,isSentByMe:g.isSentByMe,thumbnailJpeg:y,thumbnailJpegHQ:C,thumbnailJpegDirectPath:S,thumbnailJpegHeight:E,thumbnailJpegWidth:T,title:g.title,star:g.star,theme:m})}var g=(0,o.memo)(m);t.default=g},1238:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,d.showForwarded)(e.msg),a=e.displayAuthor?(0,c.jsx)("div",{className:l.default.author,children:(0,c.jsx)(s.default,{msg:e.msg,contact:e.msg.senderObj})}):null,n=e.displayType===r.DISPLAY_TYPE.GALLERY||e.hideMeta?null:(0,c.jsx)("div",{className:l.default.meta,children:(0,c.jsx)(u.Meta,{msg:e.msg})}),f=t?(0,c.jsx)(o.default,{msg:e.msg.unsafe(),className:l.default.forwardedIndicator}):null,h=e.quotedMsg?(0,c.jsx)("div",{className:l.default.quote,children:e.quotedMsg}):null,p=(0,i.default)(l.default.bubble,{[l.default.forwarded]:t,[l.default.hasAuthor]:e.displayAuthor,[l.default.hasCaption]:e.hasCaption,[l.default.isPSA]:e.msg.isPSA});return(0,c.jsxs)("div",{className:p,children:[a,f,h,e.children,n]})};var r=a(5177),i=n(a(94184)),s=n(a(72655)),o=n(a(14703)),l=n(a(74411)),u=a(42316),d=a(63132),c=a(85893)},63547:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MediaMsgPreview=function(e){const t=(0,i.useModelValues)(e.mediaData,["filehash","fullPreviewData","mediaStage","preview","type"]);if(!c(t.type))return(0,u.jsx)(h,{mediaData:t});return(0,u.jsx)(o.default,{mediaData:t,placeholderRenderer:()=>(0,u.jsx)(h,{mediaData:t}),renderProgressively:!0,children:e=>(0,u.jsx)(f,{url:e})},t.filehash)},t.isMediaTypeWithImage=c;var r=a(15461),i=a(35461),s=n(a(22404)),o=n(a(20553)),l=n(a(34949)),u=a(85893);const d=new Set([r.MSG_TYPE.IMAGE,r.MSG_TYPE.PRODUCT]);function c(e){return d.has(e)}function f(e){let{url:t}=e;return(0,u.jsx)("div",{className:s.default.preview,style:{backgroundImage:`url(${t})`}})}function h(e){var t;let{mediaData:a}=e;return[[a.preview instanceof l.default?a.preview.url():null,"preview"],[null===(t=a.fullPreviewData)||void 0===t?void 0:t.url(),"fullPreview"]].map((e=>{let[t,a]=e;return null!=t?(0,u.jsx)(f,{url:t},a):null})).filter(Boolean)}},81309:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBase64=r,t.convertToDataURI=function(e){return`data:image/jpeg;base64,${r(e)}`};var n=a(8584);function r(e){return btoa(String.fromCharCode.apply(null,n.Binary.build(e).readByteArray()))}},41492:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TimeLeftEta=function(e){let{size:t,loadedSize:a,sampling:n=1}=e;const h=(0,o.useRef)(!1),p=(0,o.useRef)(0),m=(0,d.useTimeLeftMs)(a,t);!h.current&&++p.current>=n&&null!=m&&m>=1e4&&(h.current=!0);const g=!1===h.current||null==t||null==a||a>=t||null==m||0===m?null:(0,c.jsx)("div",{"data-testid":"time-left-eta",children:(0,c.jsx)(u.TextDiv,{theme:"small",children:s.fbt._("{progress}% ({eta})",[s.fbt._param("progress",(0,c.jsx)("span",{className:(0,l.default)(f),children:Math.floor(a/t*100)})),s.fbt._param("eta",r.Clock.timeLeftStr(Math.ceil(m/1e3)))],{hk:"4dwzXQ"})})});return(0,c.jsx)(i.default,{transitionName:"slide-up-fade-in-eta",children:g})};var r=a(40234),i=n(a(40436)),s=a(48360),o=a(67294),l=n(a(56720)),u=a(13923),d=a(98567),c=a(85893);const f={display:"l7jjieqr"}},67037:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{mimetype:t,filename:a}=e;return(0,r.useMemo)((()=>{var e;let r,s;var o,l;i.DOCUMENT_MIMETYPES.hasOwnProperty(t)&&(r=null===(o=i.DOCUMENT_MIMETYPES[t])||void 0===o||null===(l=o.ext)||void 0===l?void 0:l.toLowerCase(),s=t);const u=a?(0,n.getFileExtension)(a):null;var d;(null==r||null!=u&&r!==u)&&(r=u,s=null!=r&&null!==(d=null===i.EXT_TO_MIME||void 0===i.EXT_TO_MIME?void 0:i.EXT_TO_MIME[r])&&void 0!==d?d:null);return{ext:r,mime:s,icon:null!=s&&(null===(e=i.DOCUMENT_MIMETYPES[s])||void 0===e?void 0:e.icon)||"icon-doc-generic"}}),[t,a])};var n=a(65885),r=a(67294),i=a(43257)},98567:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useTimeLeftMs=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const n=(0,i.default)((()=>Date.now())),l=(0,r.useRef)(0),u=(0,r.useRef)(0),d=(0,s.default)((()=>{if(null==n.current||null==l.current||null==t||null==e)return null;const a=Date.now(),r=e-l.current,i=a-n.current;if(l.current=e,n.current=a,0===i)return null;const s=r/i;return u.current=0===u.current?s:s*o+.99*u.current,(t-e)/u.current}),a,{trailing:!1,leading:!0});return d()};var r=a(67294),i=n(a(16223)),s=n(a(90886));const o=.01},77807:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,n.isMDBackend)()?r.isParsableYouTubeVideoUrl:r.isParsableOnlineVideoURL;return null!=e.matchedText&&""!==e.matchedText&&t(e.richPreviewType,e.matchedText,e.doNotPlayInline)};var n=a(88555),r=a(20427)},75315:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(function(e){if(!e)return;e.stopPropagation(),e.preventDefault()})(e),r.ModalManager.open((0,s.jsx)(i.default,{}))};var r=a(14597),i=n(a(98707)),s=a(85893)},42798:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.parseYoutubeVideoId=function(e){const t=i.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE;for(let a=0;a<t.length;a++){const n=r.default.withoutWww(e).match(t[a]);if(n)return n[n.length-1]}return null};var r=n(a(76139)),i=a(40875)},97507:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(64331),i=n(a(64369)),s=n(a(94184)),o=a(67294),l=a(35461),u=n(a(72655)),d=n(a(85559)),c=n(a(6725)),f=a(21504),h=n(a(11740)),p=n(a(14703)),m=a(29565),g=a(42316),_=a(63132),v=n(a(95839)),b=n(a(45458)),y=n(a(50253)),C=a(85893);function S(e){e.stopPropagation()}function E(e,t){var a;const{theme:n,overlayContent:E,displayType:T,displayAuthor:x}=e,M=(0,o.useRef)(null),k=e=>{var t;e.preventDefault(),null===(t=M.current)||void 0===t||t.play(e)};(0,o.useImperativeHandle)(t,(()=>({handleKeyActivation:k})));const w=(0,l.useModelValues)(e.msg,["ack","caption","dir","footer","id","isGroupMsg","isPSA","isSentByMe","isUnsentMedia","rtl","senderObj","type","isFailed","ctwaContext","supportsMessageFooter","text"]),P=(0,l.useModelValues)(e.msg.mediaData,["aspectRatio"]),A=(0,r.numCodepoints)(null!==(a=w.text)&&void 0!==a?a:"")>i.default.MAX_PORTRAIT_MEDIA_CAPTION_LENGTH,{bubbleWidth:j,bubbleHeight:I}=(0,f.getBubbleDimension)(w.type,!1,P.aspectRatio,n,T,A),O=x?(0,C.jsx)("div",{className:b.default.author,children:(0,C.jsx)(u.default,{msg:w,contact:w.senderObj})}):null,N=(0,_.showForwarded)(w)&&e.theme!==m.DisplayTheme.Album,R=N?(0,C.jsx)(p.default,{msg:w.unsafe(),className:b.default.forwardedIndicator}):null,D=w.caption?(0,C.jsx)("div",{className:b.default.caption,children:(0,C.jsx)(c.default,{msg:w.unsafe(),trusted:e.trusted,spacer:!(w.supportsMessageFooter&&w.footer)})}):null,L=(0,s.default)(b.default.bubble,{[b.default.nonAlbumBubble]:!n||n!==m.DisplayTheme.Album,[b.default.portrait]:j<I&&(0,f.canUseCustomCropping)(w.type,n,T)}),B=(0,s.default)(L,{[b.default.hasCaption]:D,[b.default.hasAuthor]:x,[b.default.forwarded]:N,[b.default.isPSA]:w.isPSA,[b.default.ctwaContainerWidth]:null!=w.ctwaContext}),F=e.quotedMsg?(0,C.jsx)("div",{className:b.default.quote,children:e.quotedMsg}):null;let G;null==E&&(G=(0,C.jsx)("div",{className:b.default.meta,children:(0,C.jsx)(g.Meta,{msg:w})}));let U=(0,C.jsxs)("div",{className:B,children:[O,R,F,(0,C.jsx)(h.default,{msg:w.unsafe(),wrapperClass:b.default.ctwaContext}),(0,C.jsx)(y.default,{ref:M,albumMsgs:e.albumMsgs,displayType:T,hasOverlay:Boolean(E),hover:e.hover,msg:w,mediaData:e.msg.mediaData,theme:n,zoomMsg:e.zoomMsg}),D,(0,C.jsx)(v.default,{dir:w.dir,footer:w.footer,isShown:w.supportsMessageFooter,msg:w.unsafe(),rtl:w.rtl,type:w.type,trusted:e.trusted}),G]});return D?(0,C.jsx)(d.default,{contact:w.senderObj,msg:w.unsafe(),onClick:S,children:U}):(null!=E&&(U=(0,C.jsxs)("div",{className:b.default.overlayAlbumText,children:[U,E]})),(0,C.jsx)("div",{onClick:S,children:U}))}var T=(0,o.forwardRef)(E);t.default=T},72377:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e,a=(0,c.useRef)(null),[n,w]=(0,c.useState)((()=>v.default.isOpened((0,y.unproxy)(t))?A:P));(0,f.useListener)(v.default,`${t.id.toString()}_pip_did_open`,(()=>{n!==A&&w(A)})),(0,f.useListener)(v.default,`${t.id.toString()}_pip_did_close`,(()=>{n!==P&&w(P)}));const I=()=>a.current?a.current.getBoundingClientRect():null,O=t.description?(0,k.jsx)("div",{className:T.default.description,title:t.description,children:(0,k.jsx)(p.EmojiText,{text:t.description})}):null;let N=l.default.hostname(e.msg.canonicalUrl||e.msg.matchedText);N=l.default.withoutWww(N),N===h.HOSTNAME.YOUTUBE_SHORTENED&&(N=h.HOSTNAME.YOUTUBE);const R=(0,k.jsx)("div",{className:T.default.source,children:(0,k.jsx)(p.EmojiText,{text:N})}),D=(0,u.default)(T.default.body,{[T.default.noThumb]:!e.msg.thumbnail}),L=(0,g.hqLinkPreviewExpired)(t.t),B=!L&&e.msg.thumbnailHQ?e.msg.thumbnailHQ:e.msg.thumbnail;let F;if(n===P)switch(N){case h.HOSTNAME.YOUTUBE:case h.HOSTNAME.YOUTUBE_MOBILE:const t=(0,M.parseYoutubeVideoId)(e.msg.matchedText);if(t){const a=(e=>{const t=e.split("?");if(2!==t.length)return 0;const a=t[1],n=new E.default(a).get(h.YOUTUBE_URL_TIME_PARAM_NAME);if(!n)return 0;const r=n.match(h.YOUTUBE_URL_TIME_PARAM_PATTERN);let i=0;if(null==r?void 0:r.length)for(let e=1;e<r.length;e++){const t=r[e];if(!t)continue;const a=parseInt(t,10);if(Number.isNaN(a))return 0;t.endsWith("h")&&(i+=3600*a),t.endsWith("m")&&(i+=60*a),t.endsWith("s")&&(i+=a),/^\d+$/.test(t)&&(i+=a)}return i})(e.msg.matchedText);F=n=>{n&&n.stopPropagation(),v.default.openYoutubePiP(t,e.msg,a,I())}}break;case h.HOSTNAME.INSTAGRAM:case h.HOSTNAME.STREAMABLE:case h.HOSTNAME.FACEBOOK:case h.HOSTNAME.FBWATCH:case h.HOSTNAME.FBWATCH_ALT:case h.HOSTNAME.LASSOVIDEOS:case h.HOSTNAME.LASSO_SHORTENED:case h.HOSTNAME.SHARECHAT:F=()=>{if(v.default.openOgVideoPiP("",B,e.msg,0,I()),(0,i.isMDBackend)())throw new Error("This call is only supported in non-MD mode");const t=l.default.build(e.msg.matchedText,{wa_logging_event:"video_play_open"});x.default.queryVideoPlaybackUrl(t).then((t=>{if(v.default.isOpened(e.msg)){if(!t.url)throw new Error("Url is missing in response.");v.default.openOgVideoPiP(t.url,B,e.msg,0,null)}})).catch((t=>{__LOG__(3)`handlePiPLauncherClick: queryVideoPlaybackUrl has failed with error ${t}`,v.default.closePiP(),o.ToastManager.open((0,k.jsx)(S.Toast,{id:(0,S.genId)(),msg:d.fbt._("The video can't be played.",null,{hk:"4Es7E8"}),action:{actionText:d.fbt._("Open the link",null,{hk:"2xiq6A"}),onAction:()=>{(0,m.openExternalLink)(e.msg.matchedText)}}}))}))};break;default:return null}const G=(0,u.default)(T.default.preview,{[T.default.bubbleIn]:!e.msg.isSentByMe,[T.default.bubbleOut]:e.msg.isSentByMe}),U=n===P?(0,k.jsx)("div",{className:T.default.mediaStateControlsWrapper,children:(0,k.jsx)(_.Play,{})}):null,V=n===A?(0,k.jsx)(b.default,{icon:(0,k.jsx)(C.default,{name:"video-pip-large"}),children:d.fbt._("This video is playing in picture in picture.",null,{hk:"4pqtaj"})}):null;let W,H;if(B&&(0,r.default)(h.HOSTNAME).includes(N)){var q;const t=function(e){return j.includes(e)}(N);W=(0,k.jsx)("img",{alt:"",className:(0,u.default)(T.default.thumbnail,{[T.default.youtubeThumbnail]:t,[T.default.noBlur]:t&&(0,s.isFeatureEnabled)("youtube_video_preview_without_blur")||!L&&!!e.msg.thumbnailHQ}),src:`data:image/jpeg;base64,${B}`});const a=null!==(q=h.ATTRIBUTION_ICONS[N])&&void 0!==q?q:null;a&&(H=(0,k.jsx)("div",{className:T.default.attribution,children:(0,k.jsx)(C.default,{name:a})}))}else W=(0,k.jsx)("div",{className:T.default.thumbnailPlaceholder});return(0,k.jsxs)("div",{className:G,children:[(0,k.jsxs)("div",{ref:a,className:T.default.thumbnailWrapper,onClick:F,children:[H,W,U,V]}),(0,k.jsxs)(m.ExternalLink,{className:D,href:e.msg.matchedText,children:[(0,k.jsx)("div",{className:T.default.title,title:e.msg.title,children:(0,k.jsx)(p.EmojiText,{text:e.msg.title})}),O,R]})]})};var r=n(a(52628)),i=a(88555),s=a(10206),o=a(94816),l=n(a(76139)),u=n(a(94184)),d=a(48360),c=a(67294),f=a(87550),h=a(40875),p=a(65417),m=a(12591),g=a(32554),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),v=n(a(77912)),b=n(a(27557)),y=a(18146),C=n(a(23217)),S=a(50452),E=n(a(53565)),T=n(a(72836)),x=n(a(56891)),M=a(42798),k=a(85893);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}const P="PREVIEW",A="FLOATER",j=[h.HOSTNAME.YOUTUBE,h.HOSTNAME.YOUTUBE_MOBILE,h.HOSTNAME.YOUTUBE_SHORTENED]},85476:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=a(35461),s=n(a(61516)),o=a(32554),l=n(a(72377)),u=a(85893);function d(e){const t=(0,i.useModelValues)(e.msg,["t","thumbnailHQ","asUrl","isSentByMe"]);return(0,r.useEffect)((()=>{const e=t.asUrl;!e||(0,o.hqLinkPreviewExpired)(t.t)||e.thumbnailHQ||(0,s.default)({msg:e,isPreload:!1})}),[t]),(0,u.jsx)(l.default,{msg:t.unsafe()})}var c=(0,r.memo)(d);t.default=c},50253:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=a(64331),s=a(10206),o=a(40234),l=a(81572),u=n(a(64369)),d=a(8139),c=a(14597),f=n(a(76139)),h=n(a(94184)),p=a(48360),m=a(67294),g=a(87550),_=a(35461),v=a(21504),b=a(78986),y=a(29565),C=n(a(20668)),S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),E=a(58668),T=n(a(19451)),x=n(a(34949)),M=a(19656),k=n(a(77912)),w=n(a(27557)),P=n(a(75315)),A=a(18146),j=n(a(23217)),I=n(a(2749)),O=n(a(35353)),N=a(85893);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}const D="PREVIEW",L="FLOATER";function B(e,t){var a,n;const{theme:R,hasOverlay:B,displayType:F,albumMsgs:G}=e,U=(0,_.useModelValues)(e.msg,["ack","caption","dir","footer","gifAttribution","id","isGroupMsg","isPSA","isSentByMe","isUnsentMedia","rtl","senderObj","type","isFailed","ctwaContext","supportsMessageFooter","text"]);(0,_.useModelValues)(e.mediaData,["aspectRatio","preview","fullPreviewData","duration","mediaStage","fullWidth","fullHeight","size"]);const V=(0,m.useRef)(null),[W,H]=(0,m.useState)((()=>k.default.isOpened((0,A.unproxy)(U.unsafe()))?L:D));(0,m.useEffect)((()=>{(0,s.isFeatureEnabled)("media_existence_check")&&(0,b.checkExistence)((0,A.unproxy)(U)),(0,d.isHighQualityVideoThumbnailsEnabled)()&&(0,b.downloadVideoThumbnail)({msg:(0,A.unproxy)(U)})}),[]);const q=()=>{c.ModalManager.open((0,N.jsx)(C.default,{msg:U.unsafe()}))},Y=()=>{U.forceDownloadMediaEvenIfExpensive()},z=()=>{U.cancelDownload()},K=()=>{U.cancelUpload()},$=()=>{U.resumeUpload()},Q=()=>{U.resumeRemoteUpload()},X=e=>{e&&e.stopPropagation(),c.ModalManager.open((0,N.jsx)(T.default,{msg:(0,A.unproxy)(U.unsafe())}))},J=t=>{if(t&&t.stopPropagation(),R===y.DisplayTheme.Album){const t=e.zoomMsg||U,a=new Set((G||[]).map((e=>e.id.toString())));l.Cmd.mediaViewerModal({msg:(0,A.unproxy)(t.unsafe()),highlightedMsgIds:a})}else l.Cmd.mediaViewerModal({msg:(0,A.unproxy)(U.unsafe())})},Z=e=>{e&&e.stopPropagation();const t=V.current?V.current.getBoundingClientRect():null;k.default.openPiP((0,A.unproxy)(U.unsafe()),0,t)};(0,m.useImperativeHandle)(t,(()=>({play:J}))),(0,g.useListener)(k.default,`${U.id.toString()}_pip_did_open`,(()=>{W!==L&&H(L)})),(0,g.useListener)(k.default,`${U.id.toString()}_pip_did_close`,(()=>{W!==D&&H(D)}));const ee=U,te=e.mediaData;let ae=null,ne=null;switch(te.mediaStage){case E.MEDIA_DATA_STAGE.RESOLVED:case E.MEDIA_DATA_STAGE.INIT:case E.MEDIA_DATA_STAGE.EXISTS:ae=(0,N.jsx)(S.Play,{}),ne=J;break;case E.MEDIA_DATA_STAGE.NEED_POKE:ae=(0,N.jsx)(S.Download,{filesize:te.size}),ne=Y;break;case E.MEDIA_DATA_STAGE.UPLOADING:case E.MEDIA_DATA_STAGE.FINALIZING:ae=(0,N.jsx)(S.Pending,{cancelable:!0}),ne=K;break;case E.MEDIA_DATA_STAGE.FETCHING:ae=(0,N.jsx)(S.Pending,{cancelable:!0}),ne=z;break;case E.MEDIA_DATA_STAGE.NEED_UPLOAD:ae=(0,N.jsx)(S.Upload,{filesize:te.size}),ne=$;break;case E.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:ae=(0,N.jsx)(S.Upload,{filesize:te.size}),ne=Q;break;case E.MEDIA_DATA_STAGE.ERROR_MISSING:ne=q;break;case E.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:ee.isUnsentMedia||(ae=(0,N.jsx)(S.Download,{filesize:te.size}),ne=X);break;case E.MEDIA_DATA_STAGE.SENDING:ee.isFailed||(ae=(0,N.jsx)(S.Pending,{}));break;case E.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:__LOG__(4,void 0,new Error,!0)`Videos should be copied in memory when selected`,SEND_LOGS("media-image-not-readable-error"),ne=P.default;break;case E.MEDIA_DATA_STAGE.DECRYPTING:case E.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case E.MEDIA_DATA_STAGE.PREPARING:case E.MEDIA_DATA_STAGE.PROGRESSIVE_READY:case E.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case E.MEDIA_DATA_STAGE.REUPLOADING:ae=(0,N.jsx)(S.Pending,{})}const re=parseInt(te.duration,10)?o.Clock.durationStr(te.duration):null,ie=re?(0,N.jsxs)("span",{className:O.default.duration,children:[(0,N.jsx)("div",{className:O.default.icon,children:(0,N.jsx)(j.default,{name:"msg-video"})}),re]}):null,se=(0,i.numCodepoints)(null!==(a=ee.text)&&void 0!==a?a:"")>u.default.MAX_PORTRAIT_MEDIA_CAPTION_LENGTH,{bubbleWidth:oe,bubbleHeight:le}=(0,v.getBubbleDimension)(ee.type,!1,te.aspectRatio,R,F,se),ue=te.fullHeight||le,de=te.fullWidth||oe,ce=(0,v.getImgStyle)(de,ue,oe,le),fe=null!==(n=te.fullPreviewData)&&void 0!==n?n:te.preview,he=null!=te.fullPreviewData,pe=fe instanceof x.default?(0,r.default)({backgroundImage:f.default.thumbAsBackgroundImage(fe.url()).backgroundImage},ce):void 0,me=(0,N.jsx)("div",{className:(0,h.default)(O.default.thumbBody,{[O.default.thumbBodyLowQuality]:!he}),style:pe});let ge,_e;switch(te.mediaStage){case E.MEDIA_DATA_STAGE.INIT:case E.MEDIA_DATA_STAGE.RESOLVED:ge=(0,N.jsx)("div",{className:(0,h.default)(O.default.pipBtn,{[O.default.isHover]:!!e.hover}),children:(0,N.jsx)(M.PiPButton,{onClick:Z,theme:M.PIP_BUTTON_THEME.PREVIEW})});break;default:ge=null}switch(W){case D:_e=(0,N.jsxs)(N.Fragment,{children:[ge,ae]});break;case L:_e=(0,N.jsx)(w.default,{icon:(0,N.jsx)(j.default,{name:"video-pip-large"}),children:p.fbt._("This video is playing in picture in picture.",null,{hk:"4pqtaj"})})}const ve=(0,h.default)(O.default.thumb,{[O.default.inAlbum]:R===y.DisplayTheme.Album});return(0,N.jsxs)("div",{ref:V,"data-testid":"video-content",className:(0,h.default)(ve,{[O.default.cursorPointer]:W===D,[O.default.overlay]:B,[O.default.ctwaThumbWidth]:null!=ee.ctwaContext}),onClick:ne,style:{width:oe,height:le},children:[B?null:_e,me,(0,N.jsx)(I.default,{}),B?null:ie]})}var F=(0,m.forwardRef)(B);t.default=F},34377:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(99964)),i=a(15461),s=n(a(94184)),o=a(67294),l=a(35461),u=n(a(66034)),d=a(24808),c=a(34535),f=a(20427),h=n(a(14296)),p=a(32554),m=n(a(30532)),g=a(63132),_=n(a(5165)),v=a(18146),b=n(a(23217)),y=a(97628),C=a(84728),S=a(78123),E=a(85893);function T(e,t){var a,n,T;const{isGroupedSticker:x,hasAuthor:M,onToggle:k}=e,w=(0,o.useRef)(null),P=(0,o.useContext)(y.ThemeContext),A=(0,l.useModelValues)(e.msg,["ack","linkPreview","matchedText","dir","rtl","isMedia","isSentByMe","isGroupMsg","isViewOnce","interactiveHeader","type","quotedMsg","body","quotedRemoteJid","richPreviewType","doNotPlayInline","ctwaContext","list","nativeFlowName","thumbnailDirectPath","thumbnailHeight","thumbnailWidth","text"]);(0,o.useImperativeHandle)(t,(()=>({getComponent:()=>({refContext:w.current})})));const{isSentByMe:j,type:I}=A,O=!!A.quotedMsg,N=O&&!!A.quotedRemoteJid,R=(0,g.showForwarded)(A),D=N?null:j?m.default.contextOut:m.default.contextIn,L=I===i.MSG_TYPE.DOCUMENT||(null===(a=A.interactiveHeader)||void 0===a?void 0:a.mediaType)===c.InteractiveMessageHeaderMediaType.DOCUMENT,B=L&&!A.body,F=L&&A.body,G=I===i.MSG_TYPE.LOCATION,U=A.linkPreview&&(0,f.isParsableOnlineVideoURL)(A.richPreviewType,A.matchedText,A.doNotPlayInline),V=I===i.MSG_TYPE.LIST&&(null===(n=A.list)||void 0===n?void 0:n.listType)===d.Message$ListMessageListType.PRODUCT_LIST,W=A.isMedia||[c.InteractiveMessageHeaderMediaType.IMAGE,c.InteractiveMessageHeaderMediaType.VIDEO].includes(null===(T=A.interactiveHeader)||void 0===T?void 0:T.mediaType),H=F||G||O||V||I===i.MSG_TYPE.PAYMENT||U||I===i.MSG_TYPE.PRODUCT||A.nativeFlowName===_.default.ORDER_STATUS||A.ctwaContext||W&&!A.isViewOnce&&I!==i.MSG_TYPE.AUDIO||A.isViewOnce&&!j&&!(0,C.isViewed)(A.safe()),q=A.getSuspiciousLinks().length>0,Y=I===i.MSG_TYPE.CHAT&&A.linkPreview&&!U&&!M&&!R&&!q&&A.isTrusted(),z=(0,p.displayHighQualityLinkPreview)((0,v.unproxy)(A.unsafe())),K=H&&!M&&!q&&!R||Y&&z,$=(0,s.default)(K?m.default.contextIconMedia:m.default.contextIcon),Q=I===i.MSG_TYPE.PTT||I===i.MSG_TYPE.AUDIO,X=A.type===i.MSG_TYPE.MULTI_VCARD&&!O&&!M&&!R,J=I===i.MSG_TYPE.GROUPS_V4_INVITE,Z=I===i.MSG_TYPE.ORDER,ee=(Y&&!z||B||J||Z)&&!M&&!R&&!O,te=I===i.MSG_TYPE.STICKER&&!A.ctwaContext&&!O&&(x||!A.isGroupMsg||A.isGroupMsg&&A.isSentByMe);let ae,ne;if(te){const e=u.default.get("defaultPreference"),t=e?e.wallpaperColor:S.DEFAULT_CHAT_WALLPAPER;ne=(0,E.jsx)("div",{className:m.default.badge,style:{backgroundColor:t,opacity:.9}}),ae=(0,S.invertTransparentWallpaperColors)(P.theme,t)}const re=!(I!==i.MSG_TYPE.CHAT||O||M||R||U||!A.dir||A.rtl===h.default.isRTL()),ie=(I===i.MSG_TYPE.PTT||I===i.MSG_TYPE.AUDIO)&&h.default.isRTL()&&!M,se=(0,s.default)(D,K?h.default.isRTL()?m.default.contextMediaRtl:m.default.contextMediaLtr:null,{[m.default.context]:!(K||Y)||ee,[m.default.contextMedia]:K,[m.default.contextPtt]:Q,[m.default.contextPttFix]:Q&&!O&&!M,[m.default.contextSpecial]:ee,[m.default.contextDoc]:B&&!M&&!R&&!O,[m.default.contextMediaDocument]:F,[m.default.contextMultiVcard]:X,[m.default.contextInverse]:re||ie,[m.default.contextStickerAuthor]:I===i.MSG_TYPE.STICKER&&!te,[m.default.contextStickerTransparent]:te,[m.default.contextStickerInverse]:te&&ae});return(0,E.jsxs)("div",{className:se,children:[(0,E.jsx)("div",{"data-a8n":r.default.key("icon-down-context"),"data-js-context-icon":!0,className:$,ref:w,onMouseDown:e=>{e.stopPropagation()},onClick:e=>{k(e.target)},children:(0,E.jsx)(b.default,{name:"down-context"})}),ne]})}var x=(0,o.forwardRef)(T);t.default=x},47049:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t,displayType:a,hideCaption:n=!1,hideMeta:m=!1,msg:g,quotedMsg:_,showAuthor:v=!1,trusted:b}=e;const{caption:y,dir:C,footer:S,isSentByMe:E,isGroupMsg:T,rtl:x,senderObj:M,supportsMessageFooter:k,type:w}=(0,s.useModelValues)(g,["caption","dir","footer","isFromTemplate","isSentByMe","isGroupMsg","rtl","senderObj","supportsMessageFooter","type"]),P=v&&!E&&T,A=!n&&y,j=(0,f.showForwarded)(g);return(0,p.jsxs)(p.Fragment,{children:[P?(0,p.jsx)("div",{className:(0,i.default)(d.default.author,{[d.default.hasForwarded]:j}),children:(0,p.jsx)(o.default,{msg:g,contact:M})}):null,j?(0,p.jsx)(u.default,{msg:g.unsafe(),className:(0,i.default)(d.default.forwardedIndicator,{[d.default.hasAuthor]:P})}):null,null!=_?(0,p.jsx)("div",{className:d.default.quote,children:_}):null,t,A?(0,p.jsx)("div",{className:d.default.caption,children:(0,p.jsx)(l.default,{msg:g.unsafe(),trusted:b,spacer:!S})}):null,k?(0,p.jsx)(h.default,{dir:C,footer:S,isShown:k,msg:g.unsafe(),rtl:x,type:w,trusted:b}):null,!m&&(0,p.jsx)("div",{className:(0,i.default)(d.default.meta,{[d.default.hasCaption]:A}),children:(0,p.jsx)(c.Meta,{msg:g,theme:a===r.DISPLAY_TYPE.GALLERY?"date":void 0})})]})};var r=a(5177),i=n(a(94184)),s=a(35461),o=n(a(72655)),l=n(a(6725)),u=n(a(14703)),d=n(a(25410)),c=a(42316),f=a(63132),h=n(a(95839)),p=a(85893)},87931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgPosition=t.MSG_VISIBILITY=void 0;t.MsgPosition={FRONT:"FRONT",MID:"MID",END:"END",SINGLE:"SINGLE"};t.MSG_VISIBILITY={ABOVE:"above",VISIBLE:"visible",BELOW:"below"}},54703:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{broadcast:a,isFromTemplate:n,isSentByMe:d,labels:c,star:f,type:h}=(0,o.useModelValues)(e.msg,["broadcast","isFromTemplate","isSentByMe","labels","star","type"]);let p={};const m=null===(t=e.spacer)||void 0===t||t;if(m){let e;switch(h){case i.MSG_TYPE.REVOKED:e=[a,(null==c?void 0:c.length)&&(0,r.canDisplayLabel)()];break;default:e=[a,d,(null==c?void 0:c.length)&&(0,r.canDisplayLabel)(),f]}const t=e.filter(Boolean).length;t>0&&(p={[l.default.icons1]:1===t,[l.default.icons2]:2===t,[l.default.icons3]:3===t,[l.default.icons4]:t>=4})}return(0,u.jsxs)("div",{className:(0,s.default)(e.className,{[l.default.text]:!0,[l.default.placeholder]:"placeholder"===e.theme,[l.default.template]:n}),children:[e.children,m&&(0,u.jsx)("span",{className:(0,s.default)(l.default.spacer,p)})]})};var r=a(8139),i=a(15461),s=n(a(94184)),o=a(35461),l=n(a(5511)),u=a(85893)},42316:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Meta=function(e){let{msg:t,theme:a}=e;const{broadcast:n,caption:o,isLive:l,asRevoked:u,isMdHistoryMsg:f,isSentByMe:g,isViewOnce:S,labels:T,loc:x,star:M,t:k,type:w,subtype:P,isSendFailure:A,keptBy:j}=(0,p.useModelValues)(t.unsafe(),["broadcast","caption","isLive","asRevoked","isMdHistoryMsg","isSentByMe","isViewOnce","labels","loc","star","t","type","subtype","isSendFailure","keptBy"]),[I,O]=(0,c.useState)(!1);(0,h.useListener)(i.Clock,i.HOUR24_FORMAT_CHANGE_EVENT,(()=>{O(!I)}));const N=[],R=(w===C.IMAGE||w===C.VIDEO)&&!o&&!S||w===C.LOCATION&&!l&&!x;M&&!u&&N.push((0,y.jsx)(b.default,{name:"star","aria-label":` ${d.fbt._("Starred messages",null,{hk:"uqtIq"}).toString()} `}));n&&N.push((0,y.jsx)(b.default,{name:"broadcast"}));const D=g&&w!==C.REVOKED;let L=null;D&&(L=(0,y.jsx)(v.default,{msg:t.unsafe()}));(0,r.isMDBackend)()&&(w===C.UNKNOWN&&"fanout"===P||A)&&(L=null);const B=T&&T.length>0?(0,y.jsx)(m.Labels,{labels:T,showName:!1}):null;return(0,y.jsx)(E,{icons:N,labels:B,light:R,onClick:D&&!f?()=>{s.Cmd.msgInfoDrawer((0,_.unproxy)(t.unsafe()))}:null,status:L,children:"date"!==a?k?i.Clock.timestampStr(k):null:k?i.Clock.relativeStr(k):null})},t.MetaFrame=E;var r=a(88555),i=a(40234),s=a(81572),o=a(15461),l=a(26741),u=n(a(94184)),d=a(48360),c=a(67294),f=n(a(56720)),h=a(87550),p=a(35461),m=(a(57849),a(84543)),g=n(a(47297)),_=a(18146),v=n(a(24871)),b=n(a(23217)),y=a(85893);const C=o.MSG_TYPE,S={meta:{color:"gq1t1y46",fontSize:"lak21jic",height:"e4p1bexh",lineHeight:"cr2cog7z",whiteSpace:"le5p0ye3"},metaLight:{color:"pp8r7oc8"},chromeFix:{lineHeight:"sid27bd6"},labels:{alignItems:"gndfcl4n",display:"i86elurf",height:"e4p1bexh",marginStart:"akljc1zx",marginEnd:"om6y7gxh",verticalAlign:"fewfhwl7"},icon:{color:"do8e0lj9",display:"l7jjieqr",marginEnd:"om6y7gxh"},iconLight:{color:"k17s6i4e"},status:{color:"do8e0lj9",display:"l7jjieqr",marginStart:"k6y3xtnu"},timestamp:{display:"l7jjieqr",verticalAlign:"fewfhwl7"}};function E(e){const t=e.icons&&e.icons.length>0?e.icons.map(((t,a)=>(0,y.jsx)("div",{className:(0,f.default)(S.icon,e.light&&S.iconLight),children:t},`icon-${a}`))):null,a=e.labels?(0,y.jsx)("div",{className:(0,f.default)(S.labels),"data-testid":"meta-labels",children:e.labels}):null,n=e.status?(0,y.jsx)("div",{className:(0,f.default)(S.status),children:e.status}):null,r=(0,u.default)((0,f.default)(S.meta,e.light&&S.metaLight,l.UA.os===l.OS_TYPE.MAC&&l.UA.browser===l.BROWSER_TYPE.CHROME&&l.UA.osVersion.includes("10.15")&&S.chromeFix),g.default.metaOverrides);return(0,y.jsxs)("div",{className:r,"data-testid":"msg-meta",onClick:e.onClick,role:e.onClick?"button":null,children:[t,a,(0,y.jsx)("span",{className:(0,f.default)(S.timestamp),dir:"auto",children:e.children}),n]})}},20485:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.default)(s.default.container,{[s.default.isChecked]:e.checked,[s.default.gallery]:"gallery"===e.msgTheme});return(0,o.jsx)("div",{className:t,onClick:e.onClick,children:(0,o.jsx)(i.CheckBox,{onChange:e.onClick,checked:e.checked,theme:e.theme})})};var r=n(a(94184)),i=a(16593),s=n(a(22981)),o=a(85893)},23512:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MsgComponent=void 0;var r=n(a(81109)),i=a(5177),s=a(8139),o=a(15461),l=a(93778),u=a(67294),d=a(35461),c=n(a(89113)),f=n(a(41942)),h=n(a(27295)),p=n(a(98886)),m=n(a(7847)),g=a(10455),_=n(a(76998)),v=n(a(82903)),b=n(a(89808)),y=n(a(99940)),C=a(19795),S=a(27863),E=n(a(71443)),T=a(54676),x=n(a(85851)),M=n(a(30946)),k=n(a(16785)),w=n(a(75343)),P=n(a(41826)),A=n(a(54806)),j=n(a(74790)),I=n(a(19639)),O=n(a(93135)),N=n(a(32570)),R=n(a(35072)),D=a(51906),L=n(a(1662)),B=a(18146),F=n(a(1539)),G=n(a(2284)),U=n(a(83236)),V=n(a(93137)),W=n(a(98723)),H=n(a(97507)),q=n(a(83681)),Y=a(85893);const z=(0,u.forwardRef)(((e,t)=>{const{displayAuthor:a,displayType:n,isMsgVisible:z}=e,K=(0,u.useRef)(null),$=(0,d.useModelValues)(e.msg,["body","caption","rtl","dir","isSentByMe","isPSA","isViewOnce","ctwaContext","initialPageSize","hasTemplateButtons","thumbnail","orderTitle","totalAmount1000","totalCurrencyCode","itemCount","isGif","isLive","isVcardOverMmsDocument","mediaData","nativeFlowName","nativeFlowButtons","senderObj","subtype","type","t","id","title","isFromTemplate","vcard","vcardList","inviteGrpType"]),Q=(0,d.useModelValues)(e.chat,["trusted"]),X=()=>{if(n===i.DISPLAY_TYPE.GALLERY)return null;const e=$.quotedMsgObj();if(e)return(0,Y.jsx)(R.default,{msg:e,rootMsg:(0,B.unproxy)($.safe()),displayType:n,theme:"conversation",chat:(0,B.unproxy)(Q),t:$.t},e.id.toString());const t=$.getQuotedMsgAdminGroupJid();if(t){const e=$.getQuotedMsgAdminGroupSubject(),a=$.getQuotedMsgAdminParentGroupJid();return(0,Y.jsx)(D.QuotedMsgAdminGroupName,{quotedGroupJid:t,quotedGroupSubject:e,quotedParentGroupJid:a})}return null},J=(0,c.default)((()=>K.current)),Z=(0,E.default)((e=>{let{vcardList:t}=e;return t?t.map((e=>(0,r.default)((0,r.default)({},e),{},{parsedVcard:(0,l.parseVcard)(e.vcard)}))):[]}));(0,u.useImperativeHandle)(t,(()=>({getRef:J})),[J]);const ee=$.safe();if(null!=ee.asViewOnce){const e=ee.asViewOnce;return(0,Y.jsx)(q.default,{displayType:n,displayAuthor:a,mediaData:e.mediaData,msg:e,quotedMsg:X(),ref:K,trusted:$.isTrusted()})}switch(ee.type){case o.MSG_TYPE.NATIVE_FLOW:return(0,Y.jsx)(M.default,{msg:(0,B.unproxy)(ee),displayAuthor:a,displayType:n});case o.MSG_TYPE.CHAT:case o.MSG_TYPE.LIST_RESPONSE:case o.MSG_TYPE.BUTTONS_RESPONSE:return(0,Y.jsx)(G.default,{msg:(0,B.unproxy)(ee),contact:ee.senderObj,quotedMsg:X(),trusted:ee.isTrusted(),displayType:n,displayAuthor:a});case o.MSG_TYPE.IMAGE:return(0,Y.jsx)(j.default,{msg:ee,displayType:n,mediaData:ee.mediaData,ref:K,quotedMsg:X(),maxWidth:e.maxWidth,isMsgVisible:z,trusted:ee.isTrusted(),displayAuthor:a});case o.MSG_TYPE.PRODUCT:return(0,Y.jsx)(O.default,{msg:ee,displayAuthor:a,trusted:ee.isTrusted(),onProductClick:e.onProductClick,quotedMsg:X()});case o.MSG_TYPE.GROUP_NOTIFICATION:case o.MSG_TYPE.GP2:return(0,Y.jsx)(_.default,{msg:ee,ref:K,clickable:!0});case o.MSG_TYPE.BROADCAST_NOTIFICATION:return(0,Y.jsx)(h.default,{msg:ee,ref:K,clickable:!0});case o.MSG_TYPE.NOTIFICATION:case o.MSG_TYPE.NOTIFICATION_TEMPLATE:case o.MSG_TYPE.E2E_NOTIFICATION:case o.MSG_TYPE.CALL_LOG:return(0,Y.jsx)(k.default,{contact:(0,B.unproxy)(Q).contact,msg:ee,ref:K});case o.MSG_TYPE.AUDIO:return(0,Y.jsx)(f.default,{msg:ee,mediaData:ee.mediaData,quotedMsg:X(),displayAuthor:a,displayType:n,ref:K});case o.MSG_TYPE.VIDEO:return!0===ee.isGif?(0,Y.jsx)(g.WrappedGif,{displayAuthor:a,displayType:n,isMsgVisible:z,maxWidth:e.maxWidth,mediaData:ee.mediaData,msg:ee,quotedMsg:X(),ref:K,trusted:ee.isTrusted()}):(0,Y.jsx)(H.default,{displayAuthor:a,displayType:n,hover:e.hover,msg:ee,quotedMsg:X(),ref:K,trusted:ee.isTrusted()});case o.MSG_TYPE.VCARD:return(0,Y.jsx)(V.default,{msg:ee,vcard:ee.vcard,quotedMsg:X(),displayType:n,displayAuthor:a,onMessageClick:e.onMessageClick});case o.MSG_TYPE.MULTI_VCARD:return(0,Y.jsx)(x.default,{msg:ee,vcardList:Z({vcardList:$.vcardList}),ref:K,quotedMsg:X(),displayType:n,displayAuthor:a});case o.MSG_TYPE.GROUPS_V4_INVITE:return(0,Y.jsx)(v.default,{msg:ee,ref:K,displayAuthor:a});case o.MSG_TYPE.LOCATION:return!0===ee.isLive?(0,Y.jsx)(C.LiveLocation,{msg:(0,B.unproxy)(ee),ref:K,quotedMsg:X(),trusted:ee.isTrusted(),displayAuthor:a}):(0,Y.jsx)(S.Location,{msg:(0,B.unproxy)(ee),ref:K,quotedMsg:X(),trusted:ee.isTrusted(),displayAuthor:a});case o.MSG_TYPE.PAYMENT:return(0,Y.jsx)(A.default,{msg:ee,ref:K,quotedMsg:X(),displayAuthor:a});case o.MSG_TYPE.PTT:return(0,Y.jsx)(N.default,{msg:ee,mediaData:ee.mediaData,quotedMsg:X(),displayAuthor:a,displayType:n,ref:K,getSequentialMsg:e.getSequentialMsg});case o.MSG_TYPE.POLL_CREATION:return(0,s.isPollsReceivingEnabled)()?(0,Y.jsx)(I.default,{msg:ee,displayAuthor:!0}):(0,Y.jsx)(U.default,{msg:ee,displayAuthor:a,hideUpdateButton:!0});case o.MSG_TYPE.STICKER:return(0,Y.jsx)(F.default,{msg:ee,mediaData:ee.mediaData,quotedMsg:X(),displayAuthor:a,position:e.position,forwardRef:e.forwardStickerRef,displayType:n,animateOnView:!0});case o.MSG_TYPE.DOCUMENT:return $.isVcardOverMmsDocument?(0,Y.jsx)(W.default,{chat:Q,msg:ee,mediaData:$.mediaData,displayAuthor:a,displayType:n,getQuotedMsg:()=>X(),onMessageClick:e.onMessageClick}):(0,Y.jsx)(m.default,{msg:ee,displayType:n,ref:K,quotedMsg:X(),trusted:ee.isTrusted(),displayAuthor:a});case o.MSG_TYPE.UNKNOWN:return(0,Y.jsx)(U.default,{msg:(0,B.unproxy)(ee),displayAuthor:a,hideUpdateButton:"phone_only_feature"===ee.subtype});case o.MSG_TYPE.CIPHERTEXT:return(0,Y.jsx)(p.default,{msg:ee,ref:K,displayAuthor:a});case o.MSG_TYPE.REVOKED:return K.current=null,(0,Y.jsx)(L.default,{msg:(0,B.unproxy)(ee)});case o.MSG_TYPE.OVERSIZED:return(0,Y.jsx)(P.default,{msg:(0,B.unproxy)(ee),displayAuthor:a});case o.MSG_TYPE.HSM:case o.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return(0,Y.jsx)(G.default,{msg:(0,B.unproxy)(ee),contact:ee.senderObj,ref:K,quotedMsg:X(),trusted:ee.isTrusted(),displayType:n,displayAuthor:a});case o.MSG_TYPE.PROTOCOL:return"ephemeral_setting"===$.subtype?(0,Y.jsx)(k.default,{contact:(0,B.unproxy)(Q).contact,msg:ee,ref:K}):(0,Y.jsx)(U.default,{msg:(0,B.unproxy)(ee),ref:K,displayAuthor:a});case o.MSG_TYPE.ORDER:return(0,Y.jsx)(w.default,{displayAuthor:a,msg:(0,B.unproxy)(ee)});case o.MSG_TYPE.LIST:if((0,T.listMsgCanRender)(ee))return(0,Y.jsx)(y.default,{msg:(0,B.unproxy)(ee),displayAuthor:a});break;case o.MSG_TYPE.INTERACTIVE:return(0,Y.jsx)(b.default,{msg:(0,B.unproxy)(ee),quotedMsg:X(),displayAuthor:a,displayType:n})}return __LOG__(2)`messageList:render Unknown message type: ${$.type}`,(0,Y.jsx)(U.default,{msg:(0,B.unproxy)(ee),ref:K,displayAuthor:a})}));t.MsgComponent=z,z.displayName="MsgComponent"},99422:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=n(a(54703)),s=n(a(70813)),o=n(a(23217)),l=a(85893);var u=e=>{const t=e.hasCaption?e.children:(0,l.jsx)("div",{className:s.default.text,children:(0,l.jsx)(i.default,{msg:e.msg,theme:"placeholder",children:e.children})}),a=e.iconName?(0,l.jsx)("div",{className:s.default.icon,children:(0,l.jsx)(o.default,{name:e.iconName})}):null;return(0,l.jsxs)("div",{className:(0,r.default)(s.default.container,{[s.default.containerSmallIcon]:"small-icon"===e.theme}),children:[a,t]})};t.default=u},86806:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{currentTime:t,disabled:a,skipThumb:n,duration:d,onSeek:c,onSeekEnd:f,outgoing:h,played:p,waveform:m}=e,g=(0,r.useCallback)((()=>null!=t?t:0),[t]),_=(0,r.useCallback)((()=>Array.from(m).map((e=>e/100))),[m]),v=(0,r.useCallback)((()=>d),[d]);return(0,o.jsx)("div",{className:(0,i.default)(l),children:(0,o.jsx)(s.Waveform,{location:u(h,p),sampleRate:6,getSamples:_,getCurrentTime:g,getDuration:v,live:!1,mode:s.WaveformMode.PREVIEW,onSeek:c,onSeekEnd:f,disabled:a,skipThumb:n})})};var r=a(67294),i=n(a(56720)),s=a(89470),o=a(85893);const l={display:"p357zi0d",height:"bmot90v7"};function u(e,t){switch(e){case!0:return t?s.WaveformLocation.OUTGOING_PLAYED_MESSAGE:s.WaveformLocation.OUTGOING_UNPLAYED_MESSAGE;case!1:return t?s.WaveformLocation.INCOMING_PLAYED_MESSAGE:s.WaveformLocation.INCOMING_UNPLAYED_MESSAGE}}},68272:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{emojis:t,animation:a}=e;const n=t?t.length:0;if(0===n)return null;let l;switch(n){default:case 3:l=r.SIZE.MEDIUM;break;case 2:l=r.SIZE.LARGE;break;case 1:l=r.SIZE.XLARGE}const u=t.map(((e,t)=>(0,o.jsx)(r.LargeEmoji,{animation:a,size:l,emoji:e,selectable:!0},e+t)));return(0,o.jsx)(s.SelectableDiv,{selectable:!0,className:i.default.wrapper,children:u})};var r=a(73770),i=n(a(92957)),s=a(52596),o=a(85893)},85851:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(13959),i=a(5177),s=a(14597),o=a(93778),l=a(48360),u=a(67294),d=n(a(56720)),c=n(a(72655)),f=n(a(58286)),h=a(65417),p=n(a(14296)),m=n(a(71443)),g=a(42316),_=n(a(69238)),v=n(a(87543)),b=a(82039),y=n(a(65932)),C=a(85893);const S={vcard:{position:"g0rxnol2",display:"p357zi0d",alignItems:"gndfcl4n",height:"k45dudtp",marginStart:"oz0g9ue8",marginEnd:"bugiwsl0"},author:{borderBottom:"j4zbmt6h",marginBottom:"ngycyvoj",paddingBottom:"bxcbqipq"},authorWithQuote:{borderBottom:"thn59n0e",marginBottom:"mpdn4nr2"},avatar:{flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",marginEnd:"b021xdil"},body:{flexShrink:"m0h2a7mj",flexGrow:"ggj6brxn",flexBasis:"lb5m6g5c",maxHeight:"djhxrpsl",overflowX:"gfz4du6o",overflowY:"r7fjleex"},bubble:{boxSizing:"cm280p3y",paddingTop:"n1yiu2zv",paddingEnd:"atp9n7ve",paddingBottom:"oq31bsqd",paddingStart:"e1yunedv",width:"m3h9lho3"},galleryBubble:{maxWidth:"ktbp76dp",width:"ln8gz9je"},previewBubble:{maxWidth:"ktbp76dp",width:"ln8gz9je"},image:{position:"g0rxnol2",zIndex:"mb8var44",display:"l7jjieqr"},image2:{zIndex:"s5lidh1j",marginStart:"sxwtddgj"},image3:{zIndex:"jevcxcag",marginStart:"sxwtddgj"},meta:{bottom:"pgz13gmm",position:"lhggkp7q",end:"s7jcu7x1"},name:{color:"k2bacm8l",fontSize:"f8jlpxt4",fontWeight:"sy6s5v3r",lineHeight:"e4qy2s3t",textAlign:"ljrqcn24"},quote:{marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"njub1g37",marginStart:"heai6z19"},quoteWithAuthor:{marginTop:"tt8xd2xn"},emoji:{verticalAlign:"mr0xwlll"}};class E extends u.PureComponent{constructor(e){super(e),this._showContactsModal=()=>{const{vcardList:e}=this.props;if(e){const t=e.map((e=>e.parsedVcard));s.ModalManager.open((0,C.jsx)(_.default,{vcards:t}))}},this._getUnsortedVcardDisplayDataMemo=(0,m.default)((e=>{let{vcardList:t}=e;return t.map((e=>{let{displayName:t,parsedVcard:a}=e;return{displayName:t,wids:(0,o.vcardWids)(a),thumbnail:(0,o.vcardThumbnail)(a)}}))})),this.state={loading:!0,sortedVcardData:null,vcardList:e.vcardList}}static getDerivedStateFromProps(e,t){return t.vcardList!==e.vcardList?{loading:!0,sortedVcardData:null,vcardList:e.vcardList}:null}_getUnsortedVcardDisplayData(){return this._getUnsortedVcardDisplayDataMemo({vcardList:this.props.vcardList})}_loadProfilePics(){const e=this.props.vcardList,t=this._getUnsortedVcardDisplayData(),a=[].concat(...t.map((e=>{let{wids:t}=e;return t}))).slice(0,10);Promise.all(a.map((e=>b.ProfilePicThumbCollection.find(e)))).then((()=>(0,r.delayMs)(0))).then((()=>{var a;this.props.vcardList===e&&this.setState({loading:!1,sortedVcardData:(a=t,[...a].sort(((e,t)=>{const a=x(e),n=x(t);return a&&!n?-1:!a&&n?1:e.displayName.toString()<t.displayName.toString()?-1:e.displayName.toString()>t.displayName.toString()?1:0})))})}))}componentDidMount(){this._loadProfilePics()}componentDidUpdate(e){e.vcardList!==this.props.vcardList&&this._loadProfilePics()}_renderProfilePics(e){const t=Math.min(e.length,3),a=[];for(let n=0;n<t;n++){const{wids:t,thumbnail:r}=e[n],i=b.ProfilePicThumbCollection.findThumbnailWid(t),s=(0,d.default)(S.image,1===n&&S.image2,2===n&&S.image3);this.state.loading||!i&&!r?a.push((0,C.jsx)("div",{className:s,children:(0,C.jsx)(v.default,{size:39,border:!0})},`default-pic-${n}`)):a.push((0,C.jsx)("div",{className:s,children:(0,C.jsx)(v.default,{wid:i,thumb:r,size:39,border:!0})},`profile-pic-${n}`))}return a}render(){const{msg:e}=this.props,t=this.props.displayAuthor?(0,C.jsx)("div",{className:(0,d.default)(S.author,this.props.quotedMsg&&S.authorWithQuote),children:(0,C.jsx)(c.default,{msg:e,contact:e.senderObj})}):null,a=this.state.sortedVcardData||this._getUnsortedVcardDisplayData(),n=a.map((e=>{let{displayName:t}=e;return t})),r=(0,o.getNameStringFromNames)(n),s=this._renderProfilePics(a),u=this.props.vcardList||e.chat.isTrusted(),m=this.props.quotedMsg?(0,C.jsx)("div",{className:(0,d.default)(S.quote,t&&S.quoteWithAuthor),children:this.props.quotedMsg}):null,_=(0,d.default)(S.bubble,this.props.displayType===i.DISPLAY_TYPE.MSG_INFO&&S.previewBubble,(this.props.displayType===i.DISPLAY_TYPE.STARRED_MSGS||this.props.displayType===i.DISPLAY_TYPE.GALLERY||this.props.displayType===i.DISPLAY_TYPE.CONTACT_CARD)&&S.galleryBubble);return(0,C.jsxs)("div",{className:_,children:[t,m,(0,C.jsxs)("div",{className:(0,d.default)(S.vcard),role:u?"button":null,title:r,onClick:this._showContactsModal,children:[(0,C.jsx)("div",{className:(0,d.default)(S.avatar),children:s}),(0,C.jsx)("div",{className:(0,d.default)(S.body),children:(0,C.jsx)(h.EmojiText,{text:r,element:"div",xstyle:S.name,emojiXstyle:S.emoji,dirMismatch:e.rtl!==p.default.isRTL(),direction:e.dir,wbr:15})}),(0,C.jsx)("div",{className:(0,d.default)(S.meta),children:(0,C.jsx)(g.Meta,{msg:e})})]}),(0,C.jsx)(f.default,{items:[{label:l.fbt._("View all",null,{hk:"2NeQbo"}),onClick:this._showContactsModal}]})]})}}E.CONCERNS={msg:["rtl","dir","senderObj","isSentByMe","isGroupMsg","chat"]},E.displayName="MultiVcard";var T=(0,y.default)(E,E.CONCERNS);function x(e){return Boolean(b.ProfilePicThumbCollection.findThumbnailWid(e.wids)||e.thumbnail)}t.default=T},30946:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,a,{msg:n,displayAuthor:m,displayType:g}=e;if(n.nativeFlowName===d.default.ORDER_DETAILS)t=(0,h.jsx)("div",{className:(0,s.default)(p.headerSpacing),children:(0,h.jsx)(c.default,{msg:n,displayType:g})}),a=[{label:i.fbt._("View details",null,{hk:"49CmFk"}),onClick:()=>(0,f.default)({title:i.fbt._("Orders can’t be viewed on WhatsApp Web",null,{hk:"2qI8YI"}),body:i.fbt._("Use WhatsApp on your mobile device to view this order.",null,{hk:"2lA6Ep"})})}];else if(n.nativeFlowName===d.default.ORDER_STATUS)t=(0,h.jsx)("div",{className:(0,s.default)(p.headerSpacing),children:(0,h.jsx)(c.default,{msg:n,displayType:g})});else{var _;t=n.title?(0,h.jsx)(o.EmojiText,{text:n.title,selectable:n.isTrusted(),direction:n.dir,dirMismatch:n.rtl!==u.default.isRTL(),inferLinesDirection:!0,xstyle:[r.uiMargin.bottom6,p.headerTitle]}):null,a=null===(_=n.nativeFlowButtons)||void 0===_?void 0:_.map((e=>{var t,a;return{label:null!==(t=null===(a=e.buttonText)||void 0===a?void 0:a.displayText)&&void 0!==t?t:"",onClick:()=>(0,f.default)()}}))}return(0,h.jsx)(l.default,{msg:n,displayAuthor:m,displayFooter:n.nativeFlowName!==d.default.ORDER_STATUS,header:t,displayType:g,actions:a})};var r=a(28298),i=a(48360),s=n(a(56720)),o=a(65417),l=n(a(41381)),u=n(a(14296)),d=n(a(5165)),c=n(a(96251)),f=n(a(56635)),h=a(85893);const p={headerSpacing:{marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"ngycyvoj",marginStart:"heai6z19"},headerTitle:{fontSize:"bze30y65",fontWeight:"hnx8ox4h"}}},81624:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{amount:t,quantity:a,orderId:n,thumbnail:p,text:m,isSentByMe:g,xstyle:_,numberOfItems:v}=e;return(0,f.jsxs)(o.FlexColumn,{xstyle:[h.header,r.uiPadding.top6,r.uiPadding.bottom8,r.uiPadding.horiz8,g?h.bubbleOut:h.bubbleIn,_],children:[(0,f.jsx)(d.TextDiv,{color:"secondary",weight:"medium",xstyle:h.orderId,size:"10",children:l.default.t(594,{order:n})}),(0,f.jsx)("div",{className:(0,s.default)(h.hr,r.uiMargin.top4,r.uiMargin.bottom8)}),(0,f.jsxs)(o.FlexRow,{align:"center",className:(0,s.default)(h.orderInfoWrapper),children:[p?(0,f.jsx)("div",{className:(0,s.default)(h.media,r.uiMargin.end8),style:{backgroundImage:`url(${p})`}}):null,(0,f.jsxs)("div",{className:(0,s.default)(h.orderInfo),children:[(0,f.jsx)(c.default,{maxLines:1,children:m}),(0,f.jsx)(d.TextParagraph,{size:"12",color:"secondary",children:(0,u.getOrderDetailItemLabel)(v,a)})]})]}),(0,f.jsx)("div",{className:(0,s.default)(h.hr,r.uiMargin.vert8)}),(0,f.jsxs)(o.FlexRow,{xstyle:h.total,justify:"all",children:[(0,f.jsx)(d.TextParagraph,{size:"15",children:i.fbt._("Total",null,{hk:"4iBJV7"})}),(0,f.jsx)(d.TextParagraph,{size:"15",weight:"medium",children:t})]})]})};var r=a(28298),i=a(48360),s=n(a(56720)),o=a(29623),l=n(a(14296)),u=a(30699),d=a(13923),c=n(a(71688)),f=a(85893);const h={header:{boxSizing:"cm280p3y",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf"},bubbleIn:{backgroundColor:"rrq4r3yd"},bubbleOut:{backgroundColor:"s0eflmyh"},orderId:{textTransform:"ofejerhi",letterSpacing:"nlxcpvin",lineHeight:"hzeshm6i"},orderInfo:{overflowX:"gfz4du6o",overflowY:"r7fjleex"},orderInfoWrapper:{width:"ln8gz9je"},hr:{width:"ln8gz9je",borderTop:"g0j88qvc"},media:{minWidth:"nucpke6t",height:"m3o1wsh7",maxHeight:"ibyb1pgl",backgroundPosition:"t3g6t33p",backgroundSize:"qnwaluaf",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j"},total:{width:"ln8gz9je"}}},16785:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(81572),i=a(41455),s=a(14597),o=a(15461),l=n(a(89867)),u=a(45454),d=a(62054),c=a(67294),f=n(a(56720)),h=a(35461),p=a(72345),m=a(69951),g=a(19380),_=n(a(43250)),v=n(a(4061)),b=a(65417),y=n(a(49763)),C=n(a(81412)),S=n(a(58688)),E=a(26722),T=n(a(64650)),x=n(a(14296)),M=a(41566),k=n(a(11339)),w=n(a(39992)),P=n(a(70666)),A=n(a(32162)),j=a(18146),I=n(a(23217)),O=a(85893);const N={icon:{display:"l7jjieqr",marginEnd:"mw4yctpw",verticalAlign:"mr0xwlll"},iconE2EIconSupportGroupbizInfo:{display:"l7jjieqr",marginTop:"qt60bha0",marginEnd:"mw4yctpw",verticalAlign:"fewfhwl7"},iconE2EColor:{color:"kzrzzy77"},notificationInfoIconColor:{color:"m35p33ho"},iconMissColor:{color:"mvxzr2tb"}};function R(e,t){(0,h.useOptionalModelValues)(e.contact,["id","isEnterprise","isContactBlocked","verifiedLevel","verifiedName"]);const a=(0,c.useRef)(null),n=(0,h.useModelValues)(e.msg,["id","body","chat","from","type","subtype","templateParams","ephemeralDuration"]),R=()=>{var e;null===(e=a.current)||void 0===e||e.click()};let D,B,F,G;switch((0,c.useImperativeHandle)(t,(()=>({handleKeyActivation:R}))),n.type){case o.MSG_TYPE.NOTIFICATION:B=n.body;break;case o.MSG_TYPE.E2E_NOTIFICATION:const e=(0,j.unproxy)(n);B=(0,C.default)(e);const t=n.subtype,a=n.body?(0,u.createWid)(n.body):null,c=n.id.remote;G=()=>{!function(e,t,a,n){"e2e_identity_unavailable"!==e&&s.ModalManager.open((0,O.jsx)(v.default,{e2eSubtype:e,jid:t,chatId:a,msg:n}))}(t,a,c,n)},D=function(e){if("encrypt"===e.subtype&&e.chat.isSupportGroupOrSupportAdmin())return(0,O.jsx)("div",{className:(0,f.default)(N.iconE2EIconSupportGroupbizInfo,N.notificationInfoIconColor),children:(0,O.jsx)(I.default,{name:"info-filled",width:12,height:15})});if("encrypt"===e.subtype||"encrypt_now"===e.subtype)return(0,O.jsx)("div",{className:(0,f.default)(N.iconE2EIconSupportGroupbizInfo,N.iconE2EColor),children:(0,O.jsx)(I.default,{name:"lock-small"})})}(e);break;case o.MSG_TYPE.CALL_LOG:const h="miss_video"===n.subtype||"miss_group_video"===n.subtype;D=(0,O.jsx)("div",{className:(0,f.default)(N.icon),children:h?(0,O.jsx)(I.default,{name:"miss_video",xstyle:N.iconMissColor}):(0,O.jsx)(I.default,{name:"miss",xstyle:N.iconMissColor})}),B=(0,y.default)((0,j.unproxy)(n.unsafe()),!0);break;case o.MSG_TYPE.NOTIFICATION_TEMPLATE:if("change_number"===n.subtype){const e=n.templateParams[0],t=n.templateParams[1],a=g.ContactCollection.get(e),r=(null==a?void 0:a.isMyContact)?a.formattedName:(0,d.widToFormattedUser)(e),i=l.default.equals(n.chat.id,e);B=i?x.default.t(176,{name:r}):x.default.t(174,{name:r}),i&&(G=()=>function(e,t){(0,p.onChangeNumberNotificationClick)(e,t)}(t,e))}else if(B=(0,T.default)((0,j.unproxy)(n.unsafe())),"disappearing_mode"===n.subtype)G=()=>{(0,M.isDefaultDisappearingMessagesEnabled)()?i.DrawerManager.openDrawerLeft((0,O.jsx)(_.default,{onClose:()=>i.DrawerManager.closeDrawerLeft(),entryPoint:k.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.SYSTEM_MESSAGE})):(0,P.default)()},D=(0,O.jsx)("div",{className:(0,f.default)(N.icon),children:(0,O.jsx)(I.default,{name:"disappearing",width:16,height:16})});else if(F=(0,E.formatNotificationTemplateModalText)((0,j.unproxy)(n.unsafe())),null!=F){const e=(0,w.default)(n.subtype);G=()=>{(0,A.default)(F,e)}}V=n.type,W=n.subtype,V===o.MSG_TYPE.NOTIFICATION_TEMPLATE&&L.has(W)&&(D=(0,O.jsx)("div",{className:(0,f.default)(N.iconE2EIconSupportGroupbizInfo,N.notificationInfoIconColor),children:(0,O.jsx)(I.default,{name:"info-filled",width:12,height:15})}));break;case o.MSG_TYPE.PROTOCOL:if("ephemeral_setting"===n.subtype){var U;const e=n.from,t=n.id.remote,a=m.ChatCollection.gadd(t),i=null!==(U=n.ephemeralDuration)&&void 0!==U?U:0;B=(0,S.default)(i,e,t),G=()=>{!function(e){r.Cmd.ephemeralDrawer(e,!1,k.default.EPHEMERAL_SETTING_ENTRY_POINT_TYPE.SYSTEM_MESSAGE)}(a)},D=(0,O.jsx)("div",{className:(0,f.default)(N.icon),children:(0,O.jsx)(I.default,{name:"disappearing",width:16,height:16})})}}var V,W;const H=(0,O.jsxs)("span",{children:[D,(0,O.jsx)(b.EmojiText,{direction:x.default.isRTL()?"rtl":"ltr",text:B})]});return G?(0,O.jsx)("div",{role:"button",ref:a,onClick:G,children:H}):(0,O.jsx)("span",{children:H})}var D=(0,c.forwardRef)(R);t.default=D;const L=new Set(["blue_msg_bsp_fb_unverified","blue_msg_bsp_fb_verified","blue_msg_bsp_premise_unverified","blue_msg_bsp_premise_verified","blue_msg_self_fb_unverified","blue_msg_self_fb_verified","biz_privacy_mode_init_fb","biz_privacy_mode_init_bsp","biz_privacy_mode_to_fb","biz_privacy_mode_to_bsp"])},70666:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,o.jsx)(s.default,{onOK:()=>r.ModalManager.close(),okText:i.fbt._("Close",null,{hk:"19Jpec"}),children:i.fbt._("Setting your default message timer from web/desktop is not yet available. You can set this timer from your mobile device by going to Settings > Privacy > Disappearing messages.",null,{hk:"1ChROe"})});r.ModalManager.open(e)};var r=a(14597),i=a(48360),s=n(a(52665)),o=a(85893)},32162:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){const n=(0,c.jsx)(s.default,{href:t,onClick:e=>{e.preventDefault(),r.ModalManager.close("none"),setTimeout((()=>(0,l.openExternalLink)(t)),10)},children:null!=a?a:u.default.t(447)}),f=(0,c.jsxs)(o.default,{onOK:()=>r.ModalManager.close(),okText:i.fbt._("OK",null,{hk:"2KEeHb"}),type:d.ModalTheme.Multiline,children:[e," ",n]});r.ModalManager.open(f)};var r=a(14597),i=a(48360),s=n(a(99360)),o=n(a(52665)),l=a(12591),u=n(a(14296)),d=a(57224),c=a(85893)},41826:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayAuthor:a}=e;return(0,u.jsxs)(l.default,{msg:t,displayAuthor:a,children:[(0,u.jsx)("div",{className:(0,r.default)(d),children:(0,u.jsx)(o.default,{name:"unknown"})}),(0,u.jsx)("div",{className:(0,r.default)(c),children:(0,u.jsx)(s.default,{msg:t.unsafe(),theme:"placeholder",children:(0,i.default)(t.unsafe())})})]})};var r=n(a(56720)),i=n(a(57130)),s=n(a(54703)),o=n(a(23217)),l=n(a(12209)),u=a(85893);const d={display:"l7jjieqr",float:"kpdgp91a",marginRight:"efjhou1r",color:"o3jcrxmo"},c={marginTop:"kiiy14zj",marginLeft:"aga1he8v"}},16369:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.formatAmount1000ToParts)(e.currency,e.amount1000);return(0,o.jsxs)("div",{className:(0,r.default)(s.default.amount,{[s.default.isQuoted]:e.isQuoted}),children:[(0,o.jsx)("span",{className:s.default.amountCurrency,children:t.symbol}),(0,o.jsx)("span",{className:s.default.amountInteger,children:t.integer}),(0,o.jsx)("span",{className:s.default.amountDecimal,children:t.decimal})]})};var r=n(a(94184)),i=a(39519),s=n(a(65450)),o=a(85893)},31729:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,l.useState)(),[n,m]=(0,l.useState)(),v=function(){var t=(0,r.default)((function*(){if(!e.background)return;const{background:t}=e;if(yield(0,o.detectWebpSupport)()){const e=yield _(t);null!=e&&a(e)}else{const e=yield(0,c.getPaymentMessageBackgroundImageBuffer)(t),{id:a=""}=t;if(e){g.has(a)||g.set(a,yield(0,u.default)(e));const t=g.get(a);t&&m(t)}}}));return function(){return t.apply(this,arguments)}}();(0,l.useEffect)((()=>{(0,i.paymentBackgroundEnabled)()?v():__LOG__(3)`Payment backgrounds support not enabled`}),[]);const b=(0,i.paymentBackgroundEnabled)()?((e,t,a)=>{if(!e)return null;const n=p(e.placeholderArgb),r=p(e.textArgb);if(null!=n&&null!=r){const i={backgroundColor:n,color:r};return i.backgroundColor=n,null!=a&&(i.backgroundImage=`url(${a})`),!0!==t&&(null!=e.width&&(i.minWidth=e.width),null!=e.height&&(i.minHeight=e.height)),i}return null})(e.background,e.isQuoted,t):null;return(0,h.jsx)("div",{className:(0,s.default)(d.default.container,{[d.default.isQuoted]:e.isQuoted,[d.default.isQuotedInComposeBox]:e.isQuotedInComposeBox}),children:(0,h.jsxs)("div",{"data-testid":"payment-background-thumb",className:(0,s.default)(d.default.thumb,{"bg-payments":!e.isQuoted},d.default.backgroundContainer),style:b,children:[(0,h.jsx)("div",{className:d.default.foregroundData,children:e.children}),n&&(0,h.jsx)(f.default,{rgbaBuffer:n.rgbaBuffer,height:n.height,width:n.width,className:d.default.rgbaCanvas})]})})};var r=n(a(48926)),i=a(8139),s=n(a(94184)),o=a(61498),l=a(67294),u=n(a(93915)),d=n(a(70955)),c=a(23094),f=n(a(61146)),h=a(85893);const p=e=>null==e?null:`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${e>>24&255})`,m=new Map,g=new Map,_=function(){var e=(0,r.default)((function*(e){if(null==e.id)return __LOG__(4,void 0,new Error,!0)`Payment background does not have a Id`,void SEND_LOGS("Payment background does not have a Id");const{id:t}=e;if(m.has(t))return m.get(t);const a=yield(0,c.getPaymentMessageBackgroundImageBuffer)(e);if(!a)return;const n=new Blob([a],{type:"image/webp"});if(!n)return;const r=window.URL.createObjectURL(n);return m.set(t,r),r}));return function(){return e.apply(this,arguments)}}()},43309:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{currency:t,subtype:a,paymentStatus:n,paymentTxnStatus:d,isCompact:c}=e;const f=(0,i.formatLocalSymbol)(t),h=null!=d?function(e){switch(null!=e?e:l.PaymentInfoTxnStatus.UNKNOWN){case l.PaymentInfoTxnStatus.SUCCESS:case l.PaymentInfoTxnStatus.COMPLETED:return s.default.success;case l.PaymentInfoTxnStatus.FAILED:case l.PaymentInfoTxnStatus.FAILED_RISK:case l.PaymentInfoTxnStatus.FAILED_DA_FINAL:case l.PaymentInfoTxnStatus.REFUNDED_TXN:case l.PaymentInfoTxnStatus.REFUND_FAILED:case l.PaymentInfoTxnStatus.REFUND_FAILED_PROCESSING:case l.PaymentInfoTxnStatus.REFUND_FAILED_DA:case l.PaymentInfoTxnStatus.AUTH_CANCELED:case l.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED_PROCESSING:case l.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED:case l.PaymentInfoTxnStatus.COLLECT_FAILED:case l.PaymentInfoTxnStatus.COLLECT_FAILED_RISK:return s.default.failed;default:return s.default.pending}}(d):function(e){switch(null!=e?e:l.PaymentInfoStatus.UNKNOWN_STATUS){case l.PaymentInfoStatus.COMPLETE:return s.default.success;case l.PaymentInfoStatus.CANCELLED:case l.PaymentInfoStatus.COULD_NOT_COMPLETE:case l.PaymentInfoStatus.REFUNDED:case l.PaymentInfoStatus.EXPIRED:case l.PaymentInfoStatus.REJECTED:return s.default.failed;default:return s.default.pending}}(n),p="send"===a?(0,u.jsx)(o.default,{name:"payment-send"}):(0,u.jsx)(o.default,{name:"payment-request"});return(0,u.jsxs)("div",{"data-testid":"payment-icon-container",className:(0,r.default)(s.default.icon,h,{[s.default.compact]:c}),children:[(0,u.jsx)("div",{className:(0,r.default)(s.default.iconSymbol,s.default[t]),children:f}),p]})};var r=n(a(94184)),i=a(39519),s=n(a(74789)),o=n(a(23217)),l=a(21224),u=a(85893)},15292:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;const{paymentStatus:n,paymentTxnStatus:g,expiryTimestamp:_}=e,[v,b]=(0,i.useState)(!1),y=e=>{e&&b(e.getBoundingClientRect().height>20)},C=(0,r.default)({[u.default.bubbleOut]:e.isSentByMe,[u.default.bubbleIn]:!e.isSentByMe}),S=null!=g&&g!==p.PaymentInfoTxnStatus.UNKNOWN||null!=n&&n!==p.PaymentInfoStatus.UNKNOWN_STATUS;let E;if(e.hasCaption)E=(0,m.jsxs)("div",{ref:y,children:[(0,m.jsx)("div",{children:(0,m.jsx)(f.default,{subtype:e.subtype,receiverJid:e.receiverJid})}),(0,m.jsx)(c.default,{paymentStatus:n,paymentTxnStatus:g,expiryTimestamp:_})]});else if(S){var T;E=(0,m.jsxs)("div",{ref:y,children:[(0,m.jsx)("div",{children:(0,m.jsx)(f.default,{subtype:e.subtype,receiverJid:e.receiverJid})}),(0,m.jsx)(h.default,{msg:null===(T=e.msg)||void 0===T?void 0:T.unsafe(),children:(0,m.jsx)(c.default,{paymentStatus:n,paymentTxnStatus:g,expiryTimestamp:_})})]})}else{var x;E=(0,m.jsx)(h.default,{msg:null===(x=e.msg)||void 0===x?void 0:x.unsafe(),children:(0,m.jsx)("span",{ref:y,children:(0,m.jsx)(f.default,{subtype:e.subtype,receiverJid:e.receiverJid})})})}return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)(o.default,{background:null===(t=e.msg)||void 0===t?void 0:t.paymentBackground,children:(0,m.jsx)(s.default,{currency:e.currency,amount1000:e.amount1000})}),(0,m.jsxs)("div",{className:u.default.body,children:[(0,m.jsx)("div",{className:(0,r.default)(u.default.bodyIcon,{[u.default.bodyIconMultiline]:v}),children:(0,m.jsx)(l.default,{currency:e.currency,subtype:e.subtype,paymentStatus:n,paymentTxnStatus:g})}),(0,m.jsx)("div",{className:u.default.bodyText,children:E})]}),(null===(a=e.msg)||void 0===a?void 0:a.paymentNoteMsg)?(0,m.jsx)(d.default,{msg:e.msg}):null]})};var r=n(a(94184)),i=a(67294),s=n(a(16369)),o=n(a(31729)),l=n(a(43309)),u=n(a(91215)),d=n(a(49073)),c=n(a(64557)),f=n(a(74066)),h=n(a(21595)),p=a(21224),m=a(85893)},49073:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e;if(t.paymentNoteMsg&&t.paymentNoteMsg.type===r.MSG_TYPE.STICKER){const e=t.paymentNoteMsg;if(e){const t=new s.StickerModel({id:e.filehash,mimetype:e.mimetype,width:e.width,height:e.height,filehash:e.filehash,encFilehash:e.encFilehash,directPath:e.directPath,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,deprecatedMms3Url:e.deprecatedMms3Url});return(0,l.jsx)("div",{className:(0,i.default)(u),children:(0,l.jsx)(o.default,{sticker:t})})}}return null};var r=a(15461),i=n(a(56720)),s=a(99718),o=n(a(52146)),l=a(85893);const u={alignSelf:"o2es7gts",textAlign:"qfejxiq4"}},64557:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,a,{paymentStatus:n,paymentTxnStatus:i,expiryTimestamp:l}=e;(function(){const e=(0,d.default)();(0,c.default)(e,1e3,{immediate:!0})})(),({str:t,themeClassName:a}=null!=i?function(e,t){let a=null,n=null;if(null!=e)switch(e){case h.PaymentInfoTxnStatus.UNKNOWN:a=null,n=null;break;case h.PaymentInfoTxnStatus.PENDING_SETUP:a=g(t),n="pending";break;case h.PaymentInfoTxnStatus.PENDING_RECEIVER_SETUP:case h.PaymentInfoTxnStatus.COLLECT_INIT:a=o.fbt._("Pending",null,{hk:"1bHrjJ"}),n="pending";break;case h.PaymentInfoTxnStatus.INIT:case h.PaymentInfoTxnStatus.FAILED_PROCESSING:case h.PaymentInfoTxnStatus.FAILED_RECEIVER_PROCESSING:case h.PaymentInfoTxnStatus.FAILED_DA:a=o.fbt._("Processing",null,{hk:"1K7bOb"}),n="pending";break;case h.PaymentInfoTxnStatus.SUCCESS:case h.PaymentInfoTxnStatus.COMPLETED:a=o.fbt._("Completed",null,{hk:"1q50Hp"}),n="success";break;case h.PaymentInfoTxnStatus.FAILED:case h.PaymentInfoTxnStatus.FAILED_RISK:case h.PaymentInfoTxnStatus.FAILED_DA_FINAL:case h.PaymentInfoTxnStatus.REFUNDED_TXN:case h.PaymentInfoTxnStatus.REFUND_FAILED:case h.PaymentInfoTxnStatus.REFUND_FAILED_PROCESSING:case h.PaymentInfoTxnStatus.REFUND_FAILED_DA:case h.PaymentInfoTxnStatus.AUTH_CANCELED:case h.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED_PROCESSING:case h.PaymentInfoTxnStatus.AUTH_CANCEL_FAILED:case h.PaymentInfoTxnStatus.COLLECT_FAILED:case h.PaymentInfoTxnStatus.COLLECT_FAILED_RISK:case h.PaymentInfoTxnStatus.REVERSAL_SUCCESS:case h.PaymentInfoTxnStatus.REVERSAL_PENDING:case h.PaymentInfoTxnStatus.REFUND_PENDING:a=o.fbt._("Failed",null,{hk:"3NoLR4"}),n="failed";break;case h.PaymentInfoTxnStatus.EXPIRED_TXN:case h.PaymentInfoTxnStatus.COLLECT_EXPIRED:a=o.fbt._("Expired",null,{hk:"4AFoGy"}),n="pending";break;case h.PaymentInfoTxnStatus.COLLECT_SUCCESS:a=g(t),n="pending";break;case h.PaymentInfoTxnStatus.COLLECT_REJECTED:a=o.fbt._("Declined",null,{hk:"3g28V2"}),n="pending";break;case h.PaymentInfoTxnStatus.COLLECT_CANCELED:case h.PaymentInfoTxnStatus.COLLECT_CANCELLING:a=o.fbt._("Canceled",null,{hk:"EomV7"}),n="pending";break;case h.PaymentInfoTxnStatus.IN_REVIEW:a=o.fbt._("In Review",null,{hk:"2JCNVS"}),n="pending"}return{str:a,themeClassName:n}}(i,l):function(e,t){let a=null,n=null;if(null!=e)switch(e){case h.PaymentInfoStatus.PROCESSING:a=o.fbt._("Processing",null,{hk:"1K7bOb"}),n="pending";break;case h.PaymentInfoStatus.COMPLETE:a=o.fbt._("Completed",null,{hk:"1q50Hp"}),n="success";break;case h.PaymentInfoStatus.SENT:a=o.fbt._("Pending",null,{hk:"1bHrjJ"}),n="pending";break;case h.PaymentInfoStatus.NEED_TO_ACCEPT:a=g(t),n="pending";break;case h.PaymentInfoStatus.COULD_NOT_COMPLETE:case h.PaymentInfoStatus.REFUNDED:a=o.fbt._("Failed",null,{hk:"3NoLR4"}),n="failed";break;case h.PaymentInfoStatus.EXPIRED:a=o.fbt._("Expired",null,{hk:"4AFoGy"}),n="failed";break;case h.PaymentInfoStatus.REJECTED:a=o.fbt._("Declined",null,{hk:"3g28V2"}),n="failed";break;case h.PaymentInfoStatus.CANCELLED:a=o.fbt._("Canceled",null,{hk:"EomV7"}),n="failed";break;case h.PaymentInfoStatus.WAITING_FOR_PAYER:case h.PaymentInfoStatus.WAITING:a=g(t),n="pending";break;case h.PaymentInfoStatus.UNKNOWN_STATUS:a=null,n=null}return{str:a,themeClassName:n}}(n,l));if(null==t)return null;const f=!!a&&m[a];return(0,p.jsx)("span",{"data-testid":"payment-status","data-a8n":r.default.key(a),className:(0,u.default)(m.status,s.hasEdgeFix&&m.statusEdgeFix,f),children:t})};var r=n(a(99964)),i=a(40234),s=a(77144),o=a(48360),l=n(a(30381)),u=n(a(56720)),d=n(a(59312)),c=n(a(70393)),f=n(a(14296)),h=a(21224),p=a(85893);const m={status:{fontWeight:"hnx8ox4h"},statusEdgeFix:{fontWeight:"sy6s5v3r"},failed:{color:"g0bfn8tw"},pending:{color:"de33c33s"},success:{color:"hb09shpw"}};function g(e){if(null==e)return o.fbt._("Pending",null,{hk:"1bHrjJ"});const t=1e3*i.Clock.globalUnixTime(),a=1e3*e;if(a-t>6e4){const e=(0,l.default)(t).to((0,l.default)(a));return f.default.t(868,{timeSpan:e})}return a-t>0?o.fbt._("Pending (expires in less than 1 minute)",null,{hk:"2GaCP1"}):o.fbt._("Pending (expiring)",null,{hk:"2YLDil"})}},74066:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;if("invite"===e.subtype&&e.msgKey)t=(0,l.formatPaymentInviteMessageText)(e.msgKey);else if("send"===e.subtype){const a=h(e.receiverJid);null!=a&&(t=(0,f.jsx)(u.default,{id:867,params:{receiverName:a}}))}else if("request"===e.subtype){const a=h(e.receiverJid);null!=a&&(t=(0,f.jsx)(u.default,{id:860,params:{receiverName:a}}))}return t?(0,f.jsx)("span",{className:(0,i.default)(c.default.container,{[c.default.isQuoted]:e.isQuoted}),children:t}):null};var r=a(62054),i=n(a(94184)),s=a(48360),o=a(19380),l=a(2177),u=n(a(56074)),d=a(12176),c=n(a(66802)),f=a(85893);function h(e){if(!e)return null;const t=o.ContactCollection.get(e);return(0,f.jsx)("span",{className:c.default.name,children:t?t.isMe?s.fbt._("You",null,{hk:"3cspS5"}):(0,f.jsx)(d.Name,{contact:t,showNotifyName:!0}):(0,r.widToFormattedUser)(e)})}},54806:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{displayAuthor:t,displayType:a,quotedMsg:n}=e,f=(0,s.useModelValues)(e.msg,["paymentAmount1000","paymentCurrency","id","isSentByMe","paymentNoteMsg","paymentStatus","paymentTxnStatus","paymentExpiryTimestamp","paymentInviteServiceType","paymentMessageReceiverJid","paymentBackground","subtype"]);if(!r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.PAYMENTS))return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:a,quotedMsg:n});{var h;const e=!!(null===(h=f.paymentNoteMsg)||void 0===h?void 0:h.body);if("invite"===f.subtype&&null!=f.paymentInviteServiceType)return(0,c.jsx)(l.default,{msg:f,displayAuthor:t,displayType:a,serviceType:f.paymentInviteServiceType});if(!(f.paymentAmount1000&&f.paymentCurrency))return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:a,quotedMsg:n});const r=(0,c.jsx)(o.default,{isSentByMe:f.isSentByMe,currency:f.paymentCurrency,amount1000:f.paymentAmount1000,receiverJid:f.paymentMessageReceiverJid,paymentStatus:f.paymentStatus,paymentTxnStatus:f.paymentTxnStatus,expiryTimestamp:f.paymentExpiryTimestamp,subtype:f.subtype,hasCaption:e,msg:f});switch(f.subtype){case"ciphertext":return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:a,quotedMsg:n,paymentInfo:r,placeholderText:i.fbt._("Waiting for this payment message's note. This may take a while.",null,{hk:"4EzoLe"})});case"futureproof":return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:a,quotedMsg:n,paymentInfo:r,placeholderText:i.fbt._("This payment message has a note but your version of WhatsApp doesn't support viewing it.",null,{hk:"2rWw9k"})});case"send":case"request":return(0,c.jsx)(d.default,{msg:f,displayAuthor:t,displayType:a,quotedMsg:n,paymentInfo:r});default:return(0,c.jsx)(u.default,{msg:f,displayAuthor:t,displayType:a,quotedMsg:n})}}};var r=a(38184),i=a(48360),s=a(35461),o=n(a(15292)),l=n(a(82230)),u=n(a(81076)),d=n(a(86123)),c=a(85893)},82230:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useModelValues)(e.msg,["rtl","dir","isSentByMe","paymentInviteServiceType","isGroupMsg","isPSA","senderObj","paymentNoteMsg","id","to","from"]),a=(0,r.default)({[f.default.bubbleOut]:t.isSentByMe,[f.default.bubbleIn]:!t.isSentByMe}),n=(0,h.jsx)("div",{className:f.default.caption,children:(0,h.jsx)(c.default,{msg:t.unsafe(),children:(0,h.jsx)(o.EmojiText,{text:(0,l.formatPaymentInviteMessageText)(t.id),selectable:!0,dirMismatch:t.rtl!==u.default.isRTL(),direction:t.dir})})});return(0,h.jsx)(d.default,{displayAuthor:e.displayAuthor,displayType:e.displayType,hasCaption:!!n,msg:t,children:(0,h.jsxs)("div",{className:a,children:[(0,h.jsx)("div",{className:(0,r.default)(f.default.inviteBackground,"bg-payments"),children:(0,h.jsx)("div",{className:(0,r.default)(f.default.inviteImage,p(t.paymentInviteServiceType))})}),(0,h.jsx)("div",{className:f.default.body,children:(0,h.jsx)("div",{className:f.default.bodyText,children:n})})]})})};var r=n(a(94184)),i=a(35461),s=a(24808),o=a(65417),l=a(2177),u=n(a(14296)),d=n(a(1238)),c=n(a(54703)),f=n(a(59417)),h=a(85893);const p=e=>{if(null==e)return"";switch(e){case s.Message$PaymentInviteMessageServiceType.UPI:return"payments-invite-upi";default:return""}}},81076:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const a=(0,s.useModelValues)(e.msg,["rtl","dir","isSentByMe","isGroupMsg","isPSA","senderObj","paymentNoteMsg"]);let n;const g=null===(t=a.paymentNoteMsg)||void 0===t?void 0:t.body;if(g){const e=(0,o.Conversation)({mentions:a.mentionMap(),links:a.getLinks(),phoneNumbers:a.getPhoneNumbers(),trusted:a.isTrusted(),fromMe:a.id.fromMe});n=(0,m.jsx)(d.default,{msg:a.unsafe(),children:(0,m.jsx)(l.EmojiText,{text:g,selectable:!0,formatters:e,dirMismatch:a.rtl!==u.default.isRTL(),direction:a.dir})})}let _,v;if(e.quotedMsg){const t=(0,r.default)(h.default.quote,{[h.default.hasAuthor]:e.displayAuthor,[h.default.forwarded]:(0,f.showForwarded)(a)});_=(0,m.jsx)("div",{className:t,children:e.quotedMsg})}let b=i.fbt._("Payment message • Amount unavailable",null,{hk:"3SAp3h"});e.placeholderText&&(v="ciphertext",b=e.placeholderText);const y=(0,r.default)({[h.default.hasText]:n,[h.default.noText]:!n});return(0,m.jsxs)(p.default,{msg:a,displayAuthor:e.displayAuthor,children:[_,e.paymentInfo,(0,m.jsx)("div",{className:y,children:(0,m.jsx)(c.default,{hasCaption:!!n,iconName:v,msg:a.unsafe(),children:b})}),n]})};var r=n(a(94184)),i=a(48360),s=a(35461),o=a(74331),l=a(65417),u=n(a(14296)),d=n(a(54703)),c=n(a(99422)),f=a(63132),h=n(a(13651)),p=n(a(12209)),m=a(85893)},74790:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(64331),i=n(a(99964)),s=a(81572),o=n(a(64369)),l=a(5177),u=a(14597),d=a(15461),c=n(a(94184)),f=a(67294),h=n(a(56720)),p=a(35461),m=n(a(72655)),g=n(a(85559)),_=n(a(6725)),v=a(21504),b=n(a(11740)),y=n(a(14703)),C=a(29565),S=n(a(20668)),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),T=a(58668),x=n(a(20553)),M=a(42316),k=n(a(11339)),w=a(63132),P=n(a(34949)),A=n(a(75315)),j=a(18146),I=n(a(95839)),O=n(a(2749)),N=a(85893);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function D(e){e.stopPropagation()}const L={bubble:{boxSizing:"cm280p3y",maxWidth:"f4q7vbcz",paddingTop:"ocd2b0bc",paddingEnd:"folpon7g",paddingBottom:"aa0kojfi",paddingStart:"snweb893",position:"g0rxnol2",zIndex:"jnl3jror"},bubbleAlumb:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"},bubblePortrait:{maxWidth:"kbtdaxqp"},bubblePreview:{maxWidth:"laorhtua"},thumbBody:{transition:"jciay5ix",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c"},thumbBodyPreview:{filter:"fsmudgz7"},ctwaContext:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"kzyzudjh",marginStart:"svoq16ka"},author:{paddingBottom:"bxcbqipq",paddingStart:"mhcwslh8",paddingTop:"ocd2b0bc"},authorForwared:{paddingBottom:"przvwfww"},forwardedIndicator:{paddingTop:"ocd2b0bc",paddingEnd:"f9ovudaz",paddingBottom:"aa0kojfi",paddingStart:"mhcwslh8"},forwardedIndicatorHasAuthor:{paddingTop:"i5tg98hk"},overlay:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",maxWidth:"tthqcax0",position:"g0rxnol2","::before":{background:"rnzbggcn",borderTopStartRadius:"gaz0s4oj",borderTopEndRadius:"faao65il",borderBottomEndRadius:"o9exb5zn",borderBottomStartRadius:"bl44g9bl",content:"ckfn5qle",height:"flcm9zni",position:"jiaumjzp",width:"evuypb09",zIndex:"dgw4ccbq"}},overlayAlbumText:{alignItems:"gndfcl4n",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf",cursor:"ajgl1lbb",display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",justifyContent:"ac2vgrno",maxWidth:"tthqcax0",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2"},meta:{bottom:"dpkuihx7",position:"lhggkp7q",end:"j2mzdvlq",zIndex:"b9fczbqn"},metaHasCaption:{end:"fz4q5utg",bottom:"lrw9n60e"},metaAlbum:{end:"en6yos0k",bottom:"lrw9n60e"},caption:{boxSizing:"cm280p3y",maxWidth:"cbjz30lg",paddingTop:"esbfogcw",paddingEnd:"jfqm35v0",paddingBottom:"bxcbqipq",paddingStart:"mhcwslh8"},captionPortrait:{maxWidth:"r1vzeywj"},captionPSA:{paddingBottom:"l5xxxszt"},quote:{boxSizing:"cm280p3y",marginBottom:"kzyzudjh",maxWidth:"cbjz30lg"},quotePortrait:{maxWidth:"r1vzeywj"},thumb:{alignItems:"gndfcl4n",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf",cursor:"ajgl1lbb",display:"p357zi0d",justifyContent:"ac2vgrno",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2"},thumbAlbum:{maxHeight:"fgslzg21",minHeight:"ofrvpfun",position:"g0rxnol2"},thumbGallery:{maxHeight:"tvsw1x19"}};function B(e){let{isPreview:t=!1,imgRef:a,mediaData:n,caption:r,bubbleWidth:i,bubbleHeight:s,src:o}=e;const{fullHeight:l,fullWidth:u}=n,d=(0,h.default)(L.thumbBody,t&&L.thumbBodyPreview),c=(0,v.getImgStyle)(u||i,l||s,i,s);return(0,N.jsx)("img",{alt:r,src:o,className:d,style:c,ref:a})}function F(e){let{imgRef:t,mediaData:a,bubbleWidth:n,bubbleHeight:r,caption:i}=e;return(0,N.jsx)(B,{imgRef:t,mediaData:a,caption:i,bubbleWidth:n,bubbleHeight:r,isPreview:!0,src:a.preview instanceof P.default?a.preview.url():null})}function G(e,t){var a;const{contentContainerClassName:n,captionComponent:P,thumbClassName:R,onThumbClick:G,theme:U,overlayContent:V,displayType:W,displayAuthor:H,isMsgVisible:q,albumMsgs:Y,zoomMsg:z,hideMeta:K,maxWidth:$}=e,Q=(0,f.useRef)(null),X=(0,p.useModelValues)(e.msg,["ack","caption","dir","footer","isFromTemplate","id","isFailed","isGroupMsg","isPSA","isSentByMe","rtl","senderObj","type","supportsMessageFooter","text"]),J=(0,p.useModelValues)(e.mediaData,["aspectRatio","preview","mediaStage","fullWidth","fullHeight","size","progressiveStage"]),Z=()=>X.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:k.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1});(0,f.useEffect)((()=>{Z()}),[]);const ee=()=>{u.ModalManager.open((0,N.jsx)(S.default,{msg:X.unsafe()}))},te=e=>{if(!q)return null;const t=q(e);return t?t.getImgNode&&t.getImgNode():null},ae=()=>{X.forceDownloadMediaEvenIfExpensive()},ne=()=>{X.cancelDownload()},re=()=>{X.cancelUpload()},ie=()=>{X.resumeUpload()},se=()=>{X.resumeRemoteUpload()},oe=()=>X.type===d.MSG_TYPE.IMAGE&&X.caption?X.caption:void 0,le=()=>Q.current;(0,f.useImperativeHandle)(t,(()=>({getImgNode:le})));const ue=e=>{if(e&&e.stopPropagation(),U===C.DisplayTheme.Album){const e=new Set((Y||[]).map((e=>e.id.toString())));s.Cmd.mediaViewerModal({msg:(0,j.unproxy)((z||X).unsafe()),getZoomNode:te,highlightedMsgIds:e})}else s.Cmd.mediaViewerModal({msg:(0,j.unproxy)(X.unsafe()),getZoomNode:te})},de=(0,r.numCodepoints)(null!==(a=X.text)&&void 0!==a?a:"")>o.default.MAX_PORTRAIT_MEDIA_CAPTION_LENGTH,{bubbleWidth:ce,bubbleHeight:fe}=(0,v.getBubbleDimension)(X.type,X.isFromTemplate,J.aspectRatio,U,W,de,$),he=oe(),pe=he?null:(0,N.jsx)(O.default,{}),me=ce<fe&&(0,v.canUseCustomCropping)(X.type,U,W),ge=he?(0,N.jsx)("div",{className:(0,h.default)(L.caption,me&&L.captionPortrait,X.isPSA&&L.captionPSA),children:(0,N.jsx)(_.default,{msg:X.unsafe(),trusted:e.trusted,spacer:!(X.supportsMessageFooter&&X.footer)})}):null;let _e=null,ve=null;if(null!=V)ve=G||ue;else{const{mediaStage:e,progressiveStage:t}=J;switch(e){case T.MEDIA_DATA_STAGE.RESOLVED:case T.MEDIA_DATA_STAGE.PROGRESSIVE_READY:ve=G||ue;break;case T.MEDIA_DATA_STAGE.FETCHING:_e=(0,N.jsx)(E.Pending,{cancelable:!0}),ve=ne;break;case T.MEDIA_DATA_STAGE.INIT:case T.MEDIA_DATA_STAGE.EXISTS:case T.MEDIA_DATA_STAGE.NEED_POKE:_e=(0,N.jsx)(E.Download,{filesize:J.size}),ve=ae;break;case T.MEDIA_DATA_STAGE.UPLOADING:case T.MEDIA_DATA_STAGE.FINALIZING:case T.MEDIA_DATA_STAGE.REUPLOADING:_e=(0,N.jsx)(E.Pending,{cancelable:!0}),ve=re;break;case T.MEDIA_DATA_STAGE.NEED_UPLOAD:_e=(0,N.jsx)(E.Upload,{filesize:J.size}),ve=ie;break;case T.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:_e=(0,N.jsx)(E.Upload,{filesize:J.size}),ve=se;break;case T.MEDIA_DATA_STAGE.ERROR_MISSING:ve=G||ee;break;case T.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:_e=(0,N.jsx)(E.Download,{filesize:J.size}),ve=G||ue;break;case T.MEDIA_DATA_STAGE.SENDING:X.isFailed||(_e=(0,N.jsx)(E.Pending,{}));break;case T.MEDIA_DATA_STAGE.DECRYPTING:null==t&&(_e=(0,N.jsx)(E.Pending,{cancelable:!0}));break;case T.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:__LOG__(4,void 0,new Error,!0)`Images should be copied in memory when selected`,SEND_LOGS("media-image-not-readable-error"),ve=A.default;break;case T.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case T.MEDIA_DATA_STAGE.PREPARING:case T.MEDIA_DATA_STAGE.REMOTE_UPLOADING:_e=(0,N.jsx)(E.Pending,{})}}const be=(0,w.showForwarded)(X)&&e.theme!==C.DisplayTheme.Album,ye=U===C.DisplayTheme.Album,Ce=(0,h.default)(L.bubble,me&&L.bubblePortrait,ye&&L.bubbleAlumb),Se=e.displayType===l.DISPLAY_TYPE.MSG_INFO||e.displayType===l.DISPLAY_TYPE.STARRED_MSGS,Ee=(0,c.default)(Ce,(0,h.default)(Se&&L.bubblePreview)),Te=H?(0,N.jsx)("div",{className:(0,h.default)(L.author,be&&L.authorForwared),children:(0,N.jsx)(m.default,{msg:X,contact:X.senderObj})}):null,xe=be?(0,N.jsx)(y.default,{msg:X.unsafe(),className:(0,h.default)(L.forwardedIndicator,H&&L.forwardedIndicatorHasAuthor)}):null,Me=e.quotedMsg?(0,N.jsx)("div",{className:(0,h.default)(L.quote,me&&L.quotePortrait),children:e.quotedMsg}):null,ke=e.displayType===l.DISPLAY_TYPE.GALLERY,we=(0,h.default)(L.thumb,Boolean(V)&&L.overlay,ye&&L.thumbAlbum,ke&&L.thumbGallery);let Pe;null!=V||K||(Pe=(0,N.jsx)("div",{className:(0,h.default)(L.meta,Boolean(he)&&L.metaHasCaption,ye&&L.metaAlbum),children:(0,N.jsx)(M.Meta,{msg:X})}));let Ae=(0,N.jsxs)("div",{className:n,children:[Te,xe,Me,(0,N.jsx)(b.default,{msg:X.unsafe(),wrapperClass:(0,h.default)(L.ctwaContext)}),(0,N.jsxs)("div",{role:"button","data-a8n":i.default.key("image-thumb"),className:R||we,onClick:ve,style:{width:ce,height:fe},children:[_e,(0,N.jsx)(x.default,{mediaData:J,placeholderRenderer:()=>(0,N.jsx)(F,{imgRef:Q,mediaData:J,caption:oe(),bubbleWidth:ce,bubbleHeight:fe}),downloadMedia:Z,renderProgressively:!0,children:(e,t)=>(0,N.jsx)(B,{isPreview:t,imgRef:Q,mediaData:J,caption:oe(),bubbleWidth:ce,bubbleHeight:fe,src:e})}),pe]}),P||ge,(0,N.jsx)(I.default,{dir:X.dir,footer:X.footer,isShown:X.supportsMessageFooter,msg:X.unsafe(),rtl:X.rtl,trusted:e.trusted,type:X.type}),Pe]});return ge?(0,N.jsx)(g.default,{contact:X.senderObj,msg:X.unsafe(),className:Ee,onClick:D,children:Ae}):(null!=V&&(Ae=(0,N.jsxs)("div",{className:(0,h.default)(L.overlayAlbumText),children:[Ae,V]})),(0,N.jsx)("div",{className:Ee,onClick:D,children:Ae}))}var U=(0,f.forwardRef)(G);t.default=U},19218:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{playbackRate:t,onClick:a}=e,n=()=>{o.PttPrefs.delayClearPlaybackRateControl(),a()};return(0,l.jsx)("div",{role:"button","aria-hidden":!0,className:(0,s.default)(u),tabIndex:"0",onClick:n,onKeyPress:e=>{e.key!==r.KEYBOARD_EVENT_KEY_VALUE.ENTER&&e.key!==r.KEYBOARD_EVENT_KEY_VALUE.SPACE||(e.preventDefault(),e.stopPropagation(),n())},children:(0,l.jsx)("div",{className:(0,s.default)(d),children:c(t)})})};var r=a(38069),i=a(48360),s=n(a(56720)),o=a(56989),l=a(85893);const u={position:"lhggkp7q",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",userSelect:"rkxvyd19"},d={boxSizing:"cm280p3y",minWidth:"nucpke6t",paddingTop:"ppypbuwx",paddingEnd:"lnjlmjd6",paddingBottom:"s8gyl5p1",paddingStart:"mc6o24uu",fontSize:"ovllcyds",fontWeight:"hnx8ox4h",color:"kuml4n87",textAlign:"qfejxiq4",backgroundColor:"pbzwqulz",borderTopStartRadius:"oer0kere",borderTopEndRadius:"ikqwvqb4",borderBottomEndRadius:"afb5cxhb",borderBottomStartRadius:"nlio6qai",transform:"etdxpurf"};function c(e){switch(e){case 1:return i.fbt._("1×",null,{hk:"P4fmA"});case 1.5:return i.fbt._("1.5×",null,{hk:"6zgHM"});case 2:return i.fbt._("2×",null,{hk:"4wp8yT"})}}},19639:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayAuthor:a,trusted:n,displayType:m,quotedMsg:P}=e;const j=l.fbt._("Vote",null,{hk:"CD9tF"}),I=l.fbt._("Change Vote",null,{hk:"2W5EAt"}),{pollName:O}=(0,c.useModelValues)(t,["pollName"]),[N,R]=(0,M.usePollResults)(t),D=function(e){const{pollVotes:t}=(0,c.useModelValues)(e,["pollVotes"]);return t.some((t=>t.pollCreationMsgKey.equals(e.id)&&t.senderObj.id.equals((0,o.getMeUser)())))}(t),[L,B]=(0,u.useState)(D),[F,G]=(0,u.useState)(!D);L!==D&&(B(D),G(!D));const U=O.slice(0,500),V=(0,u.useMemo)((()=>N.some((e=>e.checked))),[N]),W=(0,f.default)();return(0,k.jsx)(x.default,{msg:t,displayType:m,displayAuthor:a,hideMeta:!0,useFixedWidth:t.isDynamicReplyButtonsMsg,children:(0,k.jsxs)(p.default,{contact:t.senderObj,msg:t.unsafe(),xstyle:w.cursor,onClick:e=>{e.isDefaultPrevented()||i.DrawerManager.openDrawerRight((0,k.jsx)(E.PollDetailsFlow,{msg:t},t.id.toString()),"slide-left",W)},children:[!t.ctwaContext&&(0,k.jsx)(T.SuspiciousLabel,{msg:t.unsafe(),displayType:m}),(0,k.jsxs)(C.default,{msg:t.unsafe(),spacer:!0,"data-id":t.id,children:[(0,k.jsx)(b.default,{text:U,textLimit:t.initialPageSize,children:e=>{let{textLimit:a}=e;const r=(0,g.Conversation)({mentions:t.mentionMap(),links:t.getLinks(a),phoneNumbers:t.getPhoneNumbers(a),selectable:true,trusted:!0===n,fromMe:t.id.fromMe});return(0,k.jsx)(v.EmojiText,{text:U,dirMismatch:t.rtl!==y.default.isRTL(),direction:t.dir,inferLinesDirection:!0,formatters:r,selectable:true,textLimit:a})}}),(0,k.jsx)("div",{className:(0,d.default)(w.meta),children:(0,k.jsx)(S.Meta,{msg:t})})]}),(0,k.jsx)(A,{msg:t,options:N,isVoting:F,onOptionToggle:e=>{R(N.map((t=>t===e?(0,r.default)((0,r.default)({},t),{},{checked:!t.checked}):t)))}}),(0,k.jsx)(h.default,{items:[F?{label:j,onClick:e=>{s.ModalManager.open((0,k.jsx)(_.default,{title:"Unimplemented",onOK:()=>{s.ModalManager.close()}})),e.preventDefault()},title:j,disabled:!V}:{label:I,onClick:e=>{G(!0),e.preventDefault()},title:I}],xstyle:w.actions})]})})};var r=n(a(81109)),i=a(41455),s=a(14597),o=a(78820),l=a(48360),u=a(67294),d=n(a(56720)),c=a(35461),f=n(a(95402)),h=n(a(58286)),p=n(a(85559)),m=a(16593),g=a(74331),_=n(a(52665)),v=a(65417),b=n(a(17080)),y=n(a(14296)),C=n(a(54703)),S=a(42316),E=a(53991),T=a(7538),x=n(a(12209)),M=a(81409),k=a(85893);const w={actions:{textTransform:"ofejerhi"},meta:{position:"lhggkp7q",end:"ebjesfe0",bottom:"pgz13gmm"},cursor:{cursor:"ajgl1lbb"}};const P={marginTop:"opp68qpq",paddingTop:"emrlamx0",borderTop:"ei53l81b"};function A(e){let{msg:t,options:a,isVoting:n,onOptionToggle:r}=e;const i=a.filter((e=>e.checked)).length,s=0===t.pollSelectableOptionsCount?t.pollOptions.length:t.pollSelectableOptionsCount;return(0,k.jsx)("div",{className:(0,d.default)(P),children:a.map(((e,a)=>(0,k.jsx)(I,{msg:t,option:e,index:a,onOptionToggle:r,selectable:e.checked||i<s,isVoting:n},a)))})}const j={optionRowContainer:{width:"ln8gz9je",height:"epwkujcx",display:"p357zi0d",alignItems:"gndfcl4n",paddingTop:"qomlamqu",paddingBottom:"bxcbqipq"},nonFirstOptionRowContainer:{marginTop:"hw1jvu6y"},checkBoxContainer:{marginStart:"akljc1zx",marginEnd:"spjzgwxb",height:"ppled2lx"},rightContainer:{width:"ln8gz9je",height:"ppled2lx"},top:{display:"p357zi0d"},voteCountContainer:{minWidth:"c59meja3",textAlign:"e65innqk",marginStart:"isfiuinm"},voteCount:{fontSize:"dsh4tgtl"},option:{marginStart:"p3lsiedt",fontSize:"fe5nidar"}};function I(e){let{msg:t,option:a,index:n,selectable:r,isVoting:i,onOptionToggle:s}=e;const{name:o,voted:l}=a,u=0===(c=a.votes.length)?"":c>=1e3?`${(c/1e3).toFixed(1)}K`:`${c}`;var c;return(0,k.jsxs)("div",{className:(0,d.default)(j.optionRowContainer,0!==n&&j.nonFirstOptionRowContainer),children:[i&&(0,k.jsx)("div",{className:(0,d.default)(j.checkBoxContainer),children:(0,k.jsx)(m.CheckBox,{checked:a.checked,id:`option${n}`,disabled:!r,onChange:()=>{s(a)}})}),(0,k.jsxs)("div",{className:(0,d.default)(j.rightContainer),children:[(0,k.jsxs)("div",{className:(0,d.default)(j.top),children:[(0,k.jsx)("div",{className:(0,d.default)(j.option),children:(0,k.jsx)(v.EmojiText,{text:l?`${o} ✔️`:o,selectable:!0})}),(0,k.jsx)("div",{className:(0,d.default)(j.voteCountContainer),children:(0,k.jsx)("span",{className:(0,d.default)(j.voteCount),children:u})})]}),(0,k.jsx)(N,{option:a})]})]})}const O={barContainer:{width:"ln8gz9je",height:"gm0rsm7k",marginTop:"dj1c3cmq",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",backgroundColor:"ioqod8di",overflowX:"gfz4du6o",overflowY:"r7fjleex"},bar:{height:"ppled2lx",borderTopStartRadius:"ho9ovbg7",borderTopEndRadius:"tcg15ap9",borderBottomEndRadius:"c5wy1lv0",borderBottomStartRadius:"bqysl6j9",backgroundColor:"oq0ozgke",transitionProperty:"sa467clc",transitionDuration:"p4t1lx4y"},barWinner:{backgroundColor:"zydp35s9"}};function N(e){let{option:t}=e;const{ratioOfMax:a}=t;return(0,k.jsx)("div",{className:(0,d.default)(O.barContainer),children:(0,k.jsx)("div",{className:(0,d.default)(O.bar,1===a&&O.barWinner),style:{width:100*a+"%"}})})}},81409:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.usePollResults=function(e){const{pollVotes:t,pollOptions:a}=(0,o.useModelValues)(e,["pollVotes","pollOptions"]),n=(0,s.useCallback)((e=>{const t=(0,i.getMeUser)(),n=a.map((e=>({name:e.name,votes:[],checked:!1,voted:!1})));e.forEach((e=>{e.selectedOptionIds.forEach((a=>{const r=n[a];r.votes.push(e),e.senderObj.id.equals(t)&&(r.checked=!0,r.voted=!0)}))}));const s=Math.max(...n.map((e=>e.votes.length)),1);return n.map((t=>(0,r.default)((0,r.default)({},t),{},{ratioOfMax:t.votes.length/s,ratioOfAll:t.votes.length/e.length})))}),[a]),[l,u]=(0,s.useState)((()=>n(t)));return(0,s.useEffect)((()=>{u(n(t))}),[t,n]),[l,u]};var r=n(a(81109)),i=a(78820),s=a(67294),o=a(35461);a(88258)},87543:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{theme:t,wid:a}=e,[n,m]=(0,s.useState)(null),[g,_]=(0,s.useState)(null),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(e.img)},b=(0,l.default)();if((0,s.useEffect)((()=>{a&&f.ProfilePicThumbCollection.find(a).then((e=>(0,r.delayMs)(0).then((()=>e)))).then((e=>{b.aborted||(_(e),v(e))})).catch((()=>{}))}),[]),(0,o.useListener)(g,"change:img",v),n&&e.wid)return(0,p.jsx)(u.DetailImage,{id:e.wid,quoted:e.quoted,size:e.size,shape:e.shape,border:e.border});let y;y="number"==typeof e.size&&0!==e.size||"number"!=typeof e.size&&null!=e.size?e.size:u.DetailImageSize.Small;const C=(0,u.getSize)(y)||void 0,S=e.thumbs?e.thumbs:[e.thumb],E=S.map(((t,a)=>{if(t)return(0,p.jsx)("img",{className:c.default.image,src:t,alt:""},a);const n=C&&C/(S.length>2&&a>0?2:1);return(0,p.jsx)(d.FlexRow,{className:c.default.default,justify:"center",align:"center",children:(0,p.jsx)(h.default,{name:e.quoted?"default-user-square":"default-user",style:{width:n,height:n},className:c.default.icon})},a)}));let T;T=1===E.length?E[0]:2===E.length?(0,p.jsxs)(d.FlexRow,{className:c.default.row,justify:"stretch",align:"stretch",children:[E[0],E[1]]}):(0,p.jsxs)(d.FlexRow,{className:c.default.row,justify:"stretch",align:"stretch",children:[E[0],(0,p.jsxs)(d.FlexColumn,{className:c.default.col,justify:"stretch",align:"stretch",children:[E[1],E[2]]})]});return(0,p.jsx)(d.FlexRow,{className:(0,i.default)(c.default.container,{[c.default.square]:e.shape===u.DetailImageShape.Square,[c.default.hasBorder]:e.border,[c.default.hasInnerBorder]:"voip"===t||"voip-dimmed"===t,[c.default.hasLargeInnerBorder]:"voip-large"===t||"voip-large-dimmed"===t,[c.default.dimmed]:"voip-dimmed"===t||"voip-large-dimmed"===t}),style:{width:C,height:C},children:T})};var r=a(13959),i=n(a(94184)),s=a(67294),o=a(87550),l=n(a(3409)),u=a(88984),d=a(29623),c=n(a(23766)),f=(a(93836),a(82039)),h=n(a(23217)),p=a(85893)},32570:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(35470),i=a(67294),s=a(35461),o=n(a(90850)),l=n(a(1195)),u=n(a(72655)),d=a(88984),c=n(a(11339)),f=n(a(6507)),h=a(85893);const p=(e,t)=>{const a=(0,s.useModelValues)(e.msg,["ack","isSentByMe","senderObj","id"]),n=(0,i.useRef)(null);(0,i.useEffect)((()=>{e.msg.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:c.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[e.msg]),(0,i.useImperativeHandle)(t,(()=>({handleKeyActivation:e=>{var t;null===(t=n.current)||void 0===t||t.handleKeyActivation(e)}})));const p=e.displayAuthor?(0,h.jsx)(u.default,{msg:a,contact:a.senderObj}):null;return(0,h.jsx)(o.default,{msg:a,quotedMsg:e.quotedMsg,author:p,status:(0,h.jsx)(f.default,{played:a.ack===r.ACK.PLAYED,isSentByMe:a.isSentByMe}),player:(0,h.jsx)(l.default,{ref:n,msg:e.msg,mediaData:e.mediaData,displayType:e.displayType,getSequentialMsg:e.getSequentialMsg}),avatar:(0,h.jsx)(d.DetailImage,{id:a.senderObj.id,size:55}),displayType:e.displayType})};var m=(0,i.forwardRef)(p);t.default=m},98113:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.playEndPttTone=function(){u(l)},t.playMidPttTone=function(){u(o)};var r=a(72472),i=n(a(91720)),s=n(a(39181));const o=new window.Audio(s.default),l=new window.Audio(i.default);function u(e){r.MuteCollection.getGlobalSounds()&&e.play()}},6507:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.default)(l.icon,function(e){let{played:t,isSentByMe:a}=e;return t?l.blue:a?l.gray:l.green}(e),{[l.outgoing]:e.isSentByMe,[l.incoming]:!e.isSentByMe});return(0,o.jsx)("div",{className:i.default.wrapper,children:(0,o.jsx)("div",{className:t,children:(0,o.jsx)(s.default,{name:"ptt-status"})})})};var r=n(a(94184)),i=n(a(4947)),s=n(a(23217)),o=a(85893);const l={incoming:i.default.incoming,outgoing:i.default.outgoing,green:i.default.green,blue:i.default.blue,gray:i.default.gray,icon:i.default.icon}},20559:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,theme:a}=e,{type:n,productListHeaderImage:r}=(0,l.useModelValues)(t,["type","productListHeaderImage"]);if(t.isViewOnce)return null;let N;switch(t.type){case y:case C:case E:case M:const s=(0,c.isMediaTypeWithImage)(n),{preview:l,fullPreviewData:R}=t.mediaData;(s||null!=l||null!=R)&&(N=(0,v.jsx)(c.MediaMsgPreview,{mediaData:t.mediaData}));break;case j:if(t.headerType===d.Message$ButtonsMessageHeaderType.IMAGE){const{mediaData:e}=t;null==e.preview&&null==e.fullPreviewData||(N=(0,v.jsx)(c.MediaMsgPreview,{mediaData:e}))}break;case S:t.body&&(N=(0,v.jsx)(O,{source:t.body}));break;case b:t.thumbnail&&(N=(0,v.jsx)(O,{source:t.thumbnail}));break;case A:const{mediaType:D,thumbnail:L}=t.interactiveHeader||{};if(null!=D){const{mediaData:e}=t;null==e.preview&&null==e.fullPreviewData||(N=(0,v.jsx)(c.MediaMsgPreview,{mediaData:t.mediaData}))}else null!=L&&(N=(0,v.jsx)(O,{source:L}));break;case T:N=(0,v.jsx)(m.default,{wid:g.ProfilePicThumbCollection.getThumbnailWidFromVcard(t.vcard),thumb:(0,i.vcardThumbnail)(t.vcard),quoted:!0,shape:u.DetailImageShape.Square,size:I(e.theme)});break;case x:N=(0,v.jsx)(m.default,{size:I(e.theme),shape:u.DetailImageShape.Square,quoted:!0});break;case k:(0,o.isNonZeroNumber)(t.paymentAmount1000)&&t.paymentCurrency&&(N=(0,v.jsx)(p.default,{background:t.paymentBackground,isQuoted:!0,isQuotedInComposeBox:"composeBox"===a,children:(0,v.jsx)(h.default,{currency:t.paymentCurrency,amount1000:t.paymentAmount1000,isQuoted:!0})}));break;case w:t.thumbnail&&(N=(0,v.jsx)("div",{className:_.default.image,style:{backgroundImage:`url("data:image/jpeg;base64,${t.thumbnail}")`}}));break;case P:r&&(N=(0,v.jsx)("div",{className:_.default.image,style:{backgroundImage:`url("${(0,f.convertToDataURI)(r)}")`}}))}const R=(0,s.default)(_.default.imageWrapper,{[_.default.composeBox]:"composeBox"===a,[_.default.statusV3]:"statusV3"===a,[_.default.isPayment]:t.type===k});return N?(0,v.jsx)("div",{className:R,children:(0,v.jsx)("div",{className:_.default.msgImage,children:N})}):null};var r=a(15461),i=a(93778),s=n(a(94184)),o=a(29984),l=a(35461),u=a(88984),d=a(24808),c=a(63547),f=a(81309),h=n(a(16369)),p=n(a(31729)),m=n(a(87543)),g=a(82039),_=n(a(66076)),v=a(85893);const{CHAT:b,IMAGE:y,VIDEO:C,LOCATION:S,DOCUMENT:E,VCARD:T,MULTI_VCARD:x,PRODUCT:M,PAYMENT:k,ORDER:w,LIST:P,INTERACTIVE:A,NATIVE_FLOW:j}=r.MSG_TYPE;function I(e){return["conversation","starred","msgInfo"].includes(e)?58:79}function O(e){let{source:t}=e;return(0,v.jsx)("div",{"data-testid":"msgImage",style:{backgroundImage:`url(data:image/jpeg;base64,${t})`},className:_.default.image})}},35072:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,displayType:n,chat:F,rootMsg:G,composeQuotedMsgRemoteJid:U,t:V}=e,W=(0,y.default)(),H=(0,b.default)((()=>new A.ProductCatalogSession)),[q,Y]=(0,v.useState)(!1),z=!q&&!!G;(0,v.useEffect)((()=>{const e=t.asProductInquiry;if(null==e)return;e.businessOwnerJid&&(0,m.createWid)(e.businessOwnerJid)&&(null!=V&&(e.t=V),S.CatalogCollection.addMsgAsProduct((0,R.unproxy)(e.unsafe())))}),[]);const K=F.assignedColor(t.sender),$=[u.DISPLAY_TYPE.CONVERSATION,u.DISPLAY_TYPE.STARRED_MSGS].includes(n),Q=U||(null==G?void 0:G.quotedRemoteJid),X=$?"button":null,J=(0,B.jsx)(C.default,{msg:t,contact:t.senderObj,role:X,chat:F,displaySelf:p.default.equals(t.sender,(0,h.getMaybeMeUser)()),quotedRemoteJid:Q,disableClick:!0}),Z=(0,g.default)(O.default.quotedMsg,{[O.default.statusV3QuotedMsg]:"statusV3"===e.theme,[O.default.composeBoxQuotedMsg]:"composeBox"===e.theme,[O.default.hover]:q}),ee=(0,B.jsxs)("div",{className:O.default.msgText,children:[J,(0,B.jsx)(N.default,{msg:t,theme:e.theme})]}),te=n===u.DISPLAY_TYPE.STARRED_MSGS?"starred":e.theme;return(0,B.jsx)("div",{"data-a8n":s.default.key("quotted-message"),className:O.default.container,onMouseOver:$?()=>{z&&Y(!0)}:null,onMouseEnter:$?()=>{z&&Y(!0)}:null,onMouseLeave:$?()=>{q&&Y(!1)}:null,children:(0,B.jsxs)("div",{className:Z,role:X,onClick:$?()=>{if(t.isStatusV3)return void(G&&G.isQuotedMsgAvailable?D.StatusV3Collection.find(t.sender).then((e=>{const{QuotedStatusV3FlowLoadable:n}=a(98633);c.ModalManager.openMedia((0,B.jsx)(n,{removeTopDrawer:!1,statusV3:e,msgKey:t.id,onMsgNotFound:()=>{G&&(G.isQuotedMsgAvailable=!1)}}),{transition:"quoted-status-v3-modal"})})):f.ToastManager.open((0,B.jsx)(L.Toast,{msg:_.fbt._("Status update not found",null,{hk:"1KSfSo"}),id:(0,L.genId)()})));if(null!=t.asProductInquiry)return(e=>{const t=e.businessOwnerJid&&(0,m.createWid)(e.businessOwnerJid);if(!t)return;const a=S.CatalogCollection.get(t);if(!a)return;const n=e.productId&&a.productCollection.get(e.productId),r=e.productId&&a.msgProductCollection.get(e.productId);if(!n&&!r)return;let i=r;if(n&&null!=V&&n.t>=V&&(i=n,r&&a.productCollection.remove(r)),!i)return;const s=(0,P.buildProductCatalogContext)(H.current,(0,E.getMaybeBizPlatformForLogging)(e.businessOwnerJid),k.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE);return(0,x.logProductInquiryClick)({product:(0,R.unproxy)(i),catalogContext:s}),(0,M.qplStartProductView)("Message"),d.DrawerManager.openDrawerRight((0,B.jsx)(j.ProductDetailsFlowLoadable,{product:i,chat:e.chat,refreshCarousel:!0}),"slide-left",W,s)})(t.asProductInquiry);if(G&&!G.isQuotedMsgAvailable)return void f.ToastManager.open((0,B.jsx)(L.Toast,{msg:T.default.t(518),id:(0,L.genId)()}));const e=t.id,n=t.chat,s=w.MsgCollection.get(e),u=n.getSearchContext(s||e,null==G?void 0:G.unsafe());u&&(u.slideToMsg=!0),l.Cmd.openChatAt(n,u).then((e=>{if(!e)return;const a=w.MsgCollection.get(t.id);a&&(0,i.delayMs)(500).then((()=>{l.Cmd.openMediaViewerForAlbumMedia((0,R.unproxy)(a))}))})),s||u.collection.loadAroundPromise.catch((0,r.filteredCatch)(o.E404,(()=>{const e=null==G?void 0:G.unsafe(),t=null==e?void 0:e.chat;null!=e&&null!=t&&l.Cmd.openChatAt(t,t.getSearchContext(e))})))}:null,children:[(0,B.jsx)("span",{className:(0,g.default)(`bg-color-${K}`,O.default.colorBar)}),(0,B.jsx)("div",{className:O.default.msgBody,dir:$?null:t.dir,children:ee}),(0,B.jsx)(I.default,{msg:t.unsafe(),theme:te})]})})};var r=a(50796),i=a(13959),s=n(a(99964)),o=a(92574),l=a(81572),u=a(5177),d=a(41455),c=a(14597),f=a(94816),h=a(78820),p=n(a(89867)),m=a(45454),g=n(a(94184)),_=a(48360),v=a(67294),b=n(a(16223)),y=n(a(95402)),C=n(a(72655)),S=a(99989),E=a(62632),T=n(a(14296)),x=a(77975),M=a(82145),k=n(a(11339)),w=a(59871),P=a(97567),A=a(9153),j=a(67455),I=n(a(20559)),O=n(a(777)),N=n(a(74729)),R=a(18146),D=a(59387),L=a(50452),B=a(85893)},74729:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,theme:a}=e,n=(0,c.default)();(0,d.useEffect)((()=>{t.type===P&&t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:g.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1}),t.type===s.MSG_TYPE.DOCUMENT&&t.isVcardOverMmsDocument&&(!t.mediaData||!t.mediaData.mediaBlob)&&t.isTrusted()&&t.size<=1024*S.ServerProps.mmsVcardAutodownloadSizeKb&&t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:g.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1}).then((()=>(0,r.delayMs)(0)))}),[]),(0,f.useListener)(t.type===s.MSG_TYPE.DOCUMENT&&t.mediaData&&t.isVcardOverMmsDocument?t.mediaData:null,"change:parsedVcards",(()=>{n()}));const I=()=>t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:g.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1}),O=[];t.hasSymbol()&&t.type!==P&&t.type!==j&&O.push((0,T.jsx)(_.default,{msg:t.unsafe(),viewOnceStatic:!0},"msg-symbol"));(t.type!==k||t.isGif||t.caption||t.isViewOnce)&&t.type!==w||O.push(i.Clock.durationStr(Number(t.duration))+" ");const N=p.Configuration.QuotedMention({mentions:t.mentionMap()});if(t.type===x||t.type===M||t.type===k||t.isFromTemplate||t.isDynamicReplyButtonsMsg){var R;let e;e=(null===(R=t.asViewOnce)||void 0===R?void 0:R.isViewOnce)?t.type===M?l.fbt._("Photo",null,{hk:"SBkDD"}):l.fbt._("Video",null,{hk:"2SOGaJ"}):t.isFromTemplate&&t.type===s.MSG_TYPE.CHAT&&t.title?"*"+t.title+"*\n"+t.body:(0,m.default)(t.unsafe(),{stripFormatting:!1}),O.push((0,T.jsx)(h.EmojiText,{formatters:N,className:"quoted-mention",text:e,textLimit:t.initialPageSize,direction:"auto"},"status"))}else if(P===t.type){const a="composeBox"===e.theme?"composeBoxQuoted":"quoted";O.push((0,T.jsx)(E.default,{mediaData:t.mediaData,theme:a,downloadMedia:I},"sticker"))}else t.type===A?(0,u.isNonZeroNumber)(t.paymentAmount1000)&&t.paymentCurrency||"invite"===t.subtype?O.push((0,T.jsx)(b.default,{msgKey:t.id,subtype:t.subtype,receiverJid:t.paymentMessageReceiverJid,isQuoted:!0},"payment")):O.push(l.fbt._("Payment message • Amount unavailable",null,{hk:"3SAp3h"})):t.type===j?O.push((0,T.jsx)(v.OrderDescription,{msg:t.unsafe(),showMessage:!0},"order")):O.push((0,T.jsx)(h.EmojiText,{formatters:N,className:"quoted-mention",text:(0,C.formatQuotedMsg)(t),textLimit:t.initialPageSize,direction:"auto"},"status"));const D=(0,o.default)(y.default.messageText,{[y.default.composeBoxQuotedMsg]:"composeBox"===e.theme}),L="conversation"===a||"starred"===a?"button":null;return(0,T.jsx)("div",{className:D,dir:t.dir,role:L,children:O})};var r=a(13959),i=a(40234),s=a(15461),o=n(a(94184)),l=a(48360),u=a(29984),d=a(67294),c=n(a(59312)),f=a(87550),h=a(65417),p=a(30695),m=n(a(57130)),g=n(a(11339)),_=n(a(32281)),v=a(36707),b=n(a(74066)),y=n(a(15149)),C=a(65510),S=a(64551),E=n(a(12064)),T=a(85893);const{CHAT:x,IMAGE:M,VIDEO:k,AUDIO:w,STICKER:P,PAYMENT:A,ORDER:j}=s.MSG_TYPE},65510:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatMultiVcardText=m,t.formatProductText=_,t.formatQuotedMsg=function(e){switch(e.type){case i.MSG_TYPE.DOCUMENT:return e.isVcardOverMmsDocument?g(e):(0,d.default)(e.unsafe());case i.MSG_TYPE.MULTI_VCARD:return m(e);case i.MSG_TYPE.PRODUCT:return _(e);case i.MSG_TYPE.NATIVE_FLOW:case i.MSG_TYPE.INTERACTIVE:return e.nativeFlowName===f.default.ORDER_DETAILS?function(e){const t=(0,h.getOrderInfo)(e);if(null==t)return"";return t.title+"\n"+o.fbt._("Quantity {order_items_quantity} • {order_total_price}",[o.fbt._param("order_items_quantity",t.quantity),o.fbt._param("order_total_price",u.formatAmount(t.currency,t.totalAmount))],{hk:"IN6Hj"}).toString()}(e):(0,d.default)(e.unsafe());default:return(0,d.default)(e.unsafe())}},t.formatVcardOverMmsText=g;var r=n(a(39138)),i=a(15461),s=a(93778),o=a(48360),l=a(64481),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(39519)),d=n(a(57130)),c=n(a(14296)),f=n(a(5165)),h=a(34841);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e){const t=e.vcardList.length;return t>0?c.default.t(536,{count:t,_plural:t}):o.fbt._("No contacts",null,{hk:"1p56oN"})}function g(e){var t;if(e.mediaData.parsedVcards){const{parsedVcards:t}=e.mediaData;return t.length>1?c.default.t(536,{count:t.length,_plural:t.length}):(0,s.vcardGetNameFromParsed)(t[0])||c.default.t(765)}return null!=e.pageCount?c.default.t(536,{count:e.pageCount,_plural:e.pageCount}):(null===(t=e.mediaData)||void 0===t?void 0:t.filename)||c.default.t(767)}function _(e){let t,{title:a,description:n,currencyCode:i,priceAmount1000:s,salePriceAmount1000:o}=e;if(null!=i&&null!=s){const e=e=>u.formatAmount1000(i,e);t=null!=o?`${e(o)} ~${e(s)}~`:e(s)}else n&&(t=(0,r.default)(n,{length:l.MAX_REPLY_PRODUCT_DESC_LENGTH}));return[(0,r.default)(a,{length:l.MAX_REPLY_PRODUCT_TITLE_LENGTH}),t].filter(Boolean).join("\n")}},51906:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.QuotedMsgAdminGroupName=void 0;var r=a(81572),i=n(a(94184)),s=a(67294),o=a(69951),l=a(65417),u=a(50101),d=n(a(14296)),c=n(a(58821)),f=a(85893);function h(e,t){const{isComposePreview:a,quotedGroupJid:n,quotedGroupSubject:h}=e,[p,m]=(0,s.useState)(!1),g=()=>!p&&!a;(0,s.useImperativeHandle)(t,(()=>({hoverable:g})));const _=null!=h?h:(()=>{const e=o.ChatCollection.get(n);return null==e?void 0:e.formattedTitle})();if(!_)return null;const v=(0,i.default)(c.default.quotedMsg,{[c.default.hover]:p,[c.default.composeBoxQuotedMsg]:!!a});return(0,f.jsx)("div",{onMouseOver:()=>{m(!0)},onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},className:v,children:(0,f.jsxs)("div",{className:c.default.msg,role:a?"none":"button",onClick:()=>{(0,u.findChat)(n).then((e=>r.Cmd.openChatBottom(e)))},children:[(0,f.jsx)("span",{className:c.default.colorBar}),(0,f.jsx)("div",{className:c.default.msgBody,children:(0,f.jsx)(l.EmojiText,{className:"quoted-mention",text:d.default.t(606,{groupName:_}),direction:"auto"},"status")})]})})}const p=(0,s.forwardRef)(h);t.QuotedMsgAdminGroupName=p},27339:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(52013)),i=a(67811),s=a(48360),o=a(67294),l=n(a(56720)),u=a(35461),d=n(a(95402)),c=n(a(44356)),f=a(88984),h=a(65417),p=a(29424),m=a(9157),g=a(21357),_=a(85893);const v={"::before":{content:"f76rftwh"}};function b(e,t){let{reaction:a}=e;const n=(0,o.useRef)(null),[b,y]=(0,o.useState)(!1),C=()=>{r.default.focus(n.current),y(!0)},{parentMsg:S,reactionText:E,senderObj:T}=a;(0,o.useImperativeHandle)(t,(()=>({focus:C})));const x=(0,u.useModelValues)(T,["id","isMe","name","formattedName","notifyName"]),{id:M,isMe:k,name:w,formattedName:P,notifyName:A}=x,j=(0,d.default)(),I=()=>{(0,i.canRevokeReaction)()&&k&&(0,g.sendReactionToMsg)(S,i.REVOKED_REACTION_TEXT).catch((()=>{j&&j.requestDismiss()}))};let O=null;!w&&A&&(O=(0,_.jsx)(h.EmojiText,{className:(0,l.default)(v),direction:"auto",text:A}));let N=(0,i.reactionBubbleAriaLabelOneReaction)(P,E);return k&&(N=`${N.toString()} ${s.fbt._("Click to remove",null,{hk:"oSIOf"}).toString()}`),(0,_.jsx)(p.HotKeys,{role:k?"button":"listitem","aria-label":N,handlers:{enter:I,space:I},ref:n,onBlur:()=>{y(!1)},children:(0,_.jsx)(c.default,{idle:!k,image:(0,_.jsx)(f.DetailImage,{id:M,size:40}),primary:P,onClick:I,detail:(0,_.jsx)(m.ReactionEmoji,{scale:"list",size:"large",reaction:E}),secondary:k?s.fbt._("Click to remove",null,{hk:"oSIOf"}):O,theme:"reaction",active:b})})}var y=(0,o.forwardRef)(b);t.default=y},67112:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(74691)),i=a(67294),s=n(a(56720)),o=a(47915),l=n(a(44942)),u=a(29424),d=n(a(27339)),c=a(85893);const f={width:"ln8gz9je",maxHeight:"iod7fm94",minHeight:"o404977b",overflowX:"i44ccddp",overflowY:"ag5g9lrv",paddingTop:"fbgy3m38"};function h(e,t){const a=(0,i.useRef)(new Map),n=(0,i.useRef)(null),[h,p]=(0,i.useState)(0),m=t=>{const n=e.senders[t];if(n){var r;const e=n.id.toString(),t=a.current.get(e);null==t||null===(r=t.current)||void 0===r||r.focus()}},g=t=>(0,r.default)(t,0,e.senders.length-1),_=()=>{m(g(h))},v=()=>{var e;return(null===(e=n.current)||void 0===e?void 0:e.contains(document.activeElement))||!1};return(0,i.useImperativeHandle)(t,(()=>({focus:_,hasFocus:v}))),(0,i.useEffect)((()=>{p(0)}),[e.senders]),(0,c.jsx)(l.default,{ref:n,className:(0,s.default)(f),flatListControllers:[e.flatListController],children:(0,c.jsx)(u.HotKeys,{role:"list",tabIndex:null,handlers:{up:e=>{e.preventDefault();const t=g(h-1);p(t),m(t)},down:e=>{const t=g(h+1);e.preventDefault(),p(t),m(t)}},children:(0,c.jsx)(o.FlatList,{flatListController:e.flatListController,direction:"vertical",defaultItemHeight:53,data:e.senders.map((e=>({itemKey:e.id.toString(),sender:e}))),renderItem:e=>{const t=(0,i.createRef)();return a.current.set(e.itemKey,t),(0,c.jsx)(d.default,{ref:t,reaction:e.sender},e.itemKey)},forceConsistentRenderCount:!1})})})}var p=(0,i.forwardRef)(h);t.default=p},3816:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(82729)),i=n(a(29521)),s=n(a(33856)),o=a(67811),l=a(67294),u=n(a(56720)),d=n(a(16223)),c=n(a(64827)),f=a(67247),h=a(65417),p=n(a(30855)),m=a(29623),g=n(a(48846)),_=a(29424),v=n(a(14296)),b=n(a(69995)),y=n(a(67112)),C=a(9157),S=(a(81130),n(a(46603))),E=a(96213),T=a(85893);const x={divider:{backgroundColor:"n45ix5k8",height:"kanlod6e"},emojiCount:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",display:"l7jjieqr",height:"bvcnfjzh",fontSize:"bze30y65",lineHeight:"r5qsrrlp"},emoji:{color:"tviruh8d",marginEnd:"kjemk6od"},all:{color:"tviruh8d",marginEnd:"claouzo6"},count:{color:"pm5hny62",marginEnd:"cgpjrhzi"},buttonStyle:{width:"hj839x6e"},willChange:{willChange:"exvbdj68"}},M="_all_",k=(e,t)=>{var a,n,r;(null===(a=e.current)||void 0===a?void 0:a.hasFocus())?null===(n=t.current)||void 0===n||n.focus():null===(r=e.current)||void 0===r||r.focus()},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const a=(0,s.default)(e,t,((e,t)=>e.isEqual(t))),n=(0,i.default)(t,e,((e,t)=>e.isEqual(t)));return a.concat(...n)};function P(e){let{tab:t}=e;const{emoji:a,reactions:n}=t;return(0,T.jsx)(m.FlexRow,{align:"center",justify:"center",children:(0,T.jsxs)(g.default,{xstyle:x.willChange,children:[a===M?(0,T.jsx)("div",{className:(0,u.default)(x.emojiCount,x.all),children:(0,T.jsx)(h.EmojiText,{text:v.default.t(607,{_plural:n.length})})}):(0,T.jsx)("div",{className:(0,u.default)(x.emojiCount,x.emoji,C.tabScale),children:(0,T.jsx)(h.EmojiText,{text:f.EmojiUtil.getNormalizedOrTofu(a)})}),(0,T.jsx)("div",{className:(0,u.default)(x.emojiCount,x.count),children:v.default.n(n.length)})]})})}var A=function(e){const[t,a]=(0,l.useState)(0),[n,i]=(0,l.useState)(0),s=(0,d.default)((()=>new p.default)),f=(0,l.useRef)(null),h=(0,l.useRef)(null),g=(0,l.useRef)(null),v=(0,S.default)();(0,l.useEffect)((()=>{var e,t;i(null!==(e=null===(t=g.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0)}),[]);const C=(e,t)=>{var a,n;const i=(0,o.getReactionAggregates)(e),s=[],l=[],u=[],d=(e,t)=>{const{reactionSenders:a,reactionAggregate:n}=e;if(a.length){const e=w(t,a);e.forEach((e=>{(0,o.isReactionByMe)(e.senderUserJid)?l.push(e):s.push(e)})),u.push({emoji:n,reactions:e})}};null==t||t.forEach((e=>{const t=(0,r.default)(i,(t=>t.reactionAggregate===e.emoji))[0];t&&d(t,e.reactions)})),i.forEach((e=>{d(e)}));const c=w(null!==(a=null==t||null===(n=t[0])||void 0===n?void 0:n.reactions)&&void 0!==a?a:[],s);return c.unshift(...l),c.length&&u.unshift({emoji:M,reactions:c}),u},[A,j]=(0,l.useState)(C(e.reactionsModels));if((0,E.useReactions)(e.msgIds,(e=>{var n;const r=v&&!!(null===(n=f.current)||void 0===n?void 0:n.hasFocus()),i=C(e,A);var s;(i.length<A.length&&a(Math.max(0,t-1)),j(i),r)&&(null===(s=f.current)||void 0===s||s.focus())})),(0,l.useEffect)((()=>{var t;0===A.length&&(null===(t=e.onEmpty)||void 0===t||t.call(e))}),[e,A]),0===A.length)return null;const I=A[t].reactions,O={};return n&&(O.height=n),(0,T.jsxs)(_.HotKeys,{handlers:{"shift+tab":e=>{e.preventDefault(),k(h,f)},tab:e=>{e.preventDefault(),k(h,f)}},tabIndex:null,children:[(0,T.jsx)(b.default,{ref:h,numItems:A.length,onItemClick:e=>{a(e),s.current.setScrollFromStart(0)},renderItem:e=>(0,T.jsx)(P,{tab:A[e]}),selectedIndex:t,className:c.default.reaction,buttonStyle:x.buttonStyle}),(0,T.jsx)("div",{className:(0,u.default)(x.divider)}),(0,T.jsx)(m.FlexColumn,{ref:g,style:O,children:(0,T.jsx)(y.default,{ref:f,senders:I,flatListController:s.current})})]})};t.default=A},9157:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.tabScale=t.ReactionEmoji=void 0;var r=n(a(56720)),i=a(67247),s=n(a(84636)),o=a(85893);const l={tofu:{color:"tviruh8d"},listScale:{transform:"hda1r0l0"},bubbleScale:{transform:"p83aruvr"},bubbleScale1PxSmaller:{transform:"eipqoq80"},tabScale:{transform:"rbxsf3hm"},tray:{transform:"lidvm163"},trayScale2PxSmaller:{transform:"mob44t3l"}},u=l.tabScale;t.tabScale=u;t.ReactionEmoji=e=>{let{reaction:t,size:a,scale:n}=e;const u=i.EmojiUtil.normalizeEmojiFromString(t),d=i.EmojiUtil.getHeartEmojis().some((e=>i.EmojiUtil.normalizeEmoji(e)===u));return u?(0,o.jsx)(s.default,{className:(0,r.default)("list"===n&&l.listScale,"bubble"===n&&l.bubbleScale,"tray"===n&&l.tray,d&&"tray"===n&&l.trayScale2PxSmaller,d&&"bubble"===n&&l.bubbleScale1PxSmaller),size:a,emoji:u},"low-res"):(0,o.jsx)("span",{className:(0,r.default)(l.tofu),children:i.OPEN_BOX_CHAR})}},60752:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ANIMATION_REMOVE_LENGTH=void 0,t.ReactionEmojiAnimated=function(e){let{reaction:t,shouldAnimate:a,removeAnimation:n}=e;const d=(0,i.useRef)(null);return(0,i.useEffect)((()=>{!0===(null==n?void 0:n.shouldRemoveAnimation)&&null!=d.current&&(0,r.default)(d.current,{scale:[0,1]},{duration:70,easing:[.83,0,.17,1]}).then((()=>{n.animationFinished()}))}),[n,d]),(0,l.jsx)("div",{ref:d,className:(0,s.default)(a&&!0!==(null==n?void 0:n.shouldRemoveAnimation)&&u.animateReaction),children:(0,l.jsx)(o.ReactionEmoji,{reaction:t,scale:"bubble"})})};var r=n(a(62831)),i=a(67294),s=n(a(56720)),o=a(9157),l=a(85893);t.ANIMATION_REMOVE_LENGTH=70;const u={animateReaction:{animationName:"jc2at2x4",animationDuration:"pext2d22",animationTimingFunction:"mjl5wphb",animationFillMode:"a21kwdn3",backfaceVisibility:"ou3430m0",willChange:"lia7vegv"}}},56979:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionSendFailButton=void 0;var r=n(a(18446)),i=a(5177),s=a(14597),o=a(67811),l=a(48360),u=a(67294),d=n(a(56720)),c=a(87550),f=n(a(3409)),h=a(67247),p=n(a(87350)),m=n(a(14296)),g=n(a(4850)),_=a(96213),v=a(85893);const b={container:{position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",height:"ppled2lx",width:"i94gqilv"},notFromMe:{start:"dkaqw61n"}};function y(e){let{msgIds:t,fromMe:a}=e;const n=(0,f.default)(),[r,y]=(0,u.useState)([]),[C,S]=(0,u.useState)([]),E=()=>{s.ModalManager.open((0,v.jsx)(g.default,{reactionUpdates:C}))};(0,_.useReactions)(t,(e=>{const t=[],a=e.filter((e=>null!=e.reactionByMe)),r=[];a.forEach((e=>{if(e.reactionByMe){const{senderUserJid:a,reactionText:n}=e.reactionByMe,i=h.EmojiUtil.getEmojiAggregate(n),s=e.reactions.get(i),l=null==s?void 0:s.senders.findFirst((e=>e.senderUserJid===a));if(null!=l&&(r.push(l),l.isFailed)){const e=(0,o.reactionSenderToReactionUpdate)(l);t.push(e)}}})),n.aborted||(S(t),y(r))}));const T=(0,u.useCallback)((()=>{const e=[];r.forEach((t=>{if(t.isFailed){const a=(0,o.reactionSenderToReactionUpdate)(t);e.push(a)}})),n.aborted||S(e)}),[r,n]);(0,c.useListeners)(r.map((e=>({source:e,eventOrEvents:"change:isFailed",callback:()=>T(e)}))));const x=C.length>0,M=C.map((e=>e.reactionText)).join(m.default.t(307)),k=C.length>2?m.default.t(608,{count:m.default.n(C.length),_plural:C.length}):l.fbt._({"*":"Your {reactions} reactions weren't sent",_1:"Your {reactions} reaction was not sent"},[l.fbt._plural(C.length),l.fbt._param("reactions",M)],{hk:"K3Fmi"});return x?(0,v.jsx)("div",{className:(0,d.default)([b.container,!a&&b.notFromMe]),children:(0,v.jsx)(p.default,{displayType:i.DISPLAY_TYPE.CONVERSATION,fromMe:a,tooltip:k,onClick:E})}):null}function C(e,t){return(0,r.default)(e,t)}const S=(0,u.memo)(y,C);t.ReactionSendFailButton=S},18366:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(18446)),i=n(a(70735)),s=a(8139),o=a(67294),l=n(a(56720)),u=n(a(51799)),d=n(a(37453)),c=a(46428),f=n(a(3409)),h=a(29623),p=n(a(48846)),m=n(a(14296)),g=a(60752),_=n(a(53689)),v=a(85893);const b={reactionContainer:{height:"bmot90v7",paddingTop:"i5tg98hk",paddingEnd:"jfqm35v0",paddingBottom:"przvwfww",paddingStart:"bdbt56hn",borderTopStartRadius:"r18xjin9",borderTopEndRadius:"pz6oj2k2",borderBottomEndRadius:"sa2xs5zj",borderBottomStartRadius:"n58sa971",backgroundColor:"jht8oeb6",boxShadow:"fahkg6u0",borderTop:"hcpeg58q",borderEnd:"p6ubcsnv",borderBottom:"avd5zzxf",borderStart:"qqik71jn"},reactionItem:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka",textAlign:"qfejxiq4",fontSize:"enbbiyaj",lineHeight:"r5qsrrlp"},reactionCounter:{textAlign:"qfejxiq4",alignItems:"gndfcl4n",color:"ce5kru2g"},animateBubble:{height:"bmot90v7",paddingTop:"i5tg98hk",paddingEnd:"jfqm35v0",paddingBottom:"przvwfww",paddingStart:"bdbt56hn",minWidth:"akk8kuog",":before":{position:"oxaw94s0",height:"o0bwohyy",width:"cvxgn1dw",paddingTop:"r4xl2n04",paddingEnd:"asu8qs9d",paddingBottom:"c0bbmqe2",paddingStart:"ajr0z13z",borderTopStartRadius:"sa9sd5it",borderTopEndRadius:"pts78uye",borderBottomEndRadius:"lvfi4jc9",borderBottomStartRadius:"aa3thtin",zIndex:"otswzj8x",backgroundColor:"s24c542q",boxShadow:"e9cl6z7p",borderTop:"hwm8yfef",borderEnd:"e1cue241",borderBottom:"edpn7icu",borderStart:"sx64hb76",content:"lij4d1x3",animationName:"dg973b83",animationDuration:"grpxnwfq",animationTimingFunction:"f0gwgpfb",animationFillMode:"r1v61bue",backfaceVisibility:"e10y1bxp",willChange:"tvgeahmr"}}};function y(e){let{reactions:t,reactionsAgregateCount:a,showReactionCounter:n,isFirstData:y}=e;const C=(0,o.useRef)(null),S=(0,o.useRef)(t),E=(0,o.useRef)(!0),T=(0,d.default)(t),[x,M]=(0,o.useState)([]),[k,w]=(0,o.useState)([]),P=(0,f.default)(),[A,j]=(0,o.useState)([]),I=(0,o.useRef)(null);null==C.current&&(C.current=T),null==I.current&&(I.current=a),S.current=t;const[O,N]=(0,c.useTimeout)((()=>{w(S.current)}),g.ANIMATION_REMOVE_LENGTH+1),R=(0,u.default)((()=>{if(P.aborted)return;const{added:e,removed:t}=(n=C.current,s=S.current,{added:(0,i.default)(s||[],n||[],(e=>e.reactionAggregate)),removed:(0,i.default)(n||[],s||[],(e=>e.reactionAggregate))});var n,s;const o=null!=I.current&&I.current>a;I.current=null,(0,r.default)(t,A)||!1!==y||j(t);let l=[];if(!(0,r.default)(e,x)&&!1===y&&!o){const t=function(e){const t={timestamp:0,reactionAgg:""};return e.forEach((e=>{e.reactionSenders.forEach((a=>{t.timestamp<a.timestamp&&(t.timestamp=a.timestamp,t.reactionAgg=e.reactionAggregate)}))})),t}(S.current);e.forEach((e=>{e.reactionAggregate===t.reactionAgg&&l.push(e)}))}o||S.current.forEach((e=>{var t;const a=null===(t=C.current)||void 0===t?void 0:t.find((t=>t.reactionAggregate===e.reactionAggregate));!1===y&&e.reactionByMe&&null==a&&(l=[e])})),0===t.length?w(S.current):O(),M(l),C.current=null,E.current=!1}),100);(0,s.reactionsAnimationsEnabled)()&&!(0,r.default)(T,t)&&R(),(0,o.useEffect)((()=>{(0,s.reactionsAnimationsEnabled)()&&!0===y&&w(t)}),[]);const D=((0,s.reactionsAnimationsEnabled)()?k:t).map((e=>{const t=(0,s.reactionsAnimationsEnabled)()&&A.includes(e),a=t?{shouldRemoveAnimation:t,animationFinished:()=>{N(),w(S.current)}}:null,n=e.reactionByMe?e.reactionByMe.reactionText:e.reactionAggregate,r=(0,s.reactionsAnimationsEnabled)()&&x.includes(e);return(0,v.jsx)(p.default,{xstyle:[b.reactionItem],children:(0,v.jsx)(g.ReactionEmojiAnimated,{reaction:n,shouldAnimate:r,removeAnimation:a})},n)})),L=a>999?"999+":a;let B=null;!0===n&&(B=(0,s.reactionsAnimationsEnabled)()?B=(0,v.jsx)(_.default,{reactionsAgregateCount:a}):(0,v.jsx)(p.default,{align:"center",children:(0,v.jsx)("span",{className:(0,l.default)(b.reactionCounter),children:m.default.n(L)})},"reactionCounter"));const F=!1===y&&(0,s.reactionsAnimationsEnabled)()&&E.current;return(0,v.jsxs)(h.FlexRow,{className:(0,l.default)(F?b.animateBubble:b.reactionContainer),align:"center",justify:"center",children:[D,B]})}function C(e,t){return(0,r.default)(e,t)}var S=(0,o.memo)(y,C);t.default=S},52500:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(18446)),i=a(15461),s=a(67811),o=n(a(94184)),l=a(67294),u=n(a(56720)),d=a(60811),c=a(29424),f=n(a(14296)),h=a(1041),p=a(59871),m=n(a(3816)),g=a(76332),_=n(a(18366)),v=a(94270),b=a(18644),y=n(a(24717)),C=a(96213),S=a(85893);const E={reactionBubbleContainer:{position:"g0rxnol2",bottom:"blj1rie1",zIndex:"px10qoeu",width:"ltyqj8pj",maxWidth:"n8sohn9f",height:"dhq51u3o"},reactionBubbleLeft:{left:"qpocut9d",float:"kpdgp91a"},reactionBubbleRight:{right:"bfbxj8tr",float:"faxx4fbg"},reactionBubbleOverrideLeft:{left:"ptatjang",right:"gy96ms01"},reactionBubbleOverrideRight:{right:"ackpuwnh",left:"fe33t0ud"},reactionBubbleAlbumItemLeft:{position:"lhggkp7q",right:"ackpuwnh",bottom:"cogk65jn",left:"fe33t0ud"},reactionBubbleAlbumItemRight:{position:"lhggkp7q",left:"ptatjang",bottom:"cogk65jn",right:"gy96ms01"},reactionContainerRelative:{position:"g0rxnol2"},reactionEmptyContainer:{height:"dhq51u3o"},reactionImagePosition:{bottom:"cvsrm5e1"}};function T(e){let{msgIds:t,isSentByMe:a,reactionBubbleType:n,reactionBubbleVisible:r=!0,hasReaction:T}=e;const[x,M]=(0,l.useState)(),{reactionArrayEmojis:k,numberOfSenderReactions:w,reactionsModels:P,isFirstData:A}=(0,C.useReactions)(t,(e=>{e.forEach((e=>{(0,g.markReactionsAsRead)(e.unreadSenders())})),n!==v.ReactionBubbleType.MEDIA_ITEM&&(0,s.lastMessageReactionChange)(t)}));let j=f.default.isRTL()?E.reactionBubbleRight:E.reactionBubbleLeft;a&&(j=f.default.isRTL()?E.reactionBubbleLeft:E.reactionBubbleRight);const I=f.default.isRTL()?E.reactionBubbleOverrideLeft:E.reactionBubbleOverrideRight,O=f.default.isRTL()?E.reactionBubbleAlbumItemRight:E.reactionBubbleAlbumItemLeft;if(0===w||!r)return null!=T&&!0===T?(0,S.jsx)("div",{className:(0,u.default)(E.reactionEmptyContainer)}):null;let N=null;if(1===t.length){const e=p.MsgCollection.get(t[0]);if(null!=e&&!(0,s.canHaveReactions)(e.type))return null;(null==e?void 0:e.type)===i.MSG_TYPE.IMAGE&&v.ReactionBubbleType.MEDIA_ITEM!==n&&(N=E.reactionImagePosition)}const R=()=>{M(null)},D=e=>{e.preventDefault(),e.stopPropagation();const n=(0,S.jsx)(m.default,{onEmpty:R,msgIds:t,reactionsModels:P});M({menu:n,dirY:d.DirY.BOTTOM,dirX:a?d.DirX.LEFT:d.DirX.RIGHT,type:d.MenuType.ReactionDetailsPane,anchor:e.target,flipOnRtl:!0})},L=(0,s.reactionBubbleAriaLabelString)(w,k);return(0,S.jsxs)("div",{className:(0,u.default)(E.reactionContainerRelative),children:[(0,S.jsx)(c.HotKeys,{"data-a8n":"reaction-bubble",onClick:D,onDoubleClick:e=>{e.preventDefault(),e.stopPropagation()},handlers:{enter:D,space:D},component:"button","aria-haspopup":!0,"aria-label":L,className:(0,o.default)((0,u.default)([E.reactionBubbleContainer,j,v.ReactionBubbleType.STICKER===n&&I,v.ReactionBubbleType.MEDIA_ITEM===n&&O,N]),h.LIST_FOCUSABLE_ITEM_CLASS_NAME),children:(0,S.jsx)(_.default,{reactions:k,reactionsAgregateCount:w,showReactionCounter:w>=2,isFirstData:A})}),x&&(0,S.jsx)(b.UIE,{displayName:"DetailsPane",escapable:!0,popable:!0,requestDismiss:R,children:(0,S.jsx)(y.default,{contextMenu:x})})]})}function x(e,t){return(0,r.default)(e,t)}var M=(0,l.memo)(T,x);t.default=M},6088:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msgIds:t,onReactionChange:a}=e;return(0,n.useReactions)(t,a),null};var n=a(96213)},4850:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{reactionUpdates:t}=e;return(0,l.jsx)(s.default,{onOK:()=>{t.forEach((e=>{(0,o.resendUpdateFailedPropsForSentReactionsDBAndModel)(e)})),r.ModalManager.close()},okText:i.fbt._("Try Again",null,{hk:"1UTnaS"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>r.ModalManager.close(),children:i.fbt._("Could not deliver message",null,{hk:"YbK1b"})})};var r=a(14597),i=a(48360),s=n(a(52665)),o=a(76332),l=a(85893)},61761:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MORE_REACTIONS=void 0,t.SendReactionsTray=function(e){let{reactions:t,showMoreOption:a=!1,selectedCallback:n,selectedIndex:x,isParentMsgSentByMe:M}=e;const k=(0,i.useRef)(null),w=d.default.isRTL()?M:!M,P=d.default.isRTL()?!w:w,[A,j]=(0,i.useState)(!1),[I,O]=(0,i.useState)(0);(0,i.useEffect)((()=>{var e;null===(e=k.current)||void 0===e||e.focusFirst()}),[]);let N=4,R=N.toString()+"px";const D=P?v.reactionItemsAnimateLeft:v.reactionItemsAnimateRight,L=t.map(((e,t)=>{const a=null!=x&&t===x,i=A&&t===I;let o,u;(0,r.reactionsAnimationsEnabled)()&&(A?i&&!a?(o=S,u=v.reactionItemAnimateSelected):a&&(o=i?E:C):a&&(o=y));const f=d.default.isRTL()?{right:R}:{left:R},p=(0,m.jsx)(l.default,{xstyle:[g.reactionFlexItem,(0,r.reactionsAnimationsEnabled)()&&v.reactionItem,(0,r.reactionsAnimationsEnabled)()&&!u&&D,u],style:f,children:(0,m.jsx)(h.Round,{a8nText:`reactions-option-${t}`,hideBackground:!!(0,r.reactionsAnimationsEnabled)()||!a,theme:(0,r.reactionsAnimationsEnabled)()||!a?h.RoundTheme.NoShadow:h.RoundTheme.SVGGrayButton,className:(0,s.default)(b,o),onClick:()=>{(0,r.reactionsAnimationsEnabled)()?((e=>{j(!0),O(e)})(t),t===x?setTimeout((()=>n(e)),80):setTimeout((()=>n(e)),250)):n(e)},children:(0,m.jsx)(c.ReactionEmoji,{reaction:e,size:"large",scale:"tray"})})},t);return N+=42,R=N.toString()+"px",p}));if(a){const e=d.default.isRTL()?{right:R}:{left:R},t=(0,m.jsx)(l.default,{xstyle:[g.reactionFlexItem],style:e,children:(0,m.jsx)(h.Round,{a8nText:"reactions-show-more",hideBackground:!0,theme:h.RoundTheme.SVGGrayButton,small:!0,onClick:()=>{n(T)},children:(0,m.jsx)(p.default,{color:"gray",width:30,name:"add-alt"})})},"show-more");L.push(t)}return(0,m.jsx)(u.HotKeys,{handlers:{"shift+tab":e=>{e.preventDefault(),e.stopPropagation()},tab:e=>{e.preventDefault(),e.stopPropagation()}},tabIndex:null,children:(0,m.jsx)(f.default,{ref:k,children:(0,m.jsx)(o.FlexRow,{className:(0,s.default)((0,r.reactionsAnimationsEnabled)()?_.reactionTray:g.reactionTray,a&&g.showMoreOptions,(0,r.reactionsAnimationsEnabled)()&&w?_.reactionTrayAnimateLeft:_.reactionTrayAnimateRight),align:"center",justify:"around",children:L})})})};var r=a(8139),i=a(67294),s=n(a(56720)),o=a(29623),l=n(a(48846)),u=a(29424),d=n(a(14296)),c=a(9157),f=n(a(2953)),h=a(82857),p=n(a(23217)),m=a(85893);const g={reactionTray:{backgroundColor:"sq2b5du4",height:"q1n4p668",width:"f4vvi1mq",maxWidth:"bz50z0yh",boxShadow:"s9sijotg",borderTopStartRadius:"cmyqziiq",borderTopEndRadius:"gjbifnr8",borderBottomEndRadius:"fq9ss6rg",borderBottomStartRadius:"osjwm8xx",paddingTop:"i5tg98hk",paddingEnd:"jfqm35v0",paddingBottom:"przvwfww",paddingStart:"bdbt56hn",position:"g0rxnol2"},showMoreOptions:{width:"rtue7xhx",maxWidth:"j216idpa"},reactionFlexItem:{position:"lhggkp7q"}},_={reactionTray:{height:"q1n4p668",width:"f4vvi1mq",maxWidth:"bz50z0yh",position:"g0rxnol2",backgroundColor:"thr4l2wc",paddingTop:"i5tg98hk",paddingEnd:"jfqm35v0",paddingBottom:"przvwfww",paddingStart:"bdbt56hn",":before":{backgroundColor:"ga96p4vz",boxShadow:"b5q10lpa",zIndex:"otswzj8x",content:"lij4d1x3",paddingTop:"r4xl2n04",paddingEnd:"asu8qs9d",paddingBottom:"c0bbmqe2",paddingStart:"ajr0z13z",borderTopStartRadius:"qwfgghht",borderBottomStartRadius:"cjmav2o9",borderTopEndRadius:"o1w1ruc0",borderBottomEndRadius:"kpdvrctv",position:"oxaw94s0",start:"e8y0iqoj",top:"a8g7dr2m",width:"e05q9v5p",maxWidth:"t1e0qc4e",height:"m6f3ikd5",animationFillMode:"r1v61bue",transform:"tobsugo9",animationName:"iv21hw6a",animationDuration:"l25nfv5v",animationTimingFunction:"bha6utru"}},reactionTrayAnimateLeft:{"::before":{transformOrigin:"ns36z7zv"}},reactionTrayAnimateRight:{"::before":{transformOrigin:"kq7zil7g"}}},v={reactionItemsAnimateLeft:{":nth-child(1)":{animationDelay:"dc9pxb7p"},":nth-child(2)":{animationDelay:"heuvjs6j"},":nth-child(3)":{animationDelay:"o04j5cds"},":nth-child(4)":{animationDelay:"kwb1nczx"},":nth-child(5)":{animationDelay:"qwbhdnx1"},":nth-child(6)":{animationDelay:"n4ocl5sr"}},reactionItemsAnimateRight:{":nth-child(6)":{animationDelay:"hxte1zbr"},":nth-child(5)":{animationDelay:"sf9ilnrw"},":nth-child(4)":{animationDelay:"mfdt667m"},":nth-child(3)":{animationDelay:"qr6bg16l"},":nth-child(2)":{animationDelay:"mtkupoln"},":nth-child(1)":{animationDelay:"rwtgomn0"}},reactionItem:{backfaceVisibility:"ou3430m0",transform:"bglikw2g",animationFillMode:"a21kwdn3",animationName:"mmx92utk",animationDuration:"joup3a2m",animationTimingFunction:"esbg2say"},reactionItemAnimateSelected:{animationName:"ddamih75",animationDuration:"gzzbkayp",animationTimingFunction:"gs65objp"}},b={position:"g0rxnol2","::before":{position:"jiaumjzp",content:"ckfn5qle",width:"ekwltmu8",height:"o1rppbag",backgroundColor:"g9lbsnvk",transform:"kq7idzux",opacity:"jpisi10r",borderTopStartRadius:"s0ncokgg",borderTopEndRadius:"dgvzf84s",borderBottomEndRadius:"qs89ku6w",borderBottomStartRadius:"ja8s2tk6"}},y={"::before":{transform:"ecn6b8u2"}},C={"::before":{transform:"kq7idzux"}},S={"::before":{animationFillMode:"badepdzx",animationName:"o38lwax9",animationDuration:"egohdep1",animationDelay:"qvdn5vl1",animationTimingFunction:"k2u5p2o8"}},E={"::before":{animationFillMode:"badepdzx",animationName:"f6m8gik5",animationDuration:"f6d3q6r3",animationTimingFunction:"k2u5p2o8"}},T="__more_reactions__";t.MORE_REACTIONS=T},13228:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.REACTIONS_DEFAULT_SENDING_TRAY=void 0,t.SendReactionsTrayContainer=function(e){let{selectedCallback:t,msg:a,onMouseEnter:n,onMouseOver:c,onMouseLeave:f}=e;(0,i.useEffect)((()=>{new s.default.ReactionActions({mediaType:a.getWamMediaType(),messageType:a.getWamMessageType(),reactionAction:s.default.REACTION_ACTION_TYPE.OPEN_TRAY}).commit()}),[a]);const[h,p]=(0,i.useState)(null),{reactionsModels:m}=(0,l.useReactions)([a.id.toString()],(e=>{var t;const a=e[0];if(!a)return void p(null);const n=null===(t=a.reactionByMe)||void 0===t?void 0:t.reactionText,r=d.indexOf(n);p(-1!==r?r:null)}));return(0,u.jsx)("div",{onMouseEnter:n,onMouseOver:c,onMouseLeave:f,children:(0,u.jsx)(o.SendReactionsTray,{selectedIndex:h,selectedCallback:e=>{var a;m[0]&&e===(null===(a=m[0].reactionByMe)||void 0===a?void 0:a.reactionText)?t(r.REVOKED_REACTION_TEXT):t(e)},reactions:d,showMoreOption:!1,isParentMsgSentByMe:a.isSentByMe})})};var r=a(67811),i=a(67294),s=n(a(11339)),o=(a(17304),a(61761)),l=a(96213),u=a(85893);const d=["👍","❤️","😂","😮","😢","🙏"];t.REACTIONS_DEFAULT_SENDING_TRAY=d},96213:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useReactions=function(e,t){const[a,n]=(0,s.useState)([]),[c,f]=(0,s.useState)([]),[h,p]=(0,s.useState)(0),m=(0,l.default)(t),g=(0,u.default)(),_=(0,s.useRef)(!0),v=(0,s.useCallback)((e=>{const t=(0,i.getReactionEmojisAndSum)(e);f(t.reactionArrayEmojis),p(t.numberOfSenderReactions),_.current=!1,m(e)}),[m]),b=null==e?void 0:e.join("-");return(0,s.useEffect)((()=>{(0,r.default)((function*(){if(!e)return;const t=[],a=e.map((e=>d.ReactionsCollection.find(e).then((e=>{null!=e&&t.push(e)})).catch((e=>{__LOG__(3)`Could not get reactions for message: ${e}`}))));yield Promise.all(a),g.aborted||(n(t),v(t))}))()}),[b,v]),(0,o.useListeners)(a.map((e=>{let{reactions:t}=e;return{source:t,eventOrEvents:"add remove reset change:senders",callback:()=>v(a)}}))),{reactionArrayEmojis:c,numberOfSenderReactions:h,reactionsModels:a,isFirstData:_.current}};var r=n(a(48926)),i=a(67811),s=a(67294),o=a(87550),l=n(a(89113)),u=n(a(3409)),d=(a(81130),a(57162))},1662:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e,a=(0,r.default)(i.ContactCollection,["add","remove","change:name"],(()=>(0,l.formatRevokedMsg)(t)));return(0,f.jsx)(c.default,{msg:t,displayAuthor:!t.isSentByMe&&t.isGroupMsg,children:(0,f.jsxs)(s.FlexRow,{children:[(0,f.jsx)(o.default,{xstyle:h.icon,children:(0,f.jsx)(d.default,{name:"recalled"})}),(0,f.jsx)(o.default,{xstyle:h.text,children:(0,f.jsx)(u.default,{msg:t.unsafe(),theme:"placeholder",children:a})})]})})};n(a(56720));var r=n(a(96570)),i=a(19380),s=a(29623),o=n(a(48846)),l=a(96206),u=n(a(54703)),d=n(a(23217)),c=n(a(12209)),f=a(85893);const h={icon:{display:"l7jjieqr",color:"a6r0u4sv",minWidth:"mhp1pqu9",marginStart:"bx0vhl82",marginEnd:"ntr8esoy"},text:{marginTop:"kiiy14zj",marginBottom:"j4enbv94"}}},56060:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=n.Clock.durationStr(e.currentTime)+" / "+n.Clock.durationStr(e.duration);return(0,i.jsx)(r.SmoothRangeInput,{value:e.currentTime,valueText:t,min:0,max:e.duration,smallSkip:1,largeSkip:10,onChange:e.onSeek,onCommit:e.onCommit,disabled:e.disabled,theme:s(e)})};var n=a(40234),r=a(95739),i=a(85893);function s(e){let{outgoing:t,played:a}=e;return t?a?r.SmoothRangeInputTheme.AUDIO_OUTGOING_PLAYED:r.SmoothRangeInputTheme.AUDIO_OUTGOING_UNPLAYED:a?r.SmoothRangeInputTheme.AUDIO_INCOMING_PLAYED:r.SmoothRangeInputTheme.AUDIO_INCOMING_UNPLAYED}},86123:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const a=(0,r.useModelValues)(e.msg,["rtl","dir","isGroupMsg","isPSA","isSentByMe","senderObj","paymentNoteMsg"]),n=null===(t=a.paymentNoteMsg)||void 0===t?void 0:t.body;let h,p=null;if(n){const e=(0,i.Conversation)({mentions:a.mentionMap(),phoneNumbers:a.getPhoneNumbers(),links:a.getLinks(),trusted:a.isTrusted(),fromMe:a.id.fromMe});p=(0,f.jsx)("div",{className:c.default.caption,children:(0,f.jsx)(u.default,{msg:a.unsafe(),children:(0,f.jsx)(s.EmojiText,{text:n,selectable:!0,formatters:e,dirMismatch:a.rtl!==o.default.isRTL(),direction:a.dir})})})}else h=(0,f.jsx)("div",{className:c.default.meta,children:(0,f.jsx)(d.Meta,{msg:a})});return(0,f.jsxs)(l.default,{displayAuthor:e.displayAuthor,displayType:e.displayType,hasCaption:!!p,msg:a,quotedMsg:e.quotedMsg,hideMeta:!n,children:[e.paymentInfo,h,p]})};var r=a(35461),i=a(74331),s=a(65417),o=n(a(14296)),l=n(a(1238)),u=n(a(54703)),d=a(42316),c=n(a(63459)),f=a(85893)},95739:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SmoothRangeInput=function(e){const{value:t,valueText:a,min:n,max:c,smallSkip:f,largeSkip:h,onChange:p,onCommit:m,disabled:g,theme:_}=e,[v,b]=(0,s.useState)(null),y=(0,s.useCallback)((e=>{b(e),null==p||p(e)}),[b,p]),C=(0,s.useCallback)((e=>{b(null),null==m||m(e)}),[b,m]),S=null!=v?v:t,E=100*(0,r.default)((S-n)/(c-n),0,1),T=(0,i.default)(l.default.container,function(e){switch(e){case d.AUDIO_OUTGOING_UNPLAYED:return l.default.containerOutgoingUnplayed;case d.AUDIO_OUTGOING_PLAYED:return l.default.containerOutgoingPlayed;case d.AUDIO_INCOMING_UNPLAYED:return l.default.containerIncomingUnplayed;case d.AUDIO_INCOMING_PLAYED:return l.default.containerIncomingPlayed}}(_),{[l.default.containerDisabled]:g});return(0,u.jsx)(o.default,{value:t,valueText:a,min:0,max:c,smallSkip:f,largeSkip:h,onChange:y,onCommit:C,disabled:g,children:(0,u.jsxs)("div",{className:T,children:[(0,u.jsx)("div",{className:l.default.track}),(0,u.jsx)("span",{className:l.default.progress,style:{width:`${E}%`}}),(0,u.jsx)("div",{className:l.default.thumbTravelContainer,children:(0,u.jsx)("div",{className:l.default.thumbContainer,style:{transform:`translateX(${E}%)`},children:(0,u.jsx)("div",{className:l.default.thumb})})})]})})},t.SmoothRangeInputTheme=void 0;var r=n(a(74691)),i=n(a(94184)),s=a(67294),o=n(a(31718)),l=n(a(6455)),u=a(85893);const d=a(76672).Mirrored(["AUDIO_OUTGOING_UNPLAYED","AUDIO_OUTGOING_PLAYED","AUDIO_INCOMING_UNPLAYED","AUDIO_INCOMING_PLAYED"]);t.SmoothRangeInputTheme=d},21595:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{className:t,xstyle:a,children:n}=e,d=(0,o.useOptionalModelValues)(e.msg,["broadcast","isEphemeral","isSentByMe","labels","star"]);if(!d)return __LOG__(4,void 0,new Error,!0)`Missing msg model for SpacerText component`,SEND_LOGS("missing-msg-model"),(0,u.jsx)(u.Fragment,{children:n});const c=[d.broadcast,d.isSentByMe,d.labels&&d.labels.length>0&&(0,r.canDisplayLabel)(),d.star].filter(Boolean).length,f=[l.default.icons1,l.default.icons2,l.default.icons3,l.default.icons4],h=c>0?f[c-1]:"";return(0,u.jsxs)("span",{className:(0,i.default)(t,(0,s.default)(a)),children:[n,(0,u.jsx)("span",{className:(0,i.default)(l.default.spacer,h)})]})};var r=a(8139),i=n(a(94184)),s=n(a(56720)),o=a(35461),l=n(a(5511)),u=a(85893)},35563:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=a(40234),s=a(5177),o=n(a(52013)),l=a(62054),u=a(67294),d=a(87550),c=a(19380),f=a(88984),h=a(65417),p=n(a(23296)),m=a(29424),g=n(a(14296)),_=a(87931),v=a(78756),b=n(a(61948)),y=n(a(23217)),C=a(58827),S=a(85893);function E(e,t){const{msg:a,selectedMessages:n,displayType:E,currSelection:T,activeSelection:x,onClickMsg:M}=e,k=(0,u.useRef)(null),w=(0,u.useRef)(null),P=(0,u.useRef)(null),[A,j]=(0,u.useState)(!1),[I,O]=(0,u.useState)((()=>!!T&&T.value===a)),[N,R]=(0,u.useState)((()=>!!x&&x.value===a)),[D,L]=(0,u.useState)(!1);(0,d.useListener)(T,a.id.toString(),((e,t)=>{const a="focus"===e;if(a){const e=P.current;e&&(o.default.focus(e),t&&(0,v.scrollIntoViewIfNeeded)(e))}O(a)})),(0,d.useListener)(x,a.id.toString(),((e,t)=>{if("focus"===e){const e=P.current;e&&(o.default.focus(e),t&&(0,v.scrollIntoViewIfNeeded)(e))}R(!!e)}));const B=()=>k.current,F=()=>(0,r.default)(P.current,"hotKeysRef.current");(0,u.useImperativeHandle)(t,(()=>({getContainerElement:F,getWrapperRef:B})));const G=a.senderObj.formattedName,U=a.chat.isUser?c.ContactCollection.assertGet(a.to).formattedName?c.ContactCollection.assertGet(a.to).formattedName:(0,l.widToFormattedUser)(a.to):a.chat.title(),V=E===s.DISPLAY_TYPE.GALLERY?null:(0,S.jsxs)("div",{className:b.default.title,children:[(0,S.jsxs)("div",{className:b.default.titleMain,children:[(0,S.jsx)("div",{className:b.default.avatar,children:(0,S.jsx)(f.DetailImage,{id:a.senderObj.id,size:26})}),(0,S.jsx)(h.EmojiText,{className:b.default.author,text:G,direction:"auto",titlify:!0}),(0,S.jsx)("span",{className:b.default.divider}),(0,S.jsx)(h.EmojiText,{className:b.default.chat,text:U,direction:"auto",titlify:!0})]}),(0,S.jsx)("div",{className:b.default.meta,dir:"auto",children:i.Clock.relativeStr(a.t)}),(0,S.jsx)("div",{className:b.default.chevron,children:(0,S.jsx)(y.default,{name:"chevron-right-alt",directional:!0})})]}),W={enter:e=>{e.stopPropagation(),e.preventDefault(),null==M||M(a)}};W[g.default.LR("right","left")]=()=>{var e;null===(e=k.current)||void 0===e||e.openContextMenu()};const H=e.selectable||A&&E===s.DISPLAY_TYPE.GALLERY;return(0,S.jsx)(m.HotKeys,{ref:P,handlers:W,onFocus:()=>{var e;L(!0),null===(e=w.current)||void 0===e||e.indicateFocus()},onBlur:()=>{L(!1)},children:(0,S.jsxs)(p.default,{ref:w,hover:A,current:I&&D,active:N,onClick:()=>e.onClickMsg&&e.onClickMsg(a,n&&!n.isSelected(a)),onMouseEnter:A?null:()=>{A||j(!0)},onMouseOver:A?null:()=>{A||j(!0)},onMouseLeave:A?()=>{A&&j(!1)}:null,children:[V,(0,S.jsx)(C.Wrapper,{msg:a,ref:k,current:I&&D,displayType:E||s.DISPLAY_TYPE.STARRED_MSGS,isMsgVisible:e.isMsgVisible,selectable:H,selectedMessages:n,onMessageSelect:e.onMessageSelect,position:_.MsgPosition.END,tailOverride:"left",onProductClick:e.onProductClick,onMessageClick:e.onMessageClick},a.id.toString())]})})}var T=(0,u.forwardRef)(E);t.default=T},24871:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t}=e;const{ack:a,isMedia:n,isViewOnce:f,caption:h,type:p,loc:m,isLive:g}=(0,l.useModelValues)(t,["ack","isMedia","isViewOnce","caption","type","loc","isLive"]),_=n&&!h&&!f&&p!==i.MSG_TYPE.AUDIO||p===i.MSG_TYPE.LOCATION&&!m&&!g;let v,b,y;a<r.ACK.SENT?(v="msg-time",b=o.fbt._("Pending",null,{hk:"3rTXIk"})):a===r.ACK.SENT?(v="msg-check",b=o.fbt._("Sent",null,{hk:"xgkjk"})):a===r.ACK.RECEIVED?(v="msg-dblcheck",b=o.fbt._("Delivered",null,{hk:"2VFqLn"})):(v="msg-dblcheck",b=o.fbt._("Read",null,{hk:"45eIFk"}),y=u.default.ackBlue);return(0,c.jsx)(d.default,{"aria-label":` ${b.toString()} `,name:v,className:(0,s.default)(y,{[u.default.light]:_})})};var r=a(35470),i=a(15461),s=n(a(94184)),o=a(48360),l=a(35461),u=n(a(61871)),d=n(a(23217)),c=a(85893)},1539:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,u.useModelValues)(e.msg,["id","isNewMsg","isSentByMe","isGroupMsg","senderObj","quotedMsg","ctwaContext","hasReaction"]);(0,l.useEffect)((()=>{t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:m.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[]);const a=e.displayAuthor?(0,S.jsx)("div",{className:y.default.author,children:(0,S.jsx)(d.default,{msg:t,contact:t.senderObj})}):null,n=e.quotedMsg?(0,S.jsx)("div",{className:y.default.quote,children:e.quotedMsg}):null,E=(0,o.default)(y.default.bubble,{[y.default.hasAuthor]:e.displayAuthor,[y.default.isFirst]:e.position===h.MsgPosition.FRONT||e.position===h.MsgPosition.SINGLE,[y.default.isTransparent]:!t.quotedMsg&&!t.ctwaContext});let T=null;(0,s.receiveReactionsEnabled)()&&!e.quotedMsg&&e.displayType===i.DISPLAY_TYPE.CONVERSATION&&(T=(0,S.jsx)("div",{className:y.default.reactionBubbleContainer,children:(0,S.jsx)(g.default,{msgIds:[t.id.toString()],isSentByMe:t.isSentByMe,reactionBubbleType:_.ReactionBubbleType.STICKER,hasReaction:t.hasReaction})}));return(0,S.jsxs)("div",{className:E,onClick:e=>{e.stopPropagation()},children:[a,n,(0,S.jsx)(c.default,{msg:t.unsafe(),wrapperClass:y.default.ctwaContext}),(0,S.jsxs)("div",{className:y.default.body,children:[(0,S.jsx)(C.default,{mediaData:e.mediaData,msg:t,children:(0,S.jsx)(b.default,{ref:e.forwardRef,mediaData:e.mediaData,theme:"conversation",isNewMsg:t.isNewMsg,downloadMedia:()=>t.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:m.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1}),animateOnView:e.animateOnView,onClick:a=>{a.stopPropagation(),r.Cmd.mediaViewerModal({msg:(0,v.unproxy)(t.unsafe()),getZoomNode:()=>{var t,a;return null===(t=e.forwardRef)||void 0===t||null===(a=t.current)||void 0===a?void 0:a.getImgNode()}})}})}),(0,S.jsxs)(f.FlexColumn,{children:[(0,S.jsx)("div",{className:y.default.meta,children:(0,S.jsx)(p.Meta,{msg:t})}),T]})]})]})};var r=a(81572),i=a(5177),s=a(8139),o=n(a(94184)),l=a(67294),u=a(35461),d=n(a(72655)),c=n(a(11740)),f=a(29623),h=a(87931),p=a(42316),m=n(a(11339)),g=n(a(52500)),_=a(94270),v=a(18146),b=n(a(12064)),y=n(a(92269)),C=n(a(67014)),S=a(85893)},67014:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e,a=(0,o.useModelValues)(e.mediaData,["mediaStage","size"]),n=()=>{r.ModalManager.open((0,f.jsx)(l.default,{msg:t.unsafe()}))},h=()=>{t.forceDownloadMediaEvenIfExpensive()},m=()=>{t.cancelDownload()},g=()=>{t.cancelUpload()},_=()=>{t.resumeUpload()},v=()=>{t.resumeRemoteUpload()};let b,y;const{mediaStage:C}=a;switch(C){case d.MEDIA_DATA_STAGE.RESOLVED:b=null,y=null;break;case d.MEDIA_DATA_STAGE.FETCHING:b=m,y=(0,f.jsx)(u.Pending,{cancelable:!0});break;case d.MEDIA_DATA_STAGE.NEED_POKE:b=h,y=(0,f.jsx)(u.Download,{filesize:a.size});break;case d.MEDIA_DATA_STAGE.FINALIZING:case d.MEDIA_DATA_STAGE.UPLOADING:b=g,y=(0,f.jsx)(u.Pending,{cancelable:!0});break;case d.MEDIA_DATA_STAGE.NEED_UPLOAD:b=_,y=(0,f.jsx)(u.Upload,{filesize:a.size});break;case d.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:b=v,y=(0,f.jsx)(u.Upload,{filesize:a.size});break;case d.MEDIA_DATA_STAGE.ERROR_MISSING:b=n,y=(0,f.jsx)(u.Upload,{filesize:a.size});break;case d.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:b=n,y=(0,f.jsx)(u.Download,{filesize:a.size});break;case d.MEDIA_DATA_STAGE.SENDING:case d.MEDIA_DATA_STAGE.DECRYPTING:case d.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case d.MEDIA_DATA_STAGE.INIT:case d.MEDIA_DATA_STAGE.PREPARING:case d.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case d.MEDIA_DATA_STAGE.REUPLOADING:case d.MEDIA_DATA_STAGE.EXISTS:y=(0,f.jsx)(u.Pending,{});break;case d.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:case d.MEDIA_DATA_STAGE.PROGRESSIVE_READY:throw new Error(`invalid value for sticker mediaStage '${C}'`)}return(0,f.jsxs)("div",{className:(0,i.default)((0,s.default)(p),c.default.container),onClick:b,children:[y,e.children]})};var r=a(14597),i=n(a(94184)),s=n(a(56720)),o=a(35461),l=n(a(20668)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),d=a(58668),c=n(a(5138)),f=a(85893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const p={alignItems:"gndfcl4n",borderTopStartRadius:"l8fojup5",borderTopEndRadius:"paxyh2gw",borderBottomEndRadius:"sfeitywo",borderBottomStartRadius:"cqsf3vkf",cursor:"ajgl1lbb",display:"p357zi0d",justifyContent:"ac2vgrno",maxWidth:"laorhtua",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2"}},39812:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(40436)),i=a(67294),s=a(65417),o=n(a(47336)),l=a(58827),u=a(85893);function d(e,t){let a;const[n,d]=(0,i.useState)(void 0),[c,f]=(0,i.useState)(!0),h=e=>{d(e)},p=e=>{f(e)};return(0,i.useImperativeHandle)(t,(()=>({updateDateMarkerText:h,setVisibility:p}))),n&&c&&(a=(0,u.jsx)("div",{className:o.default.sticky,children:(0,u.jsx)(l.SystemBubble,{theme:"sticky",children:(0,u.jsx)(s.EmojiText,{direction:"auto",text:n})})})),(0,u.jsx)(r.default,{transitionName:"slide-down-date",children:a})}var c=(0,i.forwardRef)(d);t.default=c},2284:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,a,n,R,D,{msg:L,displayAuthor:B,trusted:F,displayType:G,quotedMsg:U}=e;if(F&&(L.linkPreview||L.ctwaContext)){const e=(0,k.default)(L);if(L.ctwaContext)t=(0,N.jsx)(f.default,{msg:L.unsafe(),wrapperClass:A.default.linkPreview});else if(e)t=(0,N.jsx)("div",{className:A.default.linkPreview,children:(0,N.jsx)(O.default,{msg:L.unsafe()})});else{const e=(0,M.parseAPICmd)(L.matchedText);if(e.resultType===o.APICmd.GROUP_INVITE){if(t=(0,N.jsx)("div",{className:A.default.linkPreview,children:(0,N.jsx)(y.default,{msg:L.unsafe(),displayType:G,isInvite:!0})}),G!==r.DISPLAY_TYPE.GALLERY){var V;const e=(0,I.getGroupInviteActionText)(L.isSentByMe,null!==(V=L.inviteGrpType)&&void 0!==V?V:_.GroupType.DEFAULT);a=(0,N.jsx)(l.default,{items:[{label:e,onClick:()=>{const e=L.matchedText;(0,g.openExternalLink)(e)}}]})}}else if(e.resultType===o.APICmd.CATALOG){if(t=(0,N.jsx)("div",{className:A.default.linkPreview,children:(0,N.jsx)(d.default,{msg:L.unsafe()})}),G!==r.DISPLAY_TYPE.GALLERY){const e=s.fbt._("View catalog",null,{hk:"1bDXja"});a=(0,N.jsx)(l.default,{items:[{label:e,onClick:()=>{const e=L.matchedText;(0,g.openExternalLink)(e)}}]})}}else{const e=L.asUrl;if(e){let a;if((0,C.displayHighQualityLinkPreview)(L.unsafe(),G)&&null!=e.thumbnailHeight&&null!=e.thumbnailWidth){const t=e.thumbnailHeight/e.thumbnailWidth;n=t>=1?"portrait":"landscape",a="high-quality"}t=(0,N.jsx)("div",{className:A.default.linkPreview,children:(0,N.jsx)(y.default,{msg:L.unsafe(),displayType:G,theme:a})})}}}}const W=h.EmojiUtil.matchLargeEmojiPattern(L.body);if(W){const e=1===W.length&&h.EmojiUtil.getHeartEmojis().some((e=>h.EmojiUtil.normalizeEmoji(e)===h.EmojiUtil.normalizeEmoji(W[0])));R=(0,N.jsx)(x.default,{animation:e,emojis:W}),D=!0}else{const e=!0;R=(0,N.jsx)(m.default,{text:L.body,textLimit:L.initialPageSize,children:t=>{let{textLimit:a}=t;const n=(0,c.Conversation)({mentions:L.mentionMap(),links:L.getLinks(a),phoneNumbers:L.getPhoneNumbers(a),selectable:e,trusted:!0===F,fromMe:L.id.fromMe});return(0,N.jsx)(p.EmojiText,{text:L.body,className:G===r.DISPLAY_TYPE.GALLERY?"message-text-link":"",dirMismatch:L.rtl!==b.default.isRTL(),direction:L.dir,inferLinesDirection:!0,formatters:n,selectable:e,textLimit:a})}})}let H,q;if(L.supportsMessageFooter){const{formatters:e,selectable:t}=L.isDynamicReplyButtonsMsg?(0,v.enableHeaderAndFooterFormatting)(L.getHeaderLinks(),!0===F):{};H=L.title?(0,N.jsx)("div",{className:A.default.title,children:(0,N.jsx)(p.EmojiText,{text:L.title,dirMismatch:L.rtl!==b.default.isRTL(),direction:L.dir,selectable:t,formatters:e})}):null,q=(0,N.jsx)(P.default,{dir:L.dir,footer:L.footer,isShown:L.supportsMessageFooter,msg:L.unsafe(),rtl:L.rtl,trusted:F,type:L.type})}const Y=G!==r.DISPLAY_TYPE.GALLERY&&!L.isPSA&&!D;let z;U&&(z=(0,N.jsx)("div",{className:A.default.quote,children:U}));const K=(0,T.showForwarded)(L),$=L.getSuspiciousLinks().length>0,Q=!!a||!!L.hasTemplateButtons||!!L.isDynamicReplyButtonsMsg;let X;Q&&(X=(0,N.jsx)("div",{className:A.default.meta,children:(0,N.jsx)(E.Meta,{msg:L})}));return(0,N.jsx)(j.default,{msg:L,displayType:G,displayAuthor:B,hideMeta:Q,theme:n,useFixedWidth:L.isDynamicReplyButtonsMsg,children:(0,N.jsxs)(u.default,{className:(0,i.default)({[A.default.hasAuthor]:B,[A.default.forwarded]:K,[A.default.hasSuspiciousLinks]:$}),contact:L.senderObj,msg:L.unsafe(),children:[z,!L.ctwaContext&&(0,N.jsx)(w.SuspiciousLabel,{msg:L.unsafe(),displayType:G}),t,(0,N.jsxs)(S.default,{msg:L.unsafe(),spacer:L.isFromTemplate||L.isDynamicReplyButtonsMsg?Y&&!L.footer:Y,"data-id":L.id,children:[H,R,q,X]}),a]})})};var r=a(5177),i=n(a(94184)),s=a(48360),o=a(51650),l=n(a(58286)),u=n(a(85559)),d=n(a(18941)),c=a(74331),f=n(a(11740)),h=a(67247),p=a(65417),m=n(a(17080)),g=a(12591),_=a(55981),v=a(9412),b=n(a(14296)),y=n(a(36588)),C=a(32554),S=n(a(54703)),E=a(42316),T=a(63132),x=n(a(68272)),M=a(81093),k=n(a(77807)),w=a(7538),P=n(a(95839)),A=n(a(52246)),j=n(a(12209)),I=a(5646),O=n(a(85476)),N=a(85893)},12209:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)(d.default.bubble,{[d.default.isPSA]:e.msg.isPSA,[d.default.portrait]:"portrait"===e.theme,[d.default.landscape]:"landscape"===e.theme,[d.default.fixedWidth]:e.useFixedWidth}),a=!1!==e.displayAuthor&&(!e.msg.isSentByMe&&e.msg.isGroupMsg)?(0,c.jsx)(s.default,{msg:e.msg,contact:e.msg.senderObj}):null,n=(0,u.showForwarded)(e.msg)?(0,c.jsx)(o.default,{msg:e.msg.unsafe()}):null,f=e.displayType===r.DISPLAY_TYPE.GALLERY||e.hideMeta?null:(0,c.jsx)("div",{className:d.default.meta,children:(0,c.jsx)(l.Meta,{msg:e.msg})});return(0,c.jsxs)("div",{className:t,children:[a,n,e.children,f]})};var r=a(5177),i=n(a(94184)),s=n(a(72655)),o=n(a(14703)),l=a(42316),u=a(63132),d=n(a(20562)),c=a(85893)},2749:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.jsx)("div",{className:r.default.shade})};var r=n(a(45613)),i=a(85893)},29565:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayTheme=void 0;const n=a(76672).Mirrored(["Album"]);t.DisplayTheme=n},70449:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=n(a(14296)),s=a(1041),o=n(a(38537)),l=a(85893);t.default=e=>{let{count:t,textContainerRef:a}=e;const n=i.default.t(686,{count:i.default.n(t),_plural:t});return(0,l.jsx)("div",{className:(0,r.default)(o.default.msgUnread,s.LIST_FOCUSABLE_ITEM_CLASS_NAME),ref:a,tabIndex:-1,children:(0,l.jsx)("span",{className:o.default.msgUnreadBody,"aria-live":"polite",children:n})})}},83236:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,displayAuthor:a,displayType:n,hideUpdateButton:r=!1}=e;return(0,p.jsx)(c.default,{msg:t,displayAuthor:a,children:(0,p.jsxs)(d.default,{iconName:"unknown",msg:t.unsafe(),children:[(0,u.default)(t.unsafe())," ",r?null:(0,p.jsx)(_,{msg:t})]})})};var r=a(88555),i=a(94816),s=a(48360),o=n(a(56720)),l=a(54793),u=n(a(57130)),d=n(a(99422)),c=n(a(12209)),f=a(50452),h=a(83023),p=a(85893);const m={color:"seuajalt"};function g(){i.ToastManager.open((0,p.jsx)(f.Toast,{msg:s.fbt._("Updating WhatsApp",null,{hk:"1SyEpq"}),id:(0,f.genId)()})),h.Updater.update().then((e=>{e===l.DownloadState.UPDATE_NOT_AVAILABLE?(__LOG__(3)`Got unsupported message but no newer release found`,i.ToastManager.open((0,p.jsx)(f.Toast,{msg:s.fbt._("No update found",null,{hk:"NiZO5"}),id:(0,f.genId)()}))):e===l.DownloadState.UPDATE_DOWNLOADED?h.Updater.restart():__LOG__(3)`Got unsupported message but updater errored`}))}function _(e){let{msg:t}=e;return(0,r.isMDBackend)()&&"fanout"===t.subtype?null:t.isSentByMe||!t.subtype?(0,p.jsx)("span",{className:(0,o.default)(m),role:"button",onClick:g,children:s.fbt._("Click here to update.",null,{hk:"mDvEI"})}):null}window.updater=h.Updater},93137:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{downloadMedia:t,mediaStage:n,vcard:_,onMessageClick:S}=e,B=(0,g.useModelValues)(e.msg.unsafe(),["vcardFormattedName","rtl","dir","isSentByMe","isGroupMsg","senderObj","chat","isVcardOverMmsDocument","type"]),Y=(e,t,n)=>{const r=n&&t;r&&(0,P.qplStartProfileView)("VCard"),(0,M.findChat)(e,n).then((e=>{null==S||S(),c.ModalManager.close(),o.Cmd.openChatFromUnread(e).then((n=>{if(n){if(t){const{InfoFlowLoadable:t}=a(23831);u.DrawerManager.openDrawerRight((0,W.jsx)(t,{chat:e,profileEntryPoint:O.default.PROFILE_ENTRY_POINT.CONTACT_CARD},`info-${e.id.toString()}`),"slide-left",G.UIM.Manager.getTop())}o.Cmd.focusChatTextInput(e)}else r&&(0,P.qplEndProfileView)(D.QuickLogActionType.FAIL)})).catch((()=>{r&&(0,P.qplEndProfileView)(D.QuickLogActionType.FAIL)}))})).catch((()=>{r&&(0,P.qplEndProfileView)(D.QuickLogActionType.FAIL)}))},z=e=>{if(!_)return;const t=(0,h.vcardWids)(_),a=(0,h.vcardIsBiz)(_);t.length>1?c.ModalManager.open((0,W.jsx)(V.default,{icon:(0,W.jsx)(F.default,{name:"chat",className:U.default.icon,directional:!0}),vcard:_,onCancel:()=>c.ModalManager.close(),onSelect:t=>Y(t,e,a)})):t.length>0&&Y(t[0],e,a)},$=(e,t)=>{const a={label:m.fbt._("Message",null,{hk:"mZ5DE"}),onClick:()=>z(!1),title:e?w.default.t(506,{author:e}):m.fbt._("Message",null,{hk:"mZ5DE"})};if(t){return[a,{label:m.fbt._("View business",null,{hk:"4BEiPi"}),onClick:()=>z(!0)}]}return[a,{label:w.default.t(130),onClick:()=>{!function(e){const t=(0,h.vcardWids)(e);t.length>1&&e?c.ModalManager.open((0,W.jsx)(V.default,{icon:(0,W.jsx)(F.default,{name:"add-user",directional:!0}),vcard:e,onCancel:()=>c.ModalManager.close(),onSelect:K})):t.length>0&&K(t[0])}(_)}}]},Q=()=>{c.ModalManager.open((0,W.jsx)(A.default,{msg:B.unsafe()}))};let X,J,Z;if(_){X=(0,h.vcardWids)(_);const e=B.type===f.MSG_TYPE.VCARD?B.vcardFormattedName:null;J=(0,i.default)(e||(0,h.vcardGetNameFromParsed)(_)||w.default.t(139),{length:120,omission:w.default.t(604)}),X.length>0&&(Z=(0,W.jsx)(b.default,{items:$(J,(0,h.vcardIsBiz)(_))}))}const ee=e.displayAuthor?(0,W.jsx)("div",{className:U.default.author,children:(0,W.jsx)(v.default,{msg:B.safe(),contact:B.senderObj})}):null,te=e.quotedMsg?(0,W.jsx)("div",{className:U.default.quote,children:e.quotedMsg}):null,ae=(0,p.default)(U.default.bubble,{[U.default.hasAuthor]:ee,[U.default.hasQuote]:te,[U.default.isPreview]:e.displayType===l.DISPLAY_TYPE.MSG_INFO,[U.default.isGallery]:e.displayType===l.DISPLAY_TYPE.STARRED_MSGS||e.displayType===l.DISPLAY_TYPE.CONTACT_CARD||e.displayType===l.DISPLAY_TYPE.GALLERY}),ne=B.type===f.MSG_TYPE.DOCUMENT&&B.isVcardOverMmsDocument&&n===j.MEDIA_DATA_STAGE.ERROR_MISSING,re=ne||!e.placeholder&&(_||B.chat.isTrusted()),ie=re?ne?Q:()=>{_?c.ModalManager.open((0,W.jsx)(E.default,{vcard:_})):c.ModalManager.open((0,W.jsx)(C.default,{onCancel:()=>c.ModalManager.close(),onOK:()=>{c.ModalManager.close(),d.FileSaver.initDownload((0,L.unproxy)(B.unsafe()))},okText:m.fbt._("Download",null,{hk:"1g5Jix"}),cancelText:m.fbt._("Cancel",null,{hk:"H0gNq"}),title:m.fbt._("Download contact?",null,{hk:"THELh"}),children:m.fbt._("This contact can't be displayed in WhatsApp Web. Download it to open it with another app on your computer?",null,{hk:"3Ii3sv"})}))}:()=>{},se=k.Configuration.Compatibility({selectable:true}),oe=e.placeholder?(0,W.jsx)(H,{downloadMedia:t,mediaStage:n}):(0,W.jsx)(N.default,{size:49,thumb:(0,h.vcardThumbnail)(_),wid:R.ProfilePicThumbCollection.getThumbnailWidFromVcard(_)}),le=e.placeholder?(0,W.jsx)(q,{mediaStage:n}):(0,W.jsx)(x.EmojiText,{text:J,element:"div",className:U.default.name,selectable:true,dirMismatch:B.rtl!==w.default.isRTL(),direction:B.dir,formatters:se});e.placeholder&&(Z=n===j.MEDIA_DATA_STAGE.ERROR_MISSING?(0,W.jsx)(b.default,{items:$().map((e=>(0,r.default)((0,r.default)({},e),{},{onClick:Q})))}):(0,W.jsx)(b.default,{items:[],placeholder:!0}));return(0,W.jsxs)(y.default,{className:ae,contact:B.senderObj,msg:B.unsafe(),children:[ee,te,(0,W.jsx)(T.default,{msg:B.unsafe(),wrapperClass:U.default.ctwaContext}),(0,W.jsxs)("div",{className:U.default.vcard,"data-a8n":s.default.key("vcard-msg"),role:re?"button":null,onClick:ie,children:[(0,W.jsx)("div",{className:U.default.avatar,children:oe}),(0,W.jsx)("div",{className:U.default.body,children:le}),(0,W.jsx)("div",{className:U.default.meta,children:(0,W.jsx)(I.Meta,{msg:B.safe()})})]}),Z]})};var r=n(a(81109)),i=n(a(39138)),s=n(a(99964)),o=a(81572),l=a(5177),u=a(41455),d=a(21634),c=a(14597),f=a(15461),h=a(93778),p=n(a(94184)),m=a(48360),g=a(35461),_=a(40936),v=n(a(72655)),b=n(a(58286)),y=n(a(85559)),C=n(a(52665)),S=a(19380),E=n(a(4317)),T=n(a(11740)),x=a(65417),M=a(50101),k=a(30695),w=n(a(14296)),P=a(56057),A=n(a(20668)),j=a(58668),I=a(42316),O=n(a(11339)),N=n(a(87543)),R=a(82039),D=a(48870),L=a(18146),B=n(a(38932)),F=n(a(23217)),G=a(89618),U=n(a(18082)),V=n(a(21915)),W=a(85893);function H(e){const{downloadMedia:t,mediaStage:a}=e;if(!a)return(0,W.jsx)(z,{downloadMedia:t});switch(a){case j.MEDIA_DATA_STAGE.NEED_POKE:case j.MEDIA_DATA_STAGE.INIT:return(0,W.jsx)(z,{downloadMedia:t});case j.MEDIA_DATA_STAGE.FETCHING:case j.MEDIA_DATA_STAGE.REUPLOADING:case j.MEDIA_DATA_STAGE.DECRYPTING:return(0,W.jsx)(Y,{animate:!0,type:"profileImage"});case j.MEDIA_DATA_STAGE.RESOLVED:return(0,W.jsx)(Y,{type:"profileImage"});case j.MEDIA_DATA_STAGE.ERROR_MISSING:return(0,W.jsx)(z,{downloadMedia:()=>{}});default:return(0,W.jsx)(Y,{animate:!0,type:"profileImage"})}}function q(e){const{mediaStage:t}=e;if(!t)return(0,W.jsx)(Y,{type:"body"});switch(t){case j.MEDIA_DATA_STAGE.NEED_POKE:case j.MEDIA_DATA_STAGE.INIT:return(0,W.jsx)(Y,{type:"body"});case j.MEDIA_DATA_STAGE.FETCHING:case j.MEDIA_DATA_STAGE.REUPLOADING:case j.MEDIA_DATA_STAGE.DECRYPTING:return(0,W.jsx)(Y,{animate:!0,type:"body"});case j.MEDIA_DATA_STAGE.RESOLVED:case j.MEDIA_DATA_STAGE.ERROR_MISSING:default:return(0,W.jsx)(Y,{type:"body"})}}function Y(e){const{animate:t,type:a}=e,n=[U.default.placeholder,"profileImage"===a?U.default.placeholderImage:U.default.placeholderText,t?U.default.placeholderAnimation:null].filter(Boolean);return(0,W.jsx)("div",{className:(0,p.default)(n)})}function z(e){const{downloadMedia:t}=e;return(0,W.jsx)(B.default,{"aria-label":m.fbt._("Download",null,{hk:"1g5Jix"}),name:"audio-download",className:U.default.vcardDownloadStageIcon,onClick:()=>{null==t||t()}})}const K=e=>{S.ContactCollection.find(e).then((e=>{c.ModalManager.open((0,W.jsx)(_.AddContactToGroupFlowLoadable,{contact:e,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})}))}},98723:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{displayAuthor:a,displayType:n,onMessageClick:p,msg:m}=e,g=(0,s.useModelValues)(e.mediaData,["mediaBlob","mediaStage","parsedVcards","size"]),_=()=>{m.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:u.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})};(0,i.useEffect)((()=>{m.isTrusted()&&g.size<=1024*c.ServerProps.mmsVcardAutodownloadSizeKb&&_()}),[]);const v=(0,l.default)((e=>{let{parsedVcards:t}=e;return t?t.map((e=>({parsedVcard:e,displayName:(0,r.vcardGetNameFromParsed)(e)||o.default.t(139),isMultiVcard:!1,vcard:""}))):[]})),{parsedVcards:b}=g;if(b)return b.length>1?(0,h.jsx)(d.default,{msg:m,vcardList:v({parsedVcards:b}),quotedMsg:e.getQuotedMsg(),displayType:n,displayAuthor:a}):(0,h.jsx)(f.default,{msg:m,vcard:b[0],quotedMsg:e.getQuotedMsg(),displayType:n,displayAuthor:a,onMessageClick:p});return(0,h.jsx)(f.default,{mediaStage:null===(t=m.mediaData)||void 0===t?void 0:t.mediaStage,msg:m,vcard:null,quotedMsg:e.getQuotedMsg(),displayType:n,displayAuthor:a,onMessageClick:p,downloadMedia:m.isTrusted()?_:null,placeholder:!0})};var r=a(93778),i=a(67294),s=a(35461),o=n(a(14296)),l=n(a(71443)),u=n(a(11339)),d=n(a(85851)),c=a(64551),f=n(a(93137)),h=a(85893)},83681:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(99964)),i=a(81572),s=a(14597),o=a(48360),l=a(67294),u=n(a(56720)),d=a(35461),c=n(a(52665)),f=n(a(68466)),h=a(29623),p=n(a(48846)),m=n(a(14296)),g=a(58668),_=n(a(47049)),v=n(a(54703)),b=n(a(5511)),y=a(42316),C=n(a(11339)),S=a(18146),E=n(a(38932)),T=n(a(23217)),x=a(13923),M=n(a(12209)),k=n(a(1784)),w=n(a(72306)),P=a(84728),A=a(85893);const j={buttonContainer:{position:"g0rxnol2",display:"p357zi0d",alignItems:"elxb2u3l",minWidth:"llkbrke6",height:"smoo1fur",color:"gtscxtjd",textAlign:"tffp5ko5",cursor:"ajgl1lbb"},statusIcon:{color:"mymavskd",height:"bmot90v7"},statusDone:{color:"a6r0u4sv"},content:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"r15c9g6i",maxHeight:"ruh8h8mp",paddingEnd:"btzf6ewn"},unviewedBubble:{boxSizing:"cm280p3y",paddingTop:"eujn52yf",paddingEnd:"jfqm35v0",paddingBottom:"ckm995li",paddingStart:"bdbt56hn"},deepContainerContent:{boxSizing:"cm280p3y",minWidth:"hwyr1eu5",height:"smoo1fur",paddingTop:"i5tg98hk",paddingEnd:"abxuf49s",paddingBottom:"przvwfww",paddingStart:"rppts313",overflowX:"gfz4du6o",overflowY:"r7fjleex"},accentIconSvg:{color:"crm5a8gb"},nonSpinnerIcon:{display:"l7jjieqr",minWidth:"mhp1pqu9",marginTop:"tt8xd2xn",marginEnd:"mw4yctpw",marginBottom:"mpdn4nr2",marginStart:"bx0vhl82"},nonSpinnerIconSvg:{width:"i94gqilv",height:"bmot90v7"},contentMeta:{color:"hp667wtd"},labelContainer:{minWidth:"kr606f8j"},labelText:{userSelect:"rkxvyd19"},labelActive:{color:"pm5hny62"},labelInactive:{fontStyle:"h432zind",color:"hp667wtd"},labelRetry:{fontWeight:"hnx8ox4h",color:"pm5hny62"},quote:{marginTop:"if44n927",marginEnd:"isg5rw3j",marginBottom:"ngycyvoj",marginStart:"heai6z19"},meta:{position:"lhggkp7q",end:"b4u6kxhc",bottom:"blj1rie1"},dialogTitle:{marginBottom:"or9x5nie"}};function I(e){e.stopPropagation(),e.preventDefault()}function O(e,t){let{displayAuthor:a,displayType:n,mediaData:O,msg:N,trusted:R,quotedMsg:D}=e;const{mediaStage:L,size:B}=(0,d.useModelValues)(O,["mediaStage","size"]),F=(0,d.useModelValues)(N,["ack","isGroupMsg","isFailed","isPSA","isSentByMe","senderObj","type"]),G=function(e,t){return(0,l.useMemo)((()=>{const a=t.type===g.OUTWARD_TYPES.IMAGE,n=a?o.fbt._("Photo",null,{hk:"SBkDD"}):o.fbt._("Video",null,{hk:"2SOGaJ"});if((0,P.isViewed)(t))return{type:"complete",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once-viewed"}),label:o.fbt._("Opened",null,{hk:"4eZcUM"}),labelStyle:j.labelInactive};if((0,P.isExpired)(t)&&!t.isSentByMe)return{type:"unviewed",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once"}),handleClick:()=>{const e=t.senderObj.displayName,n=a?o.fbt._("Photo expired",null,{hk:"hKfZf"}):o.fbt._("Video expired",null,{hk:"3GxyJh"}),r=a?m.default.t(711,{name:e}):m.default.t(712,{name:e});s.ModalManager.open((0,A.jsx)(c.default,{onOK:()=>s.ModalManager.close(),children:(0,A.jsxs)(h.FlexColumn,{children:[(0,A.jsx)(x.TextHeader,{xstyle:j.dialogTitle,theme:"popup-title",children:n}),(0,A.jsx)(x.TextParagraph,{color:"secondary",children:r})]})}))},label:n};switch(e){case g.MEDIA_DATA_STAGE.RESOLVED:case g.MEDIA_DATA_STAGE.PROGRESSIVE_READY:return t.isSentByMe?{type:"complete",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once"}),label:n,labelStyle:j.labelActive}:{type:"unviewed",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once"}),handleClick:function(){i.Cmd.mediaViewerModal({msg:(0,S.unproxy)(t.unsafe())})},label:n};case g.MEDIA_DATA_STAGE.FETCHING:return t.isSentByMe?{type:"complete",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once"}),label:n,labelStyle:j.labelActive}:{type:"unviewed",icon:(0,A.jsx)(w.default,{}),handleClick:e=>{I(e),t.cancelDownload()},label:n};case g.MEDIA_DATA_STAGE.NEED_POKE:return{type:"unviewed",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once-download"}),handleClick:e=>{I(e),t.forceDownloadMediaEvenIfExpensive()},label:n};case g.MEDIA_DATA_STAGE.FINALIZING:case g.MEDIA_DATA_STAGE.UPLOADING:return{type:"complete",icon:(0,A.jsx)(w.default,{onClick:e=>{I(e),t.cancelUpload()}}),label:n,labelStyle:j.labelActive};case g.MEDIA_DATA_STAGE.NEED_UPLOAD:return{type:"complete",icon:(0,A.jsx)(E.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once-retry",onClick:e=>{I(e),t.resumeUpload()},"aria-label":o.fbt._("Retry",null,{hk:"2jS9Tg"})}),label:o.fbt._("Retry",null,{hk:"2jS9Tg"}),labelStyle:j.labelRetry};case g.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:return{type:"complete",icon:(0,A.jsx)(E.default,{xstyle:j.nonSpinnerIcon,iconXstyle:[j.accentIconSvg,j.nonSpinnerIconSvg],name:"view-once-retry",onClick:e=>{I(e),t.resumeRemoteUpload()},"aria-label":o.fbt._("Retry",null,{hk:"2jS9Tg"})}),label:o.fbt._("Retry",null,{hk:"2jS9Tg"}),labelStyle:j.labelRetry};case g.MEDIA_DATA_STAGE.SENDING:return{type:"complete",icon:(0,A.jsx)(w.default,{}),label:n,labelStyle:j.labelActive};case g.MEDIA_DATA_STAGE.ERROR_MISSING:return{type:"complete",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once-viewed"}),label:o.fbt._("Expired",null,{hk:"3HKvpZ"}),labelStyle:j.labelInactive};case g.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:case g.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case g.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:return __LOG__(4,void 0,new Error,!0)`Unsupported/too large/not readable view once media message`,SEND_LOGS("view-once-hook-error"),{type:"complete",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once-viewed"}),label:n,labelStyle:j.labelActive};case g.MEDIA_DATA_STAGE.INIT:case g.MEDIA_DATA_STAGE.PREPARING:case g.MEDIA_DATA_STAGE.DECRYPTING:case g.MEDIA_DATA_STAGE.EXISTS:if(!t.isSentByMe)return{type:"unviewed",icon:(0,A.jsx)(w.default,{}),handleClick:I,label:n};case g.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case g.MEDIA_DATA_STAGE.REUPLOADING:return{type:"complete",icon:(0,A.jsx)(T.default,{xstyle:j.nonSpinnerIcon,iconXstyle:j.nonSpinnerIconSvg,name:"view-once"}),label:n,labelStyle:j.labelActive}}}),[e,t])}(L,F);(0,l.useImperativeHandle)(t,(()=>({handleKeyActivation(e){R&&null!=G.handleClick&&G.handleClick(e)}}))),(0,l.useEffect)((()=>{!F.isSentByMe&&(0,P.isUnviewed)(F)&&F.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:C.default.WEBC_RMR_REASON_CODE.MSG_RENDER,isUserInitiated:!1})}),[F]);const U=N.type===g.OUTWARD_TYPES.IMAGE?o.fbt._("View once photo",null,{hk:"2obYts"}):o.fbt._("View once video",null,{hk:"3nw2h1"});let V;if("complete"===G.type){const{label:e,labelStyle:t,icon:n}=G,i=(0,P.isUnviewed)(N)?U:[e,U].join(" - ");V=(0,A.jsxs)(M.default,{msg:N,displayAuthor:a,children:[null!=D?(0,A.jsx)("div",{className:(0,u.default)(j.quote),children:D}):null,(0,A.jsxs)(h.FlexRow,{align:"center",xstyle:j.labelContainer,a8nText:r.default.key("view-once-complete"),"aria-label":i,children:[(0,A.jsx)(p.default,{xstyle:[j.statusIcon,(0,P.isViewed)(F)&&j.statusDone],grow:0,children:n}),(0,A.jsx)(p.default,{grow:1,children:(0,A.jsx)(v.default,{className:(0,u.default)(t,j.labelText),msg:F.unsafe(),children:e})})]})]})}else{const{handleClick:e,label:t,icon:i}=G,s=L===g.MEDIA_DATA_STAGE.NEED_POKE||L===g.MEDIA_DATA_STAGE.FETCHING?m.default.filesize(B):null;V=(0,A.jsx)(_.default,{displayType:n,hideCaption:!0,hideMeta:!0,msg:N,quotedMsg:D,showAuthor:a,trusted:R,children:(0,A.jsx)(k.default,{a8nText:r.default.key("view-once-unviewed"),xstyle:j.buttonContainer,onClick:R?e:()=>{},"aria-label":U,children:(0,A.jsx)(f.default,{outgoingMsg:F.isSentByMe,children:(0,A.jsxs)(h.FlexRow,{xstyle:j.deepContainerContent,align:"center",children:[(0,A.jsx)(p.default,{xstyle:j.statusIcon,grow:0,children:i}),(0,A.jsxs)(p.default,{xstyle:j.content,grow:1,children:[(0,A.jsx)(x.TextHeader,{color:"secondary",level:"3",weight:"medium",size:"15",children:t}),null!=s?(0,A.jsx)(x.TextParagraph,{xstyle:j.contentMeta,size:"10",children:s}):null]}),(0,A.jsx)(p.default,{grow:0,children:(0,A.jsx)("div",{className:b.default.spacer,children:(0,A.jsx)("div",{className:(0,u.default)(j.meta),children:(0,A.jsx)(y.Meta,{msg:N})})})})]})})})})}return(0,A.jsx)("div",{className:(0,u.default)("unviewed"===G.type&&j.unviewedBubble),children:V})}var N=(0,l.forwardRef)(O);t.default=N},72306:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClick:t}=e;const[a,n]=(0,o.default)(t),h=null!=t?n:{};return(0,f.jsxs)("div",(0,r.default)((0,r.default)({className:(0,i.default)({[c.default.container]:!0,[c.default.inactive]:null==t}),ref:a,"aria-label":s.fbt._("Cancel",null,{hk:"H0gNq"})},h),{},{children:[(0,f.jsx)("div",{className:c.default.icon,children:(0,f.jsx)(d.default,{name:"x-soft"})}),(0,f.jsx)(l.FlexRow,{className:c.default.spinner,align:"center",justify:"center",children:(0,f.jsx)(u.Spinner,{color:"accent",size:18,stroke:5})})]}))};var r=n(a(81109)),i=n(a(94184)),s=a(48360),o=n(a(34470)),l=a(29623),u=a(11054),d=n(a(23217)),c=n(a(20699)),f=a(85893)},58827:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageContainer=function(e){const t=(0,b.default)(Me.default.msgContainer,{"message-out":e.isSentByMe,"message-in":!e.isSentByMe}),a=(0,b.default)(Me.default.message,Me.default.hasTail,"tail-override-left");return(0,we.jsx)("div",{className:t,children:(0,we.jsx)("div",{className:a,children:(0,we.jsxs)("div",{className:Me.default.messageBackground,children:[(0,we.jsx)("div",{className:Me.default.tail,children:(0,we.jsx)(ve.default,{name:De(Pe)})}),e.children]})})})},t.Wrapper=t.SystemBubble=void 0,t.getTailName=De;var r=n(a(45095)),i=n(a(99964)),s=a(81572),o=a(15022),l=a(5177),u=a(21634),d=n(a(45120)),c=n(a(52013)),f=a(8139),h=a(14597),p=a(15461),m=a(67811),g=a(78820),_=a(74315),v=n(a(40436)),b=n(a(94184)),y=a(48360),C=a(67294),S=n(a(51799)),E=n(a(96570)),T=n(a(59312)),x=n(a(16223)),M=a(87550),k=a(35461),w=n(a(89113)),P=a(55712),A=a(69185),j=n(a(28414)),I=a(69951),O=a(4841),N=n(a(52665)),R=n(a(99131)),D=a(60811),L=a(71174),B=a(49885),F=a(30424),G=n(a(51099)),U=a(50101),V=a(75362),W=n(a(45152)),H=a(29424),q=a(20427),Y=a(370),z=a(36846),K=a(79259),$=n(a(14296)),Q=a(1041),X=a(47809),J=n(a(34377)),Z=a(87931),ee=n(a(20485)),te=a(23512),ae=n(a(8235)),ne=a(54676),re=a(61653),ie=a(56989),se=a(56979),oe=n(a(52500)),le=a(94270),ue=n(a(32231)),de=a(82857),ce=a(78756),fe=a(21357),he=a(61761),pe=a(13228),me=a(64551),ge=n(a(77807)),_e=a(18146),ve=n(a(23217)),be=n(a(257)),ye=a(18644),Ce=n(a(24717)),Se=n(a(46603)),Ee=a(86002),Te=a(45301),xe=n(a(25033)),Me=n(a(1961)),ke=a(82573),we=a(85893);const Pe=!1,Ae=!0,je=75,Ie=(0,C.forwardRef)(((e,t)=>{var a;const{position:n,displayType:Ie=l.DISPLAY_TYPE.CONVERSATION,selectedMessages:Ne,isFocusable:Le,selectable:Be,isMsgVisible:Fe,onMessageSelect:Ge,getSequentialMsg:Ue,onProductClick:Ve,onMessageClick:We,current:He}=e,qe=(0,Se.default)(),Ye=(0,T.default)(),[ze]=(0,M.useAddListenerOnce)(),Ke=(0,k.useModelValues)(e.msg,["asMms","asPollCreation","asPttLike","asRevoked","author","body","chat","dir","ephemeralDuration","ephemeralOutOfSync","filehash","id","isBizNotification","isEphemeral","isFailed","isFrequentlyForwarded","isFutureproof","isGif","isGroupMsg","isLive","isMedia","isMdHistoryMsg","isNotification","isRTL","isSentByMe","isUnsentMedia","isViewOnce","linkPreview","list","mediaData","matchedText","quotedMsg","richPreviewType","sender","star","subtype","type","title","hasTemplateButtons","isQuickReply","isFromTemplate","doNotPlayInline","ctwaContext","bizPrivacyStatus","verifiedBizName","templateParams","dynamicReplyButtons","replyButtons","hasReaction","broadcastId","deprecatedMms3Url"]),$e=(0,C.useRef)(null),Qe=(0,C.useRef)(null),Xe=(0,C.useRef)(null),Je=(0,C.useRef)(null),Ze=(0,C.useRef)(null),et=(0,C.useRef)(null),tt=(0,C.useRef)(null),at=(0,x.default)((()=>(Ie===l.DISPLAY_TYPE.STARRED_MSGS||Ie===l.DISPLAY_TYPE.GALLERY||Ie===l.DISPLAY_TYPE.MSG_INFO||Ie===l.DISPLAY_TYPE.CONTACT_CARD)&&(Ke.isGif||Ke.type===p.MSG_TYPE.IMAGE))),nt=(0,C.useRef)(void 0),[rt,it]=(0,C.useState)(null),[st,ot]=(0,C.useState)(null),[lt,ut]=(0,C.useState)(!1),[dt,ct]=(0,C.useState)(!1),[ft,ht]=(0,C.useState)((()=>!!e.selectedMessages&&e.selectedMessages.isSelected((0,_e.unproxy)(e.msg)))),[pt,mt]=(0,C.useState)(!1),[gt,_t]=(0,C.useState)(!1),[vt,bt]=(0,C.useState)(!1);(0,C.useEffect)((()=>{at.current&&Je.current&&(nt.current=Je.current.offsetWidth,Ye())}),[]);const yt=()=>{s.Cmd.msgInfoDrawer((0,_e.unproxy)(Ke))},Ct=()=>{(0,U.findChat)(Ke.author).then((function(e){s.Cmd.openChatFromUnread(e).then((t=>{t&&s.Cmd.focusChatTextInput(e)}))}))},St=()=>{h.ModalManager.open((0,we.jsx)(xe.default,{messageText:Ke.body}),{transition:"modal-flow"})},Et=()=>{const e=Ke.ephemeralDuration||0;h.ModalManager.open((0,we.jsx)(N.default,{onOK:()=>{h.ModalManager.close()},children:(0,K.getDisappearingMessageOutOfSyncInfoString)(e)}),{transition:"modal-flow"})},Tt=()=>{const{bizPrivacyStatus:e}=Ke;null!=e&&h.ModalManager.open((0,we.jsx)(N.default,{onOK:()=>{h.ModalManager.close()},children:(0,A.getBizPrivacyInfoString)(e)}),{transition:"modal-flow"})},xt=()=>!Ke.isNotification&&Ie!==l.DISPLAY_TYPE.GALLERY&&Ie!==l.DISPLAY_TYPE.CONTACT_CARD,Mt=e=>{e.buttons||lt||!xt()||ut(!0)},kt=()=>{ut(!1)},wt=()=>Ie===l.DISPLAY_TYPE.CONVERSATION,Pt=(0,S.default)((()=>{bt(wt()&&(null==Be||!1===Be)&&(gt||null!=st))}),je),At=()=>{_t(!0),Pt()},jt=()=>{_t(!1),Pt()},It=()=>{h.ModalManager.open((0,we.jsx)(R.default,{chat:Ke.chat,msgList:[Ke].map(_e.unproxy),isMsgVisible:Fe}))},Ot=()=>{const e=(0,_e.unproxy)(Ke),t=e.chat;t.composeQuotedMsg=e,t===I.ChatCollection.getActive()?s.Cmd.focusChatTextInput(t):s.Cmd.openChatBottom(t)},Nt=()=>{const e=(0,_e.unproxy)(Ke);(0,ue.default)(e)},Rt=()=>{u.FileSaver.initDownload((0,_e.unproxy)(Ke))},Dt=()=>{const e=(0,_e.unproxy)(Ke);s.Cmd.sendStarMsgs(e.chat,[e])},Lt=()=>{const e=(0,_e.unproxy)(Ke);s.Cmd.sendUnstarMsgs(e.chat,[e])},Bt=()=>{const e=(0,_e.unproxy)(Ke);e.isExpired()?h.ModalManager.open((0,we.jsx)(Ee.WarningKeepExpiredModal,{})):(0,Y.setKeepInChat)(e.id,(0,g.getMaybeMeUser)())},Ft=()=>{(0,_.shouldShowNUX)(re.NUX.KEEP_IN_CHAT)?h.ModalManager.open((0,we.jsx)(z.KeepInChatConfirmPopup,{onContinue:Bt})):Bt()},Gt=()=>{Ke.isExpired()?h.ModalManager.open((0,we.jsx)(Te.WarningUnkeepExpiredModal,{onConfirm:()=>(0,Y.undoKeepInChat)(Ke.id)})):(0,Y.undoKeepInChat)(Ke.id)},Ut=()=>{s.Cmd.addFavoriteSticker((0,_e.unproxy)(Ke))},Vt=()=>{s.Cmd.removeFavoriteSticker((0,_e.unproxy)(Ke))},Wt=(0,w.default)((()=>{it(null),qe&&ut(!1)})),Ht=()=>{ot(null),qe&&_t(!1),Pt()},qt=e=>{e&&e.stopPropagation(),Ge?Ge((0,_e.unproxy)(Ke),!ft,e):(__LOG__(4,void 0,new Error,!0)`no onMessageSelect`,SEND_LOGS("wrapper-onSelectClick"))},Yt=e=>{et.current&&c.default.focus(et.current,e)},zt=()=>(0,r.default)(et.current,"containerRef.current"),Kt=()=>{const e=Je.current,t=Xe.current;e&&(ct(!0),d.default.indicateFocus(e,Me.default.highlightAnimation),d.default.indicateFocus(t,Me.default.highlightAnimation),ze(e,"animationend",(()=>{ct(!1)})),Le&&Yt({preventScroll:!0}))},$t=e=>{let t;if(Ke.type===p.MSG_TYPE.CIPHERTEXT?t=$.default.t(353):Ke.asRevoked?t=$.default.t(354):Ke.isUnsentMedia&&(t=$.default.t(352,{_plural:1})),t)h.ModalManager.open((0,we.jsx)(N.default,{title:$.default.t(355),onOK:()=>h.ModalManager.close(),okText:y.fbt._("OK",null,{hk:"2KEeHb"}),children:t}));else{if(e&&Ie===l.DISPLAY_TYPE.CONVERSATION)return void qt();h.ModalManager.open((0,we.jsx)(V.ForwardMessageFlowLoadable,{msgs:[(0,_e.unproxy)(Ke)]}),{transition:"modal-flow"})}},Qt=e=>{(0,m.canReactToMessage)(e)&&ot({dirY:D.DirY.TOP,dirX:D.DirX.CENTER,type:D.MenuType.ReactionSendTray,menu:(0,we.jsx)(pe.SendReactionsTrayContainer,{selectedCallback:t=>{t!==he.MORE_REACTIONS&&(0,fe.sendReactionToMsg)(e,t).catch((()=>{})),Pt(),Ht()},msg:e,onMouseEnter:At,onMouseOver:At,onMouseLeave:jt}),flipOnRTL:!0,anchor:tt.current})},Xt=()=>{var e;return null===(e=$e.current)||void 0===e?void 0:e.getRef()},Jt=e=>{var t,a;null===(t=Xt())||void 0===t||null===(a=t.handleKeyActivation)||void 0===a||a.call(t,e)},Zt=(e,t)=>{if(t&&rt)return it(null),void ot(null);const a=t?Qe.current:e,n=(0,B.buildDropdownMenu)({msg:Ke,onKeepClick:Ft,onUndoKeepClick:Gt,displayType:Ie,onMsgInfoClick:yt,onReplyClick:Ot,onPrivateReplyClick:Nt,onMessageDownloadClick:Rt,onStarClick:Dt,onUnstarClick:Lt,onFavoriteStickerClick:Ut,onUnfavoriteStickerClick:Vt,onEditLabelClick:()=>{Ie!==l.DISPLAY_TYPE.CONVERSATION?h.ModalManager.open((0,we.jsx)(X.ManageLabelFlowLoadable,{modelsToUpdate:[(0,_e.unproxy)(Ke)]})):qt()},onMessageDeleteClick:It,onOpenContactChatClick:Ct,onForwardClick:()=>$t(!0),onCopyFavoriteStickerClick:e=>(0,o.copyImageToClipboard)(e),onOpenStickerPackClick:e=>s.Cmd.openStickerPack(e),onReactionClick:()=>Qt(Ke),onMoreReactionOptionsClick:()=>{return e=Ke,void((0,m.canReactToMessage)(e)&&ot({dirY:D.DirY.BOTTOM,dirX:Ke.isSentByMe?D.DirX.LEFT:D.DirX.RIGHT,type:D.MenuType.EmojiPicker,menu:(0,we.jsx)(F.EmojiPanel,{onEmoji:t=>{t!==he.MORE_REACTIONS&&(0,fe.sendReactionToMsg)(e,t).catch((()=>{})),Ht()}}),flipOnRTL:!0,anchor:tt.current}));var e}});it({menu:n,anchor:a,theme:L.ThemeOptions.COMPACT,autoFocus:qe})},ea=()=>{xt()&&(ut(!0),Zt(void 0,!0))},ta=e=>{ft!==e&&ht(e)},aa=(e,t)=>{et.current&&(0,ce.scrollAt)(et.current,void 0,t).then(e)},na=()=>{Ke.resend().catch((function(e){__LOG__(2)`wrapper:resend failure: ${e}`}))},ra=()=>{et&&d.default.indicateFocus(et.current,Me.default.highlightMentionAnimation)};(0,C.useImperativeHandle)(t,(()=>({focus:Yt,openContextMenu:ea,getContainerElement:zt,getMsgComponentRef:Xt,resend:na})));const ia=(0,E.default)(Ke,"change",(()=>Ke.canQuickForward()));(0,M.useListener)(Ke,"revoked",(()=>{rt&&Wt(),st&&Ht()})),(0,M.useListener)(window,"resize",(()=>{Ht(),Ye()})),(0,M.useListener)(document,"selectionchange",(()=>{var e,t;""!==(null!==(e=null===(t=document.getSelection())||void 0===t?void 0:t.toString())&&void 0!==e?e:"")&&kt()})),(0,M.useListener)(s.Cmd,"media_viewer_modal",kt);const sa=Ie===l.DISPLAY_TYPE.CONVERSATION,oa=function(e){let{msg:t,position:a,displayType:n}=e;if(t.isSentByMe||!t.isGroupMsg)return!1;if(t.type===p.MSG_TYPE.CHAT)return!(n===l.DISPLAY_TYPE.STARRED_MSGS||!t.quotedMsg)||(a!==Z.MsgPosition.MID&&a!==Z.MsgPosition.END||(n===l.DISPLAY_TYPE.GALLERY||(!!t.linkPreview||!!(0,q.isParsableOnlineVideoURL)(t.richPreviewType,t.matchedText,t.doNotPlayInline))));return!0}({msg:Ke,position:n,displayType:Ie});let la;xt()&&!Be&&(lt&&!dt||He||rt)&&(la=(0,we.jsx)(J.default,{msg:Ke,hasAuthor:oa,position:n,onToggle:e=>{Zt(e)}},"icon-context"));const ua=(0,we.jsx)("div",{className:Me.default.menuAnchor,ref:Qe});let da=null;if(!Ke.isNotification&&e.selectable){const e=Ie===l.DISPLAY_TYPE.GALLERY?"gallery":null;da=(0,we.jsx)(ee.default,{checked:!!ft,onClick:qt,msgTheme:e})}let ca=null;var fa;Ke.type===p.MSG_TYPE.STICKER&&e.selectable&&(ca=(0,we.jsx)("span",{children:(0,we.jsx)("div",{className:Me.default.stickerWrapperContainer,onMouseEnter:null===(fa=Ze.current)||void 0===fa?void 0:fa.startAnimation,onClick:qt})}));let ha=!1;if(Ke.type===p.MSG_TYPE.CHAT){const e=O.Code.match(Ke.body);ha=1===e.length&&e[0][4][0].length===Ke.body.length}const pa=null===(a=Ke.chat)||void 0===a?void 0:a.isPSA,ma=!pa&&!Ke.isNotification&&!e.tailOverride&&(n===Z.MsgPosition.FRONT||n===Z.MsgPosition.SINGLE)||Ie===l.DISPLAY_TYPE.MSG_INFO||e.tailOverride,ga=Re(Ke)&&(!oa||Ke.isSentByMe||!Ke.isGroupMsg&&!Ke.quotedMsg)&&(sa&&(n===Z.MsgPosition.FRONT||n===Z.MsgPosition.SINGLE)||!sa),_a=!e.selectable&&(Ie===l.DISPLAY_TYPE.CONVERSATION||Ie===l.DISPLAY_TYPE.MSG_INFO||Ie===l.DISPLAY_TYPE.STARRED_MSGS),va=Ke.ephemeralOutOfSync&&!Ke.isNotification&&!Ke.isFutureproof,ba=_a&&ia,ya=_a&&Ke.isFrequentlyForwarded&&Ke.type===p.MSG_TYPE.CHAT,Ca=null!=Ke.bizPrivacyStatus;let Sa=null;const Ea=sa?le.ReactionBubbleType.DEFAULT:le.ReactionBubbleType.NON_CONVERSATION;!Re(Ke)&&Ke&&(0,m.shouldShowReactionBubble)(Ke,Ea)&&(Sa=(0,we.jsx)(oe.default,{msgIds:[Ke.id.toString()],isSentByMe:Ke.isSentByMe,hasReaction:Ke.hasReaction}));const Ta=(0,b.default)(Me.default.msg,{[Me.default.msgContinuation]:!(n!==Z.MsgPosition.FRONT&&n!==Z.MsgPosition.MID||Ke.isFromTemplate&&Ke.isQuickReply),[Me.default.msgPSA]:Ie!==l.DISPLAY_TYPE.STARRED_MSGS&&pa,[Me.default.msgSystem]:Ke.isNotification,[Me.default.msgGallery]:Ie===l.DISPLAY_TYPE.STARRED_MSGS||Ie===l.DISPLAY_TYPE.CONTACT_CARD||Ie===l.DISPLAY_TYPE.GALLERY,[Me.default.msgInfo]:Ie===l.DISPLAY_TYPE.MSG_INFO,[Me.default.msgWithQuickAction]:Ca||va||ba||ya,"message-out":!Ke.isNotification&&Ke.isSentByMe||Ie===l.DISPLAY_TYPE.MSG_INFO,"message-in":!Ke.isNotification&&!Ke.isSentByMe,[Q.LIST_FOCUSABLE_ITEM_CLASS_NAME]:Le}),xa=(0,b.default)(Me.default.message,function(e){if(e.isViewOnce)return Me.default.messageChat;switch(e.type){case p.MSG_TYPE.NOTIFICATION_TEMPLATE:return Oe.includes(e.subtype)?Me.default.messageNonE2ENotification:e.isBizNotification?Me.default.messageBizNotification:void 0;case p.MSG_TYPE.E2E_NOTIFICATION:return"encrypt"===e.subtype&&e.chat.isSupportGroupOrSupportAdmin()?Me.default.messageNonE2ENotification:Me.default.messageE2ENotification;case p.MSG_TYPE.GROUPS_V4_INVITE:return Me.default.messageChat;case p.MSG_TYPE.CHAT:return(0,ge.default)(e)?Me.default.messageVideoLinkPreview:Me.default.messageChat;case p.MSG_TYPE.LOCATION:return e.isLive?Me.default.messageLiveLocation:Me.default.messageLocation;case p.MSG_TYPE.VCARD:return Me.default.messageVcard;case p.MSG_TYPE.CIPHERTEXT:return(0,b.default)(Me.default.messageChat,Me.default.messagePlaceholder);case p.MSG_TYPE.MULTI_VCARD:return Me.default.messageMultiVcard;case p.MSG_TYPE.IMAGE:return Me.default.messageImage;case p.MSG_TYPE.PRODUCT:return Me.default.messageProduct;case p.MSG_TYPE.STICKER:return Re(e)?Me.default.messageTransparent:Me.default.messageSticker;case p.MSG_TYPE.VIDEO:return e.mediaData.isGif?Me.default.messageGif:Me.default.messageVideo;case p.MSG_TYPE.AUDIO:return Me.default.messageAudio;case p.MSG_TYPE.PTT:return Me.default.messagePTT;case p.MSG_TYPE.DOCUMENT:return Me.default.messageDocument;case p.MSG_TYPE.TEMPLATE_BUTTON_REPLY:case p.MSG_TYPE.BUTTONS_RESPONSE:case p.MSG_TYPE.LIST_RESPONSE:case p.MSG_TYPE.POLL_CREATION:return(0,b.default)(Me.default.messageChat,(0,f.isPollsReceivingEnabled)()?null:Me.default.messagePlaceholder);case p.MSG_TYPE.ORDER:return Me.default.messageProduct;case p.MSG_TYPE.LIST:if((0,ne.listMsgCanRender)(e))return Me.default.messageList;case p.MSG_TYPE.UNKNOWN:return(0,b.default)(Me.default.messageChat,Me.default.messagePlaceholder);default:return}}(Ke),{[Me.default.messageSystem]:Ke.isNotification,[Me.default.messageCode]:ha,[Me.default.hasTail]:ma,"tail-override-left":"left"===e.tailOverride,"tail-override-right":"right"===e.tailOverride,[Me.default.tailOverrideHide]:ga}),Ma=(0,b.default)({[Me.default.messageBackground]:!Re(Ke),[Me.default.hasBorderBox]:!Ke.isNotification&&!Re(Ke),[Me.default.hasUrlCallButtons]:Ke.isFromTemplate&&Ke.hasTemplateButtons&&!Ke.isQuickReply});if(at.current&&!Je.current)return(0,we.jsx)("div",{className:Me.default.placeholder,ref:Je});let ka,wa,Pa,Aa,ja,Ia;ka=rt?"none":Ke.isRTL?"pop-fast-reverse":"pop-fast",rt&&(wa=(0,we.jsx)(ye.UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:Wt,children:(0,we.jsx)(Ce.default,{contextMenu:rt})})),st&&(Pa=(0,we.jsx)(ye.UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,requestDismiss:Ht,children:(0,we.jsx)(Ce.default,{contextMenu:st})})),e.isFocusedMsg&&(Aa=(0,we.jsx)(ke.WhileFocusedListener,{parent:{scrollMsg:aa,highlight:Kt,highlightMention:ra}})),Ne&&(ja=(0,we.jsx)(ke.SelectionListener,{parent:{onSelectChange:ta},msgId:Ke.id.toString(),selectedMessages:Ne}));const Oa=(0,b.default)(Me.default.quickActionButton,{[Me.default.messageButtonsReactionContainerOffset]:Ke.hasReaction});let Na;va?Ia=(0,we.jsx)("div",{className:Oa,onClick:Et,role:"button",children:(0,we.jsx)(ve.default,{name:"info-alt"})}):Ca?Ia=(0,we.jsx)("div",{className:Oa,onClick:Tt,role:"button",children:(0,we.jsx)(ve.default,{name:"info-alt"})}):ba?Ia=(0,we.jsx)("div",{className:Oa,onClick:()=>$t(!1),role:"button",children:(0,we.jsx)(ve.default,{name:"forward-chat"})}):ya&&(Ia=(0,we.jsx)("div",{className:Oa,onClick:St,role:"button",children:(0,we.jsx)(ve.default,{name:"search"})}));const Ra=(0,b.default)(Me.default.reactionButton,{[Me.default.reactionButtonWithQuickActions]:Ia,[Me.default.messageButtonsReactionContainerOffset]:Ke.hasReaction});let Da,La;if((0,m.canReactToMessage)(Ke)){const e=!0===vt?(0,we.jsx)(de.Round,{theme:de.RoundTheme.ReactionsEntryPoint,onClick:()=>Qt(Ke),children:(0,we.jsx)(ve.default,{className:Me.default.reactionButtonColor,width:15,name:"react"})}):null;Na=(0,we.jsx)("div",{ref:tt,className:Ra,children:e}),wt()&&(Da=(0,we.jsx)(se.ReactionSendFailButton,{msgIds:[Ke.id.toString()],fromMe:Ke.isSentByMe}))}Ke.mediaData&&(La=(0,we.jsx)(ke.MediaListener,{forceUpdate:Ye,mediaData:Ke.mediaData}));let Ba,Fa,Ga,Ua="msg-container";if(Ke.isNotification&&(Ua="msg-notification-container"),ma){let t;t="left"===e.tailOverride?De(Pe):"right"===e.tailOverride?De(Ae):De(Ke.isSentByMe),Ba=(0,we.jsx)(ve.default,{name:t,className:Me.default.tail,containerRef:Xe})}Ke.isFromTemplate&&Ke.hasTemplateButtons?Fa=(0,we.jsx)(be.default,{msg:Ke,chat:Ke.chat}):null!=Ke.dynamicReplyButtons&&Ke.dynamicReplyButtons.length>0&&Ie!==l.DISPLAY_TYPE.STARRED_MSGS&&(Fa=(0,we.jsx)(j.default,{msg:Ke})),Ke.isNotification||n===Z.MsgPosition.MID?Ga=null:Ke.isSentByMe?Ga=(0,we.jsx)(P.InvisibleLabel,{children:y.fbt._("You:",null,{hk:"23aeBt"})}):Ke.isGroupMsg||(Ga=(0,we.jsx)(P.InvisibleLabel,{children:y.fbt._("{author}:",[y.fbt._param("author",Ke.displayName())],{hk:"4BX1T3"})}));let Va=null;return Ke.isEphemeral&&(Va=(0,we.jsx)(P.InvisibleLabel,{children:y.fbt._("This is a disappearing message",null,{hk:"2ZKFVj"})})),(0,we.jsxs)(H.HotKeys,{className:Ta,"data-id":Ke.id.toString(),handlers:(()=>{let e,t;return Ke.asPttLike&&me.ServerProps.pttPlaybackSpeedEnabled&&(e=e=>{e.preventDefault(),e.stopPropagation(),ie.PttPrefs.increasePlaybackRateFor(Ke.id)},t=e=>{e.preventDefault(),e.stopPropagation(),ie.PttPrefs.decreasePlaybackRateFor(Ke.id)}),{enter:Jt,space:Jt,"shift+>":e,"shift+<":t}})(),onDoubleClick:e=>{const t=(0,_e.unproxy)(Ke);!t.canReply()||Be||Ie!==l.DISPLAY_TYPE.CONVERSATION||rt||st||e.target instanceof HTMLElement&&((e,t)=>{let a=t;for(;a;){if(a===e)return!0;a=a.parentNode}return!1})(Je.current,e.target)||(t.chat.composeQuotedMsg=t,s.Cmd.focusChatTextInput(t.chat),Kt())},ref:et,tabIndex:-1,onMouseOver:At,onMouseEnter:At,onMouseLeave:jt,children:[(0,we.jsx)(v.default,{transitionName:"delay-leave",children:da}),(0,we.jsxs)("div",{"data-a8n":i.default.key(Ua),className:xa,onContextMenu:e=>{e.stopPropagation()},onMouseOver:Mt,onMouseEnter:Mt,onMouseLeave:()=>{xt()&&kt()},children:[Ba,(0,we.jsx)(ae.default,{displayType:Ie,msg:Ke}),Da,ca,(0,we.jsxs)("div",{className:Ma,ref:Je,children:[Ga,(Wa=oa,(0,we.jsx)(G.default,{reason:"msg",children:(0,we.jsx)(W.default.Provider,{value:Ke.chat.groupMetadata,children:(0,we.jsx)(te.MsgComponent,{chat:Ke.chat,displayAuthor:Wa,displayType:Ie,hover:lt,isMsgVisible:Fe,maxWidth:nt.current,msg:Ke,ref:$e,position:n,getSequentialMsg:Ue,onProductClick:Ve,onMessageClick:We,forwardStickerRef:Ze})})})),(0,we.jsx)(v.default,{transitionName:ka,children:la}),ua]}),Na,Ia,Fa,Va,Sa]}),Pa,wa,Aa,ja,La]});var Wa}));t.Wrapper=Ie;const Oe=["biz_privacy_mode_init_fb","biz_privacy_mode_init_bsp","biz_privacy_mode_to_fb","biz_privacy_mode_to_bsp"];const Ne=(0,C.forwardRef)((function(e,t){const a=e.theme?Me.default[e.theme]:null,n=(0,b.default)(Me.default.msg,Me.default.msgSystem,a,{[Q.LIST_FOCUSABLE_ITEM_CLASS_NAME]:e.isFocusable}),r=(0,b.default)(Me.default.message,Me.default.messageSystem,{[Me.default.messageHidden]:e.hidden});return(0,we.jsx)("div",{className:n,tabIndex:-1,ref:t,children:(0,we.jsx)("div",{className:r,children:e.children})})}));function Re(e){return e.type===p.MSG_TYPE.STICKER&&!e.quotedMsg&&!e.ctwaContext}function De(e){return e?$.default.isRTL()?"tail-in":"tail-out":$.default.isRTL()?"tail-out":"tail-in"}t.SystemBubble=Ne,Ie.displayName="Wrapper"},82573:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaListener=function(e){const{forceUpdate:t}=e,a=(0,s.useModelValues)(e.mediaData,["isGif"]);return(0,r.useEffect)((()=>{t()}),[a,t]),null},t.SelectionListener=function(e){const{msgId:t,selectedMessages:a,parent:n}=e;return(0,i.useListener)(a,t,(e=>{n.onSelectChange(e)})),null},t.WhileFocusedListener=function(e){const{parent:t}=e;return(0,i.useListener)(n.Cmd,"scroll_to_focused_msg",((e,a)=>{t.scrollMsg(e,a)})),(0,i.useListener)(n.Cmd,"flash_focused_msg",(()=>{var e;null===(e=t.highlight)||void 0===e||e.call(t)})),(0,i.useListener)(n.Cmd,"flash_mention_msg",(()=>{var e;null===(e=t.highlightMention)||void 0===e||e.call(t)})),null};var n=a(81572),r=a(67294),i=a(87550),s=a(35461)},81250:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ALBUM_PADDING=t.ALBUM_MIN_SIZE=t.ALBUM_MAX_SIZE=t.ALBUM_MAX_HEIGHT=void 0,t.canBeGroupedAsAlbum=function(e,t){return(e.isGroupMsg?r.default.equals(e.author,t.author):r.default.equals(e.from,t.from))&&e.isForwarded===t.isForwarded&&t.t-e.t<=600},t.canBeGroupedWithNext=function(e,t){if(e.isNotification||t.isNotification)return!1;if(e.isGroupMsg)return r.default.equals(e.author,t.author)&&e.isSentByMe===t.isSentByMe;return r.default.equals(e.from,t.from)};var r=n(a(89867));t.ALBUM_MIN_SIZE=4;t.ALBUM_MAX_SIZE=102;t.ALBUM_MAX_HEIGHT=168;t.ALBUM_PADDING=3},21783:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.startOfDaySkew;if(void 0!==t&&t>r.Clock.skew-30&&t<r.Clock.skew+30)return e.startOfDay;return e.startOfDaySkew=r.Clock.skew,e.startOfDay=i.default.unix(e.t+r.Clock.skew).startOf("day").unix()};var r=a(40234),i=n(a(30381))},8590:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,l,u){let{msg:d,date:c,unread:f,album:h}=e;const p=[];let m,g=0;for(g=0;!m&&g<t.length;g++)m=t[g];g--;let _=!1,v=!1,b=m?(0,i.default)(m):0,y=0,C=g;for(;m;){const e=m;let E;v||p.push(c(e,y++)),e===n&&f&&p.push(f(l));let T,x,M,k=g+1;for(;!E&&k<t.length;k++)E=t[k];const w=[];let P,A=!1,j=!1,I=null;if(e.asGroupedSticker&&!s(e,u)){w.push(e.asGroupedSticker),j=e===a,I=0,C=g+1;const i=t[C];(null==i?void 0:i.asGroupedSticker)&&(0,r.canBeGroupedAsAlbum)(e,i)&&i!==n&&!s(i,u)&&(w.push(i.asGroupedSticker),E=t[C+1],A=!0,P=!0,i===a&&(j=!0,I=1))}if(e.asAlbumAsset&&!s(e,u)){w.push(e.asAlbumAsset);let i,o=m;for(j=m===a,C=g;C<t.length-1&&w.length<r.ALBUM_MAX_SIZE;C++){var S;if(o=t[C],i=t[C+1],!(null===(S=i)||void 0===S?void 0:S.asAlbumAsset)||!(0,r.canBeGroupedAsAlbum)(o,i)||i===n||s(i,u))break;w.push(i.asAlbumAsset),i===a&&(j=!0)}w.length>=r.ALBUM_MIN_SIZE&&(A=!0,P=!1,E=t[C+1])}if(E){const t=E;M=(0,i.default)(E),x=M===b,T=x&&(0,r.canBeGroupedWithNext)(e,t)&&E!==n}else T=!1,x=!1,M=0;if(A){let e;e=P?w.reduce(((e,t)=>`${e}-${t.id.toString()}`),"grouped-sticker-"):o(w),p.push(h(w,e,_,T,j,I)),g=C+1,m=t[g],_=T,v=x,b=M}else p.push(d(e,e===a,_,T)),g++,_=T,v=x,b=M,m=E}return p};var r=a(81250),i=n(a(21783));function s(e,t){return null==t||e.t>t.t}function o(e){const t=e.length;return`album-${e[0]?e[0].id.toString():""}-${e[t-1]?e[t-1].id.toString():""}-${t}`}},62685:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(6479)),i=n(a(48926)),s=n(a(13752)),o=n(a(45095)),l=a(81572),u=a(5177),d=a(15461),c=a(55715),f=n(a(94184)),h=a(48360),p=a(67294),m=n(a(96774)),g=n(a(12285)),_=n(a(3154)),v=n(a(8590)),b=n(a(14296)),y=a(1041),C=a(84387),S=n(a(16331)),E=a(87931),T=a(59871),x=n(a(70449)),M=a(58827),k=a(85893);const w=["msgs"],P=["msgs"];class A extends p.Component{constructor(e){var t;super(e),t=this,this._renderedMsgs={},this._renderedDateMarkers={},this._renderedAlbums={},this._renderedMsgToAlbum={},this._refUnread=(0,p.createRef)(),this._getRefUnread=()=>this._refUnread.current,this._handleRefreshMessages=()=>{this.forceUpdate()},this._handleOpenMediaViewerForAlbumMedia=e=>{const t=this._renderedMsgToAlbum[e.id.toString()];if(!t)return;if(t.isGroupedSticker())return;const a=t.props.msgs,n=new Set((a||[]).map((e=>e.id.toString()))),r=()=>{const a=t.refAlbumComponents[e.id.toString()];return null==a?void 0:a.getContainerElement()};this._renderedMsgToAlbum[e.id.toString()]&&l.Cmd.mediaViewerModal({msg:e,getZoomNode:r,highlightedMsgIds:n})},this._handleMsgKeyChange=e=>{let{newKey:t,oldKey:a}=e;const n=t.toString(),r=a.toString(),i=this._renderedMsgs[r];i&&(delete this._renderedMsgs[r],this._renderedMsgs[n]=i)},this._handleMsgRendered=(e,t)=>{e?this._renderedMsgs[t]=e:delete this._renderedMsgs[t]},this._rowRenderers={msg:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(((e,t,a,n)=>{const r=this.props;let i;i=n&&!a?E.MsgPosition.FRONT:n&&a?E.MsgPosition.MID:!n&&a?E.MsgPosition.END:E.MsgPosition.SINGLE;const s=e.type===d.MSG_TYPE.IMAGE||e.type===d.MSG_TYPE.VIDEO||e.type===d.MSG_TYPE.AUDIO;return(0,k.jsx)(M.Wrapper,{ref:t=>{this._handleMsgRendered(t,e.id.toString())},msg:e.unsafe(),displayType:u.DISPLAY_TYPE.CONVERSATION,isMsgVisible:s?r.isMsgVisible:()=>{},selectable:r.selectable,selectedMessages:r.selectedMessages,onMessageSelect:r.onMessageSelect,position:i,isFocusedMsg:t,getSequentialMsg:this.props.getSequentialMsg,isFocusable:!0},"msg-"+e.id.toString())})),album:(e,t,a,n,r,i)=>{const s=this.props;let o;return o=n&&!a?E.MsgPosition.FRONT:n&&a?E.MsgPosition.MID:!n&&a?E.MsgPosition.END:E.MsgPosition.SINGLE,(0,k.jsx)(g.default,{msgs:e,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((a=>{this._handleAlbumRendered(a,t,e)})),position:o,isMsgVisible:s.isMsgVisible,selectable:s.selectable,selectedMessages:s.selectedMessages,onMessageSelect:s.onMessageSelect,albumId:t,isFocusedAlbum:r,focusedMsgIndex:i,displayType:u.DISPLAY_TYPE.CONVERSATION,isFocusable:!0},"album-"+t)},date:(e,t)=>{const{isLoadingEarlierMsgs:a}=this.props;return(0,k.jsx)(_.default,{ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>{this._handleDateMarkerRendered(t,e)})),timestamp:e.t,isFocusable:!a||0!==t},"msg-"+e.id.toString()+"-date")},unread:()=>(0,k.jsx)(x.default,{count:this.props.unreadCount,textContainerRef:this._refUnread},"msg-unread")},this._openMsgContextMenu=e=>{if(e.target instanceof HTMLElement){var t,a;const n=null===(t=e.target.dataset)||void 0===t?void 0:t.id,r=this._renderedMsgs[n]||this._renderedAlbums[n];null==r||null===(a=r.openContextMenu)||void 0===a||a.call(r)}},this._handleBeforeEnd=(0,i.default)((function*(){yield l.Cmd.openChatBottom(t.props.chat)}));const{msgs:a}=e;this._latestMsgWhenChatOpen=a.length>0?a[a.length-1]:null}shouldComponentUpdate(e){const{msgs:t}=e,a=(0,r.default)(e,w),n=this.props,{msgs:i}=n,o=(0,r.default)(n,P);return!(0,m.default)(a,o)||!(0,s.default)(t,i)}getSnapshotBeforeUpdate(){var e;const t=this.props.getScrollContainer(),a=this.props.msgs.find((e=>this._renderedMsgs.hasOwnProperty(e.id)));if(null==a)return null;const n=a.id.toString();return{commonMessageId:n,commonMessageTop:(0,o.default)(null===(e=this.getMsgWrapperRef(n))||void 0===e?void 0:e.getContainerElement(),"this.getMsgWrapperRef(commonMessageId)?.getContainerElement()").offsetTop-t.scrollTop}}componentDidMount(){this.props.listeners.add(T.MsgCollection,"change:msgKey",this._handleMsgKeyChange),this.props.listeners.add(l.Cmd,"refresh_messages",this._handleRefreshMessages),this.props.listeners.add(l.Cmd,"open_media_viewer_for_album_media",this._handleOpenMediaViewerForAlbumMedia)}componentDidUpdate(e,t,a){const n=this.props.getScrollContainer();if(null!=a){var r;const{commonMessageId:e,commonMessageTop:t}=a,i=(0,o.default)(null===(r=this.getMsgWrapperRef(e))||void 0===r?void 0:r.getContainerElement(),"this.getMsgWrapperRef(commonMessageId)?.getContainerElement()");n.scrollTop=i.offsetTop-t}}getMsgVisibility(e){const t=this.props.getScrollContainer(),a=t.scrollTop,n=a+t.clientHeight,r=null==e?void 0:e.getContainerElement();return r?r.offsetTop+r.clientHeight<=a?{visibility:E.MSG_VISIBILITY.ABOVE,offset:r.offsetTop-a}:r.offsetTop>=n?{visibility:E.MSG_VISIBILITY.BELOW,offset:r.offsetTop-a}:{visibility:E.MSG_VISIBILITY.VISIBLE,offset:r.offsetTop-a}:(__LOG__(3)`getMsgVisibility on invalid ref: ${e}`,{visibility:E.MSG_VISIBILITY.VISIBLE,offset:0})}getMsgWrapperRef(e){return this._renderedMsgs[e]||this._renderedMsgToAlbum[e]}getMsgComponentRef(e){return this._renderedMsgs[e]?this._renderedMsgs[e].getMsgComponentRef():this._renderedMsgToAlbum[e]?this._renderedMsgToAlbum[e].refAlbumComponents[e]&&this._renderedMsgToAlbum[e].refAlbumComponents[e].getRef():void 0}getDateMarkerRef(e){return this._renderedDateMarkers[e]}_handleDateMarkerRendered(e,t){t?this._renderedDateMarkers[e]=t:delete this._renderedDateMarkers[e]}getRenderedDateMarkers(){return this._renderedDateMarkers}_handleAlbumRendered(e,t,a){e?(this._renderedAlbums[t]=e,a.forEach((t=>{this._renderedMsgToAlbum[t.id.toString()]=e}))):delete this._renderedAlbums[t]}render(){var e,t;const{msgs:a,focusedMsgCtx:n,unreadCount:r}=this.props;let i,s;n&&(i=n.msg,n.isUnreadDivider&&r>0&&(s=n.msg));const o=(0,f.default)(S.default.messageList,{[S.default.messageListSelectable]:this.props.selectable}),l={[`${b.default.LR("right","left")}`]:this._openMsgContextMenu},u=b.default.LR(h.fbt._("Message list. Press right arrow key on a message to open message context menu.",null,{hk:"liGkN"}),h.fbt._("Message list. Press left arrow key on a message to open message context menu.",null,{hk:"4FnAYZ"}));return(0,k.jsx)(y.ListHotKeys,{dataTab:c.TAB_ORDER.MESSAGE_LIST,className:o,getPriorityFocusItem:this._getRefUnread,onBeforeEnd:this._handleBeforeEnd,handlers:l,role:"region","aria-label":u,children:(0,v.default)(this._rowRenderers,a,null===(e=i)||void 0===e?void 0:e.safe(),null===(t=s)||void 0===t?void 0:t.safe(),r,this._latestMsgWhenChatOpen)})}}A.displayName="MessageList";const j=(0,C.ListenerHOC)(A);t.default=class extends j{getDateMarkerRef(e){return this.getComponent().getDateMarkerRef(e)}getMsgComponentRef(e){return this.getComponent().getMsgComponentRef(e)}getMsgWrapperRef(e){return this.getComponent().getMsgWrapperRef(e)}getMsgVisibility(e){return this.getComponent().getMsgVisibility(e)}getRenderedDateMarkers(){return this.getComponent().getRenderedDateMarkers()}}},22491:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,msgCollection:a,focusCtx:n,groupMetadata:A}=e,j=(0,o.useRef)(null);(0,w.default)(t),(0,E.default)(t),(0,C.default)(t,(()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.getRenderedMessageCount()})),(0,y.default)(),(0,M.default)(t),(0,l.useModelValues)(t,["isReadOnly","isAnnounceGrpRestrict"]);const[I,O]=(0,b.default)(t),{selectable:N,selectedMessages:R,handleSelectMessages:D,handleMessageSelect:L,handleCancelSelection:B}=(0,k.default)(t.msgs),[F,G]=(0,S.default)(t,{canCompose:I,onDragEnter:B}),{msgPanelRef:U,filler:V,handleComposeHeightChange:W}=(0,T.default)({canCompose:I,selectable:N,setScrollBottom:e=>{var t;return null===(t=j.current)||void 0===t?void 0:t.setScrollBottom(e)},getScrollBottom:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.getScrollBottom()},onComposeHeightChange:e=>{var t;return null===(t=j.current)||void 0===t?void 0:t.onComposeHeightChange(e)}}),[H,q]=(0,x.default)(t),Y=e=>{var t;null===(t=j.current)||void 0===t||t.onPageUpDown(e)};let z,K,$;H&&(null==A?void 0:A.displayedDesc)&&($=(0,P.jsx)(v.UIE,{displayName:"GroupDesc",escapable:!0,requestDismiss:q,children:(0,P.jsx)(p.default,{onClose:q,children:(0,P.jsx)(m.default,{chat:t,groupMetadata:A})})}));N?(K=(0,P.jsx)(v.UIE,{displayName:"MultiSelect",escapable:!0,requestDismiss:B,children:(0,P.jsx)(_.default,{chat:t,selectedMessages:R,disableRevoke:!1,noSortOnForward:!1,onCancel:B})}),z=(0,P.jsx)("footer",{className:h.default.footer})):z=I?(0,P.jsx)(d.default,{chat:t,ref:F,onComposeHeightChange:W,onPageUpDown:Y}):(0,P.jsx)("footer",{className:h.default.footer,children:(0,P.jsx)("div",{"data-a8n":i.default.key("block-message"),className:h.default.footerMessage,children:O})});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(c.default,{wallpaperColor:e.wallpaperColor,showDoodle:e.chatPreference.showDoodle}),(0,P.jsx)(g.default,{chat:t,contact:t.contact,onSelectMessages:D}),(0,P.jsx)(s.default,{transitionName:"butterbar",className:h.default.subheader,children:$}),(0,P.jsx)("div",{className:h.default.subheader,children:(0,P.jsx)(u.ChangeNumberNotification,{chat:t})}),(0,P.jsx)("div",(0,r.default)((0,r.default)({className:h.default.body,ref:U},G),{},{children:(0,P.jsx)(f.default,{ref:j,chat:t,selectable:N,onMessageSelect:L,msgCollection:a,onSelectMessages:D,focusCtx:n,selectedMessages:R,notifyChatRendered:e.notifyChatRendered,updateOpenedChatInfo:e.updateOpenedChatInfo})})),V,z,(0,P.jsx)(s.default,{transitionName:"slide-up",children:K})]})};var r=n(a(81109)),i=n(a(99964)),s=n(a(40436)),o=a(67294),l=a(35461),u=a(72345),d=n(a(21518)),c=n(a(91050)),f=n(a(83028)),h=n(a(64406)),p=n(a(84518)),m=n(a(404)),g=n(a(48948)),_=n(a(16351)),v=a(18644),b=n(a(86381)),y=n(a(45528)),C=n(a(49395)),S=n(a(75284)),E=n(a(95002)),T=n(a(50335)),x=n(a(34106)),M=n(a(26598)),k=n(a(78112)),w=n(a(19877)),P=a(85893)},37623:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.animateConversationPanel=function(e,t){return(0,r.default)(e,{scaleX:[1,t]},{duration:300,easing:[.1,.82,.25,1]}),1!==t};var r=n(a(62831))},23527:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94184)),i=a(48360),s=a(67294),o=a(87550),l=a(35461),u=n(a(66034)),d=n(a(91050)),c=n(a(64406)),f=n(a(22491)),h=a(37623),p=n(a(4139)),m=n(a(51099)),g=n(a(97095)),_=a(18644),v=a(89618),b=a(78123),y=a(85893);function C(e,t){const{chat:a,msgCollection:n,focusCtx:C,notifyChatRendered:S,updateOpenedChatInfo:E,showPreview:T}=e,x=(0,s.useRef)(null),M=(0,l.useModelValues)(e.chatPreference,["wallpaperColor","showDoodle"]),[k,w]=(0,s.useState)(M.wallpaperColor),[P,A]=(0,s.useState)(M.wallpaperColor);(0,o.useListener)(u.default,"wallpaper_color_preview",(e=>{w(null!=e?e:u.default.assertGet("defaultPreference").wallpaperColor)}));const j=M.wallpaperColor;P!==j&&(w(j),A(j));const I=(e,t)=>{var a;const n=null===(a=x.current)||void 0===a?void 0:a.clientWidth;return null!=n&&e!==t&&(0,h.animateConversationPanel)(x.current,n/(e-t))},O=e=>!!x.current&&x.current.contains(e);(0,s.useImperativeHandle)(t,(()=>({animatePanel:I,containsDOMNode:O})));const N={};let R;return k!==b.DEFAULT_CHAT_WALLPAPER&&(N.backgroundColor=k),a&&n?R=(0,y.jsx)(f.default,{chat:a,groupMetadata:a.groupMetadata,chatPreference:u.default.assertGet("defaultPreference"),focusCtx:C,msgCollection:n,notifyChatRendered:S,updateOpenedChatInfo:E,wallpaperColor:k},a.id.toString()):T&&(R=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("header",{className:(0,r.default)(g.default.chatHeader,p.default.header),children:(0,y.jsx)("span",{className:(0,r.default)(p.default.title,g.default.chatTitle),children:i.fbt._("Wallpaper Preview",null,{hk:"1n00VC"})})}),(0,y.jsx)(d.default,{wallpaperColor:k,showDoodle:M.showDoodle}),(0,y.jsx)("footer",{className:c.default.footer})]})),(0,y.jsx)(m.default,{reason:"conversation-panel",children:(0,y.jsx)(_.UIE,{displayName:"ConversationPanel",uimState:v.UIMState.INACTIVE,children:(0,y.jsx)("div",{id:"main",className:(0,r.default)(p.default.pane,{[p.default.previewPane]:e.showPreview}),style:N,ref:x,"data-testid":"conversation-panel-wrapper",children:R})})})}var S=(0,s.forwardRef)(C);t.default=S},86381:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,s.useState)((()=>e.canSend&&!e.isSuspendedGroup()&&!e.isTerminatedGroup())),n=()=>{a(e.canSend&&!e.isSuspendedGroup()&&!e.isTerminatedGroup())};(0,o.useListener)(e,"change:canSend",n),(0,o.useListener)(e.groupMetadata,["change:suspended","change:terminated"],n),function(e,t){const a=(0,l.default)((()=>{if((0,c.shouldBlockByCountry)(e.contact)){var t;r.ModalManager.open((0,_.jsx)(d.default,{onOK:()=>r.ModalManager.close(),okText:f.default.t(582),children:i.fbt._("This business can’t chat with phone numbers with your country code.",null,{hk:"3iYe38"})}),{transition:"modal-flow"});const a=null===(t=e.previewMessage)||void 0===t?void 0:t.isSentByMe;new h.default.GatedChatOpened({chatGatedReason:h.default.CHAT_GATED_REASON.COUNTRY,selfInitiated:a}).commit()}else if((0,g.shouldBlockByTos)(e.contact)){const t=(0,g.shouldBlockByTosB2C)(e.contact,e.previewMessage);r.ModalManager.open((0,_.jsx)(m.default,{contact:e.contact,isB2C:t}),{transition:"modal-flow"});new h.default.GatedChatOpened({chatGatedReason:h.default.CHAT_GATED_REASON.TOS3,selfInitiated:!t}).commit()}}));(0,s.useEffect)(a,[a,t])}(e,t);return[t,(0,_.jsx)(v,{chat:e})]};var r=a(14597),i=a(48360),s=a(67294),o=a(87550),l=n(a(89113)),u=n(a(48708)),d=n(a(52665)),c=a(47473),f=n(a(14296)),h=n(a(11339)),p=n(a(87234)),m=n(a(88858)),g=a(37894),_=a(85893);function v(e){let{chat:t}=e;const{contact:a,mute:n,isGroup:r,isReadOnly:s,isAnnounceGrpRestrict:o,isPSA:l,groupMetadata:d}=t;return(0,c.shouldBlockByCountry)(a)?i.fbt._("This business can’t chat with phone numbers with your country code.",null,{hk:"3tFX8"}):(0,g.shouldBlockByTos)(a)?f.default.t(903,{contact:a.formattedName}):r&&!(null==d?void 0:d.participants.iAmMember())?f.default.t(751):t.isSuspendedGroup()?(0,_.jsx)(p.default,{}):r&&!s&&o&&d?(0,_.jsx)(u.default,{chat:t,groupMetadata:d,mute:n}):r&&(null==d?void 0:d.support)?f.default.t(751):l?f.default.t(880):f.default.t(752,{contact:a.formattedName})}},45528:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,c.default)();(0,d.useListener)(i.Cmd,"chat_info_drawer",((t,a,n)=>{s.DrawerManager.openDrawerRight((0,D.jsx)(S.InfoFlowLoadable,{chat:t,showFullGroupDescription:a,scrollToParticipantList:n,profileEntryPoint:k.default.PROFILE_ENTRY_POINT.CHAT_MENU},`info-${t.id.toString()}`),"slide-left",e)})),(0,d.useListener)(i.Cmd,"msg_info_drawer",(t=>{I.Stream.displayInfo===I.StreamInfo.NORMAL?t.chat.kind===p.CHAT_KIND.CHAT?s.DrawerManager.openDrawerRight((0,D.jsx)(v.ContactMsgInfoFlowLoadable,{msg:t}),"slide-left",e):s.DrawerManager.openDrawerRight((0,D.jsx)(C.GroupMsgInfoFlowLoadable,{msg:t}),"slide-left",e):l.ToastManager.open((0,D.jsx)(O.Toast,{msg:u.fbt._("Couldn't display message info. Try again later.",null,{hk:"mRFf6"}),id:(0,O.genId)("msg_info_failed")}))})),(0,d.useListener)(i.Cmd,"chat_search",(t=>{s.DrawerManager.openDrawerRight((0,D.jsx)(m.default,{chat:t}),"slide-left",e)})),(0,d.useListener)(i.Cmd,"attach_media_drawer",(t=>{let{chat:a,attachments:n,animationName:i,initCaption:o,onComplete:l,fileOrigin:u,sendAsSticker:d}=t;const c=()=>{const e=a.attachMediaContents;e&&n&&(u?e.processAttachments(n,u):(__LOG__(3)`ChatActionListener:onAttachMediaDrawer fileOrigin is not specified, fallback to default`,e.processAttachments(n,k.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)))};s.DrawerManager.existsDrawerMid((t=>{if(t)return void c();a.attachMediaContents||a.setAttachMediaContents(new f.default({chatParticipantCount:a.getParticipantCount()}));const n=(0,r.default)(a.attachMediaContents,"chat.attachMediaContents");s.DrawerManager.openDrawerMid((0,D.jsx)(h.AttachMediaFlowLoadable,{chat:a,onComplete:l,initCaption:o,mediaCollection:n,sendAsSticker:d}),i||"slide-up",e,{noFocus:!0,onEnterAnimationComplete:c})}))})),(0,d.useListener)(i.Cmd,"verification_drawer",(t=>{s.DrawerManager.openDrawerRight((0,D.jsx)(N.VerificationDrawerLoadable,{contact:_.ContactCollection.assertGet(t),isFirstLevel:!0}),"slide-left",e)})),(0,d.useListener)(i.Cmd,"live_location_drawer",((t,a)=>{var n;(null===(n=t.liveLocation)||void 0===n?void 0:n.active)||s.DrawerManager.openDrawerRight((0,D.jsx)(E.LiveLocationDrawerLoadable,{chat:t,openFrom:a,isFirstLevel:!0}),"slide-left",e)})),(0,d.useListener)(i.Cmd,"media_viewer_modal",(t=>{const{msg:a,getZoomNode:n,currentTime:i,highlightedMsgIds:s}=t;w.MsgCollection.get(a.id)?o.ModalManager.openMedia((0,D.jsx)(x.MediaViewerFlowLoadable,{msg:a,startTime:i,getZoomNode:n,highlightedMsgIds:s}),{transition:"media-viewer",uim:(0,r.default)(e,"uim")}):o.ModalManager.open((0,D.jsx)(T.default,{msg:a}))})),(0,d.useListener)(i.Cmd,"expired_location_drawer",(t=>{s.DrawerManager.openDrawerRight((0,D.jsx)(E.ExpiredLocationDrawerLoadable,{msg:t}),"slide-left",e)})),(0,d.useListener)(i.Cmd,"ephemeral_drawer",((t,a,n)=>{const r=t.isGroup?k.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.GROUP_CHAT_DISAPPEARING_MESSAGES_SETTING:k.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.INDIVIDUAL_CHAT_DISAPPEARING_MESSAGES_SETTING;s.DrawerManager.openDrawerRight((0,D.jsx)(y.default,{chat:t,showNux:a,entryPoint:n,onDDMSettingsClick:()=>(t=>{s.DrawerManager.openDrawerRight((0,D.jsx)(b.default,{onClose:()=>s.DrawerManager.closeDrawerRight(),entryPoint:t}),"slide-left",e)})(r)}),"slide-left",e)})),(0,d.useListener)(i.Cmd,"voip_start_group_call",((e,t)=>{var a,n;const r=(null!==(a=null===(n=e.groupMetadata)||void 0===n?void 0:n.participants)&&void 0!==a?a:[]).map((e=>e.contact.id)),i=(0,D.jsx)(A.default,{isVideo:t,groupParticipants:r,onStartGroupCall:e=>R.Voip.groupCallStart(e,t)});o.ModalManager.open(i,{transition:"modal-flow"})})),(0,d.useListener)(i.Cmd,"merchant_details_drawer",(t=>{s.DrawerManager.openDrawerRight((0,D.jsx)(M.MerchantDetailsFlowLoadable,{contactId:t},"legal-entity-details"),"slide-left",e)})),(0,d.useListener)(i.Cmd,"open_sticker_pack",(t=>{s.DrawerManager.openDrawerRight((0,D.jsx)(j.StickerStoreFlowLoadable,{stickerPackId:t,onSticker:P.default}),"slide-left",e)})),(0,d.useListener)(i.Cmd,"open_community_home",(t=>{s.DrawerManager.openDrawerLeft((0,D.jsx)(g.CommunityHome,{jid:t}),"slide-left",e)}))};var r=n(a(45095)),i=a(81572),s=a(41455),o=a(14597),l=a(94816),u=a(48360),d=a(87550),c=n(a(95402)),f=n(a(14075)),h=a(30087),p=a(63183),m=n(a(62857)),g=a(4903),_=a(19380),v=a(63463),b=n(a(43250)),y=n(a(30305)),C=a(64326),S=a(23831),E=a(74429),T=n(a(20668)),x=a(11603),M=a(28629),k=n(a(11339)),w=a(59871),P=n(a(98248)),A=n(a(29535)),j=a(76626),I=a(8080),O=a(50452),N=a(49376),R=a(84356),D=a(85893)},49395:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=(0,r.default)((()=>new l.default.UiAction({uiActionType:l.default.UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0}))).current,n=(0,r.default)((()=>new l.default.WebcChatOpen({webcUnreadCount:e.unreadCount,webcWindowHeightFloat:(0,s.default)()}))).current,f=(0,r.default)((()=>d.QPL.markerStart(c.QuickLogMarkerId.CHAT_OPEN,{annotations:{int:{unreadMessageCount:e.unreadCount,windowHeight:(0,s.default)()}},closePreviousMarkerWithAction:d.QuickLogActionType.ABORTED,instanceKeyOption:d.QplInstanceKeyOptions.AUTO_INCREMENT}).instanceKey)).current;(0,i.default)({onMount(){var r;const i=t();null!=i&&(n.webcRenderedMessageCount=i),n.markWebcChatOpenT(),d.QPL.markerPoint(c.QuickLogMarkerId.CHAT_OPEN,"chat_open",{instanceKey:f}),e.isGroup&&null!=(null===(r=e.groupMetadata)||void 0===r?void 0:r.cachedDeviceSizeBucket)&&(a.sizeBucket=e.groupMetadata.cachedDeviceSizeBucket,Object.assign(a,(0,o.getGroupMetricsFromGroupMetadata)(e.groupMetadata))),a.markUiActionT(),a.commit(),(0,u.logUiActionShadowPrivateStatsTestEvents)()},onBeforePaint(){n.markWebcChatOpenBeforePaintT(),d.QPL.markerPoint(c.QuickLogMarkerId.CHAT_OPEN,"painted_start",{instanceKey:f})},onAfterPaint(){const e=t();null!=e&&(n.webcFinalRenderedMessageCount=e,d.QPL.markerAnnotate(c.QuickLogMarkerId.CHAT_OPEN,{int:{finalRenderedMessageCount:e}},{instanceKey:f})),n.markWebcChatOpenPaintedT(),d.QPL.markerPoint(c.QuickLogMarkerId.CHAT_OPEN,"painted_end",{instanceKey:f}),n.commit(),d.QPL.markerEnd(c.QuickLogMarkerId.CHAT_OPEN,d.QuickLogActionType.SUCCESS,{instanceKey:f})},onUnmount(){d.QPL.markerEnd(c.QuickLogMarkerId.CHAT_OPEN,d.QuickLogActionType.CANCEL,{instanceKey:f})},onError(){d.QPL.markerEnd(c.QuickLogMarkerId.CHAT_OPEN,d.QuickLogActionType.FAIL,{instanceKey:f})}})};var r=n(a(16223)),i=n(a(828)),s=n(a(21018)),o=a(42515),l=n(a(11339)),u=a(7595),d=a(48870),c=a(27798)},75284:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{canCompose:a,onDragEnter:n}=t,o=(0,i.useRef)(!1),l=(0,i.useRef)(null);return[l,{onDragStart:()=>{a&&(o.current=!0)},onDragEnd:()=>{a&&(o.current=!1)},onDragEnter:t=>{if(!a)return;n();const i=new s.default(t.dataTransfer),u=l.current;null!=u&&!o.current&&(i.hasType("Files")||i.hasType("text/uri-list")||i.hasType("text/html"))&&(u.flushSaveComposeContentDebounced(),r.Cmd.attachMediaDrawer({chat:e,initCaption:u.getCurrentComposeContent(),onComplete:u.updateTextAfterMediaDrawerClose}),t.stopPropagation(),t.preventDefault())}}]};var r=a(81572),i=a(67294),s=n(a(92726))},95002:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t]=(0,o.default)(l.NUX.EPHEMERAL);let a=null;t&&(e.isGroup&&null!=e.groupMetadata?a=e.groupMetadata:e.isUser&&(a=e));const n=()=>{t&&e.isEphemeralSettingOn()&&r.Cmd.ephemeralDrawer(e,!0)};(0,i.useEffect)(n,[]),(0,s.useListener)(a,"change:ephemeralDuration",n)};var r=a(81572),i=a(67294),s=a(87550),o=n(a(59732)),l=a(61653)},50335:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{canCompose:t,selectable:a,setScrollBottom:r,getScrollBottom:h,onComposeHeightChange:m}=e,g=(0,d.useRef)(null),_=(0,d.useRef)(0),v=(0,d.useRef)(null),b=(0,d.useRef)(),y=(0,d.useRef)(!1);(0,d.useEffect)((()=>{t||(_.current=0)}),[t]);const C=()=>Math.max(0,_.current),S=()=>{const e=C();g.current&&(g.current.style.height=`${e}px`)};let E;a?E=(0,f.jsx)("div",{ref:g,className:(0,c.default)(p)}):t&&(E=(0,f.jsx)("div",{ref:g,style:{height:`${C()}px`},className:(0,c.default)(p)}));return{msgPanelRef:v,filler:E,handleComposeHeightChange:(e,t)=>{var a;let{input:d,overlay:c=0}=e;const f=v.current,p=h();if(!f||null==p)return;if(void 0!==d)return void m(d);if(t)return _.current=c,S(),void r(p);var g;(_.current+=c,c<0&&(S(),r(p)),b.current)&&(y.current=!0,null===(g=b.current)||void 0===g||g.controller.abort());const C=new n,E=C.signal,T=((null===(a=b.current)||void 0===a?void 0:a.promise)||Promise.resolve()).then((()=>(0,u.default)(f,{translateY:c>0?[-c,0]:[0,c]},{duration:300,easing:[.1,.82,.25,1]}))),x=(0,o.default)(T,E).catch((0,s.filteredCatch)(l.Unmount,(()=>{}))).then((()=>{if(E.aborted)throw new i.AbortError;c>0&&S(),f.style.transform="",c>0&&r(p)})).catch((0,i.catchAbort)((()=>{(0,u.default)(f,"finish",!0)}))).then((()=>{y.current?y.current=!1:b.current=void 0}));b.current={promise:x,controller:C}}}};var i=a(89385),s=a(50796),o=r(a(47259)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),u=r(a(62831)),d=a(67294),c=r(a(56720)),f=a(85893);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const p={flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",flexBasis:"lb5m6g5c",order:"e3u7tipa"}},34106:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,i.useState)((()=>!(!e.isGroup||s.ServerProps.groupDescLength<=0||(0,r.getSeenGroupDesc)(e.id))&&((0,r.setSeenGroupDesc)(e.id),0===e.unreadCount?!e.msgs.some((e=>e.type!==n.MSG_TYPE.E2E_NOTIFICATION&&e.type!==n.MSG_TYPE.GP2)):!e.shouldShowUnreadDivider)));return[t,()=>{a(!1)}]};var n=a(15461),r=a(55452),i=a(67294),s=a(64551)},78112:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,s.useState)(!1),n=(0,o.default)((()=>new i.default([],(e=>e.id.toString())))),u=()=>{a(!0)},d=(t,a,i)=>{u();const s=n.current.getSelected().pop(),o=null==i?void 0:i.shiftKey;n.current.setVal(t,a,!0),o&&((t,a,i)=>{if(!t||!e)return;const s=e.indexOf(t);if(!s)return;let o=e.indexOf(a);const l=o>s?-1:1,u=s+(i?l:o<s?0:2*l);for(;o!==u;)n.current.setVal((0,r.default)(e.at(o),"msgCollection.at(currentSelectedIndex)").safe(),i,!0),o+=l})(s,t,a)};return(0,l.useListener)(e,"remove",(e=>{n.current.isSelected(e)&&d(e,!1)})),{selectable:t,selectedMessages:n.current,handleSelectMessages:u,handleMessageSelect:d,handleCancelSelection:()=>{t&&(n.current.unsetAll(),a(!1))}}};var r=n(a(45095)),i=n(a(78931)),s=a(67294),o=n(a(16223)),l=a(87550)},19877:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.useEffect)((()=>{const t=e.getReceivedVcardMsgs();if(t&&!t.isSynced&&t.sync(e),e.active=!0,e.attachMediaContents){const t=e.attachMediaContents.isStickerMaker;n.Cmd.attachMediaDrawer({chat:e,animationName:"noop",sendAsSticker:t})}return e.isSuspendedGroup()&&(0,i.openSuspendedGroupModal)(),()=>{e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),e.active=!1}}),[])};var n=a(81572),r=a(67294),i=a(43745)},24317:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{recordingSession:t,onComplete:a}=e,n=(0,u.useRef)(),[s,j]=(0,u.useState)((()=>{switch(t.state){case C.RecordingSessionState.PAUSED:return x.PREVIEW;case C.RecordingSessionState.RECORDING:return x.RECORDER;default:throw new Error(`Invalid recording session state: ${t.state}`)}})),[D,L]=(0,u.useState)((()=>s===x.PREVIEW?t.getAudioForPlayback():null)),B=()=>{L(null),null==D||D.dispose()},F=null==D?void 0:D.getAudio(),G=(0,u.useRef)(),U=(0,u.useRef)(),V=(0,u.useRef)(t);V.current=t;const W=(0,c.default)(t,"change:duration",(()=>Math.floor(t.duration))),[H,q]=(0,u.useState)((()=>Math.floor((null==F?void 0:F.currentTime)||0))),[Y,z]=(0,u.useState)((()=>0===((null==F?void 0:F.currentTime)||0))),K=e=>{q(Math.floor(e)),z(0===e)};(0,f.useListener)(F,"timeupdate",(()=>{var e;K(null!==(e=null==F?void 0:F.currentTime)&&void 0!==e?e:0)}));const[$,Q]=(0,u.useState)(null),{exceedsMinDuration:X,isRecording:J}=(0,h.useModelValues)(t,["exceedsMinDuration","isRecording"]);(0,f.useListener)(t,"change:state",(()=>{t.state!==C.RecordingSessionState.STOPPED&&t.state!==C.RecordingSessionState.ERROR||a()}));const Z=(0,c.default)(F,["play","pause"],(()=>null!=F&&!F.paused)),ee=function(){const[e,t]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),250),a=()=>{t(!1),n()};window.addEventListener("mouseup",a);const n=()=>{window.removeEventListener("mouseup",a),clearTimeout(e)};return n}),[]),e}();(0,u.useEffect)((()=>{J&&setTimeout((()=>{var e;null===(e=G.current)||void 0===e||e.focus()}),100)}),[J]),(0,u.useEffect)((()=>{s===x.PREVIEW&&(V.current.markDraftPreviewSeen(),setTimeout((()=>{var e;null===(e=U.current)||void 0===e||e.focus()}),100))}),[s]),(0,p.default)((()=>{null==F||F.pause(),B(),t.pause()})),(0,f.useListener)(t,"change:isRecording",(()=>{if(t.isRecording)return;if(t.state!==C.RecordingSessionState.PAUSED)return;B();const e=t.getAudioForPlayback();L(e),K(0),j(x.PREVIEW)}));const te=()=>{t.incrementPauseButtonCount(),t.pause()},ae=()=>{t.incrementPauseButtonCount(),t.pause()},ne=()=>{(0,r.default)((function*(){null==F||F.pause(),j(x.RECORDER);(yield t.resume())||j(x.PREVIEW)}))()};(0,f.useListener)(F,"ended",(()=>{(0,i.default)(F,"audio").load()}));const re=(0,u.useCallback)((()=>{var e;return null!==(e=null==F?void 0:F.currentTime)&&void 0!==e?e:0}),[F]),ie=(0,m.default)((()=>t.getPreciseDuration())),se=(0,m.default)((()=>t.duration)),oe=(0,m.default)((()=>t.getLiveWaveformSamples())),le=(0,m.default)((()=>t.getCorrectedWaveformSamples())),ue=(0,m.default)((e=>{K(e),Q(null),(0,i.default)(F,"audio").currentTime=e,t.incrementDraftSeekCount()})),de=(0,m.default)((e=>{Q(Math.floor(e))}));let ce,fe;S.ServerProps.pttPausableEnabled?fe=(0,T.jsx)("div",{className:(0,d.default)(w),children:(0,T.jsx)(_.PttPauseAndResumeRecordingButton,{recording:s===x.RECORDER,confirmOnMouseUp:ee,onConfirm:s===x.RECORDER?ae:ne})}):ce=(0,T.jsx)("div",{className:(0,d.default)(w),children:(0,T.jsx)(y.PttStopButton,{confirmOnMouseUp:ee,onConfirm:te})});const he=(0,T.jsxs)("div",{className:(0,d.default)(P),children:[(0,T.jsx)(R,{time:W}),(0,T.jsx)("div",{className:(0,d.default)(I,O),children:(0,T.jsx)(E.Waveform,{location:E.WaveformLocation.DRAFT_PREVIEW,sampleRate:t.getWaveformSampleRate(),getSamples:oe,getCurrentTime:re,getDuration:ie,live:J,mode:E.WaveformMode.RECORDER,onSeek:de,onSeekEnd:ue,tabIndex:o.TAB_ORDER.PTT_BUTTON})}),ce]}),pe=null!=$?$:Y?W:H,me=(0,T.jsxs)("div",{className:(0,d.default)(A),children:[(0,T.jsx)(v.PttPlayPauseButton,{ref:U,theme:"compose-box",paused:!Z,onConfirm:()=>{const e=(0,i.default)(F,"audio");e.paused?(e.play(),t.incrementDraftPlayCount()):e.pause()}}),(0,T.jsx)("div",{className:(0,d.default)(I,N),children:(0,T.jsx)(E.Waveform,{location:E.WaveformLocation.DRAFT_PREVIEW,sampleRate:t.getWaveformSampleRate(),getSamples:le,getCurrentTime:re,getDuration:se,live:Z,mode:E.WaveformMode.PREVIEW,onSeek:de,onSeekEnd:ue,tabIndex:o.TAB_ORDER.PTT_BUTTON})}),(0,T.jsx)(R,{time:pe})]});return(0,T.jsxs)("div",{ref:n,className:(0,d.default)(M),children:[(0,T.jsx)(g.PttCancelButton,{ref:G,confirmOnMouseUp:ee,onConfirm:()=>{t.stop(C.RecordingSessionStopReason.CANCEL_BUTTON)}}),(0,T.jsx)("div",{className:(0,d.default)(k),children:(0,T.jsxs)(l.default,{transitionName:"fade",children:[s===x.RECORDER?he:null,s===x.PREVIEW?me:null]})}),fe,(0,T.jsx)(b.PttSendButton,{disabled:!X,confirmOnMouseUp:ee,onConfirm:()=>{t.send()}})]})};var r=n(a(48926)),i=n(a(45095)),s=a(40234),o=a(55715),l=n(a(40436)),u=a(67294),d=n(a(56720)),c=n(a(96570)),f=a(87550),h=a(35461),p=n(a(55010)),m=n(a(89113)),g=a(50270),_=a(90601),v=a(16538),b=a(91921),y=a(22234),C=a(70597),S=a(64551),E=a(89470),T=a(85893);const x=a(76672).Mirrored(["RECORDER","PREVIEW"]),M={display:"p357zi0d",alignItems:"gndfcl4n",width:"ln8gz9je",maxWidth:"ba1bgrqy"},k={position:"g0rxnol2",display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",alignItems:"gndfcl4n",height:"db4qzak4"},w={display:"p357zi0d",marginEnd:"oz083wsx"},P={position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",marginStart:"g9zvcdbd"},A={position:"lhggkp7q",top:"qq0sjtgm",end:"ebjesfe0",bottom:"jxacihee",start:"tkdu00h0",display:"p357zi0d",alignItems:"gndfcl4n",marginEnd:"oz083wsx",marginStart:"tigrmefi",backgroundColor:"lbzzw5jd",borderTop:"b16c6ymn",borderEnd:"q1alctvk",borderBottom:"at9xyjjq",borderStart:"q568nw76",borderTopStartRadius:"tt8exp03",borderTopEndRadius:"jdimvq34",borderBottomEndRadius:"nnr224yo",borderBottomStartRadius:"g0zx2qg0",direction:"btzd6xh9",paddingRight:"n9ozkf7y",paddingLeft:"osvl0z4i"},j={minWidth:"rgvqn4sm",fontSize:"p9fp32ui"},I={display:"p357zi0d",flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",flexBasis:"rjo8vgbg",height:"stnyektq"},O={marginEnd:"spjzgwxb",marginStart:"qnz2jpws"},N={marginRight:"b0ysteiu",marginLeft:"ro9hr2xy"};function R(e){return(0,T.jsx)("div",{className:(0,d.default)(j),role:"timer",children:s.Clock.durationStr(e.time)})}},31718:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{ariaLabel:t,value:a,valueText:n,min:h,max:p,smallSkip:m,largeSkip:g,onChange:_,onCommit:v,disabled:b,children:y,tabIndex:C,inset:S=[0,0]}=e,E=(0,d.default)(),[T,x]=(0,o.useState)(!1),M=(0,o.useCallback)((()=>{x(!0)}),[x]),k=(0,o.useCallback)((()=>{x(!1)}),[x]),w=(0,o.useRef)(),P=(0,o.useRef)(),A=(0,o.useRef)(),j=e=>{const t=(0,i.default)(P.current,"minPxRef.current"),a=(0,i.default)(A.current,"maxPxRef.current"),n=e.clientX,s=(0,r.default)((n-t)/(a-t),0,1);return h+s*(p-h)},I=(0,u.default)((e=>{e.preventDefault(),null==_||_(j(e))})),O=(0,u.default)((e=>{if(0!==e.button)return;k();const t=j(e);null==_||_(t),v(t)}));return(0,o.useEffect)((()=>{if(T)return window.addEventListener("mousemove",I),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",O)}}),[I,O,T]),(0,c.jsx)("div",{ref:w,className:(0,l.default)(f.base,!0===b&&f.disabled,E&&f.isKeyboardUser),role:"slider","aria-label":t,"aria-valuenow":a,"aria-valuetext":n,"aria-valuemin":h,"aria-valuemax":p,"data-tab":C,tabIndex:"0",onMouseDown:e=>{var t;if(0!==e.button)return;if(b)return;e.preventDefault();const a=(0,i.default)(null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect(),"containerRef.current?.getBoundingClientRect()"),[n,r]=S;P.current=a.left+n,A.current=a.left+a.width-r,M(),null==_||_(j(e))},onKeyDown:e=>{if(b)return;let t;switch(e.key){case s.KEYBOARD_EVENT_KEY_VALUE.ARROW_RIGHT:case s.KEYBOARD_EVENT_KEY_VALUE.ARROW_UP:t=m;break;case s.KEYBOARD_EVENT_KEY_VALUE.ARROW_LEFT:case s.KEYBOARD_EVENT_KEY_VALUE.ARROW_DOWN:t=-m;break;case s.KEYBOARD_EVENT_KEY_VALUE.PAGE_UP:t=g;break;case s.KEYBOARD_EVENT_KEY_VALUE.PAGE_DOWN:t=-g}if(null!=t){e.preventDefault();const n=(0,r.default)(a+t,h,p);v(n)}},children:y})};var r=n(a(74691)),i=n(a(45095)),s=a(38069),o=a(67294),l=n(a(56720)),u=n(a(89113)),d=n(a(46603)),c=a(85893);const f={base:{cursor:"ajgl1lbb"},disabled:{cursor:"h2qzpyga"},isKeyboardUser:{":focus":{borderTopStartRadius:"mmjxyicr",borderTopEndRadius:"r1jx4bdh",borderBottomEndRadius:"f9yclydc",borderBottomStartRadius:"mtzt60z0",boxShadow:"esbo3we0"}}}},44693:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OpusRecorderState=t.OpusRecorder=void 0;var i=r(a(81109)),s=r(a(48926)),o=r(a(45095)),l=r(a(89350)),u=r(a(56624));const d={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},c=a(76672).Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]);t.OpusRecorderState=c;function f(e){const t=e.reduce(((e,t)=>e+t.length),0),a=new Uint8Array(t);let n=0;for(const t of e)a.set(t,n),n+=t.length;return new Blob([a],{type:"audio/ogg; codecs=opus"})}function h(){return(h=(0,s.default)((function*(e,t,a,n){const r=yield e(n);if(n.aborted||null==r)return!1;const i=t.createMediaStreamSource(r);return a.forEach((e=>{i.connect(e)})),n.addEventListener("abort",(()=>{r.getTracks().forEach((e=>{e.stop()})),i.disconnect()}),{once:!0}),!0}))).apply(this,arguments)}t.OpusRecorder=class{constructor(e){if(this._duration=0,this._recordedPages=[],this._state=c.INACTIVE,this._isFirstBuffer=!1,this._requestCount=0,this._pendingFlushResolvers=new Map,this._handleEncoderMessage=e=>{const{data:t}=e;switch(t.message){case"page":this._storePage(t.page);break;case"flushed":this._handleFlushed(t.requestId);break;default:throw new Error(`Invalid message event type: ${t.message}`)}},!Boolean(window.AudioContext&&u.default))throw new Error("Recording is not supported in this browser");this._createStream=e.createStream,this._onDuration=e.onDuration,this._onPause=e.onPause,this._onResume=e.onResume,this._onStart=e.onStart,this._onStop=e.onStop,this._completeRecordingPromise=new Promise((e=>{this._resolveCompleteRecordingPromise=e})),this._audioContext=new AudioContext,this._encoderNode=this._audioContext.createScriptProcessor(d.bufferLength,d.numberOfChannels,d.numberOfChannels),this._encoderNode.onaudioprocess=e=>{this._encodeBuffers(e.inputBuffer)},this._monitorNode=this._audioContext.createGain()}getState(){return this._state}start(){var e=this;return(0,s.default)((function*(){var t,a;switch(e._state){case c.RECORDING:return!0;case c.STOPPED:return!1;case c.PAUSED:return e.resume();case c.INACTIVE:}e._recordedPages=[],e._isFirstBuffer=!0,e._duration=0;const n=new l.default;e._encoder=n,n.addEventListener("message",e._handleEncoderMessage);return!!(yield e._startRecording())&&(null===(t=e._onStart)||void 0===t||t.call(e),null===(a=e._onDuration)||void 0===a||a.call(e,e._duration),n.postMessage({command:"encode-init",config:(0,i.default)((0,i.default)({},d),{},{originalSampleRate:e._audioContext.sampleRate})}),e._encoderNode.connect(e._audioContext.destination),!0)}))()}stop(){var e,t;this._state!==c.STOPPED&&(this._state=c.STOPPED,null===(e=this._recordingAbortController)||void 0===e||e.abort(),this._audioContext.close&&this._audioContext.close(),this._monitorNode.disconnect(),this._encoderNode.disconnect(),null===(t=this._encoder)||void 0===t||t.postMessage({command:"encode-done"}))}pause(){var e,t;this._state===c.RECORDING&&(this._state=c.PAUSED,null===(e=this._recordingAbortController)||void 0===e||e.abort(),null===(t=this._onPause)||void 0===t||t.call(this))}resume(){var e=this;return(0,s.default)((function*(){var t;switch(e._state){case c.RECORDING:return!0;case c.STOPPED:return!1;case c.INACTIVE:throw new Error("Attempting to resume recording that hasn't started");case c.PAUSED:}return!!(yield e._startRecording())&&(null===(t=e._onResume)||void 0===t||t.call(e),!0)}))()}getDuration(){return this._duration}getMonitorNode(){return this._monitorNode}_encodeBuffers(e){var t;if(this._isFirstBuffer)return void(this._isFirstBuffer=!1);if(this._state!==c.RECORDING)return;const a=[];for(let t=0;t<e.numberOfChannels;t++)a[t]=e.getChannelData(t);(0,o.default)(this._encoder,"this._encoder").postMessage({command:"encode",buffers:a}),this._duration+=e.duration,null===(t=this._onDuration)||void 0===t||t.call(this,this._duration)}_getNextRequestId(){return this._requestCount++,this._requestCount}_startRecording(){var e=this;return(0,s.default)((function*(){e._state=c.RECORDING,e._recordingAbortController=new n;return!!(yield function(){return h.apply(this,arguments)}(e._createStream,e._audioContext,[e._encoderNode,e._monitorNode],e._recordingAbortController.signal))||(e.stop(),!1)}))()}_storePage(e){if(this._recordedPages.push(e),4&e[5]){var t;(0,o.default)(this._encoder,"this._encoder").removeEventListener("message",this._handleEncoderMessage),this._resolveCompleteRecordingPromise(f(this._recordedPages)),this._recordedPages=[],null===(t=this._onStop)||void 0===t||t.call(this)}}_handleFlushed(e){const t=(0,o.default)(this._pendingFlushResolvers.get(e),"this._pendingFlushResolvers.get(requestId)");this._pendingFlushResolvers.delete(e),t(f(this._recordedPages))}getPartialRecording(){const e=this._getNextRequestId(),t=new Promise((t=>{this._pendingFlushResolvers.set(e,t)}));return(0,o.default)(this._encoder,"this._encoder").postMessage({command:"flush",requestId:e}),t}getCompleteRecording(){return this._completeRecordingPromise}}},52039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{start(){this._startTime=Date.now()}stop(){this._stopTime=Date.now()}pause(){this.stop()}resume(){this._startTime=Date.now()-this.getTime(),this._stopTime=null}getTime(){var e;const t=this._startTime;if(null==t)return 0;return(null!==(e=this._stopTime)&&void 0!==e?e:Date.now())-t}}},69547:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=a(44693),s=n(a(27574));t.default=class{constructor(e){this._handleOpusRecorderDuration=()=>{var e;this._waveformRecorder.commitSamples(this.getDuration()),null===(e=this._onDuration)||void 0===e||e.call(this,this.getDuration())},this._onDuration=e.onDuration,this._opusRecorder=new i.OpusRecorder({createStream:e.createStream,onDuration:this._handleOpusRecorderDuration}),this._waveformRecorder=new s.default(this._opusRecorder.getMonitorNode(),e.waveformSampleRate)}start(){var e=this;return(0,r.default)((function*(){return!!(yield e._opusRecorder.start())&&(e._waveformRecorder.start(),!0)}))()}stop(){this._opusRecorder.stop(),this._waveformRecorder.stop()}pause(){this._opusRecorder.pause(),this._waveformRecorder.pause()}resume(){var e=this;return(0,r.default)((function*(){return!!(yield e._opusRecorder.resume())&&(e._waveformRecorder.resume(),!0)}))()}getDuration(){return this._opusRecorder.getDuration()}getPreciseDuration(){var e;return null!==(e=this._waveformRecorder.getDuration())&&void 0!==e?e:0}getLiveWaveformSamples(){return this._waveformRecorder.getSamples()}getCorrectedWaveformSamples(){return this._waveformRecorder.getCorrectedSamples()}getPartialRecording(){return this._opusRecorder.getPartialRecording()}getCompleteRecording(){return this._opusRecorder.getCompleteRecording()}}},27574:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=n(a(73540)),s=n(a(52039)),o=n(a(40958));t.default=class{constructor(e,t){this._durationTimer=new s.default,this._samples=[],this._correctedSamples=[],this._pendingAmplitude=0,this._updateSamples=()=>{this._pendingAmplitude=Math.max(this._pendingAmplitude,this._getCurrentAmplitude());const e=this._samples.length/this._sampleRate,t=Math.floor((this.getDuration()-e)*this._sampleRate);if(0!==t){for(let e=0;e<t;e++)this._samples.push(this._pendingAmplitude);this._pendingAmplitude=0}},this._committedSamplesRangeEnd=0,this._analyserNode=function(e){const t=e.context.createAnalyser();return t.fftSize=32,t.smoothingTimeConstant=0,t.minDecibels=-60,t.maxDecibels=-10,t}(e),e.connect(this._analyserNode),this._sampleRate=t}start(){this._durationTimer.start(),this._startSamplesUpdater()}stop(){var e;this._durationTimer.stop(),null===(e=this._stopSamplesUpdater)||void 0===e||e.call(this)}pause(){var e;this._durationTimer.pause(),null===(e=this._stopSamplesUpdater)||void 0===e||e.call(this)}resume(){this._durationTimer.resume(),this._startSamplesUpdater()}_startSamplesUpdater(){this._stopSamplesUpdater=(0,i.default)(this._updateSamples)}_getCurrentAmplitude(){var e;const t=(0,r.default)(this._analyserNode,"this._analyserNode");this._analyserData=null!==(e=this._analyserData)&&void 0!==e?e:new Uint8Array(t.frequencyBinCount);const a=this._analyserData;return t.getByteFrequencyData(a),Math.max(...Array.from(a))/255}commitSamples(e){const t=Math.floor(e*this._sampleRate)-this._correctedSamples.length,a=this._samples.length-this._committedSamplesRangeEnd;if(0===t||0===a)return;const n=this._samples.slice(this._committedSamplesRangeEnd,this._samples.length),r=(0,o.default)(n,t);for(const e of r)this._correctedSamples.push(e);this._committedSamplesRangeEnd=this._samples.length}getSamples(){return this._samples}getDuration(){var e;return(null!==(e=this._durationTimer.getTime())&&void 0!==e?e:0)/1e3}getCorrectedSamples(){return this._correctedSamples}}},70597:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RecordingSessionStopReason=t.RecordingSessionState=t.RecordingSession=t.AudioResource=void 0,t.createRecordingSession=function(e){return new G({_chat:e.chat})};var r=n(a(48926)),i=n(a(59854)),s=a(89385),o=a(50796),l=n(a(45095)),u=n(a(47259)),d=a(22712),c=a(72541),f=a(92574),h=N(a(35232)),p=a(14597),m=n(a(34475)),g=a(48360),_=n(a(41143)),v=a(11290),b=a(60868),y=n(a(52665)),C=a(18671),S=a(78986),E=N(a(61849)),T=a(16737),x=n(a(11339)),M=n(a(34949)),k=a(371),w=a(67880),P=n(a(69547)),A=n(a(40958)),j=a(64551),I=a(85893);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const R=a(76672).Mirrored(["NOT_STARTED","RECORDING","PAUSED","STOPPED","ERROR"]);t.RecordingSessionState=R;const D=a(76672).Mirrored(["CANCEL_BUTTON","PTT_TOO_SHORT","SENT","OTHER"]);t.RecordingSessionStopReason=D;class L extends v.BaseModel{constructor(){super(...arguments),this.duration=(0,v.prop)(0),this.exceedsMinDuration=(0,v.prop)(!1),this.state=(0,v.prop)(R.NOT_STARTED),this._draftPreviewSeen=(0,v.prop)(!1),this._draftPlayCount=(0,v.prop)(0),this._draftSeekCount=(0,v.prop)(0),this._pauseCount=(0,v.prop)(0),this._stopTapCount=(0,v.prop)(0),this.isRecording=(0,v.derived)((function(){return this.state===R.RECORDING}),["state"])}initialize(){super.initialize();let e=null;this.on("change:isRecording",(()=>{var t;this.isRecording?(e=d.MainAudioChannel.claim(this,(()=>{this.pause()})),(0,k.markRecording)(this._chat)):(null===(t=e)||void 0===t||t(),(0,k.markPaused)(this._chat))}))}start(){var e=this;return(0,r.default)((function*(){switch(e.state){case R.NOT_STARTED:break;case R.RECORDING:return!0;case R.PAUSED:return e.resume();case R.STOPPED:case R.ERROR:throw new Error(`Can't start recording from state ${e.state}`)}e.state=R.RECORDING;try{e._recorder=new P.default({createStream:U,waveformSampleRate:e.getWaveformSampleRate(),onDuration:t=>{e.duration=t,e.exceedsMinDuration=t>=1}});if(yield e._recorder.start())return a(68315).PresenceCollection.update(e._chat.presence.id).catch((0,o.filteredCatch)(f.WebdDrop,(()=>{}))),(0,w.incrementPttDailyCount)(w.PttDailyCountKind.RECORD,(0,l.default)(e._chat.kind,"_this._chat.kind")),!0}catch(e){__LOG__(4,void 0,new Error)`PTT Recording Error\n${(0,m.default)(e)}`}return e._endSession(),e.state=R.ERROR,!1}))()}getLiveWaveformSamples(){var e,t;return null!==(e=null===(t=this._recorder)||void 0===t?void 0:t.getLiveWaveformSamples())&&void 0!==e?e:[]}getCorrectedWaveformSamples(){var e,t;return null!==(e=null===(t=this._recorder)||void 0===t?void 0:t.getCorrectedWaveformSamples())&&void 0!==e?e:[]}getScaledWaveformSamples(){return(0,A.default)(this.getCorrectedWaveformSamples(),64).map((e=>Math.floor(100*e)))}getPreciseDuration(){var e,t;return null!==(e=null===(t=this._recorder)||void 0===t?void 0:t.getPreciseDuration())&&void 0!==e?e:0}_endSession(){var e;null===(e=this._recorder)||void 0===e||e.stop()}pause(){if(this.state!==R.RECORDING)return;if(!this.exceedsMinDuration)return void this.stop(D.PTT_TOO_SHORT);this.state=R.PAUSED;(0,l.default)(this._recorder,"this._recorder").pause()}resume(){var e=this;return(0,r.default)((function*(){switch(e.state){case R.RECORDING:return!0;case R.PAUSED:break;case R.NOT_STARTED:case R.STOPPED:case R.ERROR:throw new Error(`Can't resume recording from state ${e.state}`)}e.state=R.RECORDING;try{const t=(0,l.default)(e._recorder,"_this2._recorder");return!!(yield t.resume())||(e.state=R.PAUSED,!1)}catch(t){return e.state=R.ERROR,__LOG__(4,void 0,new Error)`Error resuming recording session\n${(0,m.default)(t)}`,!1}}))()}stop(e){if(this.state===R.STOPPED)return;if(this.state=R.STOPPED,this._endSession(),null==this._recorder)return;e===D.SENT?(0,w.incrementPttDailyCount)(w.PttDailyCountKind.SEND,(0,l.default)(this._chat.kind,"this._chat.kind")):this.duration>1&&(0,w.incrementPttDailyCount)(w.PttDailyCountKind.CANCEL,(0,l.default)(this._chat.kind,"this._chat.kind"));const t=function(e){switch(e){case D.SENT:return x.default.PTT_RESULT_TYPE.SENT;case D.PTT_TOO_SHORT:return x.default.PTT_RESULT_TYPE.TOO_SHORT;case D.CANCEL_BUTTON:return x.default.PTT_RESULT_TYPE.CANCELLED;case D.OTHER:return null}}(e);null!=t&&this._sendPttWamEvent(t)}_getDataForSending(){var e=this;return(0,r.default)((function*(){const t=(0,l.default)(e._recorder,"_this3._recorder"),a=yield t.getCompleteRecording();return M.default.createFromData(a,a.type)}))()}_getDataForPlayback(){var e=this;return(0,r.default)((function*(){const t=(0,l.default)(e._recorder,"_this4._recorder"),a=yield t.getPartialRecording(),n=yield(0,T.transcode)(a);return M.default.createFromData(n,n.type)}))()}getAudioForPlayback(){return new W((()=>this._getDataForPlayback()))}getWaveformSampleRate(){return 8.5}send(){var e=this;return(0,r.default)((function*(){const t=(0,l.default)(e._recorder,"_this5._recorder"),a=e._chat,n=(0,u.default)(e._getDataForSending(),a.deleteSignal),r=a.getComposeContents().ctwaContext||void 0;(0,S.prepRawMedia)(n,{isPtt:!0,precomputedFields:{duration:Math.floor(t.getDuration()),waveform:new Uint8Array(e.getScaledWaveformSamples())}}).sendToChat(a,{quotedMsg:a.composeQuotedMsg||void 0,addEvenWhilePreparing:!0,ctwaContext:r}),a.composeQuotedMsg=null,e.stop(D.SENT),yield n.catch((0,s.catchAbort)((()=>{})))}))()}_sendPttWamEvent(e){var t=this;return(0,r.default)((function*(){var a;const n=(0,l.default)(t._recorder,"_this6._recorder"),r=yield n.getCompleteRecording();new x.default.Ptt({pttSource:x.default.PTT_SOURCE_TYPE.FROM_CONVERSATION,pttResult:e,pttDuration:1e3*Math.round(t.duration),pttSize:(0,i.default)(null!==(a=r.size)&&void 0!==a?a:0,-3),pttStop:t._draftPreviewSeen,pttDraftPlayCnt:t._draftPlayCount,pttDraftSeekCnt:t._draftSeekCount,pttPauseCnt:t._pauseCount,pttStopTapCnt:t._stopTapCount}).commit()}))()}markDraftPreviewSeen(){this._draftPreviewSeen||(this._draftPreviewSeen=!0,(0,w.incrementPttDailyCount)(w.PttDailyCountKind.DRAFT_REVIEW,(0,l.default)(this._chat.kind,"this._chat.kind")))}incrementDraftPlayCount(){this._draftPlayCount++}incrementDraftSeekCount(){this._draftSeekCount++}incrementPauseButtonCount(){j.ServerProps.pttPausableEnabled?(this._pauseCount++,1===this._pauseCount&&(0,w.incrementPttDailyCount)(w.PttDailyCountKind.PAUSED_RECORD,(0,l.default)(this._chat.kind,"this._chat.kind"))):(this._stopTapCount++,(0,_.default)(1===this._stopTapCount,"User interaction should stop the recording a max of one time"),(0,w.incrementPttDailyCount)(w.PttDailyCountKind.STOP_TAP,(0,l.default)(this._chat.kind,"this._chat.kind")))}}function B(){return F.apply(this,arguments)}function F(){return(F=(0,r.default)((function*(){return!0}))).apply(this,arguments)}L.Proxy="recordingSession";const G=(0,v.defineModel)(L);function U(){return V.apply(this,arguments)}function V(){return(V=(0,r.default)((function*(e){if(!(yield B())||e.aborted)return null;if(b.CallCollection.activeCall)return p.ModalManager.open((0,I.jsx)(y.default,{onOK:()=>p.ModalManager.close(),children:g.fbt._("Can’t record voice messages during a WhatsApp call.",null,{hk:"3ODyzJ"})})),null;const{disposeStream:t,asyncStream:a}=E.start("microphone");e.addEventListener("abort",(()=>{t()}),{once:!0});try{return yield a}catch(e){if(e instanceof h.GUM.NotAllowedError)return p.ModalManager.open((0,I.jsx)(C.GuidePopup,{messaging:C.Messaging.MIC_FAIL,type:C.TYPE.GUIDE_UNBLOCK})),null;if(e instanceof h.GUM.GUMError)return p.ModalManager.open((0,I.jsx)(C.GuidePopup,{messaging:C.Messaging.MIC_MISSING,type:C.TYPE.GUIDE_NONE})),null;throw e}}))).apply(this,arguments)}t.RecordingSession=G;class W{constructor(e){var t=this;this._opaqueDataPromise=e();const a=c.AudioManager.createAudioProxy();this._audio=a,this._unregisterFromAudioChannel=d.MainAudioChannel.registerMedia(a),(0,r.default)((function*(){const e=yield t._opaqueDataPromise,a=t._audio;null!=a&&(a.src=e.url())}))()}getAudio(){return(0,_.default)(null!=this._audio,"Audio used after disposal"),this._audio}dispose(){var e=this;null!=this._audio&&(this._unregisterFromAudioChannel(),this._audio=null,(0,r.default)((function*(){(yield e._opaqueDataPromise).autorelease()}))())}}t.AudioResource=W},40958:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t===e.length?e:0===t?[]:0===e.length?new Array(t).fill(0):t>e.length?function(e,t){let a;if((0,r.default)(t>e.length,`${t} not greater than ${e.length}`),1===e.length)a=0;else{const n=(t-e.length)/(e.length-1);a=1/(1+n)}const n=[];t>=1&&n.push(e[0]);for(let r=1;r<t-1;r++){const t=r*a,o=Math.floor(t);n.push((i=e[o],s=e[Math.ceil(t)],i+(s-i)*(t-o)))}var i,s;t>=2&&n.push(e[e.length-1]);return n}(e,t):function(e,t){(0,r.default)(t<e.length,`${t} not less than ${e.length}`);const a=[],n=t/e.length;let i=0,s=0,o=0;for(const t of e)i+=t,o+=1,s+=n,s>=1&&(a.push(i/o),o=0,i=0,s-=1);o>0&&a.push(i/o);return a}(e,t)};var r=n(a(41143))},89470:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Waveform=function(e){const[t,{width:a,height:n}]=(0,p.default)(),i=0===a||0===n?null:(0,b.jsx)(T,(0,r.default)((0,r.default)({},e),{},{width:a,height:n}));return(0,b.jsx)("div",{ref:t,className:(0,u.default)(S),children:(0,b.jsx)("div",{className:(0,u.default)(E),children:i})})},t.WaveformMode=t.WaveformLocation=void 0;var r=n(a(81109)),i=n(a(88306)),s=n(a(45095)),o=a(40234),l=a(67294),u=n(a(56720)),d=n(a(65789)),c=n(a(51799)),f=n(a(74744)),h=n(a(16223)),p=n(a(48711)),m=n(a(71443)),g=n(a(31718)),_=n(a(40958)),v=a(97628),b=a(85893);const y=a(76672).Mirrored(["DRAFT_PREVIEW","INCOMING_UNPLAYED_MESSAGE","INCOMING_PLAYED_MESSAGE","OUTGOING_UNPLAYED_MESSAGE","OUTGOING_PLAYED_MESSAGE"]);t.WaveformLocation=y;const C=a(76672).Mirrored(["RECORDER","PREVIEW"]);t.WaveformMode=C;const S={position:"g0rxnol2",flexGrow:"ggj6brxn"},E={position:"lhggkp7q",top:"qq0sjtgm",start:"tkdu00h0"};const T=e=>{const t=(0,l.useRef)(),{getSamples:a,sampleRate:n,width:r,height:i,getCurrentTime:u,getDuration:p,live:y,location:S,mode:E,onSeek:T,onSeekEnd:N,disabled:R,tabIndex:D,skipThumb:L}=e,B=(0,f.default)(),{theme:F}=(0,l.useContext)(v.ThemeContext),G=O(F,S),[U,V]=(0,l.useState)(null),[W,H]=(0,l.useState)({value:u(),max:p()}),q=(0,c.default)((()=>{H({value:u(),max:p()})}),500),Y=(0,l.useCallback)((()=>{q(),q.flush()}),[q]);(0,l.useEffect)((()=>{E===C.PREVIEW&&Y()}),[E,Y]);const z=(0,h.default)((()=>{const e=(0,m.default)((e=>{let{samples:t,inputSize:a,desiredSize:n}=e;return(0,_.default)(t,n)}));return(t,a)=>e({samples:t,inputSize:t.length,desiredSize:a})})),K=(0,l.useCallback)((()=>{q(),function(e){const{canvas:t,width:a,height:n,currentTime:r,duration:i,sampleRate:s,colors:o,mode:l,pixelRatio:u,scaleSamples:d}=e;let c,f,h,p;const m=0===i?0:r/i;if(l===C.RECORDER){c=e.samples;const t=a-i*s*k;f=t>0?0:Math.floor(-t/k),h=t+f*k,p=a}else{c=d(e.samples,j(a));const[t,n]=I(a);h=t-1.25-M,f=0;const r=t-1.25;p=r+m*(a-n+1.25-r)}const g=t.getContext("2d");g.lineCap="round",g.setTransform(u,0,0,u,0,0),g.clearRect(0,0,a,n);for(let e=f;e<c.length;e++){const t=h+(e-f)*k+M;let r;if(l===C.PREVIEW)r=1;else{const e=t,n=a-(t+x);r=A(e<n?Math.min(1,e/7):Math.min(1,n/14))}const i=Math.max(0,r*(w+c[e]*(n-w)));P(g,o,t,(n-i)/2,x,i,p)}if(l===C.PREVIEW&&!e.skipThumb){const[e,t]=I(a);!function(e,t,a,n){e.beginPath(),e.arc(t,a,6,0,2*Math.PI,!1),e.fillStyle=n,e.fill()}(g,e+m*(a-t-e),n/2,o.thumb)}}({canvas:(0,s.default)(t.current,"canvasRef.current"),samples:a(),width:r,height:i,currentTime:null!=U?U:u(),duration:p(),sampleRate:n,colors:G,mode:E,pixelRatio:B,scaleSamples:z.current,skipThumb:null!=L&&L})}),[t,a,r,i,u,U,p,n,G,E,q,B,z,L]);(0,d.default)(K,{active:y}),(0,l.useEffect)((()=>{y||K()}),[y,K]);const $=(0,l.useCallback)((e=>{null==T||T(e),V(e),K()}),[V,T,K]),Q=(0,l.useCallback)((e=>{V(null),null==T||T(e),N(e),K(),Y()}),[V,T,N,K,Y]),X=(0,b.jsx)("canvas",{ref:t,width:B*r,height:B*i,style:{width:`${r}px`,height:`${i}px`}});if(E===C.RECORDER)return X;const{value:J,max:Z}=W,ee=o.Clock.durationStr(J)+"/"+o.Clock.durationStr(Z);return(0,b.jsx)(g.default,{value:J,valueText:ee,min:0,max:Z,smallSkip:1,largeSkip:10,onChange:$,onCommit:Q,disabled:R,tabIndex:D,inset:I(r),children:X})},x=2.5,M=.9,k=4.3,w=x;function P(e,t,a,n,r,i,s){if(0===r||0===i)return;const o=Math.min(r/2,i/2),l=s>=a+r?t.barColorPlayed:t.barColorUnplayed;i<=r?(e.fillStyle=l,e.beginPath(),e.arc(a+r/2,n+i/2,o,0,2*Math.PI),e.fill()):(e.strokeStyle=l,e.lineWidth=2*o,e.beginPath(),e.moveTo(a+r/2,n+o),e.lineTo(a+r/2,n+i-o),e.stroke()),s>a&&s<a+r&&(e.globalCompositeOperation="source-atop",e.fillStyle=t.barColorPlayed,e.rect(a,n,s-a,i),e.fill(),e.globalCompositeOperation="source-over")}function A(e){return e<.5?4*e*e*e:1-(-2*e+2)**3/2}function j(e){return Math.floor((e-12)/k)}function I(e){const t=(e-k*(j(e)-1))/2;return[t,t]}const O=(0,i.default)(((e,t)=>({barColorUnplayed:N("barColorUnplayed",t),barColorPlayed:N("barColorPlayed",t),thumb:N("thumb",t)})),((e,t)=>`${e} ${t}`));function N(e,t){return getComputedStyle((0,s.default)(document.body,"document.body")).getPropertyValue((0,s.default)(R.get(t),"CSS_VARIABLE_NAMES.get(location)")[e]).trim()}const R=new Map([[y.DRAFT_PREVIEW,{barColorUnplayed:"--ptt-waveform-preview-unplayed",barColorPlayed:"--ptt-waveform-preview-played",thumb:"--ptt-draft-thumb"}],[y.INCOMING_UNPLAYED_MESSAGE,{barColorUnplayed:"--ptt-waveform-incoming-unplayed",barColorPlayed:"--ptt-waveform-incoming-played",thumb:"--ptt-thumb-incoming-unplayed"}],[y.INCOMING_PLAYED_MESSAGE,{barColorUnplayed:"--ptt-waveform-incoming-unplayed",barColorPlayed:"--ptt-waveform-incoming-played",thumb:"--ptt-thumb-incoming-played"}],[y.OUTGOING_UNPLAYED_MESSAGE,{barColorUnplayed:"--ptt-waveform-outgoing-unplayed",barColorPlayed:"--ptt-waveform-outgoing-played",thumb:"--ptt-thumb-outgoing-unplayed"}],[y.OUTGOING_PLAYED_MESSAGE,{barColorUnplayed:"--ptt-waveform-outgoing-unplayed",barColorPlayed:"--ptt-waveform-outgoing-played",thumb:"--ptt-thumb-outgoing-played"}]])},63639:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{onConfirm:a}=e,n=null!==(t=e.disabled)&&void 0!==t&&t;return(0,d.jsx)("button",{"data-a8n":r.default.key("ptt-ready-btn"),className:l.default.btnPtt,onMouseDown:e=>{0===e.button&&a()},onKeyPress:e=>{e.key!==i.KEYBOARD_EVENT_KEY_VALUE.ENTER&&e.key!==i.KEYBOARD_EVENT_KEY_VALUE.SPACE||(e.preventDefault(),e.stopPropagation(),a())},disabled:n,"aria-label":o.fbt._("Voice message",null,{hk:"3xevvy"}),"data-tab":n?void 0:s.TAB_ORDER.PTT_BUTTON,children:(0,d.jsx)(u.default,{name:"ptt"})})};var r=n(a(99964)),i=a(38069),s=a(55715),o=a(48360),l=n(a(45086)),u=n(a(23217)),d=a(85893)},40639:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,l.default)(),a=(0,d.useModelValues)(e.chat,["id","isPSA","shouldAppearInList","trusted","isGroup","vcardDismissed"]),n=(0,d.useModelValues)(e.contact,["id","isBusiness","verifiedLevel","formattedName","businessProfile"]);(0,u.useListener)(h.BlocklistCollection,["add","remove","reset"],t);const E=()=>{(0,b.sendSpamReport)(a,s.SpamFlow.Chat),i.ModalManager.close()},T=()=>{(0,b.sendSpamExitClear)(a,s.SpamFlow.Block),i.ModalManager.close()},x=()=>{(0,b.sendSpamBlockClear)(a,s.SpamFlow.Block),i.ModalManager.close()},M=()=>{i.ModalManager.open((0,C.jsx)(v.default,{isGroupChat:!0,onReport:E,onReportExitClear:T,onCancel:()=>i.ModalManager.close()}))},k=()=>{r.Cmd.deleteOrExitChat(a)},w=()=>{i.ModalManager.open((0,C.jsx)(v.default,{isBusiness:n.isBusiness,isGroupChat:!1,onReport:E,onReportBlockClear:x,onCancel:()=>i.ModalManager.close()}))},P=()=>{(0,c.blockContact)(n).catch((()=>{})),i.ModalManager.close()},A=()=>{(0,b.sendSpamReport)(a,s.SpamFlow.Block),(0,c.blockContact)(n).catch((()=>{})),i.ModalManager.close()},j=()=>{(0,b.sendNotSpam)(a,!0).catch((()=>{}))},I=()=>{i.ModalManager.open((0,C.jsx)(f.default,{contact:n,onCancel:()=>i.ModalManager.close(),onBlock:P,onReportSpamBlock:A}))},O=()=>{(0,c.unblockContact)(n).catch((()=>{})),i.ModalManager.close()},N=()=>{i.ModalManager.open((0,C.jsx)(g.default,{okText:_.default.t(681),onOK:O,cancelText:o.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>i.ModalManager.close(),children:_.default.t(682,{contact:n.formattedName})}))};if(a.isPSA||!a.shouldAppearInList||a.trusted)return null;const R=h.BlocklistCollection.get(a.id);let D;const L=[];if(a.isGroup)D=_.default.t(382),L.push((0,C.jsx)("div",{className:y.default.button,children:(0,C.jsx)(m.default,{type:"plain-white",onClick:M,children:o.fbt._("Report",null,{hk:"18ssTb"})})},"report_spam")),L.push((0,C.jsx)("div",{className:y.default.button,children:(0,C.jsx)(m.default,{type:"plain-white",onClick:k,children:o.fbt._("Exit group",null,{hk:"4BkPNr"})})},"exit_group")),L.push((0,C.jsx)(S,{onClick:j}));else{if(D=(0,C.jsx)("div",{className:y.default.text,children:_.default.t(658)}),n.isBusiness){const e=n.verifiedLevel===p.VERIFIED_LEVEL.HIGH?o.fbt._("This official business account is not in your contact list.",null,{hk:"4B5PLS"}):o.fbt._("This business account is not in your contact list.",null,{hk:"3VQ61G"});D=(0,C.jsx)("div",{className:y.default.text,children:e})}L.push((0,C.jsx)("div",{className:y.default.button,children:(0,C.jsx)(m.default,{type:"plain-white",onClick:w,children:o.fbt._("Report",null,{hk:"18ssTb"})})},"report_spam")),R?L.push((0,C.jsx)("div",{className:y.default.button,children:(0,C.jsx)(m.default,{onClick:N,type:"plain-white",children:_.default.t(681)})},"unblock")):L.push((0,C.jsx)("div",{className:y.default.button,children:(0,C.jsx)(m.default,{onClick:I,type:"plain-white",children:_.default.t(148)})},"block")),L.push((0,C.jsx)(S,{onClick:j}))}return(0,C.jsxs)("div",{className:y.default.spam,children:[D,(0,C.jsx)("div",{className:y.default.controls,children:L})]})};var r=a(81572),i=a(14597),s=a(87674),o=a(48360),l=n(a(59312)),u=a(87550),d=a(35461),c=a(80140),f=n(a(58836)),h=a(32826),p=a(93170),m=n(a(39770)),g=n(a(52665)),_=n(a(14296)),v=n(a(30934)),b=a(19569),y=n(a(41975)),C=a(85893);function S(e){let{onClick:t}=e;return(0,C.jsx)("div",{className:y.default.button,children:(0,C.jsx)(m.default,{onClick:t,type:"plain-white",children:o.fbt._("OK",null,{hk:"2KEeHb"})})},"not_spam")}},87234:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,d.jsx)("span",{role:"button",onClick:()=>{r.ModalManager.close(),r.ModalManager.open((0,d.jsx)(o.default,{onCancel:c,onSend:f,supportTag:u.SUSPENDED_GROUP_SUPPORT_TAG}),{transition:"modal-flow"})},className:s.default.adminBtn,children:i.fbt._("WhatsApp Support",null,{hk:"3gjAA2"})});return(0,d.jsx)(l.default,{id:670,params:{support:e}})};var r=a(14597),i=a(48360),s=n(a(99041)),o=n(a(50485)),l=n(a(56074)),u=a(43745),d=a(85893);const c=()=>{},f=()=>{}},43745:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SUSPENDED_GROUP_SUPPORT_TAG=void 0,t.openSuspendedGroupModal=function(){const e=(0,c.jsx)(l.ExternalLink,{href:`${r.FAQ_BASE_URL}/${"cxt/?entrypointid=group-no-longer-available&platform=web"}&lang=${u.default.getLocale()}`,children:s.fbt._("Learn more",null,{hk:"2JIdcX"})}),t=()=>{},a=()=>{};i.ModalManager.open((0,c.jsxs)(d.default,{title:s.fbt._("Group unavailable",null,{hk:"3XmS1y"}),onSupportClicked:()=>{i.ModalManager.close(),i.ModalManager.open((0,c.jsx)(o.default,{onCancel:t,onSend:a,supportTag:f}),{transition:"modal-flow"})},onDismissClicked:()=>{i.ModalManager.close()},children:[s.fbt._("This group is no longer available. Please contact WhatsApp Support for help.",null,{hk:"Al9PB"})," ",e]}),{transition:"modal-flow"})};var r=a(21310),i=a(14597),s=a(48360),o=n(a(50485)),l=a(12591),u=n(a(14296)),d=n(a(27021)),c=a(85893);const f="group-suspend-appeal";t.SUSPENDED_GROUP_SUPPORT_TAG=f},64099:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{dismissVcardPanel:t}=e,a=(0,s.useModelValues)(e.chat,["receivedVcardMsgs"]),n=(0,o.default)(),h=a.receivedVcardMsgs;return(0,f.jsxs)("div",{className:c.default.vcard,children:[(0,f.jsx)(d.default,{id:371,plural:h.length}),(0,f.jsxs)("div",{className:c.default.controls,children:[(0,f.jsx)(l.default,{onClick:()=>{r.DrawerManager.openDrawerRight((0,f.jsx)(u.default,{chat:a}),"slide-left",n)},type:"plain-white",children:(0,f.jsx)(d.default,{id:710,plural:h.length})}),(0,f.jsx)(l.default,{onClick:t,type:"plain-white",children:i.fbt._("No thanks",null,{hk:"1k76zP"})})]})]})};var r=a(41455),i=a(48360),s=a(35461),o=n(a(95402)),l=n(a(39770)),u=n(a(96464)),d=n(a(56074)),c=n(a(27311)),f=a(85893)},66035:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SMILEYS_PEOPLE:["😀","😃","😄","😁","😆","🥹","😅","😂","🤣","🥲","☺️","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🥸","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😶‍🌫️","😱","😨","😰","😥","😓","🤗","🤔","🫣","🤭","🫢","🫡","🤫","🫠","🤥","😶","🫥","😐","🫤","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😮‍💨","😵","😵‍💫","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🫶","🤲","👐","🙌","👏","🤝","👍","👎","👊","✊","🤛","🤜","🤞","✌️","🫰","🤟","🤘","👌","🤌","🤏","🫳","🫴","👈","👉","👆","👇","☝️","✋","🤚","🖐️","🖖","👋","🤙","🫲","🫱","💪","🦾","🖕","✍️","🙏","🫵","🦶","🦵","🦿","💄","💋","👄","🫦","🦷","👅","👂","🦻","👃","👣","👁️","👀","🫀","🫁","🧠","🗣️","👤","👥","🫂","👶","👧","🧒","👦","👩","🧑","👨","👩‍🦱","🧑‍🦱","👨‍🦱","👩‍🦰","🧑‍🦰","👨‍🦰","👱‍♀️","👱","👱‍♂️","👩‍🦳","🧑‍🦳","👨‍🦳","👩‍🦲","🧑‍🦲","👨‍🦲","🧔‍♀️","🧔","🧔‍♂️","👵","🧓","👴","👲","👳‍♀️","👳","👳‍♂️","🧕","👮‍♀️","👮","👮‍♂️","👷‍♀️","👷","👷‍♂️","💂‍♀️","💂","💂‍♂️","🕵️‍♀️","🕵️","🕵️‍♂️","👩‍⚕️","🧑‍⚕️","👨‍⚕️","👩‍🌾","🧑‍🌾","👨‍🌾","👩‍🍳","🧑‍🍳","👨‍🍳","👩‍🎓","🧑‍🎓","👨‍🎓","👩‍🎤","🧑‍🎤","👨‍🎤","👩‍🏫","🧑‍🏫","👨‍🏫","👩‍🏭","🧑‍🏭","👨‍🏭","👩‍💻","🧑‍💻","👨‍💻","👩‍💼","🧑‍💼","👨‍💼","👩‍🔧","🧑‍🔧","👨‍🔧","👩‍🔬","🧑‍🔬","👨‍🔬","👩‍🎨","🧑‍🎨","👨‍🎨","👩‍🚒","🧑‍🚒","👨‍🚒","👩‍✈️","🧑‍✈️","👨‍✈️","👩‍🚀","🧑‍🚀","👨‍🚀","👩‍⚖️","🧑‍⚖️","👨‍⚖️","👰‍♀️","👰","👰‍♂️","🤵‍♀️","🤵","🤵‍♂️","👸","🫅","🤴","🥷","🦸‍♀️","🦸","🦸‍♂️","🦹‍♀️","🦹","🦹‍♂️","🤶","🧑‍🎄","🎅","🧙‍♀️","🧙","🧙‍♂️","🧝‍♀️","🧝","🧝‍♂️","🧌","🧛‍♀️","🧛","🧛‍♂️","🧟‍♀️","🧟","🧟‍♂️","🧞‍♀️","🧞","🧞‍♂️","🧜‍♀️","🧜","🧜‍♂️","🧚‍♀️","🧚","🧚‍♂️","👼","🤰","🫄","🫃","🤱","👩‍🍼","🧑‍🍼","👨‍🍼","🙇‍♀️","🙇","🙇‍♂️","💁‍♀️","💁","💁‍♂️","🙅‍♀️","🙅","🙅‍♂️","🙆‍♀️","🙆","🙆‍♂️","🙋‍♀️","🙋","🙋‍♂️","🧏‍♀️","🧏","🧏‍♂️","🤦‍♀️","🤦","🤦‍♂️","🤷‍♀️","🤷","🤷‍♂️","🙎‍♀️","🙎","🙎‍♂️","🙍‍♀️","🙍","🙍‍♂️","💇‍♀️","💇","💇‍♂️","💆‍♀️","💆","💆‍♂️","🧖‍♀️","🧖","🧖‍♂️","💅","🤳","💃","🕺","👯‍♀️","👯","👯‍♂️","🕴️","👩‍🦽","🧑‍🦽","👨‍🦽","👩‍🦼","🧑‍🦼","👨‍🦼","🚶‍♀️","🚶","🚶‍♂️","👩‍🦯","🧑‍🦯","👨‍🦯","🧎‍♀️","🧎","🧎‍♂️","🏃‍♀️","🏃","🏃‍♂️","🧍‍♀️","🧍","🧍‍♂️","👫","👭","👬","👩‍❤️‍👨","👩‍❤️‍👩","💑","👨‍❤️‍👨","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","💏","👨‍❤️‍💋‍👨","👨‍👩‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧‍👧","👨‍👨‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧‍👧","👩‍👦","👩‍👧","👩‍👧‍👦","👩‍👦‍👦","👩‍👧‍👧","👨‍👦","👨‍👧","👨‍👧‍👦","👨‍👦‍👦","👨‍👧‍👧","🪢","🧶","🧵","🪡","🧥","🥼","🦺","👚","👕","👖","🩲","🩳","👔","👗","👙","🩱","👘","🥻","🩴","🥿","👠","👡","👢","👞","👟","🥾","🧦","🧤","🧣","🎩","🧢","👒","🎓","⛑️","🪖","👑","💍","👝","👛","👜","💼","🎒","🧳","👓","🕶️","🥽","🌂"],ANIMALS_NATURE:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐻‍❄️","🐨","🐯","🦁","🐮","🐷","🐽","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🪱","🐛","🦋","🐌","🐞","🐜","🪰","🪲","🪳","🦟","🦗","🕷️","🕸️","🦂","🐢","🐍","🦎","🦖","🦕","🐙","🦑","🦐","🦞","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🦭","🐊","🐅","🐆","🦓","🦍","🦧","🦣","🐘","🦛","🦏","🐪","🐫","🦒","🦘","🦬","🐃","🐂","🐄","🐎","🐖","🐏","🐑","🦙","🐐","🦌","🐕","🐩","🦮","🐕‍🦺","🐈","🐈‍⬛","🪶","🐓","🦃","🦤","🦚","🦜","🦢","🦩","🕊️","🐇","🦝","🦨","🦡","🦫","🦦","🦥","🐁","🐀","🐿️","🦔","🐾","🐉","🐲","🌵","🎄","🌲","🌳","🌴","🪵","🌱","🌿","☘️","🍀","🎍","🪴","🎋","🍃","🍂","🍁","🪺","🪹","🍄","🐚","🪸","🪨","🌾","💐","🌷","🌹","🥀","🪷","🌺","🌸","🌼","🌻","🌞","🌝","🌛","🌜","🌚","🌕","🌖","🌗","🌘","🌑","🌒","🌓","🌔","🌙","🌎","🌍","🌏","🪐","💫","⭐","🌟","✨","⚡","☄️","💥","🔥","🌪️","🌈","☀️","🌤️","⛅","🌥️","☁️","🌦️","🌧️","⛈️","🌩️","🌨️","❄️","☃️","⛄","🌬️","💨","💧","💦","🫧","☔","☂️","🌊","🌫️"],FOOD_DRINK:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🫑","🌽","🥕","🫒","🧄","🧅","🥔","🍠","🥐","🥯","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🫓","🥪","🥙","🧆","🌮","🌯","🫔","🥗","🥘","🫕","🥫","🫙","🍝","🍜","🍲","🍛","🍣","🍱","🥟","🦪","🍤","🍙","🍚","🍘","🍥","🥠","🥮","🍢","🍡","🍧","🍨","🍦","🥧","🧁","🍰","🎂","🍮","🍭","🍬","🍫","🍿","🍩","🍪","🌰","🥜","🫘","🍯","🥛","🫗","🍼","🫖","☕","🍵","🧃","🥤","🧋","🍶","🍺","🍻","🥂","🍷","🥃","🍸","🍹","🧉","🍾","🧊","🥄","🍴","🍽️","🥣","🥡","🥢","🧂"],ACTIVITY:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🪃","🥅","⛳","🪁","🛝","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛼","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️‍♀️","🏋️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸","🤸‍♂️","⛹️‍♀️","⛹️","⛹️‍♂️","🤺","🤾‍♀️","🤾","🤾‍♂️","🏌️‍♀️","🏌️","🏌️‍♂️","🏇","🧘‍♀️","🧘","🧘‍♂️","🏄‍♀️","🏄","🏄‍♂️","🏊‍♀️","🏊","🏊‍♂️","🤽‍♀️","🤽","🤽‍♂️","🚣‍♀️","🚣","🚣‍♂️","🧗‍♀️","🧗","🧗‍♂️","🚵‍♀️","🚵","🚵‍♂️","🚴‍♀️","🚴","🚴‍♂️","🏆","🥇","🥈","🥉","🏅","🎖️","🏵️","🎗️","🎫","🎟️","🎪","🤹‍♀️","🤹","🤹‍♂️","🎭","🩰","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🪘","🎷","🎺","🪗","🎸","🪕","🎻","🎲","♟️","🎯","🎳","🎮","🎰","🧩"],TRAVEL_PLACES:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🛻","🚚","🚛","🚜","🦯","🦽","🦼","🩼","🛴","🚲","🛵","🏍️","🛺","🛞","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","🛟","⚓","🪝","⛽","🚧","🚦","🚥","🚏","🗺️","🗿","🗽","🗼","🏰","🏯","🏟️","🎡","🎢","🎠","⛲","⛱️","🏖️","🏝️","🏜️","🌋","⛰️","🏔️","🗻","🏕️","⛺","🛖","🏠","🏡","🏘️","🏚️","🏗️","🏭","🏢","🏬","🏣","🏤","🏥","🏦","🏨","🏪","🏫","🏩","💒","🏛️","⛪","🕌","🕍","🛕","🕋","⛩️","🛤️","🛣️","🗾","🎑","🏞️","🌅","🌄","🌠","🎇","🎆","🌇","🌆","🏙️","🌃","🌌","🌉","🌁"],OBJECTS:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🪫","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","🪙","💰","💳","🪪","💎","⚖️","🪜","🧰","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🪤","🧱","⛓️","🧲","🔫","💣","🧨","🪓","🔪","🗡️","⚔️","🛡️","🚬","⚰️","🪦","⚱️","🏺","🔮","📿","🧿","🪬","💈","⚗️","🔭","🔬","🕳️","🩻","🩹","🩺","💊","💉","🩸","🧬","🦠","🧫","🧪","🌡️","🧹","🪠","🧺","🧻","🚽","🚰","🚿","🛁","🛀","🧼","🪥","🪒","🧽","🪣","🧴","🛎️","🔑","🗝️","🚪","🪑","🛋️","🛏️","🛌","🧸","🪆","🖼️","🪞","🪟","🛍️","🛒","🎁","🎈","🎏","🎀","🪄","🪅","🎊","🎉","🎎","🏮","🎐","🪩","🧧","✉️","📩","📨","📧","💌","📥","📤","📦","🏷️","🪧","📪","📫","📬","📭","📮","📯","📜","📃","📄","📑","🧾","📊","📈","📉","🗒️","🗓️","📆","📅","🗑️","📇","🗃️","🗳️","🗄️","📋","📁","📂","🗂️","🗞️","📰","📓","📔","📒","📕","📗","📘","📙","📚","📖","🔖","🧷","🔗","📎","🖇️","📐","📏","🧮","📌","📍","✂️","🖊️","🖋️","✒️","🖌️","🖍️","📝","✏️","🔍","🔎","🔏","🔐","🔒","🔓"],SYMBOLS:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❤️‍🔥","❤️‍🩹","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🛗","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🆓","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔢","#️⃣","*️⃣","⏏️","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","⏫","⏬","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","🔀","🔁","🔂","🔄","🔃","🎵","🎶","➕","➖","➗","✖️","🟰","♾️","💲","💱","™️","©️","®️","👁️‍🗨️","🔚","🔙","🔛","🔝","🔜","〰️","➰","➿","✔️","☑️","🔘","🔴","🟠","🟡","🟢","🔵","🟣","⚫","⚪","🟤","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","🟥","🟧","🟨","🟩","🟦","🟪","⬛","⬜","🟫","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","💬","💭","🗯️","♠️","♣️","♥️","♦️","🃏","🎴","🀄","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧"],FLAGS:["🏳️","🏴","🏴‍☠️","🏁","🚩","🏳️‍🌈","🏳️‍⚧️","🇺🇳","🇦🇫","🇦🇽","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇨🇻","🇧🇶","🇰🇾","🇨🇫","🇹🇩","🇮🇴","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇨🇮","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇸🇿","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇯🇲","🇯🇵","🎌","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇰🇵","🇲🇰","🇲🇵","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇻🇮","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🇺🇸","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]}},62019:(e,t)=>{"use strict";t.Z=void 0;t.Z={"#️⃣":1,"":1,"*️⃣":2,"0️⃣":3,"":3,"1️⃣":4,"":4,"2️⃣":5,"":5,"3️⃣":6,"":6,"4️⃣":7,"":7,"5️⃣":8,"":8,"6️⃣":9,"":9,"7️⃣":10,"":10,"8️⃣":11,"":11,"9️⃣":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":69,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":93,"":94,"":95,"":96,"":97,"":100,"":109,"":110,"":116,"":117,"":118,"":121,"":127,"":130,"":131,"":133,"":154,"":155,"":156,"":158,"":160,"":166,"":177,"":190,"":191,"":192,"":195,"":197,"":198,"":199,"":200,"":202,"":208,"":210,"":213,"":214,"":215,"":218,"":219,"":221,"":222,"":223,"":224,"":226,"":227,"":228,"":229,"":230,"":232,"":234,"":235,"":237,"":239,"":240,"":289,"":299,"":312,"":320,"":322,"":356,"":360,"":368,"":437,"":481,"🇺🇲":481,"":499,"":500,"":501,"":502,"":504,"":506,"":507,"":508,"":509,"":510,"":511,"":512,"":514,"":516,"":517,"":518,"":519,"":520,"":521,"":522,"":524,"":539,"":545,"":564,"":565,"":567,"":568,"":569,"":570,"":571,"":574,"":576,"":577,"":578,"":579,"":581,"":582,"":585,"":586,"":590,"":595,"":596,"":600,"":601,"":602,"":603,"":604,"":605,"":606,"":607,"":609,"":610,"":611,"":614,"":615,"":624,"":625,"":626,"":627,"":628,"":629,"":630,"":632,"":634,"":635,"":640,"":641,"":642,"":643,"":644,"":645,"":651,"":652,"":653,"":654,"":657,"":658,"":659,"":660,"":661,"":662,"":663,"":664,"":673,"":674,"":676,"":677,"":678,"":679,"":680,"":681,"":683,"":684,"":687,"":688,"":689,"":693,"":694,"":695,"":696,"":698,"":702,"":703,"":704,"":705,"":712,"":730,"":749,"":756,"":758,"":831,"":833,"":834,"":836,"":837,"":838,"":839,"":840,"":841,"":842,"":843,"":844,"":846,"":847,"🇽🇪":853,"🇽🇸":854,"🇽🇼":855,"":880,"":881,"":884,"":885,"":887,"":891,"":892,"":893,"":894,"":895,"":899,"":900,"":904,"":906,"":907,"":908,"":911,"":912,"":913,"":914,"":915,"":916,"":917,"":919,"":920,"":921,"":922,"":923,"":924,"":925,"":926,"":927,"":933,"":936,"":942,"":948,"":950,"":956,"":962,"":968,"":974,"":980,"":986,"":992,"":998,"":1004,"":1010,"":1016,"":1017,"":1019,"":1020,"":1022,"":1023,"":1024,"":1027,"":1030,"":1031,"":1032,"":1033,"":1034,"":1037,"":1043,"":1049,"":1286,"":1591,"":1609,"":1627,"":1648,"":1666,"":1672,"":1690,"":1696,"":1702,"":1708,"":1726,"":1734,"":1735,"":1741,"":1742,"":1743,"":1744,"":1745,"":1763,"":1781,"":1787,"":1788,"":1794,"":1812,"":1830,"":1831,"":1832,"":1833,"":1835,"":1836,"":1837,"":1843,"":1844,"":1850,"":1851,"":1852,"":1855,"":1856,"":1857,"":1858,"":1859,"":1860,"":1861,"":1863,"":1865,"":1866,"":1867,"":1868,"":1870,"":1872,"":1873,"":1874,"":1885,"":1886,"":1894,"":1895,"":1896,"":1897,"":1898,"":1900,"":1901,"":1923,"":1930,"":1933,"":1934,"":1935,"":1936,"":1942,"":1944,"":1947,"":1950,"":1951,"":1952,"":1953,"":1955,"":1956,"":1959,"":1960,"":1961,"":1974,"":1977,"":1981,"":1982,"":1983,"":1984,"":1993,"":1994,"":2001,"":2004,"":2007,"":2011,"":2012,"":2013,"":2014,"":2015,"":2016,"":2032,"":2033,"":2034,"":2035,"":2036,"":2037,"":2038,"":2039,"":2040,"":2041,"":2042,"":2043,"":2137,"":2138,"":2139,"":2143,"":2144,"":2145,"":2146,"":2151,"":2152,"":2154,"":2155,"":2157,"":2160,"":2161,"":2162,"":2164,"":2166,"":2168,"":2170,"":2171,"":2172,"":2174,"":2175,"":2176,"":2177,"":2179,"":2182,"":2184,"":2187,"":2191,"":2192,"":2193,"":2194,"":2200,"":2214,"":2232,"":2250,"":2289,"":2331,"":2337,"":2340,"":2341,"":2342,"":2344,"":2346,"":2349,"":2352,"":2354,"":2355,"":2356,"":2358,"":2360,"":2362,"":2363,"":2371,"":2390,"":2391,"":2393,"":2398,"":2399,"":2404,"":2442,"":2462,"":2463,"":2464,"":2465,"":2466,"":2467,"":2469}},73743:(e,t)=>{"use strict";t.Z=void 0;t.Z=["","#️⃣","*️⃣","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","©️","®️","‼️","⁉️","™️","ℹ️","↔️","↕️","↖️","↗️","↘️","↙️","↩️","↪️","⌚","⌛","⌨️","⏏️","⏩","⏪","⏫","⏬","⏭️","⏮️","⏯️","⏰","⏱️","⏲️","⏳","⏸️","⏹️","⏺️","Ⓜ️","▪️","▫️","▶️","◀️","◻️","◼️","◽","◾","☀️","☁️","☂️","☃️","☄️","☎️","☑️","☔","☕","☘️","☝🏻","☝🏼","☝🏽","☝🏾","☝🏿","☝️","☠️","☢️","☣️","☦️","☪️","☮️","☯️","☸️","☹️","☺️","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","♟️","♠️","♣️","♥️","♦️","♨️","♻️","♾️","♿","⚒️","⚓","⚔️","⚖️","⚗️","⚙️","⚛️","⚜️","⚠️","⚡","⚧️","⚪","⚫","⚰️","⚱️","⚽","⚾","⛄","⛅","⛈️","⛎","⛏️","⛑️","⛓️","⛔","⛩️","⛪","⛰️","⛱️","⛲","⛳","⛴️","⛵","⛷️","⛸️","⛹🏻","⛹🏻‍♀️","⛹🏻‍♂️","⛹🏼","⛹🏼‍♀️","⛹🏼‍♂️","⛹🏽","⛹🏽‍♀️","⛹🏽‍♂️","⛹🏾","⛹🏾‍♀️","⛹🏾‍♂️","⛹🏿","⛹🏿‍♀️","⛹🏿‍♂️","⛹️","⛹️‍♀️","⛹️‍♂️","⛺","⛽","✂️","✅","✈️","✉️","✊","✊🏻","✊🏼","✊🏽","✊🏾","✊🏿","✋","✋🏻","✋🏼","✋🏽","✋🏾","✋🏿","✌🏻","✌🏼","✌🏽","✌🏾","✌🏿","✌️","✍🏻","✍🏼","✍🏽","✍🏾","✍🏿","✍️","✏️","✒️","✔️","✖️","✝️","✡️","✨","✳️","✴️","❄️","❇️","❌","❎","❓","❔","❕","❗","❣️","❤️","❤️‍🔥","❤️‍🩹","➕","➖","➗","➡️","➰","➿","⤴️","⤵️","⬅️","⬆️","⬇️","⬛","⬜","⭐","⭕","〰️","〽️","㊗️","㊙️","🀄","🃏","🅰️","🅱️","🅾️","🅿️","🆎","🆑","🆒","🆓","🆔","🆕","🆖","🆗","🆘","🆙","🆚","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇲","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇦🇿","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇷","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇾","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇦","🇪🇨","🇪🇪","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇪","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇰🇿","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇹","🇱🇺","🇱🇻","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇳","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇺","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇯","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇦","🇺🇬","🇺🇲","🇺🇳","🇺🇸","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼","🈁","🈂️","🈚","🈯","🈲","🈳","🈴","🈵","🈶","🈷️","🈸","🈹","🈺","🉐","🉑","🌀","🌁","🌂","🌃","🌄","🌅","🌆","🌇","🌈","🌉","🌊","🌋","🌌","🌍","🌎","🌏","🌐","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌝","🌞","🌟","🌠","🌡️","🌤️","🌥️","🌦️","🌧️","🌨️","🌩️","🌪️","🌫️","🌬️","🌭","🌮","🌯","🌰","🌱","🌲","🌳","🌴","🌵","🌶️","🌷","🌸","🌹","🌺","🌻","🌼","🌽","🌾","🌿","🍀","🍁","🍂","🍃","🍄","🍅","🍆","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🍎","🍏","🍐","🍑","🍒","🍓","🍔","🍕","🍖","🍗","🍘","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧","🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍶","🍷","🍸","🍹","🍺","🍻","🍼","🍽️","🍾","🍿","🎀","🎁","🎂","🎃","🎄","🎅","🎅🏻","🎅🏼","🎅🏽","🎅🏾","🎅🏿","🎆","🎇","🎈","🎉","🎊","🎋","🎌","🎍","🎎","🎏","🎐","🎑","🎒","🎓","🎖️","🎗️","🎙️","🎚️","🎛️","🎞️","🎟️","🎠","🎡","🎢","🎣","🎤","🎥","🎦","🎧","🎨","🎩","🎪","🎫","🎬","🎭","🎮","🎯","🎰","🎱","🎲","🎳","🎴","🎵","🎶","🎷","🎸","🎹","🎺","🎻","🎼","🎽","🎾","🎿","🏀","🏁","🏂","🏂🏻","🏂🏼","🏂🏽","🏂🏾","🏂🏿","🏃","🏃‍♀️","🏃‍♂️","🏃🏻","🏃🏻‍♀️","🏃🏻‍♂️","🏃🏼","🏃🏼‍♀️","🏃🏼‍♂️","🏃🏽","🏃🏽‍♀️","🏃🏽‍♂️","🏃🏾","🏃🏾‍♀️","🏃🏾‍♂️","🏃🏿","🏃🏿‍♀️","🏃🏿‍♂️","🏄","🏄‍♀️","🏄‍♂️","🏄🏻","🏄🏻‍♀️","🏄🏻‍♂️","🏄🏼","🏄🏼‍♀️","🏄🏼‍♂️","🏄🏽","🏄🏽‍♀️","🏄🏽‍♂️","🏄🏾","🏄🏾‍♀️","🏄🏾‍♂️","🏄🏿","🏄🏿‍♀️","🏄🏿‍♂️","🏅","🏆","🏇","🏇🏻","🏇🏼","🏇🏽","🏇🏾","🏇🏿","🏈","🏉","🏊","🏊‍♀️","🏊‍♂️","🏊🏻","🏊🏻‍♀️","🏊🏻‍♂️","🏊🏼","🏊🏼‍♀️","🏊🏼‍♂️","🏊🏽","🏊🏽‍♀️","🏊🏽‍♂️","🏊🏾","🏊🏾‍♀️","🏊🏾‍♂️","🏊🏿","🏊🏿‍♀️","🏊🏿‍♂️","🏋🏻","🏋🏻‍♀️","🏋🏻‍♂️","🏋🏼","🏋🏼‍♀️","🏋🏼‍♂️","🏋🏽","🏋🏽‍♀️","🏋🏽‍♂️","🏋🏾","🏋🏾‍♀️","🏋🏾‍♂️","🏋🏿","🏋🏿‍♀️","🏋🏿‍♂️","🏋️","🏋️‍♀️","🏋️‍♂️","🏌🏻","🏌🏻‍♀️","🏌🏻‍♂️","🏌🏼","🏌🏼‍♀️","🏌🏼‍♂️","🏌🏽","🏌🏽‍♀️","🏌🏽‍♂️","🏌🏾","🏌🏾‍♀️","🏌🏾‍♂️","🏌🏿","🏌🏿‍♀️","🏌🏿‍♂️","🏌️","🏌️‍♀️","🏌️‍♂️","🏍️","🏎️","🏏","🏐","🏑","🏒","🏓","🏔️","🏕️","🏖️","🏗️","🏘️","🏙️","🏚️","🏛️","🏜️","🏝️","🏞️","🏟️","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏮","🏯","🏰","🏳️","🏳️‍⚧️","🏳️‍🌈","🏴","🏴‍☠️","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🏵️","🏷️","🏸","🏹","🏺","🏻","🏼","🏽","🏾","🏿","🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐈‍⬛","🐉","🐊","🐋","🐌","🐍","🐎","🐏","🐐","🐑","🐒","🐓","🐔","🐕","🐕‍🦺","🐖","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞","🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐪","🐫","🐬","🐭","🐮","🐯","🐰","🐱","🐲","🐳","🐴","🐵","🐶","🐷","🐸","🐹","🐺","🐻","🐻‍❄️","🐼","🐽","🐾","🐿️","👀","👁️","👁️‍🗨️","👂","👂🏻","👂🏼","👂🏽","👂🏾","👂🏿","👃","👃🏻","👃🏼","👃🏽","👃🏾","👃🏿","👄","👅","👆","👆🏻","👆🏼","👆🏽","👆🏾","👆🏿","👇","👇🏻","👇🏼","👇🏽","👇🏾","👇🏿","👈","👈🏻","👈🏼","👈🏽","👈🏾","👈🏿","👉","👉🏻","👉🏼","👉🏽","👉🏾","👉🏿","👊","👊🏻","👊🏼","👊🏽","👊🏾","👊🏿","👋","👋🏻","👋🏼","👋🏽","👋🏾","👋🏿","👌","👌🏻","👌🏼","👌🏽","👌🏾","👌🏿","👍","👍🏻","👍🏼","👍🏽","👍🏾","👍🏿","👎","👎🏻","👎🏼","👎🏽","👎🏾","👎🏿","👏","👏🏻","👏🏼","👏🏽","👏🏾","👏🏿","👐","👐🏻","👐🏼","👐🏽","👐🏾","👐🏿","👑","👒","👓","👔","👕","👖","👗","👘","👙","👚","👛","👜","👝","👞","👟","👠","👡","👢","👣","👤","👥","👦","👦🏻","👦🏼","👦🏽","👦🏾","👦🏿","👧","👧🏻","👧🏼","👧🏽","👧🏾","👧🏿","👨","👨‍⚕️","👨‍⚖️","👨‍✈️","👨‍❤️‍👨","👨‍❤️‍💋‍👨","👨‍🌾","👨‍🍳","👨‍🍼","👨‍🎓","👨‍🎤","👨‍🎨","👨‍🏫","👨‍🏭","👨‍👦","👨‍👦‍👦","👨‍👧","👨‍👧‍👦","👨‍👧‍👧","👨‍👨‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👧‍👧","👨‍👩‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👧‍👧","👨‍💻","👨‍💼","👨‍🔧","👨‍🔬","👨‍🚀","👨‍🚒","👨‍🦯","👨‍🦰","👨‍🦱","👨‍🦲","👨‍🦳","👨‍🦼","👨‍🦽","👨🏻","👨🏻‍⚕️","👨🏻‍⚖️","👨🏻‍✈️","👨🏻‍❤️‍👨🏻","👨🏻‍❤️‍👨🏼","👨🏻‍❤️‍👨🏽","👨🏻‍❤️‍👨🏾","👨🏻‍❤️‍👨🏿","👨🏻‍❤️‍💋‍👨🏻","👨🏻‍❤️‍💋‍👨🏼","👨🏻‍❤️‍💋‍👨🏽","👨🏻‍❤️‍💋‍👨🏾","👨🏻‍❤️‍💋‍👨🏿","👨🏻‍🌾","👨🏻‍🍳","👨🏻‍🍼","👨🏻‍🎓","👨🏻‍🎤","👨🏻‍🎨","👨🏻‍🏫","👨🏻‍🏭","👨🏻‍💻","👨🏻‍💼","👨🏻‍🔧","👨🏻‍🔬","👨🏻‍🚀","👨🏻‍🚒","👨🏻‍🤝‍👨🏼","👨🏻‍🤝‍👨🏽","👨🏻‍🤝‍👨🏾","👨🏻‍🤝‍👨🏿","👨🏻‍🦯","👨🏻‍🦰","👨🏻‍🦱","👨🏻‍🦲","👨🏻‍🦳","👨🏻‍🦼","👨🏻‍🦽","👨🏼","👨🏼‍⚕️","👨🏼‍⚖️","👨🏼‍✈️","👨🏼‍❤️‍👨🏻","👨🏼‍❤️‍👨🏼","👨🏼‍❤️‍👨🏽","👨🏼‍❤️‍👨🏾","👨🏼‍❤️‍👨🏿","👨🏼‍❤️‍💋‍👨🏻","👨🏼‍❤️‍💋‍👨🏼","👨🏼‍❤️‍💋‍👨🏽","👨🏼‍❤️‍💋‍👨🏾","👨🏼‍❤️‍💋‍👨🏿","👨🏼‍🌾","👨🏼‍🍳","👨🏼‍🍼","👨🏼‍🎓","👨🏼‍🎤","👨🏼‍🎨","👨🏼‍🏫","👨🏼‍🏭","👨🏼‍💻","👨🏼‍💼","👨🏼‍🔧","👨🏼‍🔬","👨🏼‍🚀","👨🏼‍🚒","👨🏼‍🤝‍👨🏻","👨🏼‍🤝‍👨🏽","👨🏼‍🤝‍👨🏾","👨🏼‍🤝‍👨🏿","👨🏼‍🦯","👨🏼‍🦰","👨🏼‍🦱","👨🏼‍🦲","👨🏼‍🦳","👨🏼‍🦼","👨🏼‍🦽","👨🏽","👨🏽‍⚕️","👨🏽‍⚖️","👨🏽‍✈️","👨🏽‍❤️‍👨🏻","👨🏽‍❤️‍👨🏼","👨🏽‍❤️‍👨🏽","👨🏽‍❤️‍👨🏾","👨🏽‍❤️‍👨🏿","👨🏽‍❤️‍💋‍👨🏻","👨🏽‍❤️‍💋‍👨🏼","👨🏽‍❤️‍💋‍👨🏽","👨🏽‍❤️‍💋‍👨🏾","👨🏽‍❤️‍💋‍👨🏿","👨🏽‍🌾","👨🏽‍🍳","👨🏽‍🍼","👨🏽‍🎓","👨🏽‍🎤","👨🏽‍🎨","👨🏽‍🏫","👨🏽‍🏭","👨🏽‍💻","👨🏽‍💼","👨🏽‍🔧","👨🏽‍🔬","👨🏽‍🚀","👨🏽‍🚒","👨🏽‍🤝‍👨🏻","👨🏽‍🤝‍👨🏼","👨🏽‍🤝‍👨🏾","👨🏽‍🤝‍👨🏿","👨🏽‍🦯","👨🏽‍🦰","👨🏽‍🦱","👨🏽‍🦲","👨🏽‍🦳","👨🏽‍🦼","👨🏽‍🦽","👨🏾","👨🏾‍⚕️","👨🏾‍⚖️","👨🏾‍✈️","👨🏾‍❤️‍👨🏻","👨🏾‍❤️‍👨🏼","👨🏾‍❤️‍👨🏽","👨🏾‍❤️‍👨🏾","👨🏾‍❤️‍👨🏿","👨🏾‍❤️‍💋‍👨🏻","👨🏾‍❤️‍💋‍👨🏼","👨🏾‍❤️‍💋‍👨🏽","👨🏾‍❤️‍💋‍👨🏾","👨🏾‍❤️‍💋‍👨🏿","👨🏾‍🌾","👨🏾‍🍳","👨🏾‍🍼","👨🏾‍🎓","👨🏾‍🎤","👨🏾‍🎨","👨🏾‍🏫","👨🏾‍🏭","👨🏾‍💻","👨🏾‍💼","👨🏾‍🔧","👨🏾‍🔬","👨🏾‍🚀","👨🏾‍🚒","👨🏾‍🤝‍👨🏻","👨🏾‍🤝‍👨🏼","👨🏾‍🤝‍👨🏽","👨🏾‍🤝‍👨🏿","👨🏾‍🦯","👨🏾‍🦰","👨🏾‍🦱","👨🏾‍🦲","👨🏾‍🦳","👨🏾‍🦼","👨🏾‍🦽","👨🏿","👨🏿‍⚕️","👨🏿‍⚖️","👨🏿‍✈️","👨🏿‍❤️‍👨🏻","👨🏿‍❤️‍👨🏼","👨🏿‍❤️‍👨🏽","👨🏿‍❤️‍👨🏾","👨🏿‍❤️‍👨🏿","👨🏿‍❤️‍💋‍👨🏻","👨🏿‍❤️‍💋‍👨🏼","👨🏿‍❤️‍💋‍👨🏽","👨🏿‍❤️‍💋‍👨🏾","👨🏿‍❤️‍💋‍👨🏿","👨🏿‍🌾","👨🏿‍🍳","👨🏿‍🍼","👨🏿‍🎓","👨🏿‍🎤","👨🏿‍🎨","👨🏿‍🏫","👨🏿‍🏭","👨🏿‍💻","👨🏿‍💼","👨🏿‍🔧","👨🏿‍🔬","👨🏿‍🚀","👨🏿‍🚒","👨🏿‍🤝‍👨🏻","👨🏿‍🤝‍👨🏼","👨🏿‍🤝‍👨🏽","👨🏿‍🤝‍👨🏾","👨🏿‍🦯","👨🏿‍🦰","👨🏿‍🦱","👨🏿‍🦲","👨🏿‍🦳","👨🏿‍🦼","👨🏿‍🦽","👩","👩‍⚕️","👩‍⚖️","👩‍✈️","👩‍❤️‍👨","👩‍❤️‍👩","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍🌾","👩‍🍳","👩‍🍼","👩‍🎓","👩‍🎤","👩‍🎨","👩‍🏫","👩‍🏭","👩‍👦","👩‍👦‍👦","👩‍👧","👩‍👧‍👦","👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👧‍👧","👩‍💻","👩‍💼","👩‍🔧","👩‍🔬","👩‍🚀","👩‍🚒","👩‍🦯","👩‍🦰","👩‍🦱","👩‍🦲","👩‍🦳","👩‍🦼","👩‍🦽","👩🏻","👩🏻‍⚕️","👩🏻‍⚖️","👩🏻‍✈️","👩🏻‍❤️‍👨🏻","👩🏻‍❤️‍👨🏼","👩🏻‍❤️‍👨🏽","👩🏻‍❤️‍👨🏾","👩🏻‍❤️‍👨🏿","👩🏻‍❤️‍👩🏻","👩🏻‍❤️‍👩🏼","👩🏻‍❤️‍👩🏽","👩🏻‍❤️‍👩🏾","👩🏻‍❤️‍👩🏿","👩🏻‍❤️‍💋‍👨🏻","👩🏻‍❤️‍💋‍👨🏼","👩🏻‍❤️‍💋‍👨🏽","👩🏻‍❤️‍💋‍👨🏾","👩🏻‍❤️‍💋‍👨🏿","👩🏻‍❤️‍💋‍👩🏻","👩🏻‍❤️‍💋‍👩🏼","👩🏻‍❤️‍💋‍👩🏽","👩🏻‍❤️‍💋‍👩🏾","👩🏻‍❤️‍💋‍👩🏿","👩🏻‍🌾","👩🏻‍🍳","👩🏻‍🍼","👩🏻‍🎓","👩🏻‍🎤","👩🏻‍🎨","👩🏻‍🏫","👩🏻‍🏭","👩🏻‍💻","👩🏻‍💼","👩🏻‍🔧","👩🏻‍🔬","👩🏻‍🚀","👩🏻‍🚒","👩🏻‍🤝‍👨🏼","👩🏻‍🤝‍👨🏽","👩🏻‍🤝‍👨🏾","👩🏻‍🤝‍👨🏿","👩🏻‍🤝‍👩🏼","👩🏻‍🤝‍👩🏽","👩🏻‍🤝‍👩🏾","👩🏻‍🤝‍👩🏿","👩🏻‍🦯","👩🏻‍🦰","👩🏻‍🦱","👩🏻‍🦲","👩🏻‍🦳","👩🏻‍🦼","👩🏻‍🦽","👩🏼","👩🏼‍⚕️","👩🏼‍⚖️","👩🏼‍✈️","👩🏼‍❤️‍👨🏻","👩🏼‍❤️‍👨🏼","👩🏼‍❤️‍👨🏽","👩🏼‍❤️‍👨🏾","👩🏼‍❤️‍👨🏿","👩🏼‍❤️‍👩🏻","👩🏼‍❤️‍👩🏼","👩🏼‍❤️‍👩🏽","👩🏼‍❤️‍👩🏾","👩🏼‍❤️‍👩🏿","👩🏼‍❤️‍💋‍👨🏻","👩🏼‍❤️‍💋‍👨🏼","👩🏼‍❤️‍💋‍👨🏽","👩🏼‍❤️‍💋‍👨🏾","👩🏼‍❤️‍💋‍👨🏿","👩🏼‍❤️‍💋‍👩🏻","👩🏼‍❤️‍💋‍👩🏼","👩🏼‍❤️‍💋‍👩🏽","👩🏼‍❤️‍💋‍👩🏾","👩🏼‍❤️‍💋‍👩🏿","👩🏼‍🌾","👩🏼‍🍳","👩🏼‍🍼","👩🏼‍🎓","👩🏼‍🎤","👩🏼‍🎨","👩🏼‍🏫","👩🏼‍🏭","👩🏼‍💻","👩🏼‍💼","👩🏼‍🔧","👩🏼‍🔬","👩🏼‍🚀","👩🏼‍🚒","👩🏼‍🤝‍👨🏻","👩🏼‍🤝‍👨🏽","👩🏼‍🤝‍👨🏾","👩🏼‍🤝‍👨🏿","👩🏼‍🤝‍👩🏻","👩🏼‍🤝‍👩🏽","👩🏼‍🤝‍👩🏾","👩🏼‍🤝‍👩🏿","👩🏼‍🦯","👩🏼‍🦰","👩🏼‍🦱","👩🏼‍🦲","👩🏼‍🦳","👩🏼‍🦼","👩🏼‍🦽","👩🏽","👩🏽‍⚕️","👩🏽‍⚖️","👩🏽‍✈️","👩🏽‍❤️‍👨🏻","👩🏽‍❤️‍👨🏼","👩🏽‍❤️‍👨🏽","👩🏽‍❤️‍👨🏾","👩🏽‍❤️‍👨🏿","👩🏽‍❤️‍👩🏻","👩🏽‍❤️‍👩🏼","👩🏽‍❤️‍👩🏽","👩🏽‍❤️‍👩🏾","👩🏽‍❤️‍👩🏿","👩🏽‍❤️‍💋‍👨🏻","👩🏽‍❤️‍💋‍👨🏼","👩🏽‍❤️‍💋‍👨🏽","👩🏽‍❤️‍💋‍👨🏾","👩🏽‍❤️‍💋‍👨🏿","👩🏽‍❤️‍💋‍👩🏻","👩🏽‍❤️‍💋‍👩🏼","👩🏽‍❤️‍💋‍👩🏽","👩🏽‍❤️‍💋‍👩🏾","👩🏽‍❤️‍💋‍👩🏿","👩🏽‍🌾","👩🏽‍🍳","👩🏽‍🍼","👩🏽‍🎓","👩🏽‍🎤","👩🏽‍🎨","👩🏽‍🏫","👩🏽‍🏭","👩🏽‍💻","👩🏽‍💼","👩🏽‍🔧","👩🏽‍🔬","👩🏽‍🚀","👩🏽‍🚒","👩🏽‍🤝‍👨🏻","👩🏽‍🤝‍👨🏼","👩🏽‍🤝‍👨🏾","👩🏽‍🤝‍👨🏿","👩🏽‍🤝‍👩🏻","👩🏽‍🤝‍👩🏼","👩🏽‍🤝‍👩🏾","👩🏽‍🤝‍👩🏿","👩🏽‍🦯","👩🏽‍🦰","👩🏽‍🦱","👩🏽‍🦲","👩🏽‍🦳","👩🏽‍🦼","👩🏽‍🦽","👩🏾","👩🏾‍⚕️","👩🏾‍⚖️","👩🏾‍✈️","👩🏾‍❤️‍👨🏻","👩🏾‍❤️‍👨🏼","👩🏾‍❤️‍👨🏽","👩🏾‍❤️‍👨🏾","👩🏾‍❤️‍👨🏿","👩🏾‍❤️‍👩🏻","👩🏾‍❤️‍👩🏼","👩🏾‍❤️‍👩🏽","👩🏾‍❤️‍👩🏾","👩🏾‍❤️‍👩🏿","👩🏾‍❤️‍💋‍👨🏻","👩🏾‍❤️‍💋‍👨🏼","👩🏾‍❤️‍💋‍👨🏽","👩🏾‍❤️‍💋‍👨🏾","👩🏾‍❤️‍💋‍👨🏿","👩🏾‍❤️‍💋‍👩🏻","👩🏾‍❤️‍💋‍👩🏼","👩🏾‍❤️‍💋‍👩🏽","👩🏾‍❤️‍💋‍👩🏾","👩🏾‍❤️‍💋‍👩🏿","👩🏾‍🌾","👩🏾‍🍳","👩🏾‍🍼","👩🏾‍🎓","👩🏾‍🎤","👩🏾‍🎨","👩🏾‍🏫","👩🏾‍🏭","👩🏾‍💻","👩🏾‍💼","👩🏾‍🔧","👩🏾‍🔬","👩🏾‍🚀","👩🏾‍🚒","👩🏾‍🤝‍👨🏻","👩🏾‍🤝‍👨🏼","👩🏾‍🤝‍👨🏽","👩🏾‍🤝‍👨🏿","👩🏾‍🤝‍👩🏻","👩🏾‍🤝‍👩🏼","👩🏾‍🤝‍👩🏽","👩🏾‍🤝‍👩🏿","👩🏾‍🦯","👩🏾‍🦰","👩🏾‍🦱","👩🏾‍🦲","👩🏾‍🦳","👩🏾‍🦼","👩🏾‍🦽","👩🏿","👩🏿‍⚕️","👩🏿‍⚖️","👩🏿‍✈️","👩🏿‍❤️‍👨🏻","👩🏿‍❤️‍👨🏼","👩🏿‍❤️‍👨🏽","👩🏿‍❤️‍👨🏾","👩🏿‍❤️‍👨🏿","👩🏿‍❤️‍👩🏻","👩🏿‍❤️‍👩🏼","👩🏿‍❤️‍👩🏽","👩🏿‍❤️‍👩🏾","👩🏿‍❤️‍👩🏿","👩🏿‍❤️‍💋‍👨🏻","👩🏿‍❤️‍💋‍👨🏼","👩🏿‍❤️‍💋‍👨🏽","👩🏿‍❤️‍💋‍👨🏾","👩🏿‍❤️‍💋‍👨🏿","👩🏿‍❤️‍💋‍👩🏻","👩🏿‍❤️‍💋‍👩🏼","👩🏿‍❤️‍💋‍👩🏽","👩🏿‍❤️‍💋‍👩🏾","👩🏿‍❤️‍💋‍👩🏿","👩🏿‍🌾","👩🏿‍🍳","👩🏿‍🍼","👩🏿‍🎓","👩🏿‍🎤","👩🏿‍🎨","👩🏿‍🏫","👩🏿‍🏭","👩🏿‍💻","👩🏿‍💼","👩🏿‍🔧","👩🏿‍🔬","👩🏿‍🚀","👩🏿‍🚒","👩🏿‍🤝‍👨🏻","👩🏿‍🤝‍👨🏼","👩🏿‍🤝‍👨🏽","👩🏿‍🤝‍👨🏾","👩🏿‍🤝‍👩🏻","👩🏿‍🤝‍👩🏼","👩🏿‍🤝‍👩🏽","👩🏿‍🤝‍👩🏾","👩🏿‍🦯","👩🏿‍🦰","👩🏿‍🦱","👩🏿‍🦲","👩🏿‍🦳","👩🏿‍🦼","👩🏿‍🦽","👪","👫","👫🏻","👫🏼","👫🏽","👫🏾","👫🏿","👬","👬🏻","👬🏼","👬🏽","👬🏾","👬🏿","👭","👭🏻","👭🏼","👭🏽","👭🏾","👭🏿","👮","👮‍♀️","👮‍♂️","👮🏻","👮🏻‍♀️","👮🏻‍♂️","👮🏼","👮🏼‍♀️","👮🏼‍♂️","👮🏽","👮🏽‍♀️","👮🏽‍♂️","👮🏾","👮🏾‍♀️","👮🏾‍♂️","👮🏿","👮🏿‍♀️","👮🏿‍♂️","👯","👯‍♀️","👯‍♂️","👰","👰‍♀️","👰‍♂️","👰🏻","👰🏻‍♀️","👰🏻‍♂️","👰🏼","👰🏼‍♀️","👰🏼‍♂️","👰🏽","👰🏽‍♀️","👰🏽‍♂️","👰🏾","👰🏾‍♀️","👰🏾‍♂️","👰🏿","👰🏿‍♀️","👰🏿‍♂️","👱","👱‍♀️","👱‍♂️","👱🏻","👱🏻‍♀️","👱🏻‍♂️","👱🏼","👱🏼‍♀️","👱🏼‍♂️","👱🏽","👱🏽‍♀️","👱🏽‍♂️","👱🏾","👱🏾‍♀️","👱🏾‍♂️","👱🏿","👱🏿‍♀️","👱🏿‍♂️","👲","👲🏻","👲🏼","👲🏽","👲🏾","👲🏿","👳","👳‍♀️","👳‍♂️","👳🏻","👳🏻‍♀️","👳🏻‍♂️","👳🏼","👳🏼‍♀️","👳🏼‍♂️","👳🏽","👳🏽‍♀️","👳🏽‍♂️","👳🏾","👳🏾‍♀️","👳🏾‍♂️","👳🏿","👳🏿‍♀️","👳🏿‍♂️","👴","👴🏻","👴🏼","👴🏽","👴🏾","👴🏿","👵","👵🏻","👵🏼","👵🏽","👵🏾","👵🏿","👶","👶🏻","👶🏼","👶🏽","👶🏾","👶🏿","👷","👷‍♀️","👷‍♂️","👷🏻","👷🏻‍♀️","👷🏻‍♂️","👷🏼","👷🏼‍♀️","👷🏼‍♂️","👷🏽","👷🏽‍♀️","👷🏽‍♂️","👷🏾","👷🏾‍♀️","👷🏾‍♂️","👷🏿","👷🏿‍♀️","👷🏿‍♂️","👸","👸🏻","👸🏼","👸🏽","👸🏾","👸🏿","👹","👺","👻","👼","👼🏻","👼🏼","👼🏽","👼🏾","👼🏿","👽","👾","👿","💀","💁","💁‍♀️","💁‍♂️","💁🏻","💁🏻‍♀️","💁🏻‍♂️","💁🏼","💁🏼‍♀️","💁🏼‍♂️","💁🏽","💁🏽‍♀️","💁🏽‍♂️","💁🏾","💁🏾‍♀️","💁🏾‍♂️","💁🏿","💁🏿‍♀️","💁🏿‍♂️","💂","💂‍♀️","💂‍♂️","💂🏻","💂🏻‍♀️","💂🏻‍♂️","💂🏼","💂🏼‍♀️","💂🏼‍♂️","💂🏽","💂🏽‍♀️","💂🏽‍♂️","💂🏾","💂🏾‍♀️","💂🏾‍♂️","💂🏿","💂🏿‍♀️","💂🏿‍♂️","💃","💃🏻","💃🏼","💃🏽","💃🏾","💃🏿","💄","💅","💅🏻","💅🏼","💅🏽","💅🏾","💅🏿","💆","💆‍♀️","💆‍♂️","💆🏻","💆🏻‍♀️","💆🏻‍♂️","💆🏼","💆🏼‍♀️","💆🏼‍♂️","💆🏽","💆🏽‍♀️","💆🏽‍♂️","💆🏾","💆🏾‍♀️","💆🏾‍♂️","💆🏿","💆🏿‍♀️","💆🏿‍♂️","💇","💇‍♀️","💇‍♂️","💇🏻","💇🏻‍♀️","💇🏻‍♂️","💇🏼","💇🏼‍♀️","💇🏼‍♂️","💇🏽","💇🏽‍♀️","💇🏽‍♂️","💇🏾","💇🏾‍♀️","💇🏾‍♂️","💇🏿","💇🏿‍♀️","💇🏿‍♂️","💈","💉","💊","💋","💌","💍","💎","💏","💏🏻","💏🏼","💏🏽","💏🏾","💏🏿","💐","💑","💑🏻","💑🏼","💑🏽","💑🏾","💑🏿","💒","💓","💔","💕","💖","💗","💘","💙","💚","💛","💜","💝","💞","💟","💠","💡","💢","💣","💤","💥","💦","💧","💨","💩","💪","💪🏻","💪🏼","💪🏽","💪🏾","💪🏿","💫","💬","💭","💮","💯","💰","💱","💲","💳","💴","💵","💶","💷","💸","💹","💺","💻","💼","💽","💾","💿","📀","📁","📂","📃","📄","📅","📆","📇","📈","📉","📊","📋","📌","📍","📎","📏","📐","📑","📒","📓","📔","📕","📖","📗","📘","📙","📚","📛","📜","📝","📞","📟","📠","📡","📢","📣","📤","📥","📦","📧","📨","📩","📪","📫","📬","📭","📮","📯","📰","📱","📲","📳","📴","📵","📶","📷","📸","📹","📺","📻","📼","📽️","📿","🔀","🔁","🔂","🔃","🔄","🔅","🔆","🔇","🔈","🔉","🔊","🔋","🔌","🔍","🔎","🔏","🔐","🔑","🔒","🔓","🔔","🔕","🔖","🔗","🔘","🔙","🔚","🔛","🔜","🔝","🔞","🔟","🔠","🔡","🔢","🔣","🔤","🔥","🔦","🔧","🔨","🔩","🔪","🔫","🔬","🔭","🔮","🔯","🔰","🔱","🔲","🔳","🔴","🔵","🔶","🔷","🔸","🔹","🔺","🔻","🔼","🔽","🕉️","🕊️","🕋","🕌","🕍","🕎","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧","🕯️","🕰️","🕳️","🕴🏻","🕴🏼","🕴🏽","🕴🏾","🕴🏿","🕴️","🕵🏻","🕵🏻‍♀️","🕵🏻‍♂️","🕵🏼","🕵🏼‍♀️","🕵🏼‍♂️","🕵🏽","🕵🏽‍♀️","🕵🏽‍♂️","🕵🏾","🕵🏾‍♀️","🕵🏾‍♂️","🕵🏿","🕵🏿‍♀️","🕵🏿‍♂️","🕵️","🕵️‍♀️","🕵️‍♂️","🕶️","🕷️","🕸️","🕹️","🕺","🕺🏻","🕺🏼","🕺🏽","🕺🏾","🕺🏿","🖇️","🖊️","🖋️","🖌️","🖍️","🖐🏻","🖐🏼","🖐🏽","🖐🏾","🖐🏿","🖐️","🖕","🖕🏻","🖕🏼","🖕🏽","🖕🏾","🖕🏿","🖖","🖖🏻","🖖🏼","🖖🏽","🖖🏾","🖖🏿","🖤","🖥️","🖨️","🖱️","🖲️","🖼️","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","🗜️","🗝️","🗞️","🗡️","🗣️","🗨️","🗯️","🗳️","🗺️","🗻","🗼","🗽","🗾","🗿","😀","😁","😂","😃","😄","😅","😆","😇","😈","😉","😊","😋","😌","😍","😎","😏","😐","😑","😒","😓","😔","😕","😖","😗","😘","😙","😚","😛","😜","😝","😞","😟","😠","😡","😢","😣","😤","😥","😦","😧","😨","😩","😪","😫","😬","😭","😮","😮‍💨","😯","😰","😱","😲","😳","😴","😵","😵‍💫","😶","😶‍🌫️","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙁","🙂","🙃","🙄","🙅","🙅‍♀️","🙅‍♂️","🙅🏻","🙅🏻‍♀️","🙅🏻‍♂️","🙅🏼","🙅🏼‍♀️","🙅🏼‍♂️","🙅🏽","🙅🏽‍♀️","🙅🏽‍♂️","🙅🏾","🙅🏾‍♀️","🙅🏾‍♂️","🙅🏿","🙅🏿‍♀️","🙅🏿‍♂️","🙆","🙆‍♀️","🙆‍♂️","🙆🏻","🙆🏻‍♀️","🙆🏻‍♂️","🙆🏼","🙆🏼‍♀️","🙆🏼‍♂️","🙆🏽","🙆🏽‍♀️","🙆🏽‍♂️","🙆🏾","🙆🏾‍♀️","🙆🏾‍♂️","🙆🏿","🙆🏿‍♀️","🙆🏿‍♂️","🙇","🙇‍♀️","🙇‍♂️","🙇🏻","🙇🏻‍♀️","🙇🏻‍♂️","🙇🏼","🙇🏼‍♀️","🙇🏼‍♂️","🙇🏽","🙇🏽‍♀️","🙇🏽‍♂️","🙇🏾","🙇🏾‍♀️","🙇🏾‍♂️","🙇🏿","🙇🏿‍♀️","🙇🏿‍♂️","🙈","🙉","🙊","🙋","🙋‍♀️","🙋‍♂️","🙋🏻","🙋🏻‍♀️","🙋🏻‍♂️","🙋🏼","🙋🏼‍♀️","🙋🏼‍♂️","🙋🏽","🙋🏽‍♀️","🙋🏽‍♂️","🙋🏾","🙋🏾‍♀️","🙋🏾‍♂️","🙋🏿","🙋🏿‍♀️","🙋🏿‍♂️","🙌","🙌🏻","🙌🏼","🙌🏽","🙌🏾","🙌🏿","🙍","🙍‍♀️","🙍‍♂️","🙍🏻","🙍🏻‍♀️","🙍🏻‍♂️","🙍🏼","🙍🏼‍♀️","🙍🏼‍♂️","🙍🏽","🙍🏽‍♀️","🙍🏽‍♂️","🙍🏾","🙍🏾‍♀️","🙍🏾‍♂️","🙍🏿","🙍🏿‍♀️","🙍🏿‍♂️","🙎","🙎‍♀️","🙎‍♂️","🙎🏻","🙎🏻‍♀️","🙎🏻‍♂️","🙎🏼","🙎🏼‍♀️","🙎🏼‍♂️","🙎🏽","🙎🏽‍♀️","🙎🏽‍♂️","🙎🏾","🙎🏾‍♀️","🙎🏾‍♂️","🙎🏿","🙎🏿‍♀️","🙎🏿‍♂️","🙏","🙏🏻","🙏🏼","🙏🏽","🙏🏾","🙏🏿","🚀","🚁","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚋","🚌","🚍","🚎","🚏","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚢","🚣","🚣‍♀️","🚣‍♂️","🚣🏻","🚣🏻‍♀️","🚣🏻‍♂️","🚣🏼","🚣🏼‍♀️","🚣🏼‍♂️","🚣🏽","🚣🏽‍♀️","🚣🏽‍♂️","🚣🏾","🚣🏾‍♀️","🚣🏾‍♂️","🚣🏿","🚣🏿‍♀️","🚣🏿‍♂️","🚤","🚥","🚦","🚧","🚨","🚩","🚪","🚫","🚬","🚭","🚮","🚯","🚰","🚱","🚲","🚳","🚴","🚴‍♀️","🚴‍♂️","🚴🏻","🚴🏻‍♀️","🚴🏻‍♂️","🚴🏼","🚴🏼‍♀️","🚴🏼‍♂️","🚴🏽","🚴🏽‍♀️","🚴🏽‍♂️","🚴🏾","🚴🏾‍♀️","🚴🏾‍♂️","🚴🏿","🚴🏿‍♀️","🚴🏿‍♂️","🚵","🚵‍♀️","🚵‍♂️","🚵🏻","🚵🏻‍♀️","🚵🏻‍♂️","🚵🏼","🚵🏼‍♀️","🚵🏼‍♂️","🚵🏽","🚵🏽‍♀️","🚵🏽‍♂️","🚵🏾","🚵🏾‍♀️","🚵🏾‍♂️","🚵🏿","🚵🏿‍♀️","🚵🏿‍♂️","🚶","🚶‍♀️","🚶‍♂️","🚶🏻","🚶🏻‍♀️","🚶🏻‍♂️","🚶🏼","🚶🏼‍♀️","🚶🏼‍♂️","🚶🏽","🚶🏽‍♀️","🚶🏽‍♂️","🚶🏾","🚶🏾‍♀️","🚶🏾‍♂️","🚶🏿","🚶🏿‍♀️","🚶🏿‍♂️","🚷","🚸","🚹","🚺","🚻","🚼","🚽","🚾","🚿","🛀","🛀🏻","🛀🏼","🛀🏽","🛀🏾","🛀🏿","🛁","🛂","🛃","🛄","🛅","🛋️","🛌","🛌🏻","🛌🏼","🛌🏽","🛌🏾","🛌🏿","🛍️","🛎️","🛏️","🛐","🛑","🛒","🛕","🛖","🛗","🛝","🛞","🛟","🛠️","🛡️","🛢️","🛣️","🛤️","🛥️","🛩️","🛫","🛬","🛰️","🛳️","🛴","🛵","🛶","🛷","🛸","🛹","🛺","🛻","🛼","🟠","🟡","🟢","🟣","🟤","🟥","🟦","🟧","🟨","🟩","🟪","🟫","🟰","🤌","🤌🏻","🤌🏼","🤌🏽","🤌🏾","🤌🏿","🤍","🤎","🤏","🤏🏻","🤏🏼","🤏🏽","🤏🏾","🤏🏿","🤐","🤑","🤒","🤓","🤔","🤕","🤖","🤗","🤘","🤘🏻","🤘🏼","🤘🏽","🤘🏾","🤘🏿","🤙","🤙🏻","🤙🏼","🤙🏽","🤙🏾","🤙🏿","🤚","🤚🏻","🤚🏼","🤚🏽","🤚🏾","🤚🏿","🤛","🤛🏻","🤛🏼","🤛🏽","🤛🏾","🤛🏿","🤜","🤜🏻","🤜🏼","🤜🏽","🤜🏾","🤜🏿","🤝","🤝🏻","🤝🏼","🤝🏽","🤝🏾","🤝🏿","🤞","🤞🏻","🤞🏼","🤞🏽","🤞🏾","🤞🏿","🤟","🤟🏻","🤟🏼","🤟🏽","🤟🏾","🤟🏿","🤠","🤡","🤢","🤣","🤤","🤥","🤦","🤦‍♀️","🤦‍♂️","🤦🏻","🤦🏻‍♀️","🤦🏻‍♂️","🤦🏼","🤦🏼‍♀️","🤦🏼‍♂️","🤦🏽","🤦🏽‍♀️","🤦🏽‍♂️","🤦🏾","🤦🏾‍♀️","🤦🏾‍♂️","🤦🏿","🤦🏿‍♀️","🤦🏿‍♂️","🤧","🤨","🤩","🤪","🤫","🤬","🤭","🤮","🤯","🤰","🤰🏻","🤰🏼","🤰🏽","🤰🏾","🤰🏿","🤱","🤱🏻","🤱🏼","🤱🏽","🤱🏾","🤱🏿","🤲","🤲🏻","🤲🏼","🤲🏽","🤲🏾","🤲🏿","🤳","🤳🏻","🤳🏼","🤳🏽","🤳🏾","🤳🏿","🤴","🤴🏻","🤴🏼","🤴🏽","🤴🏾","🤴🏿","🤵","🤵‍♀️","🤵‍♂️","🤵🏻","🤵🏻‍♀️","🤵🏻‍♂️","🤵🏼","🤵🏼‍♀️","🤵🏼‍♂️","🤵🏽","🤵🏽‍♀️","🤵🏽‍♂️","🤵🏾","🤵🏾‍♀️","🤵🏾‍♂️","🤵🏿","🤵🏿‍♀️","🤵🏿‍♂️","🤶","🤶🏻","🤶🏼","🤶🏽","🤶🏾","🤶🏿","🤷","🤷‍♀️","🤷‍♂️","🤷🏻","🤷🏻‍♀️","🤷🏻‍♂️","🤷🏼","🤷🏼‍♀️","🤷🏼‍♂️","🤷🏽","🤷🏽‍♀️","🤷🏽‍♂️","🤷🏾","🤷🏾‍♀️","🤷🏾‍♂️","🤷🏿","🤷🏿‍♀️","🤷🏿‍♂️","🤸","🤸‍♀️","🤸‍♂️","🤸🏻","🤸🏻‍♀️","🤸🏻‍♂️","🤸🏼","🤸🏼‍♀️","🤸🏼‍♂️","🤸🏽","🤸🏽‍♀️","🤸🏽‍♂️","🤸🏾","🤸🏾‍♀️","🤸🏾‍♂️","🤸🏿","🤸🏿‍♀️","🤸🏿‍♂️","🤹","🤹‍♀️","🤹‍♂️","🤹🏻","🤹🏻‍♀️","🤹🏻‍♂️","🤹🏼","🤹🏼‍♀️","🤹🏼‍♂️","🤹🏽","🤹🏽‍♀️","🤹🏽‍♂️","🤹🏾","🤹🏾‍♀️","🤹🏾‍♂️","🤹🏿","🤹🏿‍♀️","🤹🏿‍♂️","🤺","🤼","🤼‍♀️","🤼‍♂️","🤽","🤽‍♀️","🤽‍♂️","🤽🏻","🤽🏻‍♀️","🤽🏻‍♂️","🤽🏼","🤽🏼‍♀️","🤽🏼‍♂️","🤽🏽","🤽🏽‍♀️","🤽🏽‍♂️","🤽🏾","🤽🏾‍♀️","🤽🏾‍♂️","🤽🏿","🤽🏿‍♀️","🤽🏿‍♂️","🤾","🤾‍♀️","🤾‍♂️","🤾🏻","🤾🏻‍♀️","🤾🏻‍♂️","🤾🏼","🤾🏼‍♀️","🤾🏼‍♂️","🤾🏽","🤾🏽‍♀️","🤾🏽‍♂️","🤾🏾","🤾🏾‍♀️","🤾🏾‍♂️","🤾🏿","🤾🏿‍♀️","🤾🏿‍♂️","🤿","🥀","🥁","🥂","🥃","🥄","🥅","🥇","🥈","🥉","🥊","🥋","🥌","🥍","🥎","🥏","🥐","🥑","🥒","🥓","🥔","🥕","🥖","🥗","🥘","🥙","🥚","🥛","🥜","🥝","🥞","🥟","🥠","🥡","🥢","🥣","🥤","🥥","🥦","🥧","🥨","🥩","🥪","🥫","🥬","🥭","🥮","🥯","🥰","🥱","🥲","🥳","🥴","🥵","🥶","🥷","🥷🏻","🥷🏼","🥷🏽","🥷🏾","🥷🏿","🥸","🥹","🥺","🥻","🥼","🥽","🥾","🥿","🦀","🦁","🦂","🦃","🦄","🦅","🦆","🦇","🦈","🦉","🦊","🦋","🦌","🦍","🦎","🦏","🦐","🦑","🦒","🦓","🦔","🦕","🦖","🦗","🦘","🦙","🦚","🦛","🦜","🦝","🦞","🦟","🦠","🦡","🦢","🦣","🦤","🦥","🦦","🦧","🦨","🦩","🦪","🦫","🦬","🦭","🦮","🦯","🦰","🦱","🦲","🦳","🦴","🦵","🦵🏻","🦵🏼","🦵🏽","🦵🏾","🦵🏿","🦶","🦶🏻","🦶🏼","🦶🏽","🦶🏾","🦶🏿","🦷","🦸","🦸‍♀️","🦸‍♂️","🦸🏻","🦸🏻‍♀️","🦸🏻‍♂️","🦸🏼","🦸🏼‍♀️","🦸🏼‍♂️","🦸🏽","🦸🏽‍♀️","🦸🏽‍♂️","🦸🏾","🦸🏾‍♀️","🦸🏾‍♂️","🦸🏿","🦸🏿‍♀️","🦸🏿‍♂️","🦹","🦹‍♀️","🦹‍♂️","🦹🏻","🦹🏻‍♀️","🦹🏻‍♂️","🦹🏼","🦹🏼‍♀️","🦹🏼‍♂️","🦹🏽","🦹🏽‍♀️","🦹🏽‍♂️","🦹🏾","🦹🏾‍♀️","🦹🏾‍♂️","🦹🏿","🦹🏿‍♀️","🦹🏿‍♂️","🦺","🦻","🦻🏻","🦻🏼","🦻🏽","🦻🏾","🦻🏿","🦼","🦽","🦾","🦿","🧀","🧁","🧂","🧃","🧄","🧅","🧆","🧇","🧈","🧉","🧊","🧋","🧌","🧍","🧍‍♀️","🧍‍♂️","🧍🏻","🧍🏻‍♀️","🧍🏻‍♂️","🧍🏼","🧍🏼‍♀️","🧍🏼‍♂️","🧍🏽","🧍🏽‍♀️","🧍🏽‍♂️","🧍🏾","🧍🏾‍♀️","🧍🏾‍♂️","🧍🏿","🧍🏿‍♀️","🧍🏿‍♂️","🧎","🧎‍♀️","🧎‍♂️","🧎🏻","🧎🏻‍♀️","🧎🏻‍♂️","🧎🏼","🧎🏼‍♀️","🧎🏼‍♂️","🧎🏽","🧎🏽‍♀️","🧎🏽‍♂️","🧎🏾","🧎🏾‍♀️","🧎🏾‍♂️","🧎🏿","🧎🏿‍♀️","🧎🏿‍♂️","🧏","🧏‍♀️","🧏‍♂️","🧏🏻","🧏🏻‍♀️","🧏🏻‍♂️","🧏🏼","🧏🏼‍♀️","🧏🏼‍♂️","🧏🏽","🧏🏽‍♀️","🧏🏽‍♂️","🧏🏾","🧏🏾‍♀️","🧏🏾‍♂️","🧏🏿","🧏🏿‍♀️","🧏🏿‍♂️","🧐","🧑","🧑‍⚕️","🧑‍⚖️","🧑‍✈️","🧑‍🌾","🧑‍🍳","🧑‍🍼","🧑‍🎄","🧑‍🎓","🧑‍🎤","🧑‍🎨","🧑‍🏫","🧑‍🏭","🧑‍💻","🧑‍💼","🧑‍🔧","🧑‍🔬","🧑‍🚀","🧑‍🚒","🧑‍🤝‍🧑","🧑‍🦯","🧑‍🦰","🧑‍🦱","🧑‍🦲","🧑‍🦳","🧑‍🦼","🧑‍🦽","🧑🏻","🧑🏻‍⚕️","🧑🏻‍⚖️","🧑🏻‍✈️","🧑🏻‍❤️‍💋‍🧑🏼","🧑🏻‍❤️‍💋‍🧑🏽","🧑🏻‍❤️‍💋‍🧑🏾","🧑🏻‍❤️‍💋‍🧑🏿","🧑🏻‍❤️‍🧑🏼","🧑🏻‍❤️‍🧑🏽","🧑🏻‍❤️‍🧑🏾","🧑🏻‍❤️‍🧑🏿","🧑🏻‍🌾","🧑🏻‍🍳","🧑🏻‍🍼","🧑🏻‍🎄","🧑🏻‍🎓","🧑🏻‍🎤","🧑🏻‍🎨","🧑🏻‍🏫","🧑🏻‍🏭","🧑🏻‍💻","🧑🏻‍💼","🧑🏻‍🔧","🧑🏻‍🔬","🧑🏻‍🚀","🧑🏻‍🚒","🧑🏻‍🤝‍🧑🏻","🧑🏻‍🤝‍🧑🏼","🧑🏻‍🤝‍🧑🏽","🧑🏻‍🤝‍🧑🏾","🧑🏻‍🤝‍🧑🏿","🧑🏻‍🦯","🧑🏻‍🦰","🧑🏻‍🦱","🧑🏻‍🦲","🧑🏻‍🦳","🧑🏻‍🦼","🧑🏻‍🦽","🧑🏼","🧑🏼‍⚕️","🧑🏼‍⚖️","🧑🏼‍✈️","🧑🏼‍❤️‍💋‍🧑🏻","🧑🏼‍❤️‍💋‍🧑🏽","🧑🏼‍❤️‍💋‍🧑🏾","🧑🏼‍❤️‍💋‍🧑🏿","🧑🏼‍❤️‍🧑🏻","🧑🏼‍❤️‍🧑🏽","🧑🏼‍❤️‍🧑🏾","🧑🏼‍❤️‍🧑🏿","🧑🏼‍🌾","🧑🏼‍🍳","🧑🏼‍🍼","🧑🏼‍🎄","🧑🏼‍🎓","🧑🏼‍🎤","🧑🏼‍🎨","🧑🏼‍🏫","🧑🏼‍🏭","🧑🏼‍💻","🧑🏼‍💼","🧑🏼‍🔧","🧑🏼‍🔬","🧑🏼‍🚀","🧑🏼‍🚒","🧑🏼‍🤝‍🧑🏻","🧑🏼‍🤝‍🧑🏼","🧑🏼‍🤝‍🧑🏽","🧑🏼‍🤝‍🧑🏾","🧑🏼‍🤝‍🧑🏿","🧑🏼‍🦯","🧑🏼‍🦰","🧑🏼‍🦱","🧑🏼‍🦲","🧑🏼‍🦳","🧑🏼‍🦼","🧑🏼‍🦽","🧑🏽","🧑🏽‍⚕️","🧑🏽‍⚖️","🧑🏽‍✈️","🧑🏽‍❤️‍💋‍🧑🏻","🧑🏽‍❤️‍💋‍🧑🏼","🧑🏽‍❤️‍💋‍🧑🏾","🧑🏽‍❤️‍💋‍🧑🏿","🧑🏽‍❤️‍🧑🏻","🧑🏽‍❤️‍🧑🏼","🧑🏽‍❤️‍🧑🏾","🧑🏽‍❤️‍🧑🏿","🧑🏽‍🌾","🧑🏽‍🍳","🧑🏽‍🍼","🧑🏽‍🎄","🧑🏽‍🎓","🧑🏽‍🎤","🧑🏽‍🎨","🧑🏽‍🏫","🧑🏽‍🏭","🧑🏽‍💻","🧑🏽‍💼","🧑🏽‍🔧","🧑🏽‍🔬","🧑🏽‍🚀","🧑🏽‍🚒","🧑🏽‍🤝‍🧑🏻","🧑🏽‍🤝‍🧑🏼","🧑🏽‍🤝‍🧑🏽","🧑🏽‍🤝‍🧑🏾","🧑🏽‍🤝‍🧑🏿","🧑🏽‍🦯","🧑🏽‍🦰","🧑🏽‍🦱","🧑🏽‍🦲","🧑🏽‍🦳","🧑🏽‍🦼","🧑🏽‍🦽","🧑🏾","🧑🏾‍⚕️","🧑🏾‍⚖️","🧑🏾‍✈️","🧑🏾‍❤️‍💋‍🧑🏻","🧑🏾‍❤️‍💋‍🧑🏼","🧑🏾‍❤️‍💋‍🧑🏽","🧑🏾‍❤️‍💋‍🧑🏿","🧑🏾‍❤️‍🧑🏻","🧑🏾‍❤️‍🧑🏼","🧑🏾‍❤️‍🧑🏽","🧑🏾‍❤️‍🧑🏿","🧑🏾‍🌾","🧑🏾‍🍳","🧑🏾‍🍼","🧑🏾‍🎄","🧑🏾‍🎓","🧑🏾‍🎤","🧑🏾‍🎨","🧑🏾‍🏫","🧑🏾‍🏭","🧑🏾‍💻","🧑🏾‍💼","🧑🏾‍🔧","🧑🏾‍🔬","🧑🏾‍🚀","🧑🏾‍🚒","🧑🏾‍🤝‍🧑🏻","🧑🏾‍🤝‍🧑🏼","🧑🏾‍🤝‍🧑🏽","🧑🏾‍🤝‍🧑🏾","🧑🏾‍🤝‍🧑🏿","🧑🏾‍🦯","🧑🏾‍🦰","🧑🏾‍🦱","🧑🏾‍🦲","🧑🏾‍🦳","🧑🏾‍🦼","🧑🏾‍🦽","🧑🏿","🧑🏿‍⚕️","🧑🏿‍⚖️","🧑🏿‍✈️","🧑🏿‍❤️‍💋‍🧑🏻","🧑🏿‍❤️‍💋‍🧑🏼","🧑🏿‍❤️‍💋‍🧑🏽","🧑🏿‍❤️‍💋‍🧑🏾","🧑🏿‍❤️‍🧑🏻","🧑🏿‍❤️‍🧑🏼","🧑🏿‍❤️‍🧑🏽","🧑🏿‍❤️‍🧑🏾","🧑🏿‍🌾","🧑🏿‍🍳","🧑🏿‍🍼","🧑🏿‍🎄","🧑🏿‍🎓","🧑🏿‍🎤","🧑🏿‍🎨","🧑🏿‍🏫","🧑🏿‍🏭","🧑🏿‍💻","🧑🏿‍💼","🧑🏿‍🔧","🧑🏿‍🔬","🧑🏿‍🚀","🧑🏿‍🚒","🧑🏿‍🤝‍🧑🏻","🧑🏿‍🤝‍🧑🏼","🧑🏿‍🤝‍🧑🏽","🧑🏿‍🤝‍🧑🏾","🧑🏿‍🤝‍🧑🏿","🧑🏿‍🦯","🧑🏿‍🦰","🧑🏿‍🦱","🧑🏿‍🦲","🧑🏿‍🦳","🧑🏿‍🦼","🧑🏿‍🦽","🧒","🧒🏻","🧒🏼","🧒🏽","🧒🏾","🧒🏿","🧓","🧓🏻","🧓🏼","🧓🏽","🧓🏾","🧓🏿","🧔","🧔‍♀️","🧔‍♂️","🧔🏻","🧔🏻‍♀️","🧔🏻‍♂️","🧔🏼","🧔🏼‍♀️","🧔🏼‍♂️","🧔🏽","🧔🏽‍♀️","🧔🏽‍♂️","🧔🏾","🧔🏾‍♀️","🧔🏾‍♂️","🧔🏿","🧔🏿‍♀️","🧔🏿‍♂️","🧕","🧕🏻","🧕🏼","🧕🏽","🧕🏾","🧕🏿","🧖","🧖‍♀️","🧖‍♂️","🧖🏻","🧖🏻‍♀️","🧖🏻‍♂️","🧖🏼","🧖🏼‍♀️","🧖🏼‍♂️","🧖🏽","🧖🏽‍♀️","🧖🏽‍♂️","🧖🏾","🧖🏾‍♀️","🧖🏾‍♂️","🧖🏿","🧖🏿‍♀️","🧖🏿‍♂️","🧗","🧗‍♀️","🧗‍♂️","🧗🏻","🧗🏻‍♀️","🧗🏻‍♂️","🧗🏼","🧗🏼‍♀️","🧗🏼‍♂️","🧗🏽","🧗🏽‍♀️","🧗🏽‍♂️","🧗🏾","🧗🏾‍♀️","🧗🏾‍♂️","🧗🏿","🧗🏿‍♀️","🧗🏿‍♂️","🧘","🧘‍♀️","🧘‍♂️","🧘🏻","🧘🏻‍♀️","🧘🏻‍♂️","🧘🏼","🧘🏼‍♀️","🧘🏼‍♂️","🧘🏽","🧘🏽‍♀️","🧘🏽‍♂️","🧘🏾","🧘🏾‍♀️","🧘🏾‍♂️","🧘🏿","🧘🏿‍♀️","🧘🏿‍♂️","🧙","🧙‍♀️","🧙‍♂️","🧙🏻","🧙🏻‍♀️","🧙🏻‍♂️","🧙🏼","🧙🏼‍♀️","🧙🏼‍♂️","🧙🏽","🧙🏽‍♀️","🧙🏽‍♂️","🧙🏾","🧙🏾‍♀️","🧙🏾‍♂️","🧙🏿","🧙🏿‍♀️","🧙🏿‍♂️","🧚","🧚‍♀️","🧚‍♂️","🧚🏻","🧚🏻‍♀️","🧚🏻‍♂️","🧚🏼","🧚🏼‍♀️","🧚🏼‍♂️","🧚🏽","🧚🏽‍♀️","🧚🏽‍♂️","🧚🏾","🧚🏾‍♀️","🧚🏾‍♂️","🧚🏿","🧚🏿‍♀️","🧚🏿‍♂️","🧛","🧛‍♀️","🧛‍♂️","🧛🏻","🧛🏻‍♀️","🧛🏻‍♂️","🧛🏼","🧛🏼‍♀️","🧛🏼‍♂️","🧛🏽","🧛🏽‍♀️","🧛🏽‍♂️","🧛🏾","🧛🏾‍♀️","🧛🏾‍♂️","🧛🏿","🧛🏿‍♀️","🧛🏿‍♂️","🧜","🧜‍♀️","🧜‍♂️","🧜🏻","🧜🏻‍♀️","🧜🏻‍♂️","🧜🏼","🧜🏼‍♀️","🧜🏼‍♂️","🧜🏽","🧜🏽‍♀️","🧜🏽‍♂️","🧜🏾","🧜🏾‍♀️","🧜🏾‍♂️","🧜🏿","🧜🏿‍♀️","🧜🏿‍♂️","🧝","🧝‍♀️","🧝‍♂️","🧝🏻","🧝🏻‍♀️","🧝🏻‍♂️","🧝🏼","🧝🏼‍♀️","🧝🏼‍♂️","🧝🏽","🧝🏽‍♀️","🧝🏽‍♂️","🧝🏾","🧝🏾‍♀️","🧝🏾‍♂️","🧝🏿","🧝🏿‍♀️","🧝🏿‍♂️","🧞","🧞‍♀️","🧞‍♂️","🧟","🧟‍♀️","🧟‍♂️","🧠","🧡","🧢","🧣","🧤","🧥","🧦","🧧","🧨","🧩","🧪","🧫","🧬","🧭","🧮","🧯","🧰","🧱","🧲","🧳","🧴","🧵","🧶","🧷","🧸","🧹","🧺","🧻","🧼","🧽","🧾","🧿","🩰","🩱","🩲","🩳","🩴","🩸","🩹","🩺","🩻","🩼","🪀","🪁","🪂","🪃","🪄","🪅","🪆","🪐","🪑","🪒","🪓","🪔","🪕","🪖","🪗","🪘","🪙","🪚","🪛","🪜","🪝","🪞","🪟","🪠","🪡","🪢","🪣","🪤","🪥","🪦","🪧","🪨","🪩","🪪","🪫","🪬","🪰","🪱","🪲","🪳","🪴","🪵","🪶","🪷","🪸","🪹","🪺","🫀","🫁","🫂","🫃","🫃🏻","🫃🏼","🫃🏽","🫃🏾","🫃🏿","🫄","🫄🏻","🫄🏼","🫄🏽","🫄🏾","🫄🏿","🫅","🫅🏻","🫅🏼","🫅🏽","🫅🏾","🫅🏿","🫐","🫑","🫒","🫓","🫔","🫕","🫖","🫗","🫘","🫙","🫠","🫡","🫢","🫣","🫤","🫥","🫦","🫧","🫰","🫰🏻","🫰🏼","🫰🏽","🫰🏾","🫰🏿","🫱","🫱🏻","🫱🏻‍🫲🏼","🫱🏻‍🫲🏽","🫱🏻‍🫲🏾","🫱🏻‍🫲🏿","🫱🏼","🫱🏼‍🫲🏻","🫱🏼‍🫲🏽","🫱🏼‍🫲🏾","🫱🏼‍🫲🏿","🫱🏽","🫱🏽‍🫲🏻","🫱🏽‍🫲🏼","🫱🏽‍🫲🏾","🫱🏽‍🫲🏿","🫱🏾","🫱🏾‍🫲🏻","🫱🏾‍🫲🏼","🫱🏾‍🫲🏽","🫱🏾‍🫲🏿","🫱🏿","🫱🏿‍🫲🏻","🫱🏿‍🫲🏼","🫱🏿‍🫲🏽","🫱🏿‍🫲🏾","🫲","🫲🏻","🫲🏼","🫲🏽","🫲🏾","🫲🏿","🫳","🫳🏻","🫳🏼","🫳🏽","🫳🏾","🫳🏿","🫴","🫴🏻","🫴🏼","🫴🏽","🫴🏾","🫴🏿","🫵","🫵🏻","🫵🏼","🫵🏽","🫵🏾","🫵🏿","🫶","🫶🏻","🫶🏼","🫶🏽","🫶🏾","🫶🏿"]},67262:(e,t)=>{"use strict";t.Z=void 0;t.Z={SMILEYS_PEOPLE:["😀","😃","😄","😁","😆","🥹","😅","😂","🤣","🥲","☺️","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🥸","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😶‍🌫️","😱","😨","😰","😥","😓","🤗","🤔","🫣","🤭","🫢","🫡","🤫","🫠","🤥","😶","🫥","😐","🫤","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😮‍💨","😵","😵‍💫","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🫶","🤲","👐","🙌","👏","🤝","👍","👎","👊","✊","🤛","🤜","🤞","✌️","🫰","🤟","🤘","👌","🤌","🤏","🫳","🫴","👈","👉","👆","👇","☝️","✋","🤚","🖐️","🖖","👋","🤙","🫲","🫱","💪","🦾","🖕","✍️","🙏","🫵","🦶","🦵","🦿","💄","💋","👄","🫦","🦷","👅","👂","🦻","👃","👣","👁️","👀","🫀","🫁","🧠","🗣️","👤","👥","🫂","👶","👧","🧒","👦","👩","🧑","👨","👩‍🦱","🧑‍🦱","👨‍🦱","👩‍🦰","🧑‍🦰","👨‍🦰","👱‍♀️","👱‍♂️","👩‍🦳","🧑‍🦳","👨‍🦳","👩‍🦲","🧑‍🦲","👨‍🦲","🧔‍♀️","🧔","👵","🧓","👴","👲","👳‍♀️","👳‍♂️","🧕","👮‍♀️","👮‍♂️","👷‍♀️","👷‍♂️","💂‍♀️","💂‍♂️","🕵️‍♀️","🕵️‍♂️","👩‍⚕️","🧑‍⚕️","👨‍⚕️","👩‍🌾","🧑‍🌾","👨‍🌾","👩‍🍳","🧑‍🍳","👨‍🍳","👩‍🎓","🧑‍🎓","👨‍🎓","👩‍🎤","🧑‍🎤","👨‍🎤","👩‍🏫","🧑‍🏫","👨‍🏫","👩‍🏭","🧑‍🏭","👨‍🏭","👩‍💻","🧑‍💻","👨‍💻","👩‍💼","🧑‍💼","👨‍💼","👩‍🔧","🧑‍🔧","👨‍🔧","👩‍🔬","🧑‍🔬","👨‍🔬","👩‍🎨","🧑‍🎨","👨‍🎨","👩‍🚒","🧑‍🚒","👨‍🚒","👩‍✈️","🧑‍✈️","👨‍✈️","👩‍🚀","🧑‍🚀","👨‍🚀","👩‍⚖️","🧑‍⚖️","👨‍⚖️","👰‍♀️","👰","👰‍♂️","🤵‍♀️","🤵","🤵‍♂️","👸","🫅","🤴","🥷","🦸‍♀️","🦸‍♂️","🦹‍♀️","🦹‍♂️","🤶","🧑‍🎄","🎅","🧙‍♀️","🧙‍♂️","🧝‍♀️","🧝‍♂️","🧌","🧛‍♀️","🧛‍♂️","🧟‍♀️","🧟‍♂️","🧞‍♀️","🧞‍♂️","🧜‍♀️","🧜‍♂️","🧚‍♀️","🧚‍♂️","👼","🤰","🫄","🫃","🤱","👩‍🍼","🧑‍🍼","👨‍🍼","🙇‍♀️","🙇‍♂️","💁‍♀️","💁‍♂️","🙅‍♀️","🙅‍♂️","🙆‍♀️","🙆‍♂️","🙋‍♀️","🙋‍♂️","🧏‍♀️","🧏","🧏‍♂️","🤦‍♀️","🤦‍♂️","🤷‍♀️","🤷‍♂️","🙎‍♀️","🙎‍♂️","🙍‍♀️","🙍‍♂️","💇‍♀️","💇‍♂️","💆‍♀️","💆‍♂️","🧖‍♀️","🧖","🧖‍♂️","💅","🤳","💃","🕺","👯‍♀️","👯‍♂️","🕴️","👩‍🦽","🧑‍🦽","👨‍🦽","👩‍🦼","🧑‍🦼","👨‍🦼","🚶‍♀️","🚶","🚶‍♂️","👩‍🦯","🧑‍🦯","👨‍🦯","🧎‍♀️","🧎","🧎‍♂️","🏃‍♀️","🏃","🏃‍♂️","🧍‍♀️","🧍","🧍‍♂️","👫","👭","👬","👩‍❤️‍👨","👩‍❤️‍👩","💑","👨‍❤️‍👨","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","💏","👨‍❤️‍💋‍👨","👨‍👩‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧‍👧","👨‍👨‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧‍👧","👩‍👦","👩‍👧","👩‍👧‍👦","👩‍👦‍👦","👩‍👧‍👧","👨‍👦","👨‍👧","👨‍👧‍👦","👨‍👦‍👦","👨‍👧‍👧","🪢","🧶","🧵","🪡","🧥","🥼","🦺","👚","👕","👖","🩲","🩳","👔","👗","👙","🩱","👘","🥻","🩴","🥿","👠","👡","👢","👞","👟","🥾","🧦","🧤","🧣","🎩","🧢","👒","🎓","⛑️","🪖","👑","💍","👝","👛","👜","💼","🎒","🧳","👓","🕶️","🥽","🌂"],ANIMALS_NATURE:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐻‍❄️","🐨","🐯","🦁","🐮","🐷","🐽","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🪱","🐛","🦋","🐌","🐞","🐜","🪰","🪲","🪳","🦟","🦗","🕷️","🕸️","🦂","🐢","🐍","🦎","🦖","🦕","🐙","🦑","🦐","🦞","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🦭","🐊","🐅","🐆","🦓","🦍","🦧","🦣","🐘","🦛","🦏","🐪","🐫","🦒","🦘","🦬","🐃","🐂","🐄","🐎","🐖","🐏","🐑","🦙","🐐","🦌","🐕","🐩","🦮","🐕‍🦺","🐈","🐈‍⬛","🪶","🐓","🦃","🦤","🦚","🦜","🦢","🦩","🕊️","🐇","🦝","🦨","🦡","🦫","🦦","🦥","🐁","🐀","🐿️","🦔","🐾","🐉","🐲","🌵","🎄","🌲","🌳","🌴","🪵","🌱","🌿","☘️","🍀","🎍","🪴","🎋","🍃","🍂","🍁","🪺","🪹","🍄","🐚","🪸","🪨","🌾","💐","🌷","🌹","🥀","🪷","🌺","🌸","🌼","🌻","🌞","🌝","🌛","🌜","🌚","🌕","🌖","🌗","🌘","🌑","🌒","🌓","🌔","🌙","🌎","🌍","🌏","🪐","💫","⭐","🌟","✨","⚡","☄️","💥","🔥","🌪️","🌈","☀️","🌤️","⛅","🌥️","☁️","🌦️","🌧️","⛈️","🌩️","🌨️","❄️","☃️","⛄","🌬️","💨","💧","💦","🫧","☔","☂️","🌊","🌫️"],FOOD_DRINK:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🫑","🌽","🥕","🫒","🧄","🧅","🥔","🍠","🥐","🥯","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🫓","🥪","🥙","🧆","🌮","🌯","🫔","🥗","🥘","🫕","🥫","🫙","🍝","🍜","🍲","🍛","🍣","🍱","🥟","🦪","🍤","🍙","🍚","🍘","🍥","🥠","🥮","🍢","🍡","🍧","🍨","🍦","🥧","🧁","🍰","🎂","🍮","🍭","🍬","🍫","🍿","🍩","🍪","🌰","🥜","🫘","🍯","🥛","🫗","🍼","🫖","☕","🍵","🧃","🥤","🧋","🍶","🍺","🍻","🥂","🍷","🥃","🍸","🍹","🧉","🍾","🧊","🥄","🍴","🍽️","🥣","🥡","🥢","🧂"],ACTIVITY:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🪃","🥅","⛳","🪁","🛝","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛼","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️‍♀️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸","🤸‍♂️","⛹️‍♀️","⛹️","⛹️‍♂️","🤺","🤾‍♀️","🤾","🤾‍♂️","🏌️‍♀️","🏌️","🏌️‍♂️","🏇","🧘‍♀️","🧘","🧘‍♂️","🏄‍♀️","🏄","🏄‍♂️","🏊‍♀️","🏊","🏊‍♂️","🤽‍♀️","🤽","🤽‍♂️","🚣‍♀️","🚣","🚣‍♂️","🧗‍♀️","🧗","🧗‍♂️","🚵‍♀️","🚵","🚵‍♂️","🚴‍♀️","🚴","🚴‍♂️","🏆","🥇","🥈","🥉","🏅","🎖️","🏵️","🎗️","🎫","🎟️","🎪","🤹‍♀️","🤹‍♂️","🎭","🩰","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🪘","🎷","🎺","🪗","🎸","🪕","🎻","🎲","♟️","🎯","🎳","🎮","🎰","🧩"],TRAVEL_PLACES:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🛻","🚚","🚛","🚜","🦯","🦽","🦼","🩼","🛴","🚲","🛵","🏍️","🛺","🛞","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","🛟","⚓","🪝","⛽","🚧","🚦","🚥","🚏","🗺️","🗿","🗽","🗼","🏰","🏯","🏟️","🎡","🎢","🎠","⛲","⛱️","🏖️","🏝️","🏜️","🌋","⛰️","🏔️","🗻","🏕️","⛺","🛖","🏠","🏡","🏘️","🏚️","🏗️","🏭","🏢","🏬","🏣","🏤","🏥","🏦","🏨","🏪","🏫","🏩","💒","🏛️","⛪","🕌","🕍","🛕","🕋","⛩️","🛤️","🛣️","🗾","🎑","🏞️","🌅","🌄","🌠","🎇","🎆","🌇","🌆","🏙️","🌃","🌌","🌉","🌁"],OBJECTS:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🪫","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","🪙","💰","💳","🪪","💎","⚖️","🪜","🧰","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🪤","🧱","⛓️","🧲","🔫","💣","🧨","🪓","🔪","🗡️","⚔️","🛡️","🚬","⚰️","🪦","⚱️","🏺","🔮","📿","🧿","🪬","💈","⚗️","🔭","🔬","🕳️","🩻","🩹","🩺","💊","💉","🩸","🧬","🦠","🧫","🧪","🌡️","🧹","🪠","🧺","🧻","🚽","🚰","🚿","🛁","🛀","🧼","🪥","🪒","🧽","🪣","🧴","🛎️","🔑","🗝️","🚪","🪑","🛋️","🛏️","🛌","🧸","🪆","🖼️","🪞","🪟","🛍️","🛒","🎁","🎈","🎏","🎀","🪄","🪅","🎊","🎉","🎎","🏮","🎐","🪩","🧧","✉️","📩","📨","📧","💌","📥","📤","📦","🏷️","🪧","📪","📫","📬","📭","📮","📯","📜","📃","📄","📑","🧾","📊","📈","📉","🗒️","🗓️","📆","📅","🗑️","📇","🗃️","🗳️","🗄️","📋","📁","📂","🗂️","🗞️","📰","📓","📔","📒","📕","📗","📘","📙","📚","📖","🔖","🧷","🔗","📎","🖇️","📐","📏","🧮","📌","📍","✂️","🖊️","🖋️","✒️","🖌️","🖍️","📝","✏️","🔍","🔎","🔏","🔐","🔒","🔓"],SYMBOLS:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❤️‍🔥","❤️‍🩹","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🛗","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🆓","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔢","#️⃣","*️⃣","⏏️","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","⏫","⏬","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","🔀","🔁","🔂","🔄","🔃","🎵","🎶","➕","➖","➗","✖️","🟰","♾️","💲","💱","™️","©️","®️","👁️‍🗨️","🔚","🔙","🔛","🔝","🔜","〰️","➰","➿","✔️","☑️","🔘","🔴","🟠","🟡","🟢","🔵","🟣","⚫","⚪","🟤","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","🟥","🟧","🟨","🟩","🟦","🟪","⬛","⬜","🟫","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","💬","💭","🗯️","♠️","♣️","♥️","♦️","🃏","🎴","🀄","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧"],FLAGS:["🏳️","🏴","🏴‍☠️","🏁","🚩","🏳️‍🌈","🏳️‍⚧️","🏳‍🟧‍⬛‍🟧","🇺🇳","🇦🇫","🇦🇽","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇨🇻","🇧🇶","🇰🇾","🇨🇫","🇹🇩","🇮🇴","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇨🇮","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇸🇿","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇯🇲","🇯🇵","🎌","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇰🇵","🇲🇰","🇲🇵","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇻🇮","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🇺🇸","🏴󠁵󠁳󠁴󠁸󠁿","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]}},68048:(e,t)=>{"use strict";t.Z=void 0;t.Z={"#️⃣":1,"":1,"*️⃣":2,"0️⃣":3,"":3,"1️⃣":4,"":4,"2️⃣":5,"":5,"3️⃣":6,"":6,"4️⃣":7,"":7,"5️⃣":8,"":8,"6️⃣":9,"":9,"7️⃣":10,"":10,"8️⃣":11,"":11,"9️⃣":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":69,"":79,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":92,"":93,"":95,"":96,"":97,"":98,"":99,"":102,"":112,"":113,"":119,"":120,"":121,"":124,"":130,"":133,"":134,"":136,"":152,"":153,"":154,"":156,"":158,"":164,"":175,"":188,"":189,"":190,"":193,"":195,"":196,"":197,"":198,"":200,"":206,"":208,"":211,"":212,"":213,"":216,"":217,"":219,"":220,"":221,"":222,"":224,"":225,"":226,"":227,"":228,"":230,"":232,"":233,"":235,"":237,"":238,"":287,"":297,"":310,"":318,"":320,"":354,"":358,"":366,"":435,"":479,"🇺🇲":479,"":497,"":498,"":499,"":500,"":502,"":504,"":505,"":506,"":507,"":508,"":509,"":510,"":512,"":514,"":515,"":516,"":517,"":518,"":519,"":520,"":522,"":537,"":543,"":562,"":563,"":565,"":566,"":567,"":568,"":569,"":572,"":574,"":575,"":576,"":577,"":579,"":580,"":583,"":584,"":588,"":593,"":594,"":598,"":599,"":600,"":601,"":602,"":603,"":604,"":605,"":607,"":608,"":609,"":612,"":613,"":622,"":623,"":624,"":625,"":626,"":627,"":628,"":630,"":632,"":633,"":638,"":639,"":640,"":641,"":642,"":643,"":649,"":650,"":651,"":652,"":655,"":656,"":657,"":658,"":659,"":660,"":661,"":662,"":671,"":672,"":674,"":675,"":676,"":677,"":678,"":679,"":681,"":682,"":685,"":686,"":687,"":691,"":692,"":693,"":694,"":696,"":700,"":701,"":702,"":703,"":705,"":718,"":732,"":739,"":741,"":798,"":800,"":801,"":803,"":804,"":805,"":806,"":807,"":808,"":809,"":810,"":811,"":813,"":814,"🇽🇪":821,"🇽🇸":822,"🇽🇼":823,"🇽🇹":824,"":849,"":850,"":853,"":854,"":856,"":860,"":861,"":862,"":863,"":864,"":868,"":869,"":873,"":875,"":876,"":877,"":880,"":881,"":882,"":883,"":884,"":885,"":886,"":888,"":889,"":890,"":891,"":892,"":893,"":894,"":895,"":896,"":902,"":905,"":911,"":917,"":919,"":925,"":931,"":937,"":943,"":949,"":955,"":961,"":967,"":973,"":979,"":985,"":986,"":988,"":989,"":991,"":992,"":993,"":996,"":999,"":1e3,"":1001,"":1002,"":1003,"":1006,"":1012,"":1018,"":1255,"":1560,"":1632,"":1650,"":1656,"":1662,"":1680,"":1688,"":1689,"":1695,"":1696,"":1697,"":1698,"":1723,"":1729,"":1730,"":1760,"":1761,"":1762,"":1763,"":1765,"":1766,"":1767,"":1773,"":1774,"":1780,"":1781,"":1782,"":1785,"":1786,"":1787,"":1788,"":1789,"":1790,"":1791,"":1793,"":1795,"":1796,"":1797,"":1798,"":1800,"":1802,"":1803,"":1804,"":1815,"":1816,"":1824,"":1825,"":1826,"":1827,"":1828,"":1830,"":1831,"":1853,"":1860,"":1863,"":1864,"":1865,"":1866,"":1872,"":1874,"":1877,"":1880,"":1881,"":1882,"":1883,"":1885,"":1886,"":1889,"":1890,"":1891,"":1904,"":1907,"":1911,"":1912,"":1913,"":1914,"":1923,"":1924,"":1931,"":1934,"":1937,"":1941,"":1942,"":1943,"":1944,"":1945,"":1946,"":1962,"":1963,"":1964,"":1965,"":1966,"":1967,"":1968,"":1969,"":1970,"":1971,"":1972,"":1973,"":2061,"":2062,"":2063,"":2067,"":2068,"":2069,"":2070,"":2075,"":2076,"":2078,"":2079,"":2081,"":2084,"":2085,"":2086,"":2088,"":2090,"":2092,"":2094,"":2095,"":2096,"":2098,"":2099,"":2100,"":2101,"":2103,"":2106,"":2108,"":2111,"":2115,"":2116,"":2117,"":2118,"":2124,"":2189,"":2219,"":2225,"":2228,"":2229,"":2230,"":2232,"":2234,"":2237,"":2240,"":2242,"":2243,"":2244,"":2246,"":2248,"":2250,"":2251,"":2259,"":2273,"":2274,"":2276,"":2281,"":2282,"":2287,"":2315,"":2330,"":2331,"":2332,"":2333,"":2334,"":2335,"":2337,"":1579,"":1590,"":1621,"":1639,"":1669,"":1699,"":1712,"":1736,"":1748,"":2138,"":2150,"":2163}},15848:(e,t)=>{"use strict";t.Z=void 0;t.Z=["","#️⃣","*️⃣","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","©️","®️","‼️","⁉️","™️","ℹ️","↔️","↕️","↖️","↗️","↘️","↙️","↩️","↪️","⌚","⌛","⌨️","⏏️","⏩","⏪","⏫","⏬","⏭️","⏮️","⏯️","⏰","⏱️","⏲️","⏳","⏸️","⏹️","⏺️","Ⓜ️","▪️","▫️","▶️","◀️","◻️","◼️","◽","◾","☀️","☁️","☂️","☃️","☄️","☎️","☑️","☔","☕","☘️","☝🏻","☝🏼","☝🏽","☝🏾","☝🏿","☝️","☠️","☢️","☣️","☦️","☪️","☮️","☯️","☸️","☹️","☺️","♀️","♂️","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","♟️","♠️","♣️","♥️","♦️","♨️","♻️","♾️","♿","⚒️","⚓","⚔️","⚕️","⚖️","⚗️","⚙️","⚛️","⚜️","⚠️","⚡","⚧️","⚪","⚫","⚰️","⚱️","⚽","⚾","⛄","⛅","⛈️","⛎","⛏️","⛑️","⛓️","⛔","⛩️","⛪","⛰️","⛱️","⛲","⛳","⛴️","⛵","⛷️","⛸️","⛹🏻‍♀️",["⛹🏻‍♂️","⛹🏻"],"⛹🏼‍♀️",["⛹🏼‍♂️","⛹🏼"],"⛹🏽‍♀️",["⛹🏽‍♂️","⛹🏽"],"⛹🏾‍♀️",["⛹🏾‍♂️","⛹🏾"],"⛹🏿‍♀️",["⛹🏿‍♂️","⛹🏿"],"⛹️","⛹️‍♀️","⛹️‍♂️","⛺","⛽","✂️","✅","✈️","✉️","✊","✊🏻","✊🏼","✊🏽","✊🏾","✊🏿","✋","✋🏻","✋🏼","✋🏽","✋🏾","✋🏿","✌🏻","✌🏼","✌🏽","✌🏾","✌🏿","✌️","✍🏻","✍🏼","✍🏽","✍🏾","✍🏿","✍️","✏️","✒️","✔️","✖️","✝️","✡️","✨","✳️","✴️","❄️","❇️","❌","❎","❓","❔","❕","❗","❣️","❤️","❤️‍🔥","❤️‍🩹","➕","➖","➗","➡️","➰","➿","⤴️","⤵️","⬅️","⬆️","⬇️","⬛","⬜","⭐","⭕","〰️","〽️","㊗️","㊙️","🀄","🃏","🅰️","🅱️","🅾️","🅿️","🆎","🆑","🆒","🆓","🆔","🆕","🆖","🆗","🆘","🆙","🆚","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇲","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇦🇿","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇷","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇾","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇦","🇪🇨","🇪🇪","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇪","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇰🇿","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇹","🇱🇺","🇱🇻","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇳","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇺","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇯","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇦","🇺🇬","🇺🇲","🇺🇳","🇺🇸","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼","🈁","🈂️","🈚","🈯","🈲","🈳","🈴","🈵","🈶","🈷️","🈸","🈹","🈺","🉐","🉑","🌀","🌁","🌂","🌃","🌄","🌅","🌆","🌇","🌈","🌉","🌊","🌋","🌌","🌍","🌎","🌏","🌐","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌝","🌞","🌟","🌠","🌡️","🌤️","🌥️","🌦️","🌧️","🌨️","🌩️","🌪️","🌫️","🌬️","🌭","🌮","🌯","🌰","🌱","🌲","🌳","🌴","🌵","🌶️","🌷","🌸","🌹","🌺","🌻","🌼","🌽","🌾","🌿","🍀","🍁","🍂","🍃","🍄","🍅","🍆","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🍎","🍏","🍐","🍑","🍒","🍓","🍔","🍕","🍖","🍗","🍘","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧","🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍶","🍷","🍸","🍹","🍺","🍻","🍼","🍽️","🍾","🍿","🎀","🎁","🎂","🎃","🎄","🎅","🎅🏻","🎅🏼","🎅🏽","🎅🏾","🎅🏿","🎆","🎇","🎈","🎉","🎊","🎋","🎌","🎍","🎎","🎏","🎐","🎑","🎒","🎓","🎖️","🎗️","🎙️","🎚️","🎛️","🎞️","🎟️","🎠","🎡","🎢","🎣","🎤","🎥","🎦","🎧","🎨","🎩","🎪","🎫","🎬","🎭","🎮","🎯","🎰","🎱","🎲","🎳","🎴","🎵","🎶","🎷","🎸","🎹","🎺","🎻","🎼","🎽","🎾","🎿","🏀","🏁","🏂","🏃","🏃‍♀️","🏃‍♂️","🏃🏻‍♀️",["🏃🏻‍♂️","🏃🏻"],"🏃🏼‍♀️",["🏃🏼‍♂️","🏃🏼"],"🏃🏽‍♀️",["🏃🏽‍♂️","🏃🏽"],"🏃🏾‍♀️",["🏃🏾‍♂️","🏃🏾"],"🏃🏿‍♀️",["🏃🏿‍♂️","🏃🏿"],"🏄","🏄‍♀️","🏄‍♂️","🏄🏻‍♀️",["🏄🏻‍♂️","🏄🏻"],"🏄🏼‍♀️",["🏄🏼‍♂️","🏄🏼"],"🏄🏽‍♀️",["🏄🏽‍♂️","🏄🏽"],"🏄🏾‍♀️",["🏄🏾‍♂️","🏄🏾"],"🏄🏿‍♀️",["🏄🏿‍♂️","🏄🏿"],"🏅","🏆","🏇","🏇🏻","🏇🏼","🏇🏽","🏇🏾","🏇🏿","🏈","🏉","🏊","🏊‍♀️","🏊‍♂️","🏊🏻‍♀️",["🏊🏻‍♂️","🏊🏻"],"🏊🏼‍♀️",["🏊🏼‍♂️","🏊🏼"],"🏊🏽‍♀️",["🏊🏽‍♂️","🏊🏽"],"🏊🏾‍♀️",["🏊🏾‍♂️","🏊🏾"],"🏊🏿‍♀️",["🏊🏿‍♂️","🏊🏿"],"🏋🏻‍♀️",["🏋🏻‍♂️","🏋🏻"],"🏋🏼‍♀️",["🏋🏼‍♂️","🏋🏼"],"🏋🏽‍♀️",["🏋🏽‍♂️","🏋🏽"],"🏋🏾‍♀️",["🏋🏾‍♂️","🏋🏾"],"🏋🏿‍♀️",["🏋🏿‍♂️","🏋🏿"],"🏋️‍♀️",["🏋️‍♂️","🏋️"],"🏌🏻‍♀️",["🏌🏻‍♂️","🏌🏻"],"🏌🏼‍♀️",["🏌🏼‍♂️","🏌🏼"],"🏌🏽‍♀️",["🏌🏽‍♂️","🏌🏽"],"🏌🏾‍♀️",["🏌🏾‍♂️","🏌🏾"],"🏌🏿‍♀️",["🏌🏿‍♂️","🏌🏿"],"🏌️","🏌️‍♀️","🏌️‍♂️","🏍️","🏎️","🏏","🏐","🏑","🏒","🏓","🏔️","🏕️","🏖️","🏗️","🏘️","🏙️","🏚️","🏛️","🏜️","🏝️","🏞️","🏟️","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏮","🏯","🏰","🏳‍🟧‍⬛‍🟧","🏳️","🏳️‍⚧️","🏳️‍🌈","🏴","🏴‍☠️","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🏴󠁵󠁳󠁴󠁸󠁿","🏵️","🏷️","🏸","🏹","🏺","🏻","🏼","🏽","🏾","🏿","🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐈‍⬛","🐉","🐊","🐋","🐌","🐍","🐎","🐏","🐐","🐑","🐒","🐓","🐔","🐕","🐕‍🦺","🐖","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞","🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐪","🐫","🐬","🐭","🐮","🐯","🐰","🐱","🐲","🐳","🐴","🐵","🐶","🐷","🐸","🐹","🐺","🐻","🐻‍❄️","🐼","🐽","🐾","🐿️","👀","👁️","👁️‍🗨️","👂","👂🏻","👂🏼","👂🏽","👂🏾","👂🏿","👃","👃🏻","👃🏼","👃🏽","👃🏾","👃🏿","👄","👅","👆","👆🏻","👆🏼","👆🏽","👆🏾","👆🏿","👇","👇🏻","👇🏼","👇🏽","👇🏾","👇🏿","👈","👈🏻","👈🏼","👈🏽","👈🏾","👈🏿","👉","👉🏻","👉🏼","👉🏽","👉🏾","👉🏿","👊","👊🏻","👊🏼","👊🏽","👊🏾","👊🏿","👋","👋🏻","👋🏼","👋🏽","👋🏾","👋🏿","👌","👌🏻","👌🏼","👌🏽","👌🏾","👌🏿","👍","👍🏻","👍🏼","👍🏽","👍🏾","👍🏿","👎","👎🏻","👎🏼","👎🏽","👎🏾","👎🏿","👏","👏🏻","👏🏼","👏🏽","👏🏾","👏🏿","👐","👐🏻","👐🏼","👐🏽","👐🏾","👐🏿","👑","👒","👓","👔","👕","👖","👗","👘","👙","👚","👛","👜","👝","👞","👟","👠","👡","👢","👣","👤","👥","👦","👦🏻","👦🏼","👦🏽","👦🏾","👦🏿","👧","👧🏻","👧🏼","👧🏽","👧🏾","👧🏿","👨","👨‍⚕️","👨‍⚖️","👨‍✈️","👨‍❤️‍👨","👨‍❤️‍💋‍👨","👨‍🌾","👨‍🍳","👨‍🍼","👨‍🎓","👨‍🎤","👨‍🎨","👨‍🏫","👨‍🏭","👨‍👦","👨‍👦‍👦","👨‍👧","👨‍👧‍👦","👨‍👧‍👧","👨‍👨‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👧‍👧","👨‍👩‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👧‍👧","👨‍💻","👨‍💼","👨‍🔧","👨‍🔬","👨‍🚀","👨‍🚒","👨‍🦯","👨‍🦰","👨‍🦱","👨‍🦲","👨‍🦳","👨‍🦼","👨‍🦽","👨🏻","👨🏻‍⚕️","👨🏻‍⚖️","👨🏻‍✈️","👨🏻‍❤️‍👨🏻","👨🏻‍❤️‍👨🏼","👨🏻‍❤️‍👨🏽","👨🏻‍❤️‍👨🏾","👨🏻‍❤️‍👨🏿","👨🏻‍❤️‍💋‍👨🏻","👨🏻‍❤️‍💋‍👨🏼","👨🏻‍❤️‍💋‍👨🏽","👨🏻‍❤️‍💋‍👨🏾","👨🏻‍❤️‍💋‍👨🏿","👨🏻‍🌾","👨🏻‍🍳","👨🏻‍🍼","👨🏻‍🎓","👨🏻‍🎤","👨🏻‍🎨","👨🏻‍🏫","👨🏻‍🏭","👨🏻‍💻","👨🏻‍💼","👨🏻‍🔧","👨🏻‍🔬","👨🏻‍🚀","👨🏻‍🚒","👨🏻‍🤝‍👨🏼","👨🏻‍🤝‍👨🏽","👨🏻‍🤝‍👨🏾","👨🏻‍🤝‍👨🏿","👨🏻‍🦯","👨🏻‍🦰","👨🏻‍🦱","👨🏻‍🦲","👨🏻‍🦳","👨🏻‍🦼","👨🏻‍🦽","👨🏼","👨🏼‍⚕️","👨🏼‍⚖️","👨🏼‍✈️","👨🏼‍❤️‍👨🏻","👨🏼‍❤️‍👨🏼","👨🏼‍❤️‍👨🏽","👨🏼‍❤️‍👨🏾","👨🏼‍❤️‍👨🏿","👨🏼‍❤️‍💋‍👨🏻","👨🏼‍❤️‍💋‍👨🏼","👨🏼‍❤️‍💋‍👨🏽","👨🏼‍❤️‍💋‍👨🏾","👨🏼‍❤️‍💋‍👨🏿","👨🏼‍🌾","👨🏼‍🍳","👨🏼‍🍼","👨🏼‍🎓","👨🏼‍🎤","👨🏼‍🎨","👨🏼‍🏫","👨🏼‍🏭","👨🏼‍💻","👨🏼‍💼","👨🏼‍🔧","👨🏼‍🔬","👨🏼‍🚀","👨🏼‍🚒","👨🏼‍🤝‍👨🏻","👨🏼‍🤝‍👨🏽","👨🏼‍🤝‍👨🏾","👨🏼‍🤝‍👨🏿","👨🏼‍🦯","👨🏼‍🦰","👨🏼‍🦱","👨🏼‍🦲","👨🏼‍🦳","👨🏼‍🦼","👨🏼‍🦽","👨🏽","👨🏽‍⚕️","👨🏽‍⚖️","👨🏽‍✈️","👨🏽‍❤️‍👨🏻","👨🏽‍❤️‍👨🏼","👨🏽‍❤️‍👨🏽","👨🏽‍❤️‍👨🏾","👨🏽‍❤️‍👨🏿","👨🏽‍❤️‍💋‍👨🏻","👨🏽‍❤️‍💋‍👨🏼","👨🏽‍❤️‍💋‍👨🏽","👨🏽‍❤️‍💋‍👨🏾","👨🏽‍❤️‍💋‍👨🏿","👨🏽‍🌾","👨🏽‍🍳","👨🏽‍🍼","👨🏽‍🎓","👨🏽‍🎤","👨🏽‍🎨","👨🏽‍🏫","👨🏽‍🏭","👨🏽‍💻","👨🏽‍💼","👨🏽‍🔧","👨🏽‍🔬","👨🏽‍🚀","👨🏽‍🚒","👨🏽‍🤝‍👨🏻","👨🏽‍🤝‍👨🏼","👨🏽‍🤝‍👨🏾","👨🏽‍🤝‍👨🏿","👨🏽‍🦯","👨🏽‍🦰","👨🏽‍🦱","👨🏽‍🦲","👨🏽‍🦳","👨🏽‍🦼","👨🏽‍🦽","👨🏾","👨🏾‍⚕️","👨🏾‍⚖️","👨🏾‍✈️","👨🏾‍❤️‍👨🏻","👨🏾‍❤️‍👨🏼","👨🏾‍❤️‍👨🏽","👨🏾‍❤️‍👨🏾","👨🏾‍❤️‍👨🏿","👨🏾‍❤️‍💋‍👨🏻","👨🏾‍❤️‍💋‍👨🏼","👨🏾‍❤️‍💋‍👨🏽","👨🏾‍❤️‍💋‍👨🏾","👨🏾‍❤️‍💋‍👨🏿","👨🏾‍🌾","👨🏾‍🍳","👨🏾‍🍼","👨🏾‍🎓","👨🏾‍🎤","👨🏾‍🎨","👨🏾‍🏫","👨🏾‍🏭","👨🏾‍💻","👨🏾‍💼","👨🏾‍🔧","👨🏾‍🔬","👨🏾‍🚀","👨🏾‍🚒","👨🏾‍🤝‍👨🏻","👨🏾‍🤝‍👨🏼","👨🏾‍🤝‍👨🏽","👨🏾‍🤝‍👨🏿","👨🏾‍🦯","👨🏾‍🦰","👨🏾‍🦱","👨🏾‍🦲","👨🏾‍🦳","👨🏾‍🦼","👨🏾‍🦽","👨🏿","👨🏿‍⚕️","👨🏿‍⚖️","👨🏿‍✈️","👨🏿‍❤️‍👨🏻","👨🏿‍❤️‍👨🏼","👨🏿‍❤️‍👨🏽","👨🏿‍❤️‍👨🏾","👨🏿‍❤️‍👨🏿","👨🏿‍❤️‍💋‍👨🏻","👨🏿‍❤️‍💋‍👨🏼","👨🏿‍❤️‍💋‍👨🏽","👨🏿‍❤️‍💋‍👨🏾","👨🏿‍❤️‍💋‍👨🏿","👨🏿‍🌾","👨🏿‍🍳","👨🏿‍🍼","👨🏿‍🎓","👨🏿‍🎤","👨🏿‍🎨","👨🏿‍🏫","👨🏿‍🏭","👨🏿‍💻","👨🏿‍💼","👨🏿‍🔧","👨🏿‍🔬","👨🏿‍🚀","👨🏿‍🚒","👨🏿‍🤝‍👨🏻","👨🏿‍🤝‍👨🏼","👨🏿‍🤝‍👨🏽","👨🏿‍🤝‍👨🏾","👨🏿‍🦯","👨🏿‍🦰","👨🏿‍🦱","👨🏿‍🦲","👨🏿‍🦳","👨🏿‍🦼","👨🏿‍🦽","👩","👩‍⚕️","👩‍⚖️","👩‍✈️","👩‍❤️‍👨","👩‍❤️‍👩","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍🌾","👩‍🍳","👩‍🍼","👩‍🎓","👩‍🎤","👩‍🎨","👩‍🏫","👩‍🏭","👩‍👦","👩‍👦‍👦","👩‍👧","👩‍👧‍👦","👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👧‍👧","👩‍💻","👩‍💼","👩‍🔧","👩‍🔬","👩‍🚀","👩‍🚒","👩‍🦯","👩‍🦰","👩‍🦱","👩‍🦲","👩‍🦳","👩‍🦼","👩‍🦽","👩🏻","👩🏻‍⚕️","👩🏻‍⚖️","👩🏻‍✈️","👩🏻‍❤️‍👨🏻","👩🏻‍❤️‍👨🏼","👩🏻‍❤️‍👨🏽","👩🏻‍❤️‍👨🏾","👩🏻‍❤️‍👨🏿","👩🏻‍❤️‍👩🏻","👩🏻‍❤️‍👩🏼","👩🏻‍❤️‍👩🏽","👩🏻‍❤️‍👩🏾","👩🏻‍❤️‍👩🏿","👩🏻‍❤️‍💋‍👨🏻","👩🏻‍❤️‍💋‍👨🏼","👩🏻‍❤️‍💋‍👨🏽","👩🏻‍❤️‍💋‍👨🏾","👩🏻‍❤️‍💋‍👨🏿","👩🏻‍❤️‍💋‍👩🏻","👩🏻‍❤️‍💋‍👩🏼","👩🏻‍❤️‍💋‍👩🏽","👩🏻‍❤️‍💋‍👩🏾","👩🏻‍❤️‍💋‍👩🏿","👩🏻‍🌾","👩🏻‍🍳","👩🏻‍🍼","👩🏻‍🎓","👩🏻‍🎤","👩🏻‍🎨","👩🏻‍🏫","👩🏻‍🏭","👩🏻‍💻","👩🏻‍💼","👩🏻‍🔧","👩🏻‍🔬","👩🏻‍🚀","👩🏻‍🚒","👩🏻‍🤝‍👨🏼","👩🏻‍🤝‍👨🏽","👩🏻‍🤝‍👨🏾","👩🏻‍🤝‍👨🏿","👩🏻‍🤝‍👩🏼","👩🏻‍🤝‍👩🏽","👩🏻‍🤝‍👩🏾","👩🏻‍🤝‍👩🏿","👩🏻‍🦯","👩🏻‍🦰","👩🏻‍🦱","👩🏻‍🦲","👩🏻‍🦳","👩🏻‍🦼","👩🏻‍🦽","👩🏼","👩🏼‍⚕️","👩🏼‍⚖️","👩🏼‍✈️","👩🏼‍❤️‍👨🏻","👩🏼‍❤️‍👨🏼","👩🏼‍❤️‍👨🏽","👩🏼‍❤️‍👨🏾","👩🏼‍❤️‍👨🏿","👩🏼‍❤️‍👩🏻","👩🏼‍❤️‍👩🏼","👩🏼‍❤️‍👩🏽","👩🏼‍❤️‍👩🏾","👩🏼‍❤️‍👩🏿","👩🏼‍❤️‍💋‍👨🏻","👩🏼‍❤️‍💋‍👨🏼","👩🏼‍❤️‍💋‍👨🏽","👩🏼‍❤️‍💋‍👨🏾","👩🏼‍❤️‍💋‍👨🏿","👩🏼‍❤️‍💋‍👩🏻","👩🏼‍❤️‍💋‍👩🏼","👩🏼‍❤️‍💋‍👩🏽","👩🏼‍❤️‍💋‍👩🏾","👩🏼‍❤️‍💋‍👩🏿","👩🏼‍🌾","👩🏼‍🍳","👩🏼‍🍼","👩🏼‍🎓","👩🏼‍🎤","👩🏼‍🎨","👩🏼‍🏫","👩🏼‍🏭","👩🏼‍💻","👩🏼‍💼","👩🏼‍🔧","👩🏼‍🔬","👩🏼‍🚀","👩🏼‍🚒","👩🏼‍🤝‍👨🏻","👩🏼‍🤝‍👨🏽","👩🏼‍🤝‍👨🏾","👩🏼‍🤝‍👨🏿","👩🏼‍🤝‍👩🏻","👩🏼‍🤝‍👩🏽","👩🏼‍🤝‍👩🏾","👩🏼‍🤝‍👩🏿","👩🏼‍🦯","👩🏼‍🦰","👩🏼‍🦱","👩🏼‍🦲","👩🏼‍🦳","👩🏼‍🦼","👩🏼‍🦽","👩🏽","👩🏽‍⚕️","👩🏽‍⚖️","👩🏽‍✈️","👩🏽‍❤️‍👨🏻","👩🏽‍❤️‍👨🏼","👩🏽‍❤️‍👨🏽","👩🏽‍❤️‍👨🏾","👩🏽‍❤️‍👨🏿","👩🏽‍❤️‍👩🏻","👩🏽‍❤️‍👩🏼","👩🏽‍❤️‍👩🏽","👩🏽‍❤️‍👩🏾","👩🏽‍❤️‍👩🏿","👩🏽‍❤️‍💋‍👨🏻","👩🏽‍❤️‍💋‍👨🏼","👩🏽‍❤️‍💋‍👨🏽","👩🏽‍❤️‍💋‍👨🏾","👩🏽‍❤️‍💋‍👨🏿","👩🏽‍❤️‍💋‍👩🏻","👩🏽‍❤️‍💋‍👩🏼","👩🏽‍❤️‍💋‍👩🏽","👩🏽‍❤️‍💋‍👩🏾","👩🏽‍❤️‍💋‍👩🏿","👩🏽‍🌾","👩🏽‍🍳","👩🏽‍🍼","👩🏽‍🎓","👩🏽‍🎤","👩🏽‍🎨","👩🏽‍🏫","👩🏽‍🏭","👩🏽‍💻","👩🏽‍💼","👩🏽‍🔧","👩🏽‍🔬","👩🏽‍🚀","👩🏽‍🚒","👩🏽‍🤝‍👨🏻","👩🏽‍🤝‍👨🏼","👩🏽‍🤝‍👨🏾","👩🏽‍🤝‍👨🏿","👩🏽‍🤝‍👩🏻","👩🏽‍🤝‍👩🏼","👩🏽‍🤝‍👩🏾","👩🏽‍🤝‍👩🏿","👩🏽‍🦯","👩🏽‍🦰","👩🏽‍🦱","👩🏽‍🦲","👩🏽‍🦳","👩🏽‍🦼","👩🏽‍🦽","👩🏾","👩🏾‍⚕️","👩🏾‍⚖️","👩🏾‍✈️","👩🏾‍❤️‍👨🏻","👩🏾‍❤️‍👨🏼","👩🏾‍❤️‍👨🏽","👩🏾‍❤️‍👨🏾","👩🏾‍❤️‍👨🏿","👩🏾‍❤️‍👩🏻","👩🏾‍❤️‍👩🏼","👩🏾‍❤️‍👩🏽","👩🏾‍❤️‍👩🏾","👩🏾‍❤️‍👩🏿","👩🏾‍❤️‍💋‍👨🏻","👩🏾‍❤️‍💋‍👨🏼","👩🏾‍❤️‍💋‍👨🏽","👩🏾‍❤️‍💋‍👨🏾","👩🏾‍❤️‍💋‍👨🏿","👩🏾‍❤️‍💋‍👩🏻","👩🏾‍❤️‍💋‍👩🏼","👩🏾‍❤️‍💋‍👩🏽","👩🏾‍❤️‍💋‍👩🏾","👩🏾‍❤️‍💋‍👩🏿","👩🏾‍🌾","👩🏾‍🍳","👩🏾‍🍼","👩🏾‍🎓","👩🏾‍🎤","👩🏾‍🎨","👩🏾‍🏫","👩🏾‍🏭","👩🏾‍💻","👩🏾‍💼","👩🏾‍🔧","👩🏾‍🔬","👩🏾‍🚀","👩🏾‍🚒","👩🏾‍🤝‍👨🏻","👩🏾‍🤝‍👨🏼","👩🏾‍🤝‍👨🏽","👩🏾‍🤝‍👨🏿","👩🏾‍🤝‍👩🏻","👩🏾‍🤝‍👩🏼","👩🏾‍🤝‍👩🏽","👩🏾‍🤝‍👩🏿","👩🏾‍🦯","👩🏾‍🦰","👩🏾‍🦱","👩🏾‍🦲","👩🏾‍🦳","👩🏾‍🦼","👩🏾‍🦽","👩🏿","👩🏿‍⚕️","👩🏿‍⚖️","👩🏿‍✈️","👩🏿‍❤️‍👨🏻","👩🏿‍❤️‍👨🏼","👩🏿‍❤️‍👨🏽","👩🏿‍❤️‍👨🏾","👩🏿‍❤️‍👨🏿","👩🏿‍❤️‍👩🏻","👩🏿‍❤️‍👩🏼","👩🏿‍❤️‍👩🏽","👩🏿‍❤️‍👩🏾","👩🏿‍❤️‍👩🏿","👩🏿‍❤️‍💋‍👨🏻","👩🏿‍❤️‍💋‍👨🏼","👩🏿‍❤️‍💋‍👨🏽","👩🏿‍❤️‍💋‍👨🏾","👩🏿‍❤️‍💋‍👨🏿","👩🏿‍❤️‍💋‍👩🏻","👩🏿‍❤️‍💋‍👩🏼","👩🏿‍❤️‍💋‍👩🏽","👩🏿‍❤️‍💋‍👩🏾","👩🏿‍❤️‍💋‍👩🏿","👩🏿‍🌾","👩🏿‍🍳","👩🏿‍🍼","👩🏿‍🎓","👩🏿‍🎤","👩🏿‍🎨","👩🏿‍🏫","👩🏿‍🏭","👩🏿‍💻","👩🏿‍💼","👩🏿‍🔧","👩🏿‍🔬","👩🏿‍🚀","👩🏿‍🚒","👩🏿‍🤝‍👨🏻","👩🏿‍🤝‍👨🏼","👩🏿‍🤝‍👨🏽","👩🏿‍🤝‍👨🏾","👩🏿‍🤝‍👩🏻","👩🏿‍🤝‍👩🏼","👩🏿‍🤝‍👩🏽","👩🏿‍🤝‍👩🏾","👩🏿‍🦯","👩🏿‍🦰","👩🏿‍🦱","👩🏿‍🦲","👩🏿‍🦳","👩🏿‍🦼","👩🏿‍🦽","👪","👫","👫🏻","👫🏼","👫🏽","👫🏾","👫🏿","👬","👬🏻","👬🏼","👬🏽","👬🏾","👬🏿","👭","👭🏻","👭🏼","👭🏽","👭🏾","👭🏿","👮‍♀️",["👮‍♂️","👮"],"👮🏻‍♀️",["👮🏻‍♂️","👮🏻"],"👮🏼‍♀️",["👮🏼‍♂️","👮🏼"],"👮🏽‍♀️",["👮🏽‍♂️","👮🏽"],"👮🏾‍♀️",["👮🏾‍♂️","👮🏾"],"👮🏿‍♀️",["👮🏿‍♂️","👮🏿"],["👯‍♀️","👯"],"👯‍♂️","👯🏻‍♀️","👯🏻‍♂️","👯🏼‍♀️","👯🏼‍♂️","👯🏽‍♀️","👯🏽‍♂️","👯🏾‍♀️","👯🏾‍♂️","👯🏿‍♀️","👯🏿‍♂️","👰","👰‍♀️","👰‍♂️","👰🏻","👰🏻‍♀️","👰🏻‍♂️","👰🏼","👰🏼‍♀️","👰🏼‍♂️","👰🏽","👰🏽‍♀️","👰🏽‍♂️","👰🏾","👰🏾‍♀️","👰🏾‍♂️","👰🏿","👰🏿‍♀️","👰🏿‍♂️","👱‍♀️",["👱‍♂️","👱"],"👱🏻‍♀️",["👱🏻‍♂️","👱🏻"],"👱🏼‍♀️",["👱🏼‍♂️","👱🏼"],"👱🏽‍♀️",["👱🏽‍♂️","👱🏽"],"👱🏾‍♀️",["👱🏾‍♂️","👱🏾"],"👱🏿‍♀️",["👱🏿‍♂️","👱🏿"],"👲","👲🏻","👲🏼","👲🏽","👲🏾","👲🏿","👳‍♀️",["👳‍♂️","👳"],"👳🏻‍♀️",["👳🏻‍♂️","👳🏻"],"👳🏼‍♀️",["👳🏼‍♂️","👳🏼"],"👳🏽‍♀️",["👳🏽‍♂️","👳🏽"],"👳🏾‍♀️",["👳🏾‍♂️","👳🏾"],"👳🏿‍♀️",["👳🏿‍♂️","👳🏿"],"👴","👴🏻","👴🏼","👴🏽","👴🏾","👴🏿","👵","👵🏻","👵🏼","👵🏽","👵🏾","👵🏿","👶","👶🏻","👶🏼","👶🏽","👶🏾","👶🏿","👷‍♀️",["👷‍♂️","👷"],"👷🏻‍♀️",["👷🏻‍♂️","👷🏻"],"👷🏼‍♀️",["👷🏼‍♂️","👷🏼"],"👷🏽‍♀️",["👷🏽‍♂️","👷🏽"],"👷🏾‍♀️",["👷🏾‍♂️","👷🏾"],"👷🏿‍♀️",["👷🏿‍♂️","👷🏿"],"👸","👸🏻","👸🏼","👸🏽","👸🏾","👸🏿","👹","👺","👻","👼","👼🏻","👼🏼","👼🏽","👼🏾","👼🏿","👽","👾","👿","💀",["💁‍♀️","💁"],"💁‍♂️",["💁🏻‍♀️","💁🏻"],"💁🏻‍♂️",["💁🏼‍♀️","💁🏼"],"💁🏼‍♂️",["💁🏽‍♀️","💁🏽"],"💁🏽‍♂️",["💁🏾‍♀️","💁🏾"],"💁🏾‍♂️",["💁🏿‍♀️","💁🏿"],"💁🏿‍♂️","💂‍♀️",["💂‍♂️","💂"],"💂🏻‍♀️",["💂🏻‍♂️","💂🏻"],"💂🏼‍♀️",["💂🏼‍♂️","💂🏼"],"💂🏽‍♀️",["💂🏽‍♂️","💂🏽"],"💂🏾‍♀️",["💂🏾‍♂️","💂🏾"],"💂🏿‍♀️",["💂🏿‍♂️","💂🏿"],"💃","💃🏻","💃🏼","💃🏽","💃🏾","💃🏿","💄","💅","💅🏻","💅🏼","💅🏽","💅🏾","💅🏿",["💆‍♀️","💆"],"💆‍♂️",["💆🏻‍♀️","💆🏻"],"💆🏻‍♂️",["💆🏼‍♀️","💆🏼"],"💆🏼‍♂️",["💆🏽‍♀️","💆🏽"],"💆🏽‍♂️",["💆🏾‍♀️","💆🏾"],"💆🏾‍♂️",["💆🏿‍♀️","💆🏿"],"💆🏿‍♂️",["💇‍♀️","💇"],"💇‍♂️",["💇🏻‍♀️","💇🏻"],"💇🏻‍♂️",["💇🏼‍♀️","💇🏼"],"💇🏼‍♂️",["💇🏽‍♀️","💇🏽"],"💇🏽‍♂️",["💇🏾‍♀️","💇🏾"],"💇🏾‍♂️",["💇🏿‍♀️","💇🏿"],"💇🏿‍♂️","💈","💉","💊","💋","💌","💍","💎","💏","💏🏻","💏🏼","💏🏽","💏🏾","💏🏿","💐","💑","💑🏻","💑🏼","💑🏽","💑🏾","💑🏿","💒","💓","💔","💕","💖","💗","💘","💙","💚","💛","💜","💝","💞","💟","💠","💡","💢","💣","💤","💥","💦","💧","💨","💩","💪","💪🏻","💪🏼","💪🏽","💪🏾","💪🏿","💫","💬","💭","💮","💯","💰","💱","💲","💳","💴","💵","💶","💷","💸","💹","💺","💻","💼","💽","💾","💿","📀","📁","📂","📃","📄","📅","📆","📇","📈","📉","📊","📋","📌","📍","📎","📏","📐","📑","📒","📓","📔","📕","📖","📗","📘","📙","📚","📛","📜","📝","📞","📟","📠","📡","📢","📣","📤","📥","📦","📧","📨","📩","📪","📫","📬","📭","📮","📯","📰","📱","📲","📳","📴","📵","📶","📷","📸","📹","📺","📻","📼","📽️","📿","🔀","🔁","🔂","🔃","🔄","🔅","🔆","🔇","🔈","🔉","🔊","🔋","🔌","🔍","🔎","🔏","🔐","🔑","🔒","🔓","🔔","🔕","🔖","🔗","🔘","🔙","🔚","🔛","🔜","🔝","🔞","🔟","🔠","🔡","🔢","🔣","🔤","🔥","🔦","🔧","🔨","🔩","🔪","🔫","🔬","🔭","🔮","🔯","🔰","🔱","🔲","🔳","🔴","🔵","🔶","🔷","🔸","🔹","🔺","🔻","🔼","🔽","🕉️","🕊️","🕋","🕌","🕍","🕎","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧","🕯️","🕰️","🕳️","🕴🏻","🕴🏼","🕴🏽","🕴🏾","🕴🏿","🕴️","🕵🏻‍♀️",["🕵🏻‍♂️","🕵🏻"],"🕵🏼‍♀️",["🕵🏼‍♂️","🕵🏼"],"🕵🏽‍♀️",["🕵🏽‍♂️","🕵🏽"],"🕵🏾‍♀️",["🕵🏾‍♂️","🕵🏾"],"🕵🏿‍♀️",["🕵🏿‍♂️","🕵🏿"],"🕵️‍♀️",["🕵️‍♂️","🕵️"],"🕶️","🕷️","🕸️","🕹️","🕺","🕺🏻","🕺🏼","🕺🏽","🕺🏾","🕺🏿","🖇️","🖊️","🖋️","🖌️","🖍️","🖐🏻","🖐🏼","🖐🏽","🖐🏾","🖐🏿","🖐️","🖕","🖕🏻","🖕🏼","🖕🏽","🖕🏾","🖕🏿","🖖","🖖🏻","🖖🏼","🖖🏽","🖖🏾","🖖🏿","🖤","🖥️","🖨️","🖱️","🖲️","🖼️","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","🗜️","🗝️","🗞️","🗡️","🗣️","🗨️","🗯️","🗳️","🗺️","🗻","🗼","🗽","🗾","🗿","😀","😁","😂","😃","😄","😅","😆","😇","😈","😉","😊","😋","😌","😍","😎","😏","😐","😑","😒","😓","😔","😕","😖","😗","😘","😙","😚","😛","😜","😝","😞","😟","😠","😡","😢","😣","😤","😥","😦","😧","😨","😩","😪","😫","😬","😭","😮","😮‍💨","😯","😰","😱","😲","😳","😴","😵","😵‍💫","😶","😶‍🌫️","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙁","🙂","🙃","🙄",["🙅‍♀️","🙅"],"🙅‍♂️",["🙅🏻‍♀️","🙅🏻"],"🙅🏻‍♂️",["🙅🏼‍♀️","🙅🏼"],"🙅🏼‍♂️",["🙅🏽‍♀️","🙅🏽"],"🙅🏽‍♂️",["🙅🏾‍♀️","🙅🏾"],"🙅🏾‍♂️",["🙅🏿‍♀️","🙅🏿"],"🙅🏿‍♂️",["🙆‍♀️","🙆"],"🙆‍♂️",["🙆🏻‍♀️","🙆🏻"],"🙆🏻‍♂️",["🙆🏼‍♀️","🙆🏼"],"🙆🏼‍♂️",["🙆🏽‍♀️","🙆🏽"],"🙆🏽‍♂️",["🙆🏾‍♀️","🙆🏾"],"🙆🏾‍♂️",["🙆🏿‍♀️","🙆🏿"],"🙆🏿‍♂️","🙇‍♀️",["🙇‍♂️","🙇"],"🙇🏻‍♀️",["🙇🏻‍♂️","🙇🏻"],"🙇🏼‍♀️",["🙇🏼‍♂️","🙇🏼"],"🙇🏽‍♀️",["🙇🏽‍♂️","🙇🏽"],"🙇🏾‍♀️",["🙇🏾‍♂️","🙇🏾"],"🙇🏿‍♀️",["🙇🏿‍♂️","🙇🏿"],"🙈","🙉","🙊",["🙋‍♀️","🙋"],"🙋‍♂️",["🙋🏻‍♀️","🙋🏻"],"🙋🏻‍♂️",["🙋🏼‍♀️","🙋🏼"],"🙋🏼‍♂️",["🙋🏽‍♀️","🙋🏽"],"🙋🏽‍♂️",["🙋🏾‍♀️","🙋🏾"],"🙋🏾‍♂️",["🙋🏿‍♀️","🙋🏿"],"🙋🏿‍♂️","🙌","🙌🏻","🙌🏼","🙌🏽","🙌🏾","🙌🏿",["🙍‍♀️","🙍"],"🙍‍♂️",["🙍🏻‍♀️","🙍🏻"],"🙍🏻‍♂️",["🙍🏼‍♀️","🙍🏼"],"🙍🏼‍♂️",["🙍🏽‍♀️","🙍🏽"],"🙍🏽‍♂️",["🙍🏾‍♀️","🙍🏾"],"🙍🏾‍♂️",["🙍🏿‍♀️","🙍🏿"],"🙍🏿‍♂️",["🙎‍♀️","🙎"],"🙎‍♂️",["🙎🏻‍♀️","🙎🏻"],"🙎🏻‍♂️",["🙎🏼‍♀️","🙎🏼"],"🙎🏼‍♂️",["🙎🏽‍♀️","🙎🏽"],"🙎🏽‍♂️",["🙎🏾‍♀️","🙎🏾"],"🙎🏾‍♂️",["🙎🏿‍♀️","🙎🏿"],"🙎🏿‍♂️","🙏","🙏🏻","🙏🏼","🙏🏽","🙏🏾","🙏🏿","🚀","🚁","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚋","🚌","🚍","🚎","🚏","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚢","🚣","🚣‍♀️","🚣‍♂️","🚣🏻‍♀️",["🚣🏻‍♂️","🚣🏻"],"🚣🏼‍♀️",["🚣🏼‍♂️","🚣🏼"],"🚣🏽‍♀️",["🚣🏽‍♂️","🚣🏽"],"🚣🏾‍♀️",["🚣🏾‍♂️","🚣🏾"],"🚣🏿‍♀️",["🚣🏿‍♂️","🚣🏿"],"🚤","🚥","🚦","🚧","🚨","🚩","🚪","🚫","🚬","🚭","🚮","🚯","🚰","🚱","🚲","🚳","🚴","🚴‍♀️","🚴‍♂️","🚴🏻‍♀️",["🚴🏻‍♂️","🚴🏻"],"🚴🏼‍♀️",["🚴🏼‍♂️","🚴🏼"],"🚴🏽‍♀️",["🚴🏽‍♂️","🚴🏽"],"🚴🏾‍♀️",["🚴🏾‍♂️","🚴🏾"],"🚴🏿‍♀️",["🚴🏿‍♂️","🚴🏿"],"🚵","🚵‍♀️","🚵‍♂️","🚵🏻‍♀️",["🚵🏻‍♂️","🚵🏻"],"🚵🏼‍♀️",["🚵🏼‍♂️","🚵🏼"],"🚵🏽‍♀️",["🚵🏽‍♂️","🚵🏽"],"🚵🏾‍♀️",["🚵🏾‍♂️","🚵🏾"],"🚵🏿‍♀️",["🚵🏿‍♂️","🚵🏿"],"🚶","🚶‍♀️","🚶‍♂️","🚶🏻‍♀️",["🚶🏻‍♂️","🚶🏻"],"🚶🏼‍♀️",["🚶🏼‍♂️","🚶🏼"],"🚶🏽‍♀️",["🚶🏽‍♂️","🚶🏽"],"🚶🏾‍♀️",["🚶🏾‍♂️","🚶🏾"],"🚶🏿‍♀️",["🚶🏿‍♂️","🚶🏿"],"🚷","🚸","🚹","🚺","🚻","🚼","🚽","🚾","🚿","🛀","🛀🏻","🛀🏼","🛀🏽","🛀🏾","🛀🏿","🛁","🛂","🛃","🛄","🛅","🛋️","🛌","🛌🏻","🛌🏼","🛌🏽","🛌🏾","🛌🏿","🛍️","🛎️","🛏️","🛐","🛑","🛒","🛕","🛖","🛗","🛝","🛞","🛟","🛠️","🛡️","🛢️","🛣️","🛤️","🛥️","🛩️","🛫","🛬","🛰️","🛳️","🛴","🛵","🛶","🛷","🛸","🛹","🛺","🛻","🛼","🟠","🟡","🟢","🟣","🟤","🟥","🟦","🟧","🟨","🟩","🟪","🟫","🟰","🤌","🤌🏻","🤌🏼","🤌🏽","🤌🏾","🤌🏿","🤍","🤎","🤏","🤏🏻","🤏🏼","🤏🏽","🤏🏾","🤏🏿","🤐","🤑","🤒","🤓","🤔","🤕","🤖","🤗","🤘","🤘🏻","🤘🏼","🤘🏽","🤘🏾","🤘🏿","🤙","🤙🏻","🤙🏼","🤙🏽","🤙🏾","🤙🏿","🤚","🤚🏻","🤚🏼","🤚🏽","🤚🏾","🤚🏿","🤛","🤛🏻","🤛🏼","🤛🏽","🤛🏾","🤛🏿","🤜","🤜🏻","🤜🏼","🤜🏽","🤜🏾","🤜🏿","🤝","🤝🏻","🤝🏼","🤝🏽","🤝🏾","🤝🏿","🤞","🤞🏻","🤞🏼","🤞🏽","🤞🏾","🤞🏿","🤟","🤟🏻","🤟🏼","🤟🏽","🤟🏾","🤟🏿","🤠","🤡","🤢","🤣","🤤","🤥","🤦‍♀️",["🤦‍♂️","🤦"],"🤦🏻‍♀️",["🤦🏻‍♂️","🤦🏻"],"🤦🏼‍♀️",["🤦🏼‍♂️","🤦🏼"],"🤦🏽‍♀️",["🤦🏽‍♂️","🤦🏽"],"🤦🏾‍♀️",["🤦🏾‍♂️","🤦🏾"],"🤦🏿‍♀️",["🤦🏿‍♂️","🤦🏿"],"🤧","🤨","🤩","🤪","🤫","🤬","🤭","🤮","🤯","🤰","🤰🏻","🤰🏼","🤰🏽","🤰🏾","🤰🏿","🤱","🤱🏻","🤱🏼","🤱🏽","🤱🏾","🤱🏿","🤲","🤲🏻","🤲🏼","🤲🏽","🤲🏾","🤲🏿","🤳","🤳🏻","🤳🏼","🤳🏽","🤳🏾","🤳🏿","🤴","🤴🏻","🤴🏼","🤴🏽","🤴🏾","🤴🏿","🤵","🤵‍♀️","🤵‍♂️","🤵🏻","🤵🏻‍♀️","🤵🏻‍♂️","🤵🏼","🤵🏼‍♀️","🤵🏼‍♂️","🤵🏽","🤵🏽‍♀️","🤵🏽‍♂️","🤵🏾","🤵🏾‍♀️","🤵🏾‍♂️","🤵🏿","🤵🏿‍♀️","🤵🏿‍♂️","🤶","🤶🏻","🤶🏼","🤶🏽","🤶🏾","🤶🏿",["🤷‍♀️","🤷"],"🤷‍♂️",["🤷🏻‍♀️","🤷🏻"],"🤷🏻‍♂️",["🤷🏼‍♀️","🤷🏼"],"🤷🏼‍♂️",["🤷🏽‍♀️","🤷🏽"],"🤷🏽‍♂️",["🤷🏾‍♀️","🤷🏾"],"🤷🏾‍♂️",["🤷🏿‍♀️","🤷🏿"],"🤷🏿‍♂️","🤸","🤸‍♀️","🤸‍♂️","🤸🏻‍♀️",["🤸🏻‍♂️","🤸🏻"],"🤸🏼‍♀️",["🤸🏼‍♂️","🤸🏼"],"🤸🏽‍♀️",["🤸🏽‍♂️","🤸🏽"],"🤸🏾‍♀️",["🤸🏾‍♂️","🤸🏾"],"🤸🏿‍♀️",["🤸🏿‍♂️","🤸🏿"],"🤹‍♀️",["🤹‍♂️","🤹"],"🤹🏻‍♀️",["🤹🏻‍♂️","🤹🏻"],"🤹🏼‍♀️",["🤹🏼‍♂️","🤹🏼"],"🤹🏽‍♀️",["🤹🏽‍♂️","🤹🏽"],"🤹🏾‍♀️",["🤹🏾‍♂️","🤹🏾"],"🤹🏿‍♀️",["🤹🏿‍♂️","🤹🏿"],"🤺","🤼","🤼‍♀️","🤼‍♂️","🤽","🤽‍♀️","🤽‍♂️","🤽🏻‍♀️",["🤽🏻‍♂️","🤽🏻"],"🤽🏼‍♀️",["🤽🏼‍♂️","🤽🏼"],"🤽🏽‍♀️",["🤽🏽‍♂️","🤽🏽"],"🤽🏾‍♀️",["🤽🏾‍♂️","🤽🏾"],"🤽🏿‍♀️",["🤽🏿‍♂️","🤽🏿"],"🤾","🤾‍♀️","🤾‍♂️",["🤾🏻‍♀️","🤾🏻"],"🤾🏻‍♂️",["🤾🏼‍♀️","🤾🏼"],"🤾🏼‍♂️",["🤾🏽‍♀️","🤾🏽"],"🤾🏽‍♂️",["🤾🏾‍♀️","🤾🏾"],"🤾🏾‍♂️",["🤾🏿‍♀️","🤾🏿"],"🤾🏿‍♂️","🤿","🥀","🥁","🥂","🥃","🥄","🥅","🥇","🥈","🥉","🥊","🥋","🥌","🥍","🥎","🥏","🥐","🥑","🥒","🥓","🥔","🥕","🥖","🥗","🥘","🥙","🥚","🥛","🥜","🥝","🥞","🥟","🥠","🥡","🥢","🥣","🥤","🥥","🥦","🥧","🥨","🥩","🥪","🥫","🥬","🥭","🥮","🥯","🥰","🥱","🥲","🥳","🥴","🥵","🥶","🥷","🥷🏻","🥷🏼","🥷🏽","🥷🏾","🥷🏿","🥸","🥹","🥺","🥻","🥼","🥽","🥾","🥿","🦀","🦁","🦂","🦃","🦄","🦅","🦆","🦇","🦈","🦉","🦊","🦋","🦌","🦍","🦎","🦏","🦐","🦑","🦒","🦓","🦔","🦕","🦖","🦗","🦘","🦙","🦚","🦛","🦜","🦝","🦞","🦟","🦠","🦡","🦢","🦣","🦤","🦥","🦦","🦧","🦨","🦩","🦪","🦫","🦬","🦭","🦮","🦯","🦴","🦵","🦵🏻","🦵🏼","🦵🏽","🦵🏾","🦵🏿","🦶","🦶🏻","🦶🏼","🦶🏽","🦶🏾","🦶🏿","🦷","🦸‍♀️","🦸‍♂️","🦸🏻‍♀️","🦸🏻‍♂️","🦸🏼‍♀️","🦸🏼‍♂️","🦸🏽‍♀️","🦸🏽‍♂️","🦸🏾‍♀️","🦸🏾‍♂️","🦸🏿‍♀️","🦸🏿‍♂️","🦹‍♀️","🦹‍♂️","🦹🏻‍♀️","🦹🏻‍♂️","🦹🏼‍♀️","🦹🏼‍♂️","🦹🏽‍♀️","🦹🏽‍♂️","🦹🏾‍♀️","🦹🏾‍♂️","🦹🏿‍♀️","🦹🏿‍♂️","🦺","🦻","🦻🏻","🦻🏼","🦻🏽","🦻🏾","🦻🏿","🦼","🦽","🦾","🦿","🧀","🧁","🧂","🧃","🧄","🧅","🧆","🧇","🧈","🧉","🧊","🧋","🧌","🧍","🧍‍♀️","🧍‍♂️","🧍🏻","🧍🏻‍♀️","🧍🏻‍♂️","🧍🏼","🧍🏼‍♀️","🧍🏼‍♂️","🧍🏽","🧍🏽‍♀️","🧍🏽‍♂️","🧍🏾","🧍🏾‍♀️","🧍🏾‍♂️","🧍🏿","🧍🏿‍♀️","🧍🏿‍♂️","🧎","🧎‍♀️","🧎‍♂️","🧎🏻","🧎🏻‍♀️","🧎🏻‍♂️","🧎🏼","🧎🏼‍♀️","🧎🏼‍♂️","🧎🏽","🧎🏽‍♀️","🧎🏽‍♂️","🧎🏾","🧎🏾‍♀️","🧎🏾‍♂️","🧎🏿","🧎🏿‍♀️","🧎🏿‍♂️","🧏","🧏‍♀️","🧏‍♂️","🧏🏻","🧏🏻‍♀️","🧏🏻‍♂️","🧏🏼","🧏🏼‍♀️","🧏🏼‍♂️","🧏🏽","🧏🏽‍♀️","🧏🏽‍♂️","🧏🏾","🧏🏾‍♀️","🧏🏾‍♂️","🧏🏿","🧏🏿‍♀️","🧏🏿‍♂️","🧐","🧑","🧑‍⚕️","🧑‍⚖️","🧑‍✈️","🧑‍🌾","🧑‍🍳","🧑‍🍼","🧑‍🎄","🧑‍🎓","🧑‍🎤","🧑‍🎨","🧑‍🏫","🧑‍🏭","🧑‍💻","🧑‍💼","🧑‍🔧","🧑‍🔬","🧑‍🚀","🧑‍🚒","🧑‍🤝‍🧑","🧑‍🦯","🧑‍🦰","🧑‍🦱","🧑‍🦲","🧑‍🦳","🧑‍🦼","🧑‍🦽","🧑🏻","🧑🏻‍⚕️","🧑🏻‍⚖️","🧑🏻‍✈️","🧑🏻‍❤️‍💋‍🧑🏼","🧑🏻‍❤️‍💋‍🧑🏽","🧑🏻‍❤️‍💋‍🧑🏾","🧑🏻‍❤️‍💋‍🧑🏿","🧑🏻‍❤️‍🧑🏼","🧑🏻‍❤️‍🧑🏽","🧑🏻‍❤️‍🧑🏾","🧑🏻‍❤️‍🧑🏿","🧑🏻‍🌾","🧑🏻‍🍳","🧑🏻‍🍼","🧑🏻‍🎄","🧑🏻‍🎓","🧑🏻‍🎤","🧑🏻‍🎨","🧑🏻‍🏫","🧑🏻‍🏭","🧑🏻‍💻","🧑🏻‍💼","🧑🏻‍🔧","🧑🏻‍🔬","🧑🏻‍🚀","🧑🏻‍🚒","🧑🏻‍🤝‍🧑🏻","🧑🏻‍🤝‍🧑🏼","🧑🏻‍🤝‍🧑🏽","🧑🏻‍🤝‍🧑🏾","🧑🏻‍🤝‍🧑🏿","🧑🏻‍🦯","🧑🏻‍🦰","🧑🏻‍🦱","🧑🏻‍🦲","🧑🏻‍🦳","🧑🏻‍🦼","🧑🏻‍🦽","🧑🏼","🧑🏼‍⚕️","🧑🏼‍⚖️","🧑🏼‍✈️","🧑🏼‍❤️‍💋‍🧑🏻","🧑🏼‍❤️‍💋‍🧑🏽","🧑🏼‍❤️‍💋‍🧑🏾","🧑🏼‍❤️‍💋‍🧑🏿","🧑🏼‍❤️‍🧑🏻","🧑🏼‍❤️‍🧑🏽","🧑🏼‍❤️‍🧑🏾","🧑🏼‍❤️‍🧑🏿","🧑🏼‍🌾","🧑🏼‍🍳","🧑🏼‍🍼","🧑🏼‍🎄","🧑🏼‍🎓","🧑🏼‍🎤","🧑🏼‍🎨","🧑🏼‍🏫","🧑🏼‍🏭","🧑🏼‍💻","🧑🏼‍💼","🧑🏼‍🔧","🧑🏼‍🔬","🧑🏼‍🚀","🧑🏼‍🚒","🧑🏼‍🤝‍🧑🏻","🧑🏼‍🤝‍🧑🏼","🧑🏼‍🤝‍🧑🏽","🧑🏼‍🤝‍🧑🏾","🧑🏼‍🤝‍🧑🏿","🧑🏼‍🦯","🧑🏼‍🦰","🧑🏼‍🦱","🧑🏼‍🦲","🧑🏼‍🦳","🧑🏼‍🦼","🧑🏼‍🦽","🧑🏽","🧑🏽‍⚕️","🧑🏽‍⚖️","🧑🏽‍✈️","🧑🏽‍❤️‍💋‍🧑🏻","🧑🏽‍❤️‍💋‍🧑🏼","🧑🏽‍❤️‍💋‍🧑🏾","🧑🏽‍❤️‍💋‍🧑🏿","🧑🏽‍❤️‍🧑🏻","🧑🏽‍❤️‍🧑🏼","🧑🏽‍❤️‍🧑🏾","🧑🏽‍❤️‍🧑🏿","🧑🏽‍🌾","🧑🏽‍🍳","🧑🏽‍🍼","🧑🏽‍🎄","🧑🏽‍🎓","🧑🏽‍🎤","🧑🏽‍🎨","🧑🏽‍🏫","🧑🏽‍🏭","🧑🏽‍💻","🧑🏽‍💼","🧑🏽‍🔧","🧑🏽‍🔬","🧑🏽‍🚀","🧑🏽‍🚒","🧑🏽‍🤝‍🧑🏻","🧑🏽‍🤝‍🧑🏼","🧑🏽‍🤝‍🧑🏽","🧑🏽‍🤝‍🧑🏾","🧑🏽‍🤝‍🧑🏿","🧑🏽‍🦯","🧑🏽‍🦰","🧑🏽‍🦱","🧑🏽‍🦲","🧑🏽‍🦳","🧑🏽‍🦼","🧑🏽‍🦽","🧑🏾","🧑🏾‍⚕️","🧑🏾‍⚖️","🧑🏾‍✈️","🧑🏾‍❤️‍💋‍🧑🏻","🧑🏾‍❤️‍💋‍🧑🏼","🧑🏾‍❤️‍💋‍🧑🏽","🧑🏾‍❤️‍💋‍🧑🏿","🧑🏾‍❤️‍🧑🏻","🧑🏾‍❤️‍🧑🏼","🧑🏾‍❤️‍🧑🏽","🧑🏾‍❤️‍🧑🏿","🧑🏾‍🌾","🧑🏾‍🍳","🧑🏾‍🍼","🧑🏾‍🎄","🧑🏾‍🎓","🧑🏾‍🎤","🧑🏾‍🎨","🧑🏾‍🏫","🧑🏾‍🏭","🧑🏾‍💻","🧑🏾‍💼","🧑🏾‍🔧","🧑🏾‍🔬","🧑🏾‍🚀","🧑🏾‍🚒","🧑🏾‍🤝‍🧑🏻","🧑🏾‍🤝‍🧑🏼","🧑🏾‍🤝‍🧑🏽","🧑🏾‍🤝‍🧑🏾","🧑🏾‍🤝‍🧑🏿","🧑🏾‍🦯","🧑🏾‍🦰","🧑🏾‍🦱","🧑🏾‍🦲","🧑🏾‍🦳","🧑🏾‍🦼","🧑🏾‍🦽","🧑🏿","🧑🏿‍⚕️","🧑🏿‍⚖️","🧑🏿‍✈️","🧑🏿‍❤️‍💋‍🧑🏻","🧑🏿‍❤️‍💋‍🧑🏼","🧑🏿‍❤️‍💋‍🧑🏽","🧑🏿‍❤️‍💋‍🧑🏾","🧑🏿‍❤️‍🧑🏻","🧑🏿‍❤️‍🧑🏼","🧑🏿‍❤️‍🧑🏽","🧑🏿‍❤️‍🧑🏾","🧑🏿‍🌾","🧑🏿‍🍳","🧑🏿‍🍼","🧑🏿‍🎄","🧑🏿‍🎓","🧑🏿‍🎤","🧑🏿‍🎨","🧑🏿‍🏫","🧑🏿‍🏭","🧑🏿‍💻","🧑🏿‍💼","🧑🏿‍🔧","🧑🏿‍🔬","🧑🏿‍🚀","🧑🏿‍🚒","🧑🏿‍🤝‍🧑🏻","🧑🏿‍🤝‍🧑🏼","🧑🏿‍🤝‍🧑🏽","🧑🏿‍🤝‍🧑🏾","🧑🏿‍🤝‍🧑🏿","🧑🏿‍🦯","🧑🏿‍🦰","🧑🏿‍🦱","🧑🏿‍🦲","🧑🏿‍🦳","🧑🏿‍🦼","🧑🏿‍🦽","🧒","🧒🏻","🧒🏼","🧒🏽","🧒🏾","🧒🏿","🧓","🧓🏻","🧓🏼","🧓🏽","🧓🏾","🧓🏿","🧔","🧔‍♀️","🧔🏻","🧔🏻‍♀️","🧔🏼","🧔🏼‍♀️","🧔🏽","🧔🏽‍♀️","🧔🏾","🧔🏾‍♀️","🧔🏿","🧔🏿‍♀️","🧕","🧕🏻","🧕🏼","🧕🏽","🧕🏾","🧕🏿","🧖","🧖‍♀️","🧖‍♂️","🧖🏻‍♀️",["🧖🏻‍♂️","🧖🏻"],"🧖🏼‍♀️",["🧖🏼‍♂️","🧖🏼"],"🧖🏽‍♀️",["🧖🏽‍♂️","🧖🏽"],"🧖🏾‍♀️",["🧖🏾‍♂️","🧖🏾"],"🧖🏿‍♀️",["🧖🏿‍♂️","🧖🏿"],"🧗","🧗‍♀️","🧗‍♂️",["🧗🏻‍♀️","🧗🏻"],"🧗🏻‍♂️",["🧗🏼‍♀️","🧗🏼"],"🧗🏼‍♂️",["🧗🏽‍♀️","🧗🏽"],"🧗🏽‍♂️",["🧗🏾‍♀️","🧗🏾"],"🧗🏾‍♂️",["🧗🏿‍♀️","🧗🏿"],"🧗🏿‍♂️","🧘","🧘‍♀️","🧘‍♂️",["🧘🏻‍♀️","🧘🏻"],"🧘🏻‍♂️",["🧘🏼‍♀️","🧘🏼"],"🧘🏼‍♂️",["🧘🏽‍♀️","🧘🏽"],"🧘🏽‍♂️",["🧘🏾‍♀️","🧘🏾"],"🧘🏾‍♂️",["🧘🏿‍♀️","🧘🏿"],"🧘🏿‍♂️",["🧙‍♀️","🧙"],"🧙‍♂️",["🧙🏻‍♀️","🧙🏻"],"🧙🏻‍♂️",["🧙🏼‍♀️","🧙🏼"],"🧙🏼‍♂️",["🧙🏽‍♀️","🧙🏽"],"🧙🏽‍♂️",["🧙🏾‍♀️","🧙🏾"],"🧙🏾‍♂️",["🧙🏿‍♀️","🧙🏿"],"🧙🏿‍♂️",["🧚‍♀️","🧚"],"🧚‍♂️",["🧚🏻‍♀️","🧚🏻"],"🧚🏻‍♂️",["🧚🏼‍♀️","🧚🏼"],"🧚🏼‍♂️",["🧚🏽‍♀️","🧚🏽"],"🧚🏽‍♂️",["🧚🏾‍♀️","🧚🏾"],"🧚🏾‍♂️",["🧚🏿‍♀️","🧚🏿"],"🧚🏿‍♂️",["🧛‍♀️","🧛"],"🧛‍♂️",["🧛🏻‍♀️","🧛🏻"],"🧛🏻‍♂️",["🧛🏼‍♀️","🧛🏼"],"🧛🏼‍♂️",["🧛🏽‍♀️","🧛🏽"],"🧛🏽‍♂️",["🧛🏾‍♀️","🧛🏾"],"🧛🏾‍♂️",["🧛🏿‍♀️","🧛🏿"],"🧛🏿‍♂️",["🧜‍♀️","🧜"],"🧜‍♂️",["🧜🏻‍♀️","🧜🏻"],"🧜🏻‍♂️",["🧜🏼‍♀️","🧜🏼"],"🧜🏼‍♂️",["🧜🏽‍♀️","🧜🏽"],"🧜🏽‍♂️",["🧜🏾‍♀️","🧜🏾"],"🧜🏾‍♂️",["🧜🏿‍♀️","🧜🏿"],"🧜🏿‍♂️","🧝‍♀️",["🧝‍♂️","🧝"],"🧝🏻‍♀️",["🧝🏻‍♂️","🧝🏻"],"🧝🏼‍♀️",["🧝🏼‍♂️","🧝🏼"],"🧝🏽‍♀️",["🧝🏽‍♂️","🧝🏽"],"🧝🏾‍♀️",["🧝🏾‍♂️","🧝🏾"],"🧝🏿‍♀️",["🧝🏿‍♂️","🧝🏿"],["🧞‍♀️","🧞"],"🧞‍♂️",["🧟‍♀️","🧟"],"🧟‍♂️","🧠","🧡","🧢","🧣","🧤","🧥","🧦","🧧","🧨","🧩","🧪","🧫","🧬","🧭","🧮","🧯","🧰","🧱","🧲","🧳","🧴","🧵","🧶","🧷","🧸","🧹","🧺","🧻","🧼","🧽","🧾","🧿","🩰","🩱","🩲","🩳","🩴","🩸","🩹","🩺","🩻","🩼","🪀","🪁","🪂","🪃","🪄","🪅","🪆","🪐","🪑","🪒","🪓","🪔","🪕","🪖","🪗","🪘","🪙","🪚","🪛","🪜","🪝","🪞","🪟","🪠","🪡","🪢","🪣","🪤","🪥","🪦","🪧","🪨","🪩","🪪","🪫","🪬","🪰","🪱","🪲","🪳","🪴","🪵","🪶","🪷","🪸","🪹","🪺","🫀","🫁","🫂","🫃","🫃🏻","🫃🏼","🫃🏽","🫃🏾","🫃🏿","🫄","🫄🏻","🫄🏼","🫄🏽","🫄🏾","🫄🏿","🫅","🫅🏻","🫅🏼","🫅🏽","🫅🏾","🫅🏿","🫐","🫑","🫒","🫓","🫔","🫕","🫖","🫗","🫘","🫙","🫠","🫡","🫢","🫣","🫤","🫥","🫦","🫧","🫰","🫰🏻","🫰🏼","🫰🏽","🫰🏾","🫰🏿","🫱","🫱🏻","🫱🏻‍🫲🏼","🫱🏻‍🫲🏽","🫱🏻‍🫲🏾","🫱🏻‍🫲🏿","🫱🏼","🫱🏼‍🫲🏻","🫱🏼‍🫲🏽","🫱🏼‍🫲🏾","🫱🏼‍🫲🏿","🫱🏽","🫱🏽‍🫲🏻","🫱🏽‍🫲🏼","🫱🏽‍🫲🏾","🫱🏽‍🫲🏿","🫱🏾","🫱🏾‍🫲🏻","🫱🏾‍🫲🏼","🫱🏾‍🫲🏽","🫱🏾‍🫲🏿","🫱🏿","🫱🏿‍🫲🏻","🫱🏿‍🫲🏼","🫱🏿‍🫲🏽","🫱🏿‍🫲🏾","🫲","🫲🏻","🫲🏼","🫲🏽","🫲🏾","🫲🏿","🫳","🫳🏻","🫳🏼","🫳🏽","🫳🏾","🫳🏿","🫴","🫴🏻","🫴🏼","🫴🏽","🫴🏾","🫴🏿","🫵","🫵🏻","🫵🏼","🫵🏽","🫵🏾","🫵🏿","🫶","🫶🏻","🫶🏼","🫶🏽","🫶🏾","🫶🏿"]},17136:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,d.emojiSearch)(e,(0,o.default)(_,"Emoji Trie expected to be loaded."))};var r=n(a(48926)),i=n(a(44908)),s=n(a(13752)),o=n(a(45095)),l=a(13959),u=a(4352),d=a(86379),c=n(a(14296)),f=a(8080),h=n(a(35609)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(47272));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g=new Set(["ar","bn","cs","de","en","es","fa","fr","gu","he","hi","hu","id","it","mr","ms","nl","pl","pt","pt-BR","ro","ru","sk","th","tr","uk","ur","zh-CN","zh-TW","zh-HK"]);let _=null;let v=null,b=[];function y(){const e=(0,i.default)(["en",c.default.getLocale()]).filter((e=>g.has(e)));if((0,s.default)(b,e))return;b=e;const t=Promise.all(e.map((e=>function(e){return(0,u.promiseLoop)(function(){var t=(0,r.default)((function*(t,n,r){const i=(0,l.delayMs)(p.expBackoff(r,12e4,1e3,.1));let s=yield a(26299)(`./${e}`);try{const[,,e]=yield s.default();return t(e)}catch(e){return i}}));return function(){return t.apply(this,arguments)}}()).catch((()=>({})))}(e)))).then((e=>{v===t&&(_=(0,d.emojiLocaleDictsToTrie)(e))})).catch((()=>{})).finally((()=>{v===t&&(v=null)}));v=t}c.default.on("locale_change",(()=>{y()})),(0,h.default)(f.Stream,"change:mode",(()=>f.Stream.mode===f.StreamMode.MAIN)).then((()=>{y()}))},86379:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.emojiLocaleDictsToTrie=function(e){let t=e[0];e.length>1&&(t=(0,r.default)((0,r.default)({},t),e[1]));return function(e,t){const a=h.default.fromForwardsStrings(e.map((e=>e[t])),e);return{getMatches:e=>a.search(e)}}((0,i.default)(t,((e,t)=>{const a=t.toLowerCase(),n=a.substring(0,5);return{value:e,keyword:a,shortKeyword:n}})),"shortKeyword")},t.emojiSearch=function(e,t){let a=[];if(e){const n=function(e,t){const a=function(e,t){if(!t)return[];if(e.length<=5)return t.getMatches(e);const a=e.substring(0,5).trim();let n=t.getMatches(a);return n=(0,d.default)(n,(t=>t.keyword.startsWith(e))),n}(e,t),n=_((0,u.default)(a,(e=>e.value))),r=_((0,u.default)(a.filter((t=>t.keyword===e)),(e=>e.value))),i=(0,l.default)(_(p.RecentEmojiCollection.map((e=>e.id))),n),s=(0,l.default)(_(m),n),c=(0,l.default)((0,o.default)(i,s),r);return(0,o.default)(c,b(r),i,s,b(n))}(e.toLowerCase(),t);a=(0,c.default)(n)}return a};var r=n(a(81109)),i=n(a(35161)),s=n(a(51463)),o=n(a(93386)),l=n(a(25325)),u=n(a(94654)),d=n(a(63105)),c=n(a(44908)),f=a(67247),h=n(a(55205)),p=a(92671);const m=["😂","🤣","❤","🥺","🥰","😘","😭","😍","😁","🙏","😅","😆","😊","🙂","😔","🥳","😒","☺","🎂","👍","💖","😢","🙄","😏","😎","💋","😞","😉","👏","🙃","😡","😀","😄","😇","🤩","😌","🤔","🌹","😋","💗","🤗","💕","💔","😚","☹","😃","🎉","🔥","🥴","😳"],g=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS","VARIATION"];function _(e){return e.map(f.EmojiUtil.normalizeEmoji).filter(Boolean)}const v=(0,s.default)((()=>{const e=new Map;let t=0;for(const a of g){const n=f.EmojiUtil.getEmojisInCategory(a);for(const a of n)e.set(a,t),t++}return e}));function b(e){const t=v();return[...e].sort(((e,a)=>{var n,r;return(null!==(n=t.get(e))&&void 0!==n?n:Number.MAX_SAFE_INTEGER)-(null!==(r=t.get(a))&&void 0!==r?r:Number.MAX_SAFE_INTEGER)}))}},16876:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e===i)return;i=e;const[t,s,o]=e===n.EMOJI_TYPE.APPLE?[a(73743).Z,a(62019).Z,a(66035).default]:[a(15848).Z,a(68048).Z,a(67262).Z];r.EmojiUtil.configure({emojiType:e,orderedEmojis:t,legacyToEmoji:s,categorizedEmojis:o})};var n=a(13045),r=a(67247);let i},61585:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OpenChatFlow=void 0,t.clearChatIdCorrectionCache=function(){C.clear()};var i=r(a(48926)),s=a(89385),o=a(13959),l=a(81572),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(95726)),d=a(78820),c=a(48360),f=r(a(52665)),h=a(50101),p=r(a(32973)),m=r(a(14296)),g=r(a(13702)),_=a(57547),v=a(11054),b=a(85893);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const C=new Map;function S(){return(S=(0,i.default)((function*(e){if(!e.isUser())return e;const t=C.get(e.user);if(t)return t;const a=yield(0,_.queryExists)(e),n=null==a?e:a.wid;return C.set(e.user,n),n}))).apply(this,arguments)}class E extends p.default{constructor(){super(...arguments),this._cancel=()=>{this._queryChat&&this._queryChat.controller.abort(),this._queryChat=void 0,this.end()},this.error=()=>{this.push((0,b.jsx)(f.default,{onOK:()=>this.end(),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),children:m.default.t(533)}))}}componentDidMount(){var e=this;let t=!1;const a=new n;(0,o.delayMs)(250).then((()=>{if(a.signal.aborted)throw new s.AbortError;t=!0,this.push((0,b.jsx)(f.default,{title:c.fbt._("Starting chat",null,{hk:"NHBK3"}),onCancel:this._cancel,cancelText:c.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,b.jsx)("div",{className:g.default.spinner,children:(0,b.jsx)(v.Spinner,{stroke:6,size:24})})}))})).catch((0,s.catchAbort)((()=>{})));const r=Date.now(),l=new n,u=l.signal,d=function(){return S.apply(this,arguments)}(this.props.chatId).then((e=>(0,h.findChat)(e,!0))).then(function(){var n=(0,i.default)((function*(n){if(u.aborted)throw new s.AbortError;t||a.abort();const i=Date.now()-r,l=t?Math.max(750-i,0):0;e.openChat(n),yield(0,o.delayMs)(l),e.end(),e.props.onSuccess(n)}));return function(){return n.apply(this,arguments)}}()).catch((0,s.catchAbort)((()=>{}))).catch((e=>{a.abort(),this.error(e)}));this._queryChat={controller:l,promise:d}}openChat(e){let{msgText:t}=this.props,a=this.props.ctwaContextLinkData;if(a){const e=u.findLink(a.sourceUrl||"",!1,(0,d.getMaybeMeUser)());(null==e?void 0:e.suspiciousCharacters)&&e.suspiciousCharacters.size>0&&(a=null)}a&&(t=a.icebreaker),e.active&&t?(l.Cmd.pasteChatTextInput(e,t),a&&l.Cmd.setChatCtwaContextLinkData(e,a)):(t&&e.setComposeContents({text:t}),l.Cmd.openChatFromUnread(e).then((t=>{t&&(l.Cmd.focusChatTextInput(e),a&&l.Cmd.setChatCtwaContextLinkData(e,a))}))),null!=this.props.sendLogAttributes&&l.Cmd.addChatMsgSentLogAttributes(e,this.props.sendLogAttributes)}}t.OpenChatFlow=E,E.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},53991:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollDetailsFlow=function(e){const{msg:t}=e,[a,o]=(0,r.useFlow)({initialStep:s.Details});if(null==o.step)return null;let l=null;switch(o.step){case s.Details:l=(0,i.jsx)(n.PollDetailsDrawer,{msg:t,onClose:()=>{o.pop()}})}return(0,i.jsx)(a,{flow:o,children:l})};var n=a(13043),r=a(76872),i=a(85893);const s=a(76672).Mirrored(["Details"])},76872:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useFlow=function(e){const t=(0,c.default)(),{initialStep:a,initialTransition:n,onEnd:r}=e||{},[s,l]=(0,o.useReducer)(v,{initialStep:a,initialTransition:n},_),u=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;l({type:"push",payload:{step:e,transition:t}})}),[]),f=(0,o.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;l({type:"pop",payload:{transition:e}})}),[]),h=(0,d.default)((e=>{r?r(e):(0,i.default)(t,"uim").requestDismiss(e)})),b=(0,d.default)((()=>s.stack.length));(0,o.useEffect)((()=>{s.ended&&h()}),[h,s.ended]);const y={push:u,pop:f,end:h,stackSize:b,step:s.stack[s.stack.length-1],transition:s.transition,activeKey:s.activeKey,isPushed:s.isPushed};return[p,y]};var r=n(a(81109)),i=n(a(45095)),s=n(a(40436)),o=a(67294),l=n(a(56720)),u=a(18644),d=n(a(89113)),c=n(a(95402)),f=a(85893);const h={height:"ppled2lx",start:"tkdu00h0",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"lhggkp7q",top:"qq0sjtgm",width:"ln8gz9je"},p=(0,o.forwardRef)(((e,t)=>{const{flow:a,children:n}=e,{pop:r,transition:i,activeKey:o}=a;return null==n?null:(0,f.jsx)(s.default,{transitionName:i,className:(0,l.default)(h),children:(0,f.jsx)(u.UIE,{ref:t,displayName:`FlowDrawer${o}`,escapable:!0,requestFocus:()=>{e.requestFocus&&e.requestFocus()},requestDismiss:t=>{e.requestDismiss?e.requestDismiss(t):r()},children:n},o)})}));p.displayName="FlowComponent";const m="flow-transition-drawer-push",g="flow-transition-drawer-pop";function _(e){let{initialStep:t,initialTransition:a}=e;return null==t?{stack:[],transition:"default",activeKey:0,ended:!1,isPushed:!1}:{stack:[t],transition:null!=a?a:m,activeKey:1,ended:!1,isPushed:!0}}function v(e,t){var a,n,i;switch(t.type){case"push":return null==(null===(a=t.payload)||void 0===a?void 0:a.step)?e:(0,r.default)((0,r.default)({},e),{},{stack:e.stack.concat(t.payload.step),transition:null!==(n=null===(i=t.payload)||void 0===i?void 0:i.transition)&&void 0!==n?n:e.transition,activeKey:e.activeKey+1,ended:!1,isPushed:!0});case"pop":const l=e.stack.slice(0,-1);var s,o;return l.length>=1?(0,r.default)((0,r.default)({},e),{},{stack:l,transition:null!==(s=null===(o=t.payload)||void 0===o?void 0:o.transition)&&void 0!==s?s:e.transition,activeKey:e.activeKey-1,isPushed:!1}):e.ended?e:(0,r.default)((0,r.default)({},e),{},{ended:!0});default:return e}}},74331:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UntrustedGroupDesc=t.TrustedGroupDesc=t.StatusV3Text=t.StatusV3Caption=t.SearchName=t.Search=t.RawNotification=t.RawGroupNotification=t.QuotedMention=t.QuickReply=t.LastMessage=t.LargeEmojiOnly=t.HeaderAndFooter=t.FormattedNotification=t.FormattedGroupNotification=t.Format=t.FTSMessage=t.EmojiOnly=t.Conversation=t.ComposeBox=t.Compatibility=t.BoldedContactName=void 0;a(10206);var n=a(8139),r=a(65375);t.EmojiOnly=function(){let{selectable:e,emojiXstyle:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Emoji,{selectable:e,emojiXstyle:t}]]]};t.LargeEmojiOnly=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Emoji,{selectable:e,size:"large"}]]]};t.StatusV3Text=function(){let{links:e,selectable:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:t}]],[[(0,n.statusV3LinkPreviewEnabled)()?r.StatusLink:r.Link,{links:e,selectable:t}]],[[r.Bold,{selectable:t}],[r.Italic,{selectable:t}],[r.Strikethrough,{selectable:t}]],[[r.Emoji,{selectable:t,size:"xlarge"}]]]};t.StatusV3Caption=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoji,{selectable:e}]]]};t.Compatibility=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Emoji,{selectable:e}]]]};t.Conversation=function(){let{mentions:e,links:t,phoneNumbers:a,selectable:i,trusted:s,fromMe:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=s&&(0,n.hyperlinkedPhoneNumbersEnabled)()&&a.length>0?[[r.PhoneNumber,{phoneNumbers:a,selectable:i,fromMe:o}]]:null;return[[[r.Code,{selectable:i}]],null,null,s?[[r.Link,{links:t,selectable:i}]]:null,e?[[r.Mention,{mentions:e,selectable:i}]]:null,null,l,[[r.Bold,{selectable:i}],[r.Italic,{selectable:i}],[r.Strikethrough,{selectable:i}]],[[r.Emoji,{selectable:i}]]].filter(Boolean)};t.Search=e=>{let{boundary:t,terms:a,selectable:n,mentions:i}=e;return[[[r.TextMention,{mentions:i,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Highlight,{terms:a,boundary:t,selectable:n,ignoreDiacritics:!0}]],[[r.Emoji,{selectable:n}]]]};t.SearchName=e=>{let{terms:t}=e;return[[[r.Highlight,{terms:t,ignoreDiacritics:!0}]],[[r.Emoji,{selectable:!1}]]]};t.LastMessage=function(){let{mentions:e,selectable:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:t}]],null,null,e?[[r.TextMention,{mentions:e,selectable:t}]]:null,[[r.Bold,{selectable:t}],[r.Italic,{selectable:t}],[r.Strikethrough,{selectable:t}]],[[r.Emoji,{selectable:t}]]].filter(Boolean)};t.FTSMessage=e=>{let{boundary:t,mentions:a,terms:n,selectable:i}=e;return[[[r.Code,{selectable:i}]],[[r.TextMention,{mentions:a,selectable:i}]],[[r.Bold,{selectable:i}],[r.Italic,{selectable:i}],[r.Strikethrough,{selectable:i}]],[[r.Highlight,{terms:n,boundary:t,selectable:i}]],[[r.Emoji,{selectable:i}]]]};t.QuickReply=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoji,{selectable:e}]]]};t.Format=e=>{let{mentions:t,selectable:a}=e;return[[[r.Code,{selectable:a}]],null,null,[[r.TextMention,{mentions:t,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Emoji,{selectable:a}]]].filter(Boolean)};t.QuotedMention=e=>{let{mentions:t,selectable:a}=e;return[[[r.Code,{selectable:a}]],null,null,[[r.TextMention,{mentions:t,selectable:a,theme:{quoted:!0}}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Emoji,{selectable:a}]]].filter(Boolean)};t.ComposeBox=function(){let{selectable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[[[r.Code,{selectable:e}]],[[r.Link,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoticon,{selectable:e}]]]};t.RawNotification=e=>{let{mentions:t,selectable:a}=e;return[[[r.RawMention,{mentions:t,selectable:a}]]]};t.FormattedNotification=e=>{let{mentions:t,selectable:a}=e;return[[[r.Code,{selectable:a}]],null,null,[[r.RawMention,{mentions:t,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]]].filter(Boolean)};t.RawGroupNotification=e=>{let{mentions:t,selectable:a,groupMetadata:n}=e;return[[[r.RawGroupMention,{mentions:t,selectable:a,groupMetadata:n}]]]};t.FormattedGroupNotification=e=>{let{mentions:t,selectable:a,groupMetadata:n}=e;return[[[r.Code,{selectable:a}]],null,null,[[r.RawGroupMention,{mentions:t,selectable:a,groupMetadata:n}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]]].filter(Boolean)};t.TrustedGroupDesc=e=>{let{links:t}=e;const a=!0;return[[[r.Code,{selectable:a}]],[[r.Link,{links:t,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],null,[[r.Emoji,{selectable:a}]]].filter(Boolean)};t.UntrustedGroupDesc=()=>{const e=!0;return[[[r.Code,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],null,[[r.Emoji,{selectable:e}]]].filter(Boolean)};t.HeaderAndFooter=function(){let{links:e,selectable:t,trusted:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[a?[[r.Link,{links:e,selectable:t}]]:null,[[r.Emoji,{selectable:t}]]].filter(Boolean)};t.BoldedContactName=e=>{let{selectable:t}=e;return[[[r.BoldFirstWord,{selectable:t}]],[[r.Emoji,{selectable:t}]]]}},13699:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.RICH_TEXT)?(0,i.default)(e,l,o.default):e};var r=a(38184),i=n(a(80691)),s=a(30695),o=n(a(37848));const l=s.Configuration.ComposeBox()},80691:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;return(0,i.default)(a,(0,r.parse)(e,t,s),n)};var r=a(35303),i=n(a(21659))},69188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,a){const n=2*e.length+t[1].length,r=t[0].length-n;return r>0&&(t.index+=r,t[0]=t[0].slice(r)),a.lastIndex--,t}}},9412:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableHeaderAndFooterFormatting=function(e,t){return{formatters:(0,n.HeaderAndFooter)({links:e,selectable:!0,trusted:t}),selectable:!0}};var n=a(74331)},52084:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;return class extends i.default{static match(n){return(0,r.default)(n,e,t,a)}}};var r=n(a(44512)),i=n(a(94718))},27229:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{index:a}=e,[n]=e,r=a+n.length-1,i=[a,a,r,r,e];if(t){const r=e[t];i[1]=a+n.indexOf(r),i[2]=i[1]+r.length-1}return i}},44512:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const i=[];let s;t.lastIndex=0;for(;(s=t.exec(e))&&t.lastIndex>0;)n&&(s=n(s,t)),s&&i.push((0,r.default)(s,a));return i};var r=n(a(27229))},30695:(e,t,a)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;const r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(a(74331));t.Configuration=r},57130:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;let{stripFormatting:n=!0,formatAsLastMsg:u=!1,formatAsSearchResult:f=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const S=e.safe();if((0,s.isMDBackend)()&&e.mdDowngrade&&u)return c.fbt._("This message couldn’t be delivered",null,{hk:"9jfod"});switch(S.type){case A.BUTTONS_RESPONSE:case A.TEMPLATE_BUTTON_REPLY:case A.HSM:return n?(0,k.default)(e,e.body):e.body;case A.CIPHERTEXT:return"fanout"===e.subtype?c.fbt._("Waiting for this message. Check your phone.",null,{hk:"3bM8te"}):x.default.t(598);case A.REVOKED:return(0,E.formatRevokedMsg)(S).toString();case A.CHAT:if(e.isFromTemplate)return e.title?n?(0,k.default)(e,e.title+" "+e.body):"*"+e.title+"* "+e.body:n?(0,k.default)(e,e.body):e.body;if(e.isDynamicReplyButtonsMsg&&e.title){const t=j(e.body,e);if(null!=t)return n?(0,k.default)(e,e.title+"\n"+t):`*${e.title}*\n${t}`}return n?(0,k.default)(e,e.body):e.body;case A.IMAGE:if(S.isViewOnce)return(0,w.isViewed)(S)?c.fbt._("Opened",null,{hk:"4eZcUM"}):c.fbt._("Photo",null,{hk:"SBkDD"});const s=j(e.caption,e);return null!=s?n?(0,k.default)(e,s):s:x.default.t(768);case A.VIDEO:if(S.isViewOnce)return(0,w.isViewed)(S)?c.fbt._("Opened",null,{hk:"4eZcUM"}):c.fbt._("Video",null,{hk:"2SOGaJ"});const R=j(e.caption,e);return null!=R?n?(0,k.default)(e,R):R:e.isGif?"GIF":x.default.t(770);case A.STICKER:return c.fbt._("Sticker",null,{hk:"3gWjqH"});case A.PTT:const D=o.Clock.durationStr(e.duration);return D||x.default.t(771);case A.AUDIO:return x.default.t(764);case A.LOCATION:if(e.isFromTemplate||e.isDynamicReplyButtonsMsg){const t=j(e.caption,e);return null!=t?n?(0,k.default)(e,t):t:e.loc||x.default.t(769)}return e.isLive?e.comment||c.fbt._("Live location",null,{hk:"4hn7as"}):e.loc||x.default.t(769);case A.GROUP_NOTIFICATION:case A.GP2:return(0,_.default)(e,u);case A.BROADCAST_NOTIFICATION:return(0,h.default)(e);case A.NOTIFICATION:return e.body;case A.VCARD:return e.vcardFormattedName||x.default.t(765);case A.GROUPS_V4_INVITE:return c.fbt._("WhatsApp group invite",null,{hk:"Yox1t"});case A.MULTI_VCARD:return(0,d.getNameString)(e.vcardList);case A.DOCUMENT:if(e.isFromTemplate||e.isDynamicReplyButtonsMsg){const t=e.pageCount>0?x.default.t(766,{count:e.pageCount+"",_plural:e.pageCount}):null,a=j(e.caption,e);return null!=a?n?(0,k.default)(e,a):a:(0,r.default)([a||x.default.t(767),t]).join(" • ")}if(e.isVcardOverMmsDocument&&e.mediaData.parsedVcards)return O(e.mediaData.parsedVcards);const L=e.pageCount>0?x.default.t(766,{count:e.pageCount+"",_plural:e.pageCount}):null;return(0,r.default)([e.mediaData.filename||x.default.t(767),L]).join(" • ");case A.E2E_NOTIFICATION:return(0,m.default)(S);case A.CALL_LOG:return(0,p.default)(e,!1);case A.PRODUCT:const B=[e.text,e.caption,e.footer].filter(Boolean).join(" ");return B.length?n?(0,k.default)(e,B):B:c.fbt._("Product",null,{hk:"1H4J4r"});case A.OVERSIZED:return(0,C.formatOversizedMsgText)(e);case A.INTERACTIVE:return(0,v.formatInteractive)(e,{formatAsSearchResult:f});case A.UNKNOWN:return(0,T.formatUnknownMsgText)(e);case A.PAYMENT:return I(e);case A.NOTIFICATION_TEMPLATE:return(0,y.default)(e).toString();case A.PROTOCOL:return"ephemeral_setting"===e.subtype?(0,g.default)(e.ephemeralDuration||0,e.from,e.id.remote):"";case A.ORDER:return e.message||"";case A.LIST:var P,N;return(0,M.listMsgCanRender)(e)?[null===(P=e.list)||void 0===P?void 0:P.title,null===(N=e.list)||void 0===N?void 0:N.description,e.footer].filter(Boolean).join("\n"):(0,T.formatUnknownMsgText)(e);case A.LIST_RESPONSE:return`${(null===(t=e.listResponse)||void 0===t?void 0:t.title)||""} ${(null===(a=e.listResponse)||void 0===a?void 0:a.description)||""}`;case A.REACTION:return(0,l.sendReactionsEnabled)(),(0,T.formatUnknownMsgText)(e);case A.NATIVE_FLOW:return(0,b.formatNFMTextPreview)(e);case A.POLL_CREATION:return(0,l.isPollsReceivingEnabled)()?(0,i.default)(e.pollName,"msg.pollName"):(0,T.formatUnknownMsgText)(e);default:return""}};var r=n(a(39693)),i=n(a(45095)),s=a(88555),o=a(40234),l=a(8139),u=a(15461),d=a(93778),c=a(48360),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(39519)),h=n(a(57733)),p=n(a(49763)),m=n(a(81412)),g=n(a(58688)),_=n(a(46953)),v=a(37899),b=a(63448),y=n(a(64650)),C=a(57196),S=a(2177),E=a(96206),T=a(10240),x=n(a(14296)),M=a(54676),k=n(a(60238)),w=a(84728);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}const A=u.MSG_TYPE;function j(e,t){if(null==e)return null;const a=!0===t.isDynamicReplyButtonsMsg;return t.footer&&a?`${e}\n${t.footer}`:e}function I(e){var t,a;switch(e.subtype){case"ciphertext":return c.fbt._("Waiting for this payment message's note. This may take a while.",null,{hk:"4EzoLe"});case"futureproof":return c.fbt._("This payment message has a note but your version of WhatsApp doesn't support viewing it.",null,{hk:"2rWw9k"});case"send":const n=(null===(t=e.paymentNoteMsg)||void 0===t?void 0:t.body)?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?f.formatAmount1000(e.paymentCurrency,e.paymentAmount1000):c.fbt._("Payment",null,{hk:"96zjD"}).toString())+n;case"request":const r=(null===(a=e.paymentNoteMsg)||void 0===a?void 0:a.body)?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?f.formatAmount1000(e.paymentCurrency,e.paymentAmount1000):c.fbt._("Payment",null,{hk:"96zjD"}).toString())+r;case"invite":return(0,S.formatPaymentInviteMessageText)(e.id);default:return c.fbt._("Payment message. Open WhatsApp on your phone to view.",null,{hk:"3VcAwk"})}}function O(e){if(e.length>1){const t=e.map((e=>(0,d.vcardGetNameFromParsed)(e))).filter(Boolean);return(0,d.getNameStringFromNames)(t)}return(0,d.vcardGetNameFromParsed)(e[0])||x.default.t(139)}},57196:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatOversizedMsgNotification=function(){return r.fbt._("This message can't be viewed in WhatsApp Web. View it on your phone instead.",null,{hk:"2Cf4Ej"})},t.formatOversizedMsgText=function(){return n.UA.isElectron?r.fbt._("This message can't be viewed in WhatsApp Desktop. View it on your phone instead.",null,{hk:"3rLTDP"}):r.fbt._("This message can't be viewed in WhatsApp Web. View it on your phone instead.",null,{hk:"2Cf4Ej"})};var n=a(26741),r=a(48360)},2177:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatPaymentInviteMessageText=function(e){const t=(0,i.default)(e.remote);if(e.fromMe)return r.default.t(858,{otherUser:t});return r.default.t(859,{otherUser:t})};var r=n(a(14296)),i=n(a(73977))},96206:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRevokedMsg=function(e){var t;switch(null!==(t=e.subtype)&&void 0!==t?t:"sender"){case"sender":return e.isSentByMe?r.fbt._("You deleted this message",null,{hk:"E892D"}):r.fbt._("This message was deleted",null,{hk:"19qvYd"});case"admin":return e.isRevokedByMe?r.fbt._("You deleted this message",null,{hk:"E892D"}):null==e.revokeSender?r.fbt._("This message was deleted by an admin",null,{hk:"28rFSm"}):r.fbt._("This message was deleted by admin {admin}",[r.fbt._param("admin",s(e.revokeSender))],{hk:"3Nu81j"})}};var n=a(62054),r=a(48360),i=a(19380);const s=e=>{const t=i.ContactCollection.get(e);return t?t.shortName||t.name||t.displayName:(0,n.widToFormattedUser)(e)}},10240:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUnknownMsgNotification=function(e){switch(e.subtype){case"phone":return r.fbt._("You received a message, but your version of WhatsApp doesn't support it.",null,{hk:"3WD27"});case"phone_only_feature":return r.fbt._("This message can't be shown on WhatsApp Web. Open WhatsApp on your phone to view.",null,{hk:"FDBoF"});case"reaction":return r.fbt._("You received a reaction. Update your version of WhatsApp to see reactions.",null,{hk:"2TMRfc"});default:return r.fbt._("You received a message on your phone, but your version of WhatsApp Web doesn't support it.",null,{hk:"4mqP2W"})}},t.formatUnknownMsgText=function(e){if(e.isSentByMe)switch(e.type){case"reaction":return r.fbt._("You sent a reaction. Update your version of WhatsApp to see reactions.",null,{hk:"3In1kc"});default:switch(e.subtype){case"reaction":return r.fbt._("You sent a reaction. Update your version of WhatsApp to see reactions.",null,{hk:"3In1kc"});default:return r.fbt._("You sent a message from your phone, but your version of WhatsApp Web doesn't support it.",null,{hk:"4jbsbU"})}}switch(e.subtype){case"phone":return r.fbt._("You received a message, but your version of WhatsApp doesn't support it.",null,{hk:"3WD27"});case"phone_only_feature":return n.UA.isElectron?r.fbt._("This message can't be shown on WhatsApp Desktop. Open WhatsApp on your phone to view.",null,{hk:"1zBLXU"}):r.fbt._("This message can't be shown on WhatsApp Web. Open WhatsApp on your phone to view.",null,{hk:"FDBoF"});case"reaction":return r.fbt._("You received a reaction. Update your version of WhatsApp to see reactions.",null,{hk:"2TMRfc"});default:return n.UA.isElectron?r.fbt._("You received a message on your phone, but your version of WhatsApp Desktop doesn't support it.",null,{hk:"mhBjl"}):r.fbt._("You received a message on your phone, but your version of WhatsApp Web doesn't support it.",null,{hk:"4mqP2W"})}};var n=a(26741),r=a(48360)},94718:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class a{static match(){throw new Error("Subclasses of `Mutator` must override `match()`")}static mutate(e){return e}}t.default=a,a.nestable=()=>!0,a.format=!0,a.fragment=!1,a.compatibility=!1,a.mutates=!1},38189:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(69188)),i=n(a(34357)),s=n(a(52084)),o=a(85893);const l=(0,r.default)("*"),u=(0,s.default)(/(?:^|[\s\W_])\*([^\s\u20e3]|[^\s\u20e3][^\n]*?\S)\*(?=$|[[\s\W_])/g,1,l);t.default=class extends u{static jsx(e,t,a){let{selectable:n=!1}=a;return(0,o.jsx)(i.default,{selectable:n,children:e})}}},39037:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(34357)),i=n(a(52084)),s=a(85893);const o=(0,i.default)(/^(\w*)\b/g);t.default=class extends o{static jsx(e,t,a){let{selectable:n=!1}=a;return(0,s.jsx)(r.default,{selectable:n,children:e})}}},4841:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.removeCodeBlocks=t.isInsideCodeBlock=t.Code=void 0;var r=n(a(87253)),i=n(a(52084)),s=a(85893);const o=/```([\s\S]*?\S[\s\S]*?)```/g,l=(0,i.default)(o,1),u=new Set(["ListItem","List"]);class d extends l{static jsx(e,t,a){let{selectable:n=!1}=a;return(0,s.jsx)(r.default,{selectable:n,children:e})}}t.Code=d,d.nestable=e=>u.has(e),d.format=!1;t.isInsideCodeBlock=e=>{const t=e.split(o).pop();return/```/.test(t)};t.removeCodeBlocks=e=>e.replace(o," ")},34357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(52596),r=a(85893);function i(e){let{children:t,selectable:a}=e;return(0,r.jsx)(n.SelectableStrong,{selectable:a,appTextTemplate:"*${appText}*",children:t})}i.defaultProps={children:""};var s=i;t.default=s},39147:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,theme:a,selectable:n}=e,f=(0,s.useModelValues)(e.contact,["id","displayName"]),h=f.id,p=!!a&&a.quoted,m=f.displayName,g=(0,r.dir)(m)||"auto",_=(0,l.default)(m,[[[o.default,{selectable:n}]]],u.default,void 0,1/0);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(d.SelectableSpan,{"data-jid":h.toString(),"data-display":m,className:(0,i.default)("matched-mention",{"quoted-mention":p,"inactive-mention":!t||p}),onClick:t,plainText:`@${m}`,selectable:n,selectAll:!0,appTextTemplate:`​${h.toString()}​`,children:[(0,c.jsx)("span",{className:"at-symbol",children:"@"}),(0,c.jsx)("span",{dir:g,children:_})]})})};var r=a(93131),i=n(a(94184)),s=a(35461),o=n(a(76781)),l=n(a(80691)),u=n(a(10577)),d=a(52596),c=a(85893)},87253:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t="",selectable:a}=e;return(0,r.jsx)(n.SelectableCode,{selectable:a,appTextTemplate:"```${appText}```",children:t})};var n=a(52596),r=a(85893)},6859:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(84636)),i=a(73770),s=a(85893);t.default=e=>{let{emoji:t,selectable:a,size:n,xstyle:o}=e;return"xlarge"===n?(0,s.jsx)(i.LargeEmoji,{emoji:t,xstyle:o,size:i.SIZE.XLARGE,element:"span",selectable:a}):(0,s.jsx)(r.default,{emoji:t,xstyle:o,selectable:a,size:n})}},89442:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onClick:t,theme:a,selectable:n}=e,h=(0,s.useModelValues)(e.contact,["id","displayName","shortName","isMyContact"]),p=(0,s.useModelValues)(e.groupMetadata,["uniqueShortNameMap"]),m=h.id,g=!!a&&a.quoted,_=(0,d.isDropLastNameEnabled)()&&p&&p.hasUniqueShortNameMention(h)?h.shortName:h.displayName,v=(0,r.dir)(_)||"auto",b=(0,l.default)(_,[[[o.default,{selectable:n}]]],u.default,void 0,1/0);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(c.SelectableSpan,{"data-jid":m.toString(),"data-display":_,className:(0,i.default)("matched-mention",{"quoted-mention":g,"inactive-mention":!t||g}),onClick:t,plainText:`@${_}`,selectable:n,selectAll:!0,appTextTemplate:`​${m.toString()}​`,children:[(0,f.jsx)("span",{className:"at-symbol",children:"@"}),(0,f.jsx)("span",{dir:v,children:b})]})})};var r=a(93131),i=n(a(94184)),s=a(35461),o=n(a(76781)),l=n(a(80691)),u=n(a(10577)),d=a(41566),c=a(52596),f=a(85893)},99697:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(52596),r=a(85893);function i(e){let{children:t,selectable:a}=e;return(0,r.jsx)(n.SelectableSpan,{className:"matched-text",selectable:a,children:t})}i.defaultProps={children:""};var s=i;t.default=s},68730:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(i.default,(0,r.default)((0,r.default)({},e),{},{children:e.children}))};var r=n(a(81109)),i=n(a(35150)),s=a(85893)},31117:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(52596),r=a(85893);function i(e){let{children:t,selectable:a}=e;return(0,r.jsx)(n.SelectableEm,{selectable:a,appTextTemplate:"_${appText}_",children:t})}i.defaultProps={children:""};var s=i;t.default=s},35150:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(52596),r=a(85893);function i(e){let{href:t,children:a,selectable:i}=e;return(0,r.jsx)(n.SelectableLink,{href:t,title:t,target:"_blank",rel:"noopener noreferrer",selectable:i,children:a})}i.defaultProps={children:""};var s=i;t.default=s},57770:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t="",inline:a,isAtStart:n,selectable:l}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.SelectableUl,{appTextTemplate:n?"${appText}":"\n${appText}",className:(0,r.default)({[i.default.inline]:a},i.default.ul),selectable:l,children:t})})};var r=n(a(94184)),i=n(a(91545)),s=a(52596),o=a(85893)},94296:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t="",inline:a,selectable:n}=e;return(0,o.jsx)("li",{className:(0,r.default)({[i.default.inline]:a}),children:(0,o.jsx)(s.SelectableSpan,{selectable:n,appTextTemplate:"* ${appText}",children:t})})};var r=n(a(94184)),i=n(a(89613)),s=a(52596),o=a(85893)},41013:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LongLink=function(e){let{link:t,children:a="",selectable:n}=e;return(0,l.jsx)(o.SelectableLink,{onClick:()=>r.ModalManager.open((0,l.jsx)(s.LongLinkPopup,{link:t})),selectable:n,className:(0,i.default)(u),children:a})};var r=a(14597),i=n(a(56720)),s=a(21059),o=a(52596),l=a(85893);const u={cursor:"ajgl1lbb"}},42521:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{mentionMeta:t,theme:a,selectable:n}=e;return(0,i.jsx)(r.default,{contact:t.contact,theme:a,selectable:n})};var r=n(a(15775)),i=a(85893)},61154:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{phoneNumber:t,selectable:a,fromMe:n}=e;return(0,i.jsx)(r.default,{selectable:a,phoneNumber:t,fromMe:n})};var r=n(a(79505)),i=a(85893)},79505:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{selectable:t,phoneNumber:a,fromMe:n}=e;const[b,y]=(0,o.useState)(null),[C,S]=(0,o.useState)(null),[E,T]=(0,o.useState)(null);function x(e,t){const r=[];if(null==e?void 0:e.wid){const t=(0,i.formatPhone)(e.wid.user);r.push((0,_.jsx)(l.DropdownItem,{a8n:"mi-message-on-whatsapp",xstyle:v.menuItem,action:t=>(0,c.handleOpenChat)(t,e.wid,n),children:s.fbt._("Chat with {chat-with-phoneJid}",[s.fbt._param("chat-with-phoneJid",(0,_.jsx)("span",{dir:"ltr",children:t}))],{hk:"2zFU2R"})},"message-on-whatsapp"))}r.push((0,_.jsx)(l.DropdownItem,{a8n:"mi-copy-phone-number",xstyle:v.menuItem,action:()=>(0,c.handleCopyPhoneNumber)(a,null==e?void 0:e.wid,n),children:s.fbt._("Copy phone number",null,{hk:"CCcUf"})},"copy-phone-number")),y(null),y({menu:r,event:t}),T(null==e?void 0:e.wid),(0,c.logClickOnPhoneNumber)(null==e?void 0:e.wid,n)}let M=null;b&&(M=(0,_.jsx)(m.UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,requestDismiss:()=>{y(null),(0,c.logCloseDialog)(E,n)},children:(0,_.jsx)(g.default,{contextMenu:b})}));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(f.SelectableLink,{onClick:function(e){let t;function n(){return(n=(0,r.default)((function*(e,a){try{x(yield t.getOrRun(e),a)}catch(e){x(null,a),T(null),__LOG__(4,void 0,new Error,!0)`handlePhoneClick getUsync failed with exceptions ${e}`,SEND_LOGS("handlePhoneClick-getUsync")}}))).apply(this,arguments)}C&&C.isCached(a)?t=C:(t=(0,d.usyncContactCached)(),S(t)),t.isCached(a)||function(e){const t=(0,_.jsxs)(u.FlexColumn,{xstyle:v.spinnerContainer,align:"center",justify:"center",children:[(0,_.jsx)(h.Spinner,{size:50,stroke:4,color:"highlight"}),(0,_.jsx)(p.TextSpan,{xstyle:v.spinnerText,theme:"small",children:s.fbt._("Checking phone number...",null,{hk:"2cfR2e"})},"phone_number_wrapper_loading_text")]});y({menu:t,event:e})}(e),function(){n.apply(this,arguments)}(a,e)},selectable:t,style:{cursor:"pointer"},children:a}),M]})};var r=n(a(48926)),i=a(40277),s=a(48360),o=a(67294),l=(n(a(56720)),a(71174)),u=a(29623),d=a(75888),c=a(72768),f=a(52596),h=a(11054),p=a(13923),m=a(18644),g=n(a(24717)),_=a(85893);const v={spinnerContainer:{width:"snzbljq1",height:"ra71746h"},spinnerText:{marginTop:"eg3lofc5",paddingStart:"f78eapp6",paddingEnd:"kyc7k6mt",textAlign:"qfejxiq4"},menuItem:{paddingStart:"nqtxkp62",paddingEnd:"btzf6ewn"}}},51634:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(52596),r=a(85893);function i(e){let{children:t,selectable:a}=e;return(0,r.jsx)(n.SelectableDel,{selectable:a,appTextTemplate:"~${appText}~",children:t})}i.defaultProps={children:""};var s=i;t.default=s},5438:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(14597),i=a(52596),s=n(a(82791)),o=a(85893);function l(e){let{link:t,children:a,selectable:n}=e;return(0,o.jsx)(i.SelectableLink,{onClick:()=>r.ModalManager.open((0,o.jsx)(s.default,{link:t})),selectable:n,style:{cursor:"pointer"},children:a})}l.defaultProps={children:""};var u=l;t.default=u},71809:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.useContext)(o.default);if((0,u.isDropLastNameEnabled)()&&t)return(0,d.jsx)(l.default,(0,r.default)((0,r.default)({},e),{},{groupMetadata:t}));return(0,d.jsx)(s.default,(0,r.default)({},e))};var r=n(a(81109)),i=a(67294),s=n(a(39147)),o=n(a(45152)),l=n(a(89442)),u=a(41566),d=a(85893)},15775:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,theme:a,selectable:n}=e;const{isMe:u}=(0,i.useModelValues)(t,["id","isMe"]),d=u?void 0:()=>{(0,s.findChat)(t.id).then((e=>r.Cmd.openChatBottom(e)))};return(0,l.jsx)(o.default,{contact:t,theme:a,selectable:n,onClick:d})};var r=a(81572),i=a(35461),s=a(50101),o=n(a(71809)),l=a(85893)},76781:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(64331),i=a(67247),s=n(a(6859)),o=n(a(44512)),l=n(a(94718)),u=a(85893);class d extends l.default{static jsx(e,t,a){let[n]=t,{size:r,selectable:i=!1,emojiXstyle:o}=a;return(0,u.jsx)(s.default,{emoji:n,size:r,selectable:i,xstyle:o})}static match(e,t,a){const n=null!=a&&0!==a?a:e.length,s=(0,r.firstNCodepoints)(e,n);return(0,o.default)(s,i.EmojiUtil.emojiRegex(),0,c)}}function c(e){return i.EmojiUtil.getGlyphId(e[0])?e:null}t.default=d,d.compatibility=!0},74783:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(3522)),i=n(a(52084)),s=a(67247),o=a(13185);const l={"(y)":"👍","(n)":"👎",":-)":"🙂",":-(":"🙁",":-p":"😛",":-|":"😐",":-\\":"😕",":-d":"😀",":-*":"😘","<3":"❤","^_^":"😁",">_<":"😆",";-)":"😉"},u=Object.keys(l).map(r.default).join("|"),d=new RegExp(`(^|\\s|\`\`\`|[*_~])((?:${u})+)(?=$|\\s|\`\`\`|[*_~])`,"ig"),c=new RegExp(`(${u})`,"i"),f=(0,i.default)(d,2,(function(e){const[,t]=e;t&&(e.index+=t.length,e[0]=e[0].slice(t.length));return e}));class h extends f{static mutate(e){return e.split(c).map((e=>{const t=l[e.toLowerCase()];return t?s.EmojiUtil.getSkinToneBase(t)&&o.EmojiVariantCollection.getVariant(t)||t:e})).join("")}}t.default=h,h.fragment=!0,h.mutates=!0},10043:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(3522)),i=n(a(44512)),s=n(a(99697)),o=n(a(14296)),l=n(a(94718)),u=a(85893);class d extends l.default{static match(e,t){if(!t)return[];const{terms:a,boundary:n=!1,ignoreDiacritics:s=!1}=t;if(!a.length)return[];const l=s&&o.default.isLatinAlphabetLanguage(e)&&a.every((e=>o.default.isLatinAlphabetLanguage(e)))&&!o.default.isRTL(),u=l?o.default.removeAccents(e):e;return(0,i.default)(u,function(e,t,a){const n=(a?e.map((e=>o.default.removeAccents(e))):e).map(r.default).join("|");if(o.default.isRTL())return new RegExp(`${t?"(?:^|\\b)":""}(\\S+)?(${n})(\\S+)?`,"ig");return new RegExp(`${t?"(?:^|\\b)":""}(${n})`,"ig")}(a,n,l))}}t.default=d,d.jsx=(e,t,a)=>{let{selectable:n}=a;return(0,u.jsx)(s.default,{selectable:n,children:e})}},65375:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Bold",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"BoldFirstWord",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return s.Code}}),Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Emoticon",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Highlight",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Intern",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Italic",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"ListItem",{enumerable:!0,get:function(){return p.ListItem}}),Object.defineProperty(t,"Mention",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"PhoneNumber",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"RawGroupMention",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"RawMention",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"StatusLink",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"Strikethrough",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"TextMention",{enumerable:!0,get:function(){return b.default}});var r=n(a(39037)),i=n(a(38189)),s=a(4841),o=n(a(76781)),l=n(a(74783)),u=n(a(10043)),d=n(a(90347)),c=n(a(1890)),f=n(a(10275)),h=n(a(87169)),p=a(9272),m=n(a(48861)),g=n(a(78076)),_=n(a(64713)),v=n(a(6738)),b=n(a(2041)),y=n(a(64181)),C=n(a(74639))},90347:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(52084)),i=n(a(68730)),s=a(85893);const o=(0,r.default)(/(^|\b|\s)(((#|t|T|d|D|p|P|s|S)([0-9]{3,16}))|([0-9a-fA-F]{8,40}))(?=$|\b)/g,2,(function(e){const[,t,,,,,a]=e;if(a&&(!l.test(a)||!u.test(a)))return null;t&&(e.index+=t.length,e[0]=e[0].slice(t.length));return e}));t.default=class extends o{static jsx(e,t,a){let{selectable:n=!1}=a;const r=function(e){let[,,,,t,a,n]=e;if(n)return`${d}${n.toLowerCase()}`;switch(t){case"T":case"t":case"#":return`${c}${a}`;case"D":case"d":return`${f}${a}`;case"P":case"p":return`${h}${a}`;case"S":case"s":return`${p}${a}`;default:return`${m}${t}${a}`}}(t);return(0,s.jsx)(i.default,{href:r,selectable:n,children:e})}};const l=/[a-fA-F]/,u=/[0-9]/;const d="https://internalfb.com/intern/bunny/?q=hash%20",c="https://internalfb.com/intern/tasks/?t=",f="https://internalfb.com/intern/diff/D",h="https://internalfb.com/intern/paste/P",p="https://internalfb.com/intern/sevmanager/view/s/",m="https://internalfb.com/intern/"},1890:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(69188)),i=n(a(52084)),s=n(a(31117)),o=a(85893);const l=(0,r.default)("_"),u=(0,i.default)(/(?:^|\s|_|[^\w\\])_(\S|\S[^\n]*?\S)_(?=$|[[\s\W_])/g,1,l);t.default=class extends u{static jsx(e,t,a){let{selectable:n=!1}=a;return(0,o.jsx)(s.default,{selectable:n,children:e})}}},10275:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(38189)),i=n(a(1890)),s=n(a(35150)),o=n(a(94718)),l=n(a(6738)),u=n(a(5438)),d=a(85893);class c extends o.default{static jsx(e,t,a){let{selectable:n=!1}=a;const{href:r,suspiciousCharacters:i}=t;return(null==i?void 0:i.size)?(0,d.jsx)(u.default,{link:t,selectable:n,children:e}):(0,d.jsx)(s.default,{href:r,selectable:n,children:e})}}function f(e){const{index:t,url:a}=e,n=t+a.length-1;return[t,t,n,n,e]}function h(e,t){let a=0,n=0;for(;a<e.length&&n<t.length;){const r=t[n][3]-e[a][3];if(r>0)a++;else if(r<0)n++;else{e[a][2]--,e[a][3]--;const t=e[a][5];t.href=t.href.slice(0,-1),t.path=t.path&&t.path.slice(0,-1),t.url=t.url.slice(0,-1),n++,a++}}}t.default=c,c.format=!1,c.match=(e,t)=>{if(!t)return[];const{links:a=[]}=t;return a.map(f)},c.conflictResolvers=new Map([[r.default,h],[i.default,h],[l.default,h]])},87169:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(52084)),i=n(a(57770)),s=a(85893);const o=(0,r.default)(/((?:^)(?:\* (?:[^\n]+)(?:\n(?:\* [^\n]+)){0,})(?:\n|$))/gm,0);class l extends o{static jsx(e,t,a){let{selectable:n=!1,inline:r}=a;const o=0===t.index;return(0,s.jsx)(i.default,{inline:r,isAtStart:o,selectable:n,children:e})}}t.default=l,l.nestable=()=>!1},9272:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=t.LIST_ITEM_DELIMITER=t.LAST_LIST_ITEM_REGEX=void 0;var r=n(a(52084)),i=n(a(94296)),s=a(85893);t.LIST_ITEM_DELIMITER="* ";t.LAST_LIST_ITEM_REGEX=/(?:^|\n)\* [^\n]+$/;const o=(0,r.default)(/(?:^)\* ([^\n]+(?:$))/gm,1),l=new Set(["List"]);class u extends o{static jsx(e,t,a){let{selectable:n=!1,inline:r}=a;return(0,s.jsx)(i.default,{inline:r,selectable:n,children:e})}}t.ListItem=u,u.nestable=e=>l.has(e),u.unformatDecorations={pre:"• "}},48861:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(3522)),i=n(a(41609)),s=n(a(44512)),o=n(a(42521)),l=n(a(94718)),u=a(85893);class d extends l.default{static match(e,t){if(!t)return[];const{mentions:a,groupMetadata:n}=t;if(!a||(0,i.default)(a))return[];const o=function(e){const t=Object.keys(e).map(r.default).join("|");return new RegExp(`(${t})`,"g")}(a),l=(0,s.default)(e,o);for(let e=0;e<l.length;++e)l[e][4]={contact:a[l[e][4][0]],groupMetadata:n};return l}static jsx(e,t,a){let{selectable:n}=a;return(0,u.jsx)(o.default,{mentionMeta:t,selectable:n})}}t.default=d,d.format=!1},78076:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94718)),i=n(a(61154)),s=a(85893);class o extends r.default{static jsx(e,t,a){let{selectable:n=!1,fromMe:r}=a;const{phone:o}=t;return(0,s.jsx)(i.default,{phoneNumber:o,selectable:n,fromMe:r})}}function l(e){const{index:t,phone:a}=e,n=t+a.length-1;return[t,t,n,n,e]}t.default=o,o.format=!1,o.match=(e,t)=>{if(!t)return[];const{phoneNumbers:a=[]}=t;return a.map(l)}},64181:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(41566),i=n(a(48861));class s extends i.default{}t.default=s,s.mutates=!0,s.mutate=(e,t)=>{const{contact:a,groupMetadata:n}=t;return(0,r.isDropLastNameEnabled)()&&n&&n.hasUniqueShortNameMention(a)?`@${a.shortName}`:`@${a.displayName}`}},64713:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48861));class i extends r.default{}t.default=i,i.mutates=!0,i.mutate=(e,t)=>{let{contact:a}=t;return`@${a.displayName}`}},74639:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10275)),i=a(41013),s=a(85893);class o extends r.default{static jsx(e,t,a){var n;const r=t.href.replace(/^https?:\/\/(www\.)?/,""),o=r.length>24,l=o?`${r.slice(0,24)}...`:r;var u;return o&&!(null===(n=t.suspiciousCharacters)||void 0===n?void 0:n.size)?(0,s.jsx)(i.LongLink,{selectable:null!==(u=a.selectable)&&void 0!==u&&u,link:t,children:l}):super.jsx([l],t,a)}}t.default=o},6738:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(69188)),i=n(a(52084)),s=n(a(51634)),o=a(85893);const l=(0,r.default)("_"),u=(0,i.default)(/(?:^|[\s\W_])~(\S|\S[^\n]*?\S)~(?=$|[[\s\W_])/g,1,l);t.default=class extends u{static jsx(e,t,a){let{selectable:n}=a;return(0,o.jsx)(s.default,{selectable:n,children:e})}}},2041:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48861)),i=n(a(71809)),s=a(85893);class o extends r.default{static jsx(e,t,a){let{contact:n}=t,{selectable:r,theme:o}=a;return(0,s.jsx)(i.default,{contact:n,selectable:r,theme:o})}}t.default=o},21829:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(1===e.length)return e;const a=[];let n;for(;n=e.pop();){const[e,,,r,i]=n,[{nestable:s,compatibility:o},,l]=t[i];let u=!0;const{length:d}=a;for(let n=d-1;n>=0;--n){const[,,i,d,c]=a[n];if(e>d)break;const[{mutates:f,format:h,compatibility:p,name:m},,g]=t[c];if(r>i){if(l<g&&a.splice(n,1))continue;u=!1;break}if(f&&!(u=!1))break;if(o)break;if((s(m)||p||!(l<g)||!a.splice(n,1))&&(!o&&!h)){u=!1;break}}u&&a.push(n)}return a}},50008:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[];for(let a=0;a<e.length;++a)for(let n=0;n<e[a].length;++n){const[r,i]=e[a][n];t.push([r,i,a])}return t}},35303:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t._parse=u,t.parse=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return u(e,(0,s.default)(t),a)};var r=a(64331),i=n(a(21829)),s=n(a(50008)),o=n(a(58899)),l=n(a(79175));function u(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const n=(0,o.default)(e,t,a),s=n.length?(0,l.default)(e,(0,i.default)(n,t),t):{children:[{type:"text",value:e}]},u=(0,r.numCodepoints)(e);return a<u&&d(s,{limit:a}),s}function d(e,t){if(t.limit<=0)return;if(e.type&&"text"===e.type){if(e.value.length>=t.limit){let a=(0,r.toArray)(e.value);a.length>=t.limit&&(a=a.slice(0,t.limit)),e.value=a.join(""),t.limit=t.limit-a.length}else t.limit=t.limit-e.value.length;return}if(e.type&&"delimiter"===e.type)return;let a=0;for(;a<e.children.length&&(d(e.children[a],t),!(t.limit<=0));)a++;e.children=e.children.slice(0,a+1)}},58899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const n=[];for(let r=0;r<t.length;++r){const[i,s]=t[r],o=i.match(e,s,a),l=[],{length:u}=o;for(let e=0,t=o[e];e<u;t=o[++e])l[e]=[t[0],t[1],t[2],t[3],r,t[4]];l.length&&n.push(l)}for(let e=0;e<n.length;e++){const{conflictResolvers:a}=t[n[e][0][4]][0];if(a)for(let r=0;r<n.length;r++){const i=t[n[r][0][4]][0],s=a.get(i);null==s||s(n[e],n[r])}}const r=[];for(let e=0;e<n.length;++e)r[e]=n[e].length-1;const i=[];let s=0;for(;n.length;){for(let e=0,t=-1;e<n.length;++e)n[e][r[e]][0]>t&&(s=e,t=n[e][r[e]][0]);i.push(n[s][r[s]]),--r[s]<0&&(n.splice(s,1),r.splice(s,1))}return i}},79175:(e,t,a)=>{"use strict";function n(e,t,a){let{format:n}=e;const r=[],i=function(e){let t=e;const a=[];do{t.mutator&&a.push(t.mutator)}while(t.parent&&(t=t.parent));return a}(a);for(let e=0;e<t.length;++e)(n||t[e][0].compatibility)&&(i.includes(t[e][0])||r.push(t[e]));return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const i={children:[]};let s=0,o=i,l=0;for(let i=0;i<t.length;++i){const u=t[i],[d,c]=u;for(;o.parent&&d>(l=o.match[2]);){if(s<=l&&o.children.push({type:"text",value:e.substring(s,l+1)}),s=o.match[3]+1,o.mutator.fragment){const{children:e}=o.parent;e.pop(),e.push.apply(e,o.children)}l!==o.match[3]&&o.parent.children.push({type:"delimiter",value:e.substring(l+1,s)}),o=o.parent}s<d&&o.children.push({type:"text",value:e.substring(s,d)});const[f,h]=r[u[4]],{mutates:p}=f;s=c,d!==c&&o.children.push({type:"delimiter",value:e.substring(d,c)});const m={children:[],match:u,mutator:f,opts:h,parent:o};if(p){const t=e.substring(u[1],u[2]+1),i=f.mutate(t,u[5]),o=n(f,r,m),l=(0,a(35303)._parse)(i,o);m.children=l.children,s=u[2]+1}o.children.push(m),o=m}do{if(!o.match)continue;const[,,t,a]=o.match;if(s<=t&&o.children.push({type:"text",value:e.substring(s,t+1)}),s=a+1,o.mutator.fragment){const{children:e}=o.parent;e.pop(),e.push.apply(e,o.children)}t!==a&&o.parent.children.push({type:"delimiter",value:e.substring(t+1,s)})}while(o.parent&&(o=o.parent)&&o.parent);s!==e.length&&o.children.push({type:"text",value:e.substring(s)});return i}},21659:(e,t)=>{"use strict";function a(e,t,n){return t.reduce(((t,r)=>(t.push(function(e,t,n){if(t.type){const{value:a}=t;switch(t.type){case"text":return e.onText(a,n);case"delimiter":return e.onDelimiter(a,n);default:throw new Error("Invalid node type")}}return e.onMutator(t.mutator,a(e,t.children,n),t.match[5],t.opts,n)}(e,r,n)),t)),[])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.onRoot(a(e,t.children,n),n)}},83415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static onMutator(){throw new Error("Subclasses of `Serializer` must override `onMutator()`")}static onRoot(){throw new Error("Subclasses of `Serializer` must override `onRoot()`")}static onText(){throw new Error("Subclasses of `Serializer` must override `onText()`")}static onDelimiter(){throw new Error("Subclasses of `Serializer` must override `onDelimiter()`")}}},10577:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=n(a(19173)),s=n(a(83415));class o extends s.default{}function l(e){const t=[];for(let a=0;a<e.length;a++){const n=e[a];if(void 0===n)continue;if("string"==typeof n){t.push(n);continue}const i=`jsx-child-${a}`;t.push((0,r.cloneElement)(n,{key:i}))}return t}t.default=o,o.onText=i.default,o.onDelimiter=()=>{},o.onRoot=e=>l(e),o.onMutator=(e,t,a,n)=>e.jsx(l(t),a,n)},19173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>e},37848:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(83415));class i extends r.default{}t.default=i,i.onDelimiter=e=>e,i.onMutator=(e,t)=>t.join(""),i.onRoot=e=>e.join(""),i.onText=e=>e},39949:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(83415));class i extends r.default{}function s(e){return e.filter(Boolean).join("")}t.default=i,i.onDelimiter=()=>{},i.onMutator=(e,t)=>null!=e.unformatDecorations?s([e.unformatDecorations.pre,...t,e.unformatDecorations.post]):s(t),i.onRoot=e=>s(e),i.onText=e=>e},73938:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,n,s,O;let N,D,L="",B="";const F=e.dir,G=e.safe(),U=!(null===(a=G.asViewOnce)||void 0===a?void 0:a.isViewOnce)&&w.MuteCollection.getGlobalPreviews();!(0,l.getMaybeMeUser)().equals(e.from)&&e.isGroupMsg&&(B=e.displayName());const{senderUserJid:V,reactionText:W,timestamp:H}=null!=t?t:{};if(e.isGroupMsg&&t){const t=A.ReactionsCollection.get(e.id.toString());if(t){const{reactionSenderModel:e}=A.ReactionsCollection.getAggregateEmojiAndSender(t,V),a=null==e?void 0:e.senderObj;var q;if(a)B=null!==(q=a.name)&&void 0!==q?q:(0,d.widToFormattedUser)(a.id)}else __LOG__(3)`as_desktop_notification: Reaction model not found`}let Y=Boolean(t);switch(G.type){case R.CHAT:if(U)L=(0,j.default)(e,e.body);else if(e.isGroupMsg)t&&B?(L=c.fbt._("a message",null,{hk:"2NfqqW"}),Y=!1):(L=B?M.default.t(421,{author:B}):c.fbt._("New Message",null,{hk:"4v8IAJ"}),B="");else if(t)L=c.fbt._("a message",null,{hk:"OWh0L"}),Y=!1;else{const t=e.chat;L=M.default.t(422,{unreadCount:M.default.n(t.unreadCount),_plural:t.unreadCount})}break;case R.IMAGE:N="",o.UA.hasEmoji&&(N=G.isViewOnce?"1️⃣ ":"📷 "),L=N+(U&&(0,j.default)(e,e.caption)||M.default.t(768));break;case R.PRODUCT:N=o.UA.hasEmoji?"🛒 ":"",L=N+(e.text&&(0,j.default)(e,e.text)||c.fbt._("Product",null,{hk:"1H4J4r"}).toString());break;case R.INTERACTIVE:if(e.interactiveType===x.default.SHOPS_STOREFRONT){var z;N=o.UA.hasEmoji?"🛍️  ":"",L=N+(0,j.default)(e,e.body||(null===(z=e.interactiveHeader)||void 0===z?void 0:z.title))||"";break}if(e.interactiveType===x.default.NATIVE_FLOW&&e.nativeFlowName===P.default.ORDER_DETAILS){var K;N=o.UA.hasEmoji?"📃  ":"",L=N+((0,b.formatOrderDetailsMessagePreview)(e)||(null!==(K=e.caption)&&void 0!==K?K:""));break}return __LOG__(3)`asDesktopNotification: Unrecognized type ${e.type}`,"";case R.NATIVE_FLOW:if(e.nativeFlowName===P.default.ORDER_DETAILS){var $;N=o.UA.hasEmoji?"📃  ":"",L=N+((0,y.formatNFMTextPreview)(e)||(null!==($=e.caption)&&void 0!==$?$:""));break}return __LOG__(3)`asDesktopNotification: Unrecognized type ${e.type}`,"";case R.STICKER:N=o.UA.hasEmoji?"💟 ":"",L=N+c.fbt._("Sticker",null,{hk:"3gWjqH"}).toString();break;case R.VIDEO:e.isGif?(N=o.UA.hasEmoji?"👾 ":"",D=U&&(0,j.default)(e,e.caption)||"GIF"):(N="",o.UA.hasEmoji&&(N=G.isViewOnce?"1️⃣ ":"🎥 "),D=U&&(0,j.default)(e,e.caption)||M.default.t(770),G.isViewOnce||(D=`${D} (${i.Clock.durationStr(e.duration)})`)),L=`${N}${D}`;break;case R.PTT:N=o.UA.hasEmoji?"🎤 ":"",L=`${N} ${M.default.t(771)} (${i.Clock.durationStr(e.duration)})`;break;case R.AUDIO:N=o.UA.hasEmoji?"🎵 ":"",L=`${N} ${M.default.t(764)} (${i.Clock.durationStr(e.duration)})`;break;case R.LOCATION:N=o.UA.hasEmoji?"📍 ":"",D=e.isLive?U&&(0,j.default)(e,e.comment)||c.fbt._("Live location",null,{hk:"4hn7as"}).toString():U&&e.loc||M.default.t(769),L=`${N} ${D}`;break;case R.GROUPS_V4_INVITE:L=c.fbt._("WhatsApp group invite",null,{hk:"Yox1t"});break;case R.GROUP_NOTIFICATION:case R.GP2:L=(0,v.default)(e,!0),B="";break;case R.BROADCAST_NOTIFICATION:L=(0,m.default)(e);break;case R.NOTIFICATION:L=e.body;break;case R.VCARD:N=o.UA.hasEmoji?"👤 ":"",L=N+(e.subtype||M.default.t(765));break;case R.MULTI_VCARD:N=o.UA.hasEmoji?"👥 ":"",L=N+(0,u.getNameString)(e.vcardList).toString();break;case R.DOCUMENT:if(e.isVcardOverMmsDocument){N=o.UA.hasEmoji?"👤 ":"",L=N+(e.filename||M.default.t(536,{count:e.pageCount,_plural:e.pageCount}));break}N=o.UA.hasEmoji?"📄 ":"",L=N+M.default.t(767);break;case R.E2E_NOTIFICATION:L=(0,_.default)(G);break;case R.CALL_LOG:L=(0,g.default)(e,!1);break;case R.CIPHERTEXT:L=M.default.t(598);break;case R.REVOKED:L=(0,E.formatRevokedMsg)(G);break;case R.PAYMENT:L=function(e){if("invite"===e.subtype)return(0,S.formatPaymentInviteMessageText)(e.id);if(!e.paymentCurrency||!e.paymentAmount1000)return c.fbt._("Payment message • Amount unavailable",null,{hk:"3SAp3h"});if("send"!==e.subtype&&"request"!==e.subtype)return c.fbt._("Payment message. Open WhatsApp on your phone to view.",null,{hk:"3VcAwk"});let t;const a=h.formatAmount1000(e.paymentCurrency,e.paymentAmount1000),n=(0,I.default)(e.sender),r=(0,I.default)(e.paymentMessageReceiverJid),i=f.ContactCollection.get(e.paymentMessageReceiverJid),s={senderName:n,receiverName:r,amount:a,_plural:e.paymentAmount1000/1e3};t="send"===e.subtype?e.isGroupMsg?(null==i?void 0:i.isMe)?M.default.t(865,s):M.default.t(866,s):M.default.t(864,s):e.isGroupMsg?(null==i?void 0:i.isMe)?M.default.t(862,s):M.default.t(863,s):M.default.t(861,s);return t}(e);break;case R.OVERSIZED:L=(0,C.formatOversizedMsgNotification)(e);break;case R.UNKNOWN:L=(0,T.formatUnknownMsgNotification)(e);break;case R.LIST:if((0,k.listMsgCanRender)(G)){var Q,X;L=`${(null===(Q=e.list)||void 0===Q?void 0:Q.title)||""} ${(null===(X=e.list)||void 0===X?void 0:X.description)||""}`;break}return __LOG__(3)`asDesktopNotification: Unrecognized type ${e.type}`,"";case R.LIST_RESPONSE:L=`${(null===(n=e.listResponse)||void 0===n?void 0:n.title)||""} ${(null===(s=e.listResponse)||void 0===s?void 0:s.description)||""}`;break;case R.POLL_CREATION:N=o.UA.hasEmoji?"📊 ":"",L=`${N}${(0,j.default)(e,e.pollName)}`;break;default:return __LOG__(3)`asDesktopNotification: Unrecognized type ${e.type}`,""}L=String(null!==(O=L)&&void 0!==O?O:"");const J=M.default.isRTL()?"rtl":"ltr";let Z,ee=i.Clock.relativeStr(e.t).toString(),te="";if(t){var ae;Z=null!==(ae=p.EmojiUtil.normalizeEmojiFromString(W))&&void 0!==ae?ae:p.OPEN_BOX_CHAR,Y&&(L=c.fbt._('"{body}"',[c.fbt._param("body",L)],{hk:"2V1d5w"}).toString()),ee=i.Clock.relativeStr(H).toString(),te=c.fbt._("Reacted {emoji} to",[c.fbt._param("emoji",Z)],{hk:"4177kz"}).toString(),te="ltr"===J?M.default.isolateLTR(te):M.default.isolateRTL(te)}if(B){const e=r.dir(B);return"ltr"!==J||F&&"ltr"!==F||e&&"ltr"!==e?"ltr"!==J||F&&"ltr"!==F?"ltr"!==J||e&&"ltr"!==e?"ltr"===J?(ee&&(ee=`- ‪${ee}‬‬`),t?`‫${B}‏: ${te} ${L}‏${ee}`:`‫${B}‏: ${L}‏${ee}`):F&&"rtl"!==F||e&&"rtl"!==e?F&&"rtl"!==F?e&&"rtl"!==e?(ee&&(ee=`- ‫${ee}‬‬`),t?`‪${B}‎: ${te} ${L}‎${ee}`:`‪${B}‎: ${L}‎${ee}`):(ee&&(ee=` - ${ee}`),t?`${B}‏: ${te}‏ ‪${L}‬‏`:`${B}‏: ‪${L}‬‏`):(ee&&(ee=` - ${ee}`),t?`‏‪${B}‬: ${te}‏ ${L}‏`:`‏‪${B}‬: ${L}‏`):(ee&&(ee=` - ${ee}`),t?`${B}‏: ${te}‏ ${L}‏`:`${B}‏: ${L}‏`):(ee&&(ee=` - ${ee}`),t?`${B}‎: ${te}‎ ‫${L}‬‎`:`${B}‎: ‫${L}‬‎`):(ee&&(ee=` - ${ee}`),t?`‎‫${B}‬: ${te}‎ ${L}‎`:`‎‫${B}‬: ${L}‎`):(ee&&(ee=` - ${ee}`),t?`${B}‎: ${te}‎ ${L}‎`:`${B}‎: ${L}‎`)}if(ee)return t?"ltr"===J?`${te} ${L}‎‏ - ‪${ee}‬`:`${te} ${L}‏‎ - ‫${ee}‬`:"ltr"===J?`${L}‎‏ - ‪${ee}‬`:`${L}‏‎ - ‫${ee}‬`;if(t)return`${te} ${L}`;return L};var r=N(a(93131)),i=a(40234),s=a(15461),o=a(26741),l=a(78820),u=a(93778),d=a(62054),c=a(48360),f=a(19380),h=N(a(39519)),p=a(67247),m=n(a(57733)),g=n(a(49763)),_=n(a(81412)),v=n(a(46953)),b=a(37899),y=a(63448),C=a(57196),S=a(2177),E=a(96206),T=a(10240),x=n(a(84064)),M=n(a(14296)),k=a(54676),w=a(72472),P=n(a(5165)),A=a(57162),j=n(a(60238)),I=n(a(73977));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const R=s.MSG_TYPE},72930:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=n.ContactCollection.get(e),r=null==a?void 0:a.name;return!r||r===t};var n=a(19380)},57733:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{subtype:t,body:a,recipients:n}=e;if("create"===t){const e=parseInt(a,10);return i.default.t(914,{_plural:e,count:e})}if("add"===t){const e=n.length;return i.default.t(829,{_plural:e,name:(0,r.getFormattedNames)(n,!0)})}if("remove"===t){const e=n.length;return i.default.t(830,{_plural:e,name:(0,r.getFormattedNames)(n,!0)})}return""};var r=a(16961),i=n(a(14296))},49763:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a="";switch(e.subtype){case"miss":a=t?s.default.t(844,{time:r.Clock.timestampStr(e.t),_plural:r.Clock.timestampHour(e.t)}):s.default.t(843);break;case"miss_video":a=t?s.default.t(842,{time:r.Clock.timestampStr(e.t),_plural:r.Clock.timestampHour(e.t)}):s.default.t(841);break;case"miss_group":a=t?s.default.t(840,{time:r.Clock.timestampStr(e.t),_plural:r.Clock.timestampHour(e.t)}):i.fbt._("Missed group voice call",null,{hk:"nrsOB"});break;case"miss_group_video":a=t?s.default.t(839,{time:r.Clock.timestampStr(e.t),_plural:r.Clock.timestampHour(e.t)}):i.fbt._("Missed group video call",null,{hk:"2nThzV"})}return a};var r=a(40234),i=a(48360),s=n(a(14296))},81412:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e.subtype){case"identity":{const t=null==e.body?null:o.ContactCollection.get(e.body);if(null==t?void 0:t.isMe){__LOG__(4,void 0,new Error,!0)`formatE2ENotification: receive identity notification of self`,SEND_LOGS("SelfIdentityNotificationError");const t=e.chat;if(t.isUser){const e=t.contact?t.contact.formattedName:(0,i.widToFormattedUser)(t.id);return d.default.t(885,{contactName:e})}return t.isGroup?s.fbt._("Your security code with all participants changed. Click to learn more.",null,{hk:"243dFE"}):t.isBroadcast?s.fbt._("Your security code with all recipients changed. Click to learn more.",null,{hk:"44wyW0"}):""}const a=t?t.formattedName:(0,i.widToFormattedUser)(e.body);return d.default.t(885,{contactName:a})}case"device":return(0,l.default)(e);case"encrypt":{const t=e.id.remote;if(r.default.isGroup(t))return e.chat.isSupportGroup()?s.fbt._("This chat is with the official account of WhatsApp Support. Click to learn more.",null,{hk:"1jqzBh"}):(0,c.isGroupCallEnabled)()?s.fbt._("Messages and calls are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"3ioH5m"}):s.fbt._("Messages are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"4xlCJY"});if((0,u.default)(t.user))return s.fbt._("This chat is with the official account of WhatsApp Support. Click to learn more.",null,{hk:"1jqzBh"});if(r.default.isBroadcast(t))return s.fbt._("Messages you send to this broadcast list are secured with end-to-end encryption. Click to learn more.",null,{hk:"2fA0mg"});return(0,c.isVoiceCallEnabled)()||(0,c.isVideoCallEnabled)()?s.fbt._("Messages and calls are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"ZvZfE"}):s.fbt._("Messages are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"2rOEit"})}case"encrypt_now":return s.fbt._("Messages and calls are now end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them. Click to learn more.",null,{hk:"2ayMYf"});case"e2e_identity_unavailable":return s.fbt._("Security code notifications are no longer available for this chat.",null,{hk:"3mV4bQ"});default:return""}};var r=n(a(89867)),i=a(62054),s=a(48360),o=a(19380),l=n(a(30344)),u=n(a(78542)),d=n(a(14296)),c=a(69594)},30344:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,s.default)("device"===e.subtype,"Shouldn't call this function if msg is not a device notification msg");let n,u=e.body?o.ContactCollection.get(e.body):null;const d=1===e.devicesAdded&&0===e.devicesRemoved,c=0===e.devicesAdded&&1===e.devicesRemoved,f=!d&&!c;if(null===(t=u)||void 0===t?void 0:t.isMe){const t=e.chat;if(t.isUser){const r=t.contact.formattedName;a?d?n=e.isThisDeviceAdded?l.default.t(746,{contactName:r}):l.default.t(745,{contactName:r}):c?n=l.default.t(884,{contactName:r}):f&&(n=l.default.t(754,{contactName:r})):n=l.default.t(885,{contactName:r})}else t.isGroup?a?d?n=e.isThisDeviceAdded?i.fbt._('Your security code with all participants changed because there was a login on this device. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"1f7ZHl"}):i.fbt._('Your security code with all participants changed because there was a login on a new device of yours. To verify a contact\'s security code, open their Contact Info page and click "Encryption"',null,{hk:"23SIhV"}):c?n=i.fbt._('Your security code with all participants changed because there was a logout from one of your devices. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"1nWFei"}):f&&(n=i.fbt._('Your security code with all participants changed because there was a login or logout from one or more of your devices. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"3BjNsP"})):n=i.fbt._("Your security code with all participants changed. Click to learn more.",null,{hk:"243dFE"}):t.isBroadcast&&(a?d?n=e.isThisDeviceAdded?i.fbt._('Your security code with all recipients changed because there was a login on this device. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"2NYcSl"}):i.fbt._('Your security code with all recipients changed because there was a login on a new device of yours. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"3kx0ZZ"}):c?n=i.fbt._('Your security code with all recipients changed because there was a logout from one of your devices. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"sSoLo"}):f&&(n=i.fbt._('Your security code with all recipients changed because there was a login or logout from one or more of your devices. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"34hVX2"})):n=i.fbt._("Your security code with all recipients changed. Click to learn more.",null,{hk:"44wyW0"}))}else{const t=e.body;u=null==t?null:o.ContactCollection.get(t);const i=u?u.formattedName:(0,r.widToFormattedUser)(t);a?d?n=l.default.t(743,{contactName:i}):c?n=l.default.t(883,{contactName:i}):f&&(n=l.default.t(753,{contactName:i})):n=l.default.t(885,{contactName:i})}return(0,s.default)(null!=n,"text shouldn't be null in the end"),n};var r=a(62054),i=a(48360),s=n(a(41143)),o=a(19380),l=n(a(14296))},58688:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n;const d=o.ChatCollection.gadd(a),c=d.shouldShowEphemeralSetting()&&(i.default.isUser(a)||(null===(n=d.groupMetadata)||void 0===n?void 0:n.canSetEphemeralSetting()));if(!t)return c?(0,u.getDisappearingMessageSettingUnknownAsAdminString)(e):(0,u.getDisappearingMessageSettingUnknownString)(e);const f=l.ContactCollection.gadd(t);if(i.default.equals(t,(0,r.getMaybeMeUser)()))return c?(0,u.getDisappearingMessageSettingYouAsAdminString)(e):(0,u.getDisappearingMessageSettingYouString)(e);const h=(null==f?void 0:f.isMyContact)?f.formattedName:(0,s.widToFormattedUser)(t);if(c)return(0,u.getDisappearingMessageSettingOthersAsAdminString)(e,h);return(0,u.getDisappearingMessageSettingOthersString)(e,h)};var r=a(78820),i=n(a(89867)),s=a(62054),o=a(69951),l=a(19380),u=a(79259)},46953:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let a="";const n=e.get("type"),h=e.get("subtype"),p=e.displayName(),m=e.get("author"),g=e.get("body");let _,v;const b=""===p||null==p;if("group_notification"===n){const t=(0,r.getMaybeMeUser)();switch(h){case"add":a=i.default.equals(m,t)?o.fbt._("You were added",null,{hk:"4x0xHD"}):f.default.t(803,{name:p});break;case"remove":a=i.default.equals(m,t)?o.fbt._("You were removed",null,{hk:"2gyTSa"}):f.default.t(811,{name:p});break;case"leave":a=null!=m?i.default.equals(m,t)?o.fbt._("You left",null,{hk:"3mSR6P"}):f.default.t(809,{name:p}):o.fbt._("This group has ended.",null,{hk:"C2izu"});break;case"picture":a="remove"===g?i.default.equals(m,t)?f.default.t(878):f.default.t(877,{name:p}):i.default.equals(m,t)?f.default.t(876):f.default.t(875,{name:p});break;case"subject":a=i.default.equals(m,t)?f.default.t(824,{subject:g}):b?f.default.t(823,{subject:g}):f.default.t(822,{name:p,subject:g});break;case"modify":_=(0,s.widToFormattedUser)(e.get("author")),v=(0,s.widToFormattedUser)(g),a=_===p?f.default.t(805,{name:p,new_number:v}):f.default.t(804,{name:p});break;default:__LOG__(2)`wa:formatGroupNotification:unknown message subtype: ${h}`}}else if("gp2"===n){const n=e.recipients,y=n?(0,c.getFormattedNames)(n,!0):"",C=n?n[0]:void 0,S=C?l.ContactCollection.get(C):void 0,E=S?S.get("formattedName"):C?(0,s.widToFormattedUser)(C):"";let T;const x=(0,r.getMaybeMeUser)();switch(h){case"add":a=m?i.default.equals(m,x)?f.default.t(818,{participants:y}):i.default.equals(C,x)?b?o.fbt._("A participant added you",null,{hk:"LtOH1"}):f.default.t(813,{name:p}):b?f.default.t(816,{participants:y}):f.default.t(812,{name:p,participants:y}):i.default.equals(C,x)?o.fbt._("You were added",null,{hk:"4x0xHD"}):f.default.t(803,{name:E});break;case"remove":a=!i.default.equals(C,x)||!i.default.equals(m,x)&&m?i.default.equals(C,x)&&m?b?o.fbt._("A participant removed you",null,{hk:"3MXPgr"}):f.default.t(815,{name:p}):i.default.equals(m,x)?f.default.t(819,{participants:y}):m?b?f.default.t(817,{participants:y}):f.default.t(814,{name:p,participants:y}):f.default.t(811,{name:E}):o.fbt._("You were removed",null,{hk:"2gyTSa"});break;case"leave":a=i.default.equals(C,x)?o.fbt._("You left",null,{hk:"3mSR6P"}):f.default.t(809,{name:y});break;case"picture":a="remove"===g?i.default.equals(m,x)?f.default.t(878):f.default.t(877,{name:p}):i.default.equals(m,x)?f.default.t(876):f.default.t(875,{name:p});break;case"subject":a=i.default.equals(m,x)?f.default.t(824,{subject:g}):b?f.default.t(823,{subject:g}):f.default.t(822,{name:p,subject:g});break;case"modify":_=(0,s.widToFormattedUser)(m),v=(0,s.widToFormattedUser)(C),a=_===p?f.default.t(805,{name:p,new_number:v}):f.default.t(804,{name:p});break;case"create":a=i.default.equals(m,x)?g?f.default.t(782,{subject:g}):f.default.t(783):g?b?f.default.t(781,{subject:g}):f.default.t(779,{name:p,subject:g}):b?o.fbt._("An admin created this group",null,{hk:"4GaP6B"}):f.default.t(780,{name:p});break;case"delete":a=e.chat.isSupportGroup()?o.fbt._("This chat has been closed",null,{hk:"4v1FVm"}):o.fbt._("This group has ended",null,{hk:"3LCAzO"});break;case"promote":T=n.length,a=1===T&&i.default.equals(C,x)?o.fbt._("You're now an admin",null,{hk:"3kNNwA"}):f.default.t(810,{participants:y,_plural:T});break;case"demote":T=n.length,a=1===T&&i.default.equals(C,x)?o.fbt._("You're no longer an admin",null,{hk:"4b22N8"}):f.default.t(806,{participants:y,_plural:T});break;case"invite":a=i.default.equals(C,x)?f.default.t(808):f.default.t(807,{name:E});break;case"revoke_invite":a=i.default.equals(m,x)?o.fbt._("You reset this group's invite link. Click to view the new invite link.",null,{hk:"27k9Gu"}):f.default.t(800,{name:p});break;case"description":const r=t?b?o.fbt._("A participant changed the group description.",null,{hk:"3YXEnz"}):f.default.t(799,{name:p}):b?o.fbt._("A participant changed the group description. Click to view.",null,{hk:"2V9oO8"}):f.default.t(798,{name:p});a=i.default.equals(m,x)?o.fbt._("You changed the group description. Click to view.",null,{hk:"44K01H"}):r;break;case"announce":a="on"===g?i.default.equals(m,x)?o.fbt._("You allowed only admins to send messages to this group",null,{hk:"w9ZN5"}):f.default.t(778,{name:p}):i.default.equals(m,x)?o.fbt._("You changed this group's settings to allow all participants to send messages to this group.",null,{hk:"3Oj0Tj"}):f.default.t(777,{name:p});break;case"restrict":a="on"===g?i.default.equals(m,x)?o.fbt._("You changed this group's settings to allow only admins to edit this group's info.",null,{hk:"2ywD8F"}):f.default.t(821,{name:p}):i.default.equals(m,x)?o.fbt._("You changed this group's settings to allow all participants to edit this group's info.",null,{hk:"1dWmtw"}):f.default.t(820,{name:p});break;case"no_frequently_forwarded":a="on"===g?i.default.equals(m,x)?o.fbt._("You changed this group's settings to not allow messages that have been forwarded many times.",null,{hk:"16hyEI"}):f.default.t(802,{name:p}):i.default.equals(m,x)?o.fbt._("You changed this group's settings to allow messages that have been forwarded many times.",null,{hk:"3Ib1Hu"}):f.default.t(801,{name:p});break;case"announce_msg_bounce":a=o.fbt._("Only admins can message this group.",null,{hk:"O3Va5"});break;case"v4_add_invite_sent":a=f.default.t(705,{participants:y,_plural:n.length});break;case"v4_add_invite_join":a=f.default.t(704,{participants:y,_plural:n.length});break;case"ephemeral":const l=parseInt(e.templateParams[0],10)||0,c=e.templateParams[1],S=e.id.remote;return(0,u.default)(l,c,S);case"parent_group_link":case"sibling_group_link":case"sub_group_link":case"parent_group_unlink":case"sibling_group_unlink":case"sub_group_unlink":return(0,d.formatLinkNotifAsFbt)(h,m,e.templateParams);default:__LOG__(2)`wa:formatGroupNotification:unknown message subtype: ${h}`}}f.default.isRTL()&&(a=f.default.forceRTL(String(a)));return a};var r=a(78820),i=n(a(89867)),s=a(62054),o=a(48360),l=a(19380),u=n(a(58688)),d=a(51382),c=a(16961),f=n(a(14296))},51382:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatLinkNotifAsFbt=function(e,t,a){return h(e,t,a,!1)},t.formatLinkNotification=h;var r=n(a(89867)),i=a(48360),s=a(78820),o=a(16961),l=n(a(14296)),u=n(a(56074)),d=a(85893);const c=e=>r.default.equals(e,(0,s.getMaybeMeUser)());function f(e){return!e}function h(e,t,a,n){switch(t&&(0,o.getFormattedName)(t,!n),e){case"parent_group_link":{let e=(0,o.getFormattedCommunityName)(a[0],!n);return null==e&&(e=a[1]),!f(e)&&c(t)?i.fbt._("",null,{hk:"1ZI09E"}):f(e)&&c(t)?i.fbt._("",null,{hk:"5UPUX"}):f(e)||null==t?f(e)||null!=t?f(e)&&null!=t?i.fbt._("",null,{hk:"2qDNQB"}):i.fbt._("",null,{hk:"2r3ppF"}):i.fbt._("",null,{hk:"BlYXY"}):i.fbt._("",null,{hk:"5UPUX"})}case"sibling_group_link":{const[...e]=a,r=(0,o.getFormattedGroupListForCommunity)(e,!n),s=Array.isArray(r)?r.length:1;return c(t)?null==r?i.fbt._("",null,{hk:"1uvJb9"}):i.fbt._("",null,{hk:"KLA7x"}):null!=t?null==r?i.fbt._("",null,{hk:"2oLZsz"}):i.fbt._("",null,{hk:"4suFzI"}):null==r?i.fbt._("",null,{hk:"3ILtvm"}):n?(0,d.jsx)(u.default,{id:240,plural:s,params:{count:s,formattedNames:r}}):l.default.t(240,{formattedNames:r,_plural:s})}case"sub_group_link":break;case"parent_group_unlink":{const[...e]=a,r=(0,o.getFormattedCommunityName)(e[0],!n);return null!=r&&c(t)?i.fbt._("",null,{hk:"4ann2m"}):null==r&&c(t)||null!=r&&null!=t?i.fbt._("",null,{hk:"1ZlPAn"}):null!=r&&null==t?i.fbt._("",null,{hk:"2VkRl8"}):null==r&&null!=t?i.fbt._("",null,{hk:"17gmjA"}):i.fbt._("",null,{hk:"4pAivA"})}case"sibling_group_unlink":{const[...e]=a,r=(0,o.getFormattedGroupListForCommunity)(e,!n),s=Array.isArray(r)?r.length:1;return c(t)?null==r?i.fbt._("",null,{hk:"4jc3X1"}):i.fbt._("",null,{hk:"uIyFj"}):null!=t?null==r?i.fbt._("",null,{hk:"BDoM2"}):i.fbt._("",null,{hk:"dlhaX"}):null==r?i.fbt._("",null,{hk:"3StIZd"}):n?(0,d.jsx)(u.default,{id:241,plural:s,params:{count:s,formattedNames:r}}):l.default.t(241,{formattedNames:r,_plural:s})}case"sub_group_unlink":break;default:__LOG__(2)`wa:formatLinkNotification:unknown message subtype: ${e}`}}},26722:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatBspModalText=h,t.formatFbModalText=f,t.formatNotificationTemplateModalText=function(e){const{id:t}=e;switch(e.subtype){case"non_verified_transition":return u.default.t(845,{businessName:(0,o.default)(e)});case"unverified_transition":return u.default.t(906,{businessName:(0,o.default)(e)});case"verified_transition":return u.default.t(909,{businessName:(0,o.default)(e)});case"verified_low_unknown":return u.default.t(908,{businessName:(0,o.default)(e)});case"verified_high":return u.default.t(907,{businessName:(0,o.default)(e)});case"verified_initial_unknown":return u.default.t(892,{businessName:e.displayName()});case"verified_initial_low":return i.fbt._('WhatsApp has made changes to the business account types. "Confirmed Business" will now be labeled as "Business Account".',null,{hk:"48HVkg"});case"verified_initial_high":return i.fbt._('WhatsApp has made changes to the business account types. "Verified Business" will now be labeled as "Official Business Account".',null,{hk:"3y1yjN"});case"verified_transition_any_to_none":return i.fbt._("This account was previously a business account and has now registered as a standard account. It may no longer belong to the business.",null,{hk:"iKnlG"});case"verified_transition_any_to_high":return i.fbt._('WhatsApp has made changes to the business account types. "Verified Business" will now be labeled as "Official Business Account".',null,{hk:"1gfHmP"});case"verified_transition_high_to_low":return u.default.t(895,{businessName:(0,o.default)(e)});case"verified_transition_high_to_unknown":return u.default.t(897,{businessName:(0,o.default)(e)});case"verified_transition_unknown_to_low":return i.fbt._('WhatsApp has made changes to the business account types. This "Confirmed Business" will now be labeled as "Business Account".',null,{hk:"2RO5Xf"});case"verified_transition_low_to_unknown":return u.default.t(899,{businessName:(0,o.default)(e)});case"verified_transition_none_to_low":return u.default.t(900,{businessName:(0,o.default)(e)});case"verified_transition_none_to_unknown":return u.default.t(901,{businessName:e.displayName()});case"biz_verified_transition_top_to_bottom":return i.fbt._('WhatsApp is no longer able to verify that this is the official business account of "{businessName}".',[i.fbt._param("businessName",(0,o.default)(e))],{hk:"TtuFv"});case"biz_verified_transition_bottom_to_top":return i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}".',[i.fbt._param("businessName",(0,o.default)(e))],{hk:"CIwer"});case"biz_intro_top":{const a=(0,o.default)(e),n=r.default.isOfficialBizAccount(t.remote);return(0,s.default)(t.remote,a)?n?i.fbt._('This is the official business account of "WhatsApp".',null,{hk:"3Oudrr"}):i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}".',[i.fbt._param("businessName",a)],{hk:"mx1Ah"}):n?i.fbt._('This is the official business account of "WhatsApp". This account is saved with a different name in your address book.',null,{hk:"2QPmzI"}):i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}". This account is saved with a different name in your address book.',[i.fbt._param("businessName",a)],{hk:"s52gx"})}case"biz_intro_bottom":return i.fbt._('"{businessName}" registered as a business account, but WhatsApp hasn’t verified their name yet.',[i.fbt._param("businessName",(0,d.default)(t.remote))],{hk:"220kAG"});case"biz_name_change":return i.fbt._('WhatsApp has verified that this official business account changed its name and now uses the name "{businessName}".',[i.fbt._param("businessName",(0,o.default)(e))],{hk:"1IAfpu"});case"biz_move_to_consumer_app":return i.fbt._("This account was previously a business account but has now registered as a standard account and may no longer belong to the business.",null,{hk:"nbUPf"});case"biz_two_tier_migration_top":{const a=(0,o.default)(e);return(0,s.default)(t.remote,a)?i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}".',[i.fbt._param("businessName",a)],{hk:"26nFGU"}):i.fbt._('WhatsApp has verified that this is the official business account of "{businessName}". This account is saved with a different name in your address book.',[i.fbt._param("businessName",a)],{hk:"4EwqTR"})}case"biz_two_tier_migration_bottom":return i.fbt._('"{businessName}" registered as a business account, but WhatsApp hasn’t verified their name yet.',[i.fbt._param("businessName",(0,d.default)(t.remote))],{hk:"26jT9r"});case"blue_msg_bsp_fb_to_bsp_premise":case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":case"blue_msg_bsp_premise_unverified":case"blue_msg_bsp_premise_verified":case"blue_msg_consumer_to_bsp_premise_unverified":case"blue_msg_self_fb_to_bsp_premise":case"blue_msg_self_fb_unverified_to_bsp_premise_verified":case"blue_msg_self_fb_verified_to_bsp_premise_unverified":case"blue_msg_self_premise_to_bsp_premise":case"blue_msg_unverified_to_bsp_premise_verified":case"blue_msg_verified_to_bsp_premise_unverified":return i.fbt._("WhatsApp secures messages while they're being delivered to and from the companies that store and manage this chat for {businessName}. Contact {businessName} for more information on their privacy practices.",[i.fbt._param("businessName",(0,o.default)(e))],{hk:"IO6XA"});case"blue_msg_consumer_to_self_premise_unverified":return i.fbt._("This chat is with a business account.",null,{hk:"39HnTA"});case"blue_msg_bsp_fb_to_self_fb":case"blue_msg_bsp_fb_unverified":case"blue_msg_bsp_fb_unverified_to_self_fb_verified":case"blue_msg_bsp_fb_verified":case"blue_msg_bsp_fb_verified_to_self_fb_unverified":case"blue_msg_consumer_to_bsp_fb_unverified":case"blue_msg_consumer_to_self_fb_unverified":case"blue_msg_self_fb_unverified":case"blue_msg_to_bsp_fb":case"blue_msg_to_self_fb":case"blue_msg_unverified_to_bsp_fb_verified":case"blue_msg_unverified_to_self_fb_verified":case"blue_msg_verified_to_bsp_fb_unverified":case"blue_msg_verified_to_self_fb_unverified":return i.fbt._("WhatsApp secures messages while they're being delivered to and from Facebook, where this chat is stored and managed for {businessName}. Contact {businessName} for more information on their privacy practices.",[i.fbt._param("businessName",(0,o.default)(e))],{hk:"3a6lZG"});case"blue_msg_self_fb_verified":const a=(0,l.getIsInternalNumber)(e.chat.id.user),n=(0,o.default)(e);return a?i.fbt._("WhatsApp secures messages while they're being delivered to and from Facebook, where this chat is stored and managed for {businessName}.",[i.fbt._param("businessName",n)],{hk:"4agYvQ"}):i.fbt._("WhatsApp secures messages while they're being delivered to and from Facebook, where this chat is stored and managed for {businessName}. Contact {businessName} for more information on their privacy practices.",[i.fbt._param("businessName",n)],{hk:"3a6lZG"});case"blue_msg_self_premise_unverified":return i.fbt._("{businessName} is registered as a business account.",[i.fbt._param("businessName",(0,o.default)(e))],{hk:"1kOspT"});case"blue_msg_self_premise_verified":{const a=(0,o.default)(e);return(0,s.default)(t.remote,a)?i.fbt._("{businessName} is registered as an official business account.",[i.fbt._param("businessName",a)],{hk:"3l7ere"}):i.fbt._("{businessName} is registered as an official business account. The business is saved as a different name in your contacts.",[i.fbt._param("businessName",a)],{hk:"164TVi"})}case"blue_msg_bsp_fb_verified_to_self_premise_unverified":case"blue_msg_bsp_premise_verified_to_self_premise_unverified":case"blue_msg_self_fb_verified_to_self_premise_unverified":case"blue_msg_verified_to_unverified":return i.fbt._("{businessName} is now registered as a business account, instead of an official business account.",[i.fbt._param("businessName",(0,o.default)(e))],{hk:"2ZxUyL"});case"blue_msg_bsp_fb_unverified_to_self_premise_verified":case"blue_msg_bsp_premise_unverified_to_self_premise_verified":case"blue_msg_self_fb_unverified_to_self_premise_verified":case"blue_msg_unverified_to_verified":{const a=(0,o.default)(e);return(0,s.default)(t.remote,a)?i.fbt._("This chat is with the official business account of {businessName}.",[i.fbt._param("businessName",a)],{hk:"2bAocp"}):i.fbt._("This chat is with the official business account of {businessName}. The business is saved as a different name in your contacts.",[i.fbt._param("businessName",a)],{hk:"3H9EF"})}case"biz_privacy_mode_init_fb":case"biz_privacy_mode_to_fb":return f();case"biz_privacy_mode_init_bsp":case"biz_privacy_mode_to_bsp":return h();default:return null}};var r=n(a(89867)),i=a(48360),s=n(a(72930)),o=n(a(69721)),l=a(17478),u=n(a(14296)),d=n(a(73977)),c=a(85893);function f(){return(0,c.jsxs)(c.Fragment,{children:[i.fbt._("You are always in control of the conversation. You can stop chatting with this business or block them at any time.",null,{hk:"47gPiG"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),i.fbt._("WhatsApp secures your messages and calls with this business.",null,{hk:"3dAXlL"}),i.fbt._("The Facebook company will never show this chat in anyone’s personal Facebook account.",null,{hk:"2c6YmD"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),i.fbt._("For details about how this chat is secured, click Learn More.",null,{hk:"1yOc3i"})]})}function h(){return(0,c.jsxs)(c.Fragment,{children:[i.fbt._("You are always in control of the conversation. You can stop chatting with this business or block them at any time.",null,{hk:"47gPiG"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),i.fbt._("WhatsApp secures your messages and calls with this business.",null,{hk:"3dAXlL"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),i.fbt._("For details about how this chat is secured, click Learn More.",null,{hk:"1yOc3i"})]})}},64650:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{templateParams:t,id:a}=e;switch(e.subtype){case"non_verified_transition":return u.fbt._("The business account you were chatting with is now a standard account. Click for more info.",null,{hk:"yLpjx"});case"unverified_transition":return u.fbt._("The business account you're chatting with is now unverified. Click for more info.",null,{hk:"1XWyaA"});case"verified_transition":return u.fbt._("The business account you're chatting with is now verified. Click for more info.",null,{hk:"39seL2"});case"verified_low_unknown":return u.fbt._("This chat is with an unverified business account. Click for more info.",null,{hk:"1VMDKu"});case"verified_high":return u.fbt._("This chat is with a verified business account. Click for more info.",null,{hk:"2VqWpM"});case"verified_initial_unknown":return u.fbt._("This chat may be with a business account. Click for more info.",null,{hk:"1O95s1"});case"verified_initial_low":return m.default.t(891,{businessName:(0,h.default)(e)});case"verified_initial_high":return m.default.t(890,{businessName:(0,h.default)(e)});case"verified_transition_any_to_none":return u.fbt._("This business account has now registered as a standard account. Click for more info.",null,{hk:"16Zzqr"});case"verified_transition_any_to_high":return m.default.t(893,{businessName:(0,h.default)(e)});case"verified_transition_high_to_low":return m.default.t(894,{businessName:(0,h.default)(e)});case"verified_transition_high_to_unknown":return m.default.t(896,{businessName:(0,h.default)(e)});case"verified_transition_unknown_to_low":return m.default.t(902,{businessName:(0,h.default)(e)});case"verified_transition_low_to_unknown":return m.default.t(898,{businessName:(0,h.default)(e)});case"verified_transition_none_to_low":return u.fbt._("This account has registered as a business account. Click for more info.",null,{hk:"2j3bow"});case"verified_transition_none_to_unknown":return u.fbt._("This chat may be with a business account. Click for more info.",null,{hk:"10JcC"});case"change_number":const n=t[0],v=d.ContactCollection.get(n),b=(null==v?void 0:v.isMyContact)?v.formattedName:(0,l.widToFormattedUser)(n);return o.default.equals(e.chat.id,n)?m.default.t(175,{name:b}):m.default.t(174,{name:b});case"payment_transaction_status_update_failed":return m.default.t(871,{receiverName:(0,_.default)(t[0]),relativeTime:r.Clock.paymentTimestampStr(e.t)});case"payment_transaction_request_cancelled":{const a=t[0],n=(0,_.default)(a),r=t[1],i=parseInt(t[2],10),s=c.formatAmount1000(r,i),o={contactName:n,currencyAndAmount:s,_plural:i/1e3};return e.id.fromMe?m.default.t(850,o):m.default.t(849,o)}case"payment_transaction_status_update_refunded":return m.default.t(873,{receiverName:(0,_.default)(t[0]),relativeTime:r.Clock.paymentTimestampStr(e.t)});case"payment_transaction_status_update_refund_failed":return m.default.t(872,{receiverName:(0,_.default)(t[0]),relativeTime:r.Clock.paymentTimestampStr(e.t)});case"payment_transaction_status_receiver_pending_setup":{const e=t[0],a=(0,_.default)(e),n=t[1],r=parseInt(t[2],10),i=c.formatAmount1000(n,r);return m.default.t(869,{senderName:a,currencyAndAmount:i,_plural:r/1e3})}case"payment_transaction_status_receiver_success_after_hiccup":return m.default.t(870,{senderName:(0,_.default)(t[0]),relativeTime:r.Clock.paymentTimestampStr(e.t)});case"payment_action_account_setup_reminder":return m.default.t(848,{senderName:(0,_.default)(t[0])});case"payment_action_send_payment_reminder":return m.default.t(856,{receiverName:(0,_.default)(t[0])});case"payment_action_send_payment_invitation":return m.default.t(855,{receiverName:(0,_.default)(t[0])});case"payment_action_request_declined":{const a=t[0],n=(0,_.default)(a),r=t[1],i=parseInt(t[2],10),s=c.formatAmount1000(r,i),o={contactName:n,currencyAndAmount:s,_plural:i/1e3};return e.id.fromMe?m.default.t(852,o):m.default.t(851,o)}case"payment_action_request_expired":{const e=t[0],a=(0,_.default)(e),n=t[1],r=(0,_.default)(n),i=t[2],l=parseInt(t[3],10),u=c.formatAmount1000(i,l);return o.default.equals(e,(0,s.getMaybeMeUser)())?m.default.t(854,{receiverName:r,currencyAndAmount:u,_plural:l/1e3}):m.default.t(853,{senderName:a,currencyAndAmount:u,_plural:l/1e3})}case"payment_invite_account_set_up":const y=t[0];return m.default.t(857,{invitee:(0,_.default)(y)});case"biz_verified_transition_top_to_bottom":return u.fbt._('This chat is no longer with the official business account of "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"15cVpy"});case"biz_verified_transition_bottom_to_top":return u.fbt._('This chat is now with the official business account of "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2t2lXH"});case"biz_intro_top":const C=e.id.remote;return o.default.isOfficialBizAccount(C)?u.fbt._('This chat is with the official business account of "WhatsApp". Click for more info.',null,{hk:"1nWt8Z"}):u.fbt._('This chat is with the official business account of "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"KRO22"});case"biz_intro_bottom":return u.fbt._("This chat is with a business account. Click for more info.",null,{hk:"NOsnP"});case"biz_name_change":return u.fbt._('This official business account changed its name to "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3ACt4d"});case"biz_move_to_consumer_app":return u.fbt._("This business account has now registered as a standard account. Click for more info.",null,{hk:"1k39GT"});case"biz_two_tier_migration_top":return u.fbt._('This chat is with the official business account of "{businessName}". Click for more info.',[u.fbt._param("businessName",(0,h.default)(e))],{hk:"jDir7"});case"biz_two_tier_migration_bottom":return u.fbt._("This chat is with a business account. Click for more info.",null,{hk:"jSYUU"});case"blue_msg_bsp_fb_to_bsp_premise":return u.fbt._("{businessName} no longer uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"dcaPK"});case"blue_msg_bsp_fb_to_self_fb":return u.fbt._("{businessName} now only uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"44oTS3"});case"blue_msg_bsp_fb_to_self_premise":return u.fbt._("{businessName} no longer uses Facebook or other companies to manage its WhatsApp conversations.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"PHES2"});case"blue_msg_bsp_fb_unverified":return u.fbt._("This chat is with a business account that uses Facebook and other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",null,{hk:"2xddIM"});case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":{const t=(0,h.default)(e);return(0,f.default)(a.remote,t)?u.fbt._("{businessName} is now registered as an official business account. This business no longer uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1OexG0"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business no longer uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"4arvoG"})}case"blue_msg_bsp_fb_unverified_to_self_fb_verified":{const t=(0,h.default)(e);return(0,f.default)(a.remote,t)?u.fbt._("{businessName} is now registered as an official business account that only uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"297aTJ"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business only uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"3iPREE"})}case"blue_msg_bsp_fb_unverified_to_self_premise_verified":return u.fbt._("{businessName} is now registered as an official business account. This business no longer uses Facebook or other companies to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3xdlPw"});case"blue_msg_bsp_fb_verified":{const t=(0,h.default)(e);return(0,f.default)(a.remote,t)?u.fbt._("This chat is with the official business account of {businessName}. This business uses Facebook and other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"26Ni9o"}):u.fbt._("This chat is with the official business account of {businessName}, but it's saved as a different name in your contacts. This business uses Facebook and other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"4sL2ht"})}case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it no longer uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"4l3wy7"});case"blue_msg_bsp_fb_verified_to_self_fb_unverified":return u.fbt._("{businessName} is no longer an official business account and it now only uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2E4Cr2"});case"blue_msg_bsp_fb_verified_to_self_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it no longer uses Facebook or other companies to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3yeAJD"});case"blue_msg_bsp_premise_to_self_premise":return u.fbt._("{businessName} no longer uses other companies to manage its WhatsApp conversations.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"BwSEx"});case"blue_msg_bsp_premise_unverified":return u.fbt._("This chat is with a business account that uses other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",null,{hk:"196kMD"});case"blue_msg_bsp_premise_unverified_to_self_premise_verified":return u.fbt._("{businessName} is now registered as an official business account. This business no longer uses other companies to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1rY5J2"});case"blue_msg_bsp_premise_verified":{const t=(0,h.default)(e);return(0,f.default)(a.remote,t)?u.fbt._("This chat is with the official business account of {businessName}. This business uses other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"RnZGQ"}):u.fbt._("This chat is with the official business account of {businessName}, but it's saved as a different name in your contacts. This business uses other companies to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1mJ4O4"})}case"blue_msg_bsp_premise_verified_to_self_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it no longer uses other companies to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3vyb9n"});case"blue_msg_consumer_to_bsp_fb_unverified":return u.fbt._("{businessName} is now registered as a business account that uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1mplAw"});case"blue_msg_consumer_to_bsp_premise_unverified":return u.fbt._("{businessName} is now registered as a business account that uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1Lg2Ln"});case"blue_msg_consumer_to_self_fb_unverified":return u.fbt._("{businessName} is now registered as a business account that uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"fVfG9"});case"blue_msg_consumer_to_self_premise_unverified":return u.fbt._("{businessName} is now registered as a business account. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"25gNuS"});case"blue_msg_self_fb_to_bsp_premise":return u.fbt._("{businessName} now uses other companies instead of Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3goxbh"});case"blue_msg_self_fb_to_self_premise":return u.fbt._("{businessName} no longer uses Facebook to manage its WhatsApp conversations.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"22ka0Y"});case"blue_msg_self_fb_unverified":return u.fbt._("This chat is with a business account that uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",null,{hk:"BnVcY"});case"blue_msg_self_fb_unverified_to_bsp_premise_verified":{const t=(0,h.default)(e);return(0,f.default)(a.remote,t)?u.fbt._("{businessName} is now registered as an official business account. This business now uses other companies instead of Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"2PMRlL"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business now uses other companies instead of Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"27sgHC"})}case"blue_msg_self_fb_unverified_to_self_premise_verified":return u.fbt._("{businessName} is now registered as an official business account. This business no longer uses Facebook to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2BxZaJ"});case"blue_msg_self_fb_verified":{const t=(0,h.default)(e),n=(0,p.getIsInternalNumber)(e.chat.id.user);return(0,f.default)(a.remote,t)?n?u.fbt._("This chat is with the official account of {businessName}. This account uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"2khRW"}):u.fbt._("This chat is with the official business account of {businessName}. This business uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"2eH8ov"}):n?u.fbt._("This chat is with the official account of {businessName}, but it's saved as a different name in your contacts. This account uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"3avPYT"}):u.fbt._("This chat is with the official business account of {businessName}, but it's saved as a different name in your contacts. This business uses Facebook to manage its WhatsApp conversations. Click to learn more about privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1v1qGq"})}case"blue_msg_self_fb_verified_to_bsp_premise_unverified":return u.fbt._("{businessName} is no longer an official business account. This business uses other companies instead of Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2pw2kX"});case"blue_msg_self_fb_verified_to_self_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it no longer uses Facebook to manage its WhatsApp conversations. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"20NrmG"});case"blue_msg_self_premise_to_bsp_premise":return u.fbt._("{businessName} now uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3Kt1r4"});case"blue_msg_self_premise_unverified":return u.fbt._("This chat is with a business account. Click to learn more.",null,{hk:"2dhxdN"});case"blue_msg_self_premise_verified":return u.fbt._("This chat is with the official business account of {businessName}. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3xYVEJ"});case"blue_msg_to_bsp_fb":return u.fbt._("{businessName} now uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3moaZo"});case"blue_msg_to_consumer":return u.fbt._("{businessName} is no longer registered as a business account.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1qYJk3"});case"blue_msg_to_self_fb":return u.fbt._("{businessName} now uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"FFVKC"});case"blue_msg_unverified_to_bsp_fb_verified":{const t=(0,h.default)(e);return(0,f.default)(a.remote,t)?u.fbt._("{businessName} is now registered as an official business account that uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"2ADBSN"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1RYriC"})}case"blue_msg_unverified_to_bsp_premise_verified":{const t=(0,h.default)(e);return(0,f.default)(a.remote,t)?u.fbt._("{businessName} is now registered as an official business account that uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"4vY8TF"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"4Asief"})}case"blue_msg_unverified_to_self_fb_verified":{const t=(0,h.default)(e);return(0,f.default)(a.remote,t)?u.fbt._("{businessName} is now registered as an official business account that uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"1B2Vda"}):u.fbt._("{businessName} is now registered as an official business account, but it's saved as a different name in your contacts. This business uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",t)],{hk:"rRdk0"})}case"blue_msg_unverified_to_verified":return u.fbt._("{businessName} is now registered as an official business account. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"2tnxMX"});case"blue_msg_verified_to_bsp_fb_unverified":return u.fbt._("{businessName} is no longer an official business account. This business now uses Facebook and other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"458O0M"});case"blue_msg_verified_to_bsp_premise_unverified":return u.fbt._("{businessName} is no longer an official business account and it now uses other companies to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"3A3koW"});case"blue_msg_verified_to_self_fb_unverified":return u.fbt._("{businessName} is no longer an official business account and it now uses Facebook to manage its WhatsApp conversations. Click to learn how this changes privacy in this chat.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1StTSm"});case"blue_msg_verified_to_unverified":return u.fbt._("{businessName} is no longer registered as an official business account. Click to learn more.",[u.fbt._param("businessName",(0,h.default)(e))],{hk:"1Agjw1"});case"biz_privacy_mode_init_fb":return u.fbt._("This business uses a secure service from the Facebook company to manage this chat. Click to learn more.",null,{hk:"1kUjsv"});case"biz_privacy_mode_to_fb":return u.fbt._("This business is now using a secure service from the Facebook company to manage this chat. Click to learn more.",null,{hk:"1JCL40"});case"biz_privacy_mode_init_bsp":return u.fbt._("This business works with other companies to manage this chat. Click to learn more.",null,{hk:"VbOOZ"});case"biz_privacy_mode_to_bsp":return u.fbt._("This business is now working with other companies to manage this chat. Click to learn more.",null,{hk:"2vEnTy"});case"block_contact":return"true"===t[0]?u.fbt._("You blocked this contact",null,{hk:"4GeKEc"}):u.fbt._("You unblocked this contact",null,{hk:"1cRMeM"});case"disappearing_mode":const S=t[0],E=parseInt(S,10)||0,T=t[1];if(o.default.equals(T,(0,s.getMaybeMeUser)()))return(0,g.getDisappearingModeYouString)(E);const x=d.ContactCollection.gadd(T);return(0,g.getDisappearingModeOtherString)(E,x.formattedName);default:return i.UA.isElectron?u.fbt._("You received a message on your phone, but your version of WhatsApp Desktop doesn't support it.",null,{hk:"mhBjl"}):u.fbt._("You received a message on your phone, but your version of WhatsApp Web doesn't support it.",null,{hk:"4mqP2W"})}};var r=a(40234),i=a(26741),s=a(78820),o=n(a(89867)),l=a(62054),u=a(48360),d=a(19380),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(39519)),f=n(a(72930)),h=n(a(69721)),p=a(17478),m=n(a(14296)),g=a(79259),_=n(a(73977));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}},16961:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedCommunityName=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=s.ContactCollection.get(e.toString()))return m(e,t,f(e));return null},t.getFormattedGroupListForCommunity=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=(0,i.unFlattenPairList)(e).map((e=>{let[a,n]=e;const r=h(a,t);return""!==r&&null!=r?r:n}));return(0,l.default)(a,t,"group_list")},t.getFormattedName=p,t.getFormattedNames=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return p(e,t);const a=e.map((e=>p(e,t)));return(0,l.default)(a,t)};var r=a(81572),i=a(56952),s=a(19380),o=a(50101),l=n(a(88793)),u=n(a(73213)),d=a(85893);function c(e){return t=>{t&&(t.preventDefault(),t.stopPropagation()),(0,o.findChat)(e).then((e=>{r.Cmd.openChatFromUnread(e).then((t=>{t&&r.Cmd.focusChatTextInput(e)}))}))}}function f(e){return t=>{t&&(t.preventDefault(),t.stopPropagation()),r.Cmd.communityHome(e)}}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=s.ContactCollection.get(e.toString()))return m(e,t,c(e));const a=u.default.get(e.toString());return(null==a?void 0:a.subject)?a.subject:null}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m(e,t,c(e))}function m(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=s.ContactCollection.gadd(e,{silent:!0}),i=t?void 0:n,{Name:o}=a(12176);return t?r.formattedUser:(0,d.jsx)(o,{contact:r,onClick:i})}},69721:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;return null!==(t=null===(a=e.templateParams[0])||void 0===a?void 0:a.toString())&&void 0!==t?t:(0,r.default)(e.id.remote)};var r=n(a(73977))},39992:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case"non_verified_transition":return(0,n.getNonVerifiedTransitionFaqUrl)();case"unverified_transition":return(0,n.getUnverifiedTransitionFaqUrl)();case"verified_transition":return(0,n.getVerifiedTransitionFaqUrl)();case"verified_low_unknown":return(0,n.getVerifiedLowUnknownFaqUrl)();case"verified_high":return(0,n.getVerifiedHighFaqUrl)();case"biz_intro_top":case"biz_intro_bottom":case"biz_two_tier_migration_bottom":case"biz_name_change":case"biz_verified_transition_top_to_bottom":case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":return(0,n.getBusinessFaqUrl)();case"blue_msg_bsp_fb_to_bsp_premise":case"blue_msg_bsp_fb_to_self_fb":case"blue_msg_bsp_fb_to_self_premise":case"blue_msg_bsp_fb_unverified":case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":case"blue_msg_bsp_fb_unverified_to_self_fb_verified":case"blue_msg_bsp_fb_unverified_to_self_premise_verified":case"blue_msg_bsp_fb_verified":case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":case"blue_msg_bsp_fb_verified_to_self_fb_unverified":case"blue_msg_bsp_fb_verified_to_self_premise_unverified":case"blue_msg_bsp_premise_to_self_premise":case"blue_msg_bsp_premise_unverified":case"blue_msg_bsp_premise_unverified_to_self_premise_verified":case"blue_msg_bsp_premise_verified":case"blue_msg_bsp_premise_verified_to_self_premise_unverified":case"blue_msg_consumer_to_bsp_fb_unverified":case"blue_msg_consumer_to_bsp_premise_unverified":case"blue_msg_consumer_to_self_fb_unverified":case"blue_msg_consumer_to_self_premise_unverified":case"blue_msg_self_fb_to_bsp_premise":case"blue_msg_self_fb_to_self_premise":case"blue_msg_self_fb_unverified":case"blue_msg_self_fb_unverified_to_bsp_premise_verified":case"blue_msg_self_fb_unverified_to_self_premise_verified":case"blue_msg_self_fb_verified":case"blue_msg_self_fb_verified_to_bsp_premise_unverified":case"blue_msg_self_fb_verified_to_self_premise_unverified":case"blue_msg_self_premise_to_bsp_premise":case"blue_msg_self_premise_unverified":case"blue_msg_self_premise_verified":case"blue_msg_to_bsp_fb":case"blue_msg_to_consumer":case"blue_msg_to_self_fb":case"blue_msg_unverified_to_bsp_fb_verified":case"blue_msg_unverified_to_bsp_premise_verified":case"blue_msg_unverified_to_self_fb_verified":case"blue_msg_unverified_to_verified":case"blue_msg_verified_to_bsp_fb_unverified":case"blue_msg_verified_to_bsp_premise_unverified":case"blue_msg_verified_to_self_fb_unverified":case"blue_msg_verified_to_unverified":return(0,n.getE2EEnterpriseFaqUrl)();case"biz_privacy_mode_init_fb":case"biz_privacy_mode_to_fb":case"biz_privacy_mode_init_bsp":case"biz_privacy_mode_to_bsp":return(0,n.getE2EEnterpriseFaqUrl)();default:return(0,n.getFaqUrl)()}};var n=a(21310)},60238:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=null!=t?t:"",n=e.mentionMap();if(!n)return function(e){return r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.RICH_TEXT)?(0,i.default)(e,u,l.default):e}(a);if((0,o.isDropLastNameEnabled)()&&e.chat.groupMetadata){const t=e.chat.groupMetadata,o=r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.RICH_TEXT)?s.Configuration.FormattedGroupNotification({mentions:n,groupMetadata:t}):s.Configuration.RawGroupNotification({mentions:n,groupMetadata:t});return(0,i.default)(a,o,l.default)}const d=r.LegacyPhoneFeatures.supportsFeature(r.LegacyPhoneFeatures.F.RICH_TEXT)?s.Configuration.FormattedNotification({mentions:n}):s.Configuration.RawNotification({mentions:n});return(0,i.default)(a,d,l.default)};var r=a(38184),i=n(a(80691)),s=a(30695),o=a(41566),l=n(a(39949));const u=s.Configuration.Format({mentions:{}})},73977:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=r.ContactCollection.get(e);return t?t.formattedName:(0,n.widToFormattedUser)(e)};var n=a(62054),r=a(19380)},32973:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=n(a(40436)),s=a(67294),o=n(a(42438)),l=a(18644),u=n(a(2773)),d=a(85893);class c extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={_stack:[],_transition:"default",_activeKey:0,_ended:!1,isPushed:!1},this.setRefUIE=e=>{this.refUIE=e},this.popAndUpdate=(e,t)=>{const a=this.state._stack;if(a.length<2)return void this.pop(t);const n=(0,s.cloneElement)(a[a.length-2],e);a[a.length-2]=n,this.pop(t)},this.push=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props.pushTransition;e.setState((e=>({_stack:e._stack.concat(t),_transition:a,_activeKey:++e._activeKey,_ended:!1,isPushed:!0})))},this.pop=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.popTransition;const a=e.state._stack.slice(0,-1);a.length?e.setState((e=>({_stack:a,_transition:t,_activeKey:--e._activeKey,isPushed:!1}))):e.state._ended||e.setState({_ended:!0},e.end)},this.end=e=>{this.props.onEnd?this.props.onEnd(e):(0,r.default)(this.context,"this.context").requestDismiss(e)},this.stackSize=()=>this.state._stack.length,this.requestFocus=()=>{this.props.requestFocus&&this.props.requestFocus()}}handleRequestDismiss(){this.pop()}render(){const{_stack:e,_transition:t,_activeKey:a,isPushed:n}=this.state;if(0===e.length)return null;let r=e[e.length-1];return r=(0,s.cloneElement)(r,{isPushed:n}),r=(0,d.jsx)(l.UIE,{displayName:`FlowDrawer${a}`,escapable:!0,ref:this.setRefUIE,requestFocus:this.requestFocus,requestDismiss:this.handleRequestDismiss.bind(this),children:r},a),(0,d.jsx)(i.default,{transitionName:t,className:o.default.container,children:this.props.removeTopDrawer?r:e})}}t.default=c,c.contextType=u.default,c.defaultProps={removeTopDrawer:!0,pushTransition:"flow-transition-drawer-push",popTransition:"flow-transition-drawer-pop"},c.displayName="FlowComponent"},65932:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n;const u=(0,s.default)(e);t||a||(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS(`StateHOC wrapping class with no concerns, check ${u}`));const d=[];if(t)for(const e in t)d.push(new i.default(u,e,t[e],!0));if(a)for(const e in a)t&&t.hasOwnProperty(e)&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS(`Component has marked "${e}" as both a normal and weak concern, check ${u}`)),d.push(new i.default(u,e,a[e],!1));return(n=class t extends o.WrappedComponent{constructor(e){super(e),this._rr=(e,t)=>{this.setState((a=>({proxies:(0,r.default)((0,r.default)({},a.proxies),{},{[e.name]:e.createProxy(t)})})))};const a={};let n=!1;for(let r=0;r<d.length;r++){const i=d[r],s=i.name,o=i.getModelAndValidate(t._getModelOrProxy(s,e));if(o){const e=i.createProxy(o);i.attachConcern(o,e.proxyBitMask,this._rr),a[s]=e}else n=!0}this.state={props:e,proxies:a,hasBroken:n}}static _getModelOrProxy(e,t){return t[e]}static getDerivedStateFromProps(e,a){const n=(0,r.default)({},a.proxies);let i=!1;if(!a.hasBroken){const r=a.props;for(let a=0;a<d.length;a++){const s=d[a],o=s.name,l=s.getModel(t._getModelOrProxy(o,r)),u=s.getModelAndValidate(t._getModelOrProxy(o,e));l!==u&&(u?n[o]=s.createProxy(u):i=!0)}}return{props:e,proxies:n,hasBroken:i}}componentDidUpdate(e){if(!this.state.hasBroken)for(let a=0;a<d.length;a++){const n=d[a],r=n.name,i=n.getModel(t._getModelOrProxy(r,e)),s=n.getModelAndValidate(t._getModelOrProxy(r,this.props));if(i!==s&&(n.detachConcern(i,this._rr),s)){const e=this.state.proxies[r];n.attachConcern(s,e.proxyBitMask,this._rr)}}}componentWillUnmount(){if(!this.state.hasBroken)for(let e=0;e<d.length;e++){const a=d[e];a.detachConcern(a.getModel(t._getModelOrProxy(a.name,this.props)),this._rr)}}_getComponent(){return o._getComponent.call(this)}render(){const{proxies:t,hasBroken:a,hasError:n}=this.state;return a||n?null:(0,l.jsx)(e,(0,r.default)((0,r.default)({ref:this.setComponent},this.props),t))}}).displayName=`State(${u})`,n.wrappedComponent=null,n};var r=n(a(81109)),i=n(a(87541)),s=n(a(38701)),o=a(7128),l=a(85893)},4478:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;return(t=class extends l.WrappedComponent{constructor(){var e;super(...arguments),e=this,this._timers=new Map,this._timerId=0,this._unmounted=!1,this.setInterval=(e,t)=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Setting interval after unmount"));const a=++this._timerId,n=window.setInterval(e,t);return this._timers.set(a,(()=>{window.clearInterval(n),this._timers.delete(a)})),a},this.clearInterval=e=>{const t=this._timers.get(e);t&&t()},this.setTimeout=(e,t)=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Setting timeout after unmount"));const[a,n]=this._cbWrapper(e),r=window.setTimeout(n,t);return this._timers.set(a,(()=>{window.clearTimeout(r),this._timers.delete(a)})),a},this.clearTimeout=e=>{const t=this._timers.get(e);t&&t()},this.requestAnimationFrame=e=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Requesting animation frame after unmount"));const[t,a]=this._cbWrapper(e),n=window.requestAnimationFrame(a);return this._timers.set(t,(()=>{window.cancelAnimationFrame(n),this._timers.delete(t)})),t},this.cancelAnimationFrame=e=>{const t=this._timers.get(e);t&&t()},this.throttle=(t,a,n)=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Throttling after unmount"));const[r,i]=this._cbWrapper(t),o=(0,s.default)(i,a,n),l=o.cancel.bind(o);o.cancel=()=>{l(),this._timers.delete(r)};const u=function(){e._unmounted||(e._timers.set(r,o.cancel),o(...arguments))};return u.cancel=o.cancel,u.flush=o.flush,u},this.debounce=(t,a,n)=>{this._unmounted&&(__LOG__(4,void 0,new Error,!0)`Assertion failed!`,SEND_LOGS("Debouncing after unmount"));const[r,s]=this._cbWrapper(t),o=(0,i.default)(s,a,n),l=o.cancel.bind(o),u=o.flush.bind(o);o.cancel=()=>{l(),this._timers.delete(r)},o.flush=()=>{u()};const d=function(){e._unmounted||(e._timers.set(r,o.cancel),o(...arguments))};return d.cancel=o.cancel,d.flush=o.flush,d},this._cbWrapper=t=>{const a=++this._timerId;return[a,function(){e._timers.delete(a),t(...arguments)}]}}_getComponent(){return l._getComponent.call(this)}componentWillUnmount(){this._unmounted=!0,this._timers.forEach((e=>e()))}render(){return this.state.hasError?null:(0,u.jsx)(e,(0,r.default)({ref:this.setComponent,setInterval:this.setInterval,clearInterval:this.clearInterval,setTimeout:this.setTimeout,clearTimeout:this.clearTimeout,requestAnimationFrame:this.requestAnimationFrame,cancelAnimationFrame:this.cancelAnimationFrame,debounce:this.debounce,throttle:this.throttle},this.props))}}).displayName=`Timer(${(0,o.default)(e)})`,t.wrappedComponent=null,t};var r=n(a(81109)),i=n(a(23279)),s=n(a(23493)),o=n(a(38701)),l=a(7128),u=a(85893)},77214:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){const n=null!=a?a:a=>(null==e?void 0:e.getter(a))===t,l=(0,i.useRef)(),[u,d]=(0,i.useState)(!1),c=null!=(null==e?void 0:e.value)&&n(e.value);u!==c&&d(c);return(0,s.useListener)(e,t,((e,t)=>{if("focus"===e){const e=l.current;e&&(r.default.focus(e),t&&(0,o.scrollIntoViewIfNeeded)(e))}d(!!e)})),[l,u]};var r=n(a(52013)),i=a(67294),s=a(87550),o=a(78756)},65789:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{active:a=!1,delay:n=0}=null!=t?t:{},s=(0,i.useRef)(e);s.current=e;const o=(0,i.useRef)();(0,i.useEffect)((()=>{const e=e=>s.current(e),t=()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.call(o)};return t(),a&&(o.current=(0,r.default)(e,{delay:n})),t}),[a,n])};var r=n(a(73540)),i=a(67294)},16031:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.default)(e);return(0,i.useMemo)((()=>(0,r.default)(t)),[t])};var r=n(a(51463)),i=a(67294),s=n(a(89113))},74744:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,i.useState)((()=>s().getValue()));return(0,i.useEffect)((()=>s().subscribe((e=>{t(e)}))),[]),e};var r=n(a(51463)),i=a(67294);const s=(0,r.default)((()=>new o));class o{constructor(){this._subscribers=new Set}subscribe(e){if(this._subscribers.has(e))throw new Error("Callback can only be added once.");return this._subscribers.add(e),this._updateListener(),()=>{this._subscribers.delete(e),this._updateListener()}}getValue(){var e;return null!==(e=window.devicePixelRatio)&&void 0!==e?e:1}_updateListener(){var e;if(0===this._subscribers.size)return void(null===(e=this._destroyListener)||void 0===e||e.call(this));if(null!=this._destroyListener)return;const t=matchMedia(`(resolution: ${this.getValue()}dppx)`),a=()=>{var e;null===(e=this._destroyListener)||void 0===e||e.call(this);const t=this.getValue();this._subscribers.forEach((e=>{e(t)})),this._updateListener()};t.addListener(a),this._destroyListener=()=>{t.removeListener(a),this._destroyListener=null}}}},96570:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=(0,r.useRef)(!0),l=(0,s.default)((()=>a())),[u,d]=(0,r.useState)((()=>l()));return(0,i.useListener)(e,t,(()=>{d(l())})),(0,r.useEffect)((()=>{o.current?o.current=!1:d(l())}),[e,l,...n]),u};var r=a(67294),i=a(87550),s=n(a(89113))},67662:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.useMemo)((()=>function(e){return t=>{e&&("function"==typeof e?e(t):e.current=t)}}(e)),[e])};var n=a(67294)},44692:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,a]=(0,l.useState)(null),[n,r]=(0,l.useState)(d),i=h(e);return(0,l.useEffect)((()=>{if(t)return c().observe(t,r,e)}),[t,i]),[a,n]};var r=n(a(81109)),i=n(a(51463)),s=n(a(32176)),o=n(a(45095)),l=a(67294);const u={root:null,rootMargin:"0px",threshold:0},d={intersectionRatio:0,isIntersecting:!1};const c=(0,i.default)((()=>new f));class f{constructor(){this._observers=new Map,this._getObserver=e=>{const t=h(e);if(!this._observers.has(t)){const a=new Map,n=new IntersectionObserver((e=>{for(const t of e){const e=a.get(t.target),{intersectionRatio:n,isIntersecting:r}=t;null==e||e({intersectionRatio:n,isIntersecting:r})}}),e);this._observers.set(t,{observer:n,callbacks:a})}return(0,o.default)(this._observers.get(t),"this._observers.get(key)")},this._cleanup=e=>{const t=h(e);this._observers.delete(t)},this.observe=(e,t,a)=>{const{observer:n,callbacks:r}=this._getObserver(a);if(r.has(e))throw new Error("You can't observe the same element twice.");return r.set(e,t),n.observe(e),()=>{n.unobserve(e),r.delete(e),0===r.size&&(n.disconnect(),this._cleanup(a))}}}}function h(e){const{root:t,rootMargin:a,threshold:n}=(0,r.default)((0,r.default)({},u),e);return[t,a,n].map((e=>(0,s.default)(e))).join("-")}},48711:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,n.useState)(null),[a,s]=(0,n.useState)(i);return(0,n.useLayoutEffect)((()=>{if(e)return(0,r.observe)(e,s)}),[e]),[t,a]};var n=a(67294),r=a(91665);const i={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0}},35461:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StateHookMissingModelError=void 0,t.useModelValues=function(e,t,a){if(null==e)throw __LOG__(4,void 0,new Error,!0)`useModelValues hook received an unexpected \`null\` model`,SEND_LOGS("state-hook-null-model"),new u("Unknown");const n=d(e,t,a);return(0,i.default)(n,"values")},t.useOptionalModelValues=d;var r=a(40265),i=n(a(45095)),s=a(67294),o=n(a(87541)),l=a(18146);class u extends((0,r.customError)("StateHookMissingModelError")){constructor(e){super(`Received a null value for model key: ${e}`)}}function d(e,t,a){const{isStrong:n=!0,componentName:r}=null!=a?a:{},i=e?(0,l.unproxy)(e):null,u=(0,s.useRef)();function d(){if(null==u.current){if(!i)return null;u.current=new o.default(null!=r?r:"Hook(useModelValues)",i.proxyName,t,n,!0)}return u.current}const[c,f]=(0,s.useState)((()=>{const e=d();if(!e)return null;const t=e.getModelAndValidate(i);return t?e.createProxy(t):null})),h=(0,s.useCallback)(((e,t)=>{const a=e.getModelAndValidate(t);f(a?e.createProxy(a):null)}),[]);(0,s.useEffect)((()=>{const e=d();if(!e||!c)return;const t=e.getModel(i);return e.attachConcern(t,c.proxyBitMask,h),()=>{e.detachConcern(t,h)}}),[i,c,h]);const[p,m]=(0,s.useState)(i),g=d();if(p!==i&&g){p&&g.detachConcern(p,h);const e=g.getModelAndValidate(i);m(e),f(e?g.createProxy(e):null)}return c}t.StateHookMissingModelError=u},59732:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,r.useState)((()=>(0,n.shouldShowNUX)(e)));(0,r.useEffect)((()=>{null==(0,n.getNUX)(e)&&((0,n.setNUX)(e,{views:0}),a((0,n.shouldShowNUX)(e)),n.NuxPrefsEvent.handleNuxChange(e))}),[e]);const o=(0,r.useCallback)((()=>{(0,s.viewNux)(e),a((0,n.shouldShowNUX)(e)),n.NuxPrefsEvent.handleNuxChange(e)}),[e]);return(0,i.useListener)(n.NuxPrefsEvent,e,(()=>{a((0,n.shouldShowNUX)(e))})),[t,o,()=>{(0,s.dismissNux)(e),a((0,n.shouldShowNUX)(e)),n.NuxPrefsEvent.handleNuxChange(e)}]};var n=a(74315),r=a(67294),i=a(87550),s=a(67774)},828:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useRef)(null),a=(0,u.default)(),n=(0,l.default)(e.onMount),d=(0,l.default)(e.onBeforePaint),c=(0,l.default)(e.onAfterPaint),f=(0,l.default)(e.onUnmount),h=(0,l.default)(e.onError);(0,o.useEffect)((()=>(n(),t.current=requestAnimationFrame((()=>{t.current=null,d()})),(0,s.documentFlushed)({signal:a}).then((()=>{a.aborted||c()})).catch((0,i.filteredCatch)(r.AbortError,h)),()=>{null!=t.current&&cancelAnimationFrame(t.current),f()})),[n,d,c,f,h,a])};var r=a(89385),i=a(50796),s=a(98159),o=a(67294),l=n(a(89113)),u=n(a(3409))},1776:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetStateHookMissingModelPropertyError=void 0,t.useSetModelValue=function(e,t){const a=(0,r.unproxy)(e),o=a.proxyName;null==s[o]&&(s[o]=new Set([...a.__props,...a.__session]));if(!s[o].has(t))throw new i(e.proxyName,t);return(0,n.useCallback)((e=>{if("function"==typeof e){const n=a.get(t);a.set(t,e(n))}else a.set(t,e)}),[t,a])};var n=a(67294),r=a(18146);class i extends Error{constructor(e,t){super(`The model "${e}" has no property/sessions "${t}" defined`),this.name="SetStateHookMissingModelPropertyError"}}t.SetStateHookMissingModelPropertyError=i;const s={}},90886:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){const n=(0,s.default)(e),{leading:o,trailing:l}=null!=a?a:{},u=(0,i.useMemo)((()=>(0,r.default)(n,t,a)),[t,o,l,n]);return(0,i.useEffect)((()=>u.cancel),[u]),u};var r=n(a(23493)),i=a(67294),s=n(a(89113))},74570:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e]=(0,l.useAddListenerOnce)(),t=(0,u.default)();return(0,o.useCallback)((a=>{i.Cmd.uiBusy?e(i.Cmd,"ui_idle",a):(0,s.documentFlushed)({signal:t}).then((()=>{a()})).catch((0,r.catchAbort)((()=>{})))}),[e,t])};var r=a(89385),i=a(81572),s=a(98159),o=a(67294),l=a(87550),u=n(a(3409))},87778:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,n.useState)(r());function a(){t(r())}return(0,n.useEffect)((()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)})),[]),e};var n=a(67294);function r(){return{width:window.innerWidth,height:window.innerHeight}}},40936:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AddContactToGroupFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(14296)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,83192))).default})),"AddContactToGroupFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:s.default.t(826),error:Boolean(e.error)})});t.AddContactToGroupFlowLoadable=c},78457:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ArchivedFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(9488),a.e(7205)]).then(a.bind(a,42237))).default})),"ArchivedFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.ArchivedFlowLoadable=d},30087:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AttachMediaFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,93259))).default})),"AttachMediaFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.AttachMediaFlowLoadable=d},85874:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AttachPollModalLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,9237))).default})),"AttachPollModal");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Poll",null,{hk:"1PlYYp"}),error:Boolean(e.error)})});t.AttachPollModalLoadable=c},7156:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AttachVcardsFlowLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,91037))).default})),"AttachVcardsFlow");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Send contacts",null,{hk:"9ZMyz"}),error:Boolean(e.error)})});t.AttachVcardsFlowLoadable=c},62044:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.AttachProductsFlowLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,97669))).default})),"AttachProductsFlow");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Send products",null,{hk:"3C7pQj"}),error:Boolean(e.error)})});t.AttachProductsFlowLoadable=c},95568:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.CartFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(58267)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,92246))).default})),"CartFlowLoadable");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.CartFlowLoadable=d},87912:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogManagementFlowLoadable=void 0,t.createCatalogManagementFlowObject=b,t.openCatalogManagementFlow=function(e,t){b(((a,n)=>{const r=(0,f.buildProductCatalogContext)(new h.ProductCatalogSession,(0,d.getMaybeBizPlatformForLogging)(a.toString()),t);i.DrawerManager.openDrawerLeft((0,g.jsx)(v,{catalog:n,catalogId:a,product:e}),void 0,void 0,r,m.FocusType.TABBABLE)}))},t.requireBundle=void 0;var r=n(a(48926)),i=a(41455),s=a(78820),o=a(48360),l=n(a(68356)),u=a(99989),d=a(62632),c=n(a(16866)),f=a(97567),h=a(9153),p=n(a(15334)),m=a(87956),g=a(85893);const _=(0,p.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,86704))).default})),"CatalogManagementFlow");t.requireBundle=_;const v=(0,l.default)({loader:_,loading:e=>(0,g.jsx)(c.default,{title:o.fbt._("Catalog",null,{hk:"3QDkTE"}),error:Boolean(e.error)})});function b(e){const t=(0,s.getMeUser)(),a=u.CatalogCollection.get(t);null==a?u.CatalogCollection.find(t).then((a=>{e(t,a)})).catch((()=>{e(t)})):(a.stale=!0,a.markProductCollectionOld(),e(t,a))}t.CatalogManagementFlowLoadable=v},90878:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.LabelFlowLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(16866)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,77467))).default})),"LabelFlow");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Labels",null,{hk:"t1hII"}),error:Boolean(e.error)})});t.LabelFlowLoadable=c},47809:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ManageLabelFlowLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,51095))).default})),"ManageLabelFlow");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Label items",null,{hk:"2xOVMD"}),error:Boolean(e.error)})});t.ManageLabelFlowLoadable=c},28629:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.MerchantDetailsFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(9488),a.e(7205)]).then(a.bind(a,90727))).default})),"MerchantDetails");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.MerchantDetailsFlowLoadable=d},67700:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(2790),a.e(3770)]).then(a.bind(a,63770))).default})),"OrderCreationFlow");var d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.default=d},17085:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,62643))).default})),"OrderManagementFlow");var d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.default=d},67455:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ProductDetailsFlowLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(16866)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,82554))).default})),"ProductDetailsFlow");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Details",null,{hk:"1hLRT1"}),error:Boolean(e.error)})});t.ProductDetailsFlowLoadable=c},54712:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendProductModalLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,66123))).default})),"SendProductModal");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Send message to",null,{hk:"2kkuQs"}),error:Boolean(e.error)})});t.SendProductModalLoadable=c},71989:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.CaptureFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,74671))).default})),"CaptureFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.CaptureFlowLoadable=d},81178:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.CommunityTabFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,94070))).default})),"CommunityTabFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.CommunityTabFlowLoadable=d},56512:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ComposeBoxPanelsLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(49575)),o=n(a(15334)),l=n(a(60425)),u=a(85893);const d=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(9488),a.e(7205)]).then(a.bind(a,60425))).default})),"ComposeBoxPanels");t.requireBundle=d;(0,i.default)({loader:d,loading:e=>(0,u.jsx)(s.default,{error:Boolean(e.error)})});const c=l.default;t.ComposeBoxPanelsLoadable=c},63463:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ContactMsgInfoFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(14296)),o=n(a(16866)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,87971))).default})),"ContactMsgInfoFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:s.default.t(510),error:Boolean(e.error)})});t.ContactMsgInfoFlowLoadable=c},24390:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ContactUsModalLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(14296)),l=n(a(81791)),u=n(a(15334)),d=a(85893);const c=(0,u.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,42769))).default})),"ContactUsModal");t.requireBundle=c;const f=(0,s.default)({loader:c,loading:e=>(0,d.jsx)(l.default,{title:i.fbt._("Contact us",null,{hk:"1FJ2cU"}),okText:o.default.t(645),error:Boolean(e.error)})});t.ContactUsModalLoadable=f},70174:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.EditCaptureFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,53135))).default})),"EditCaptureFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.EditCaptureFlowLoadable=d},75362:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ForwardMessageFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(14296)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,22587))).default})),"ForwardMessageFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:s.default.t(369,{_plural:1}),error:Boolean(e.error)})});t.ForwardMessageFlowLoadable=c},88280:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.GroupInviteLinkDrawerLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(16866)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,61703))).default})),"GroupInviteLinkDrawer");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Invite to group via link",null,{hk:"3vDtFL"}),error:Boolean(e.error)})});t.GroupInviteLinkDrawerLoadable=c},64326:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.GroupMsgInfoFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,85916))).default})),"GroupMsgInfoFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.GroupMsgInfoFlowLoadable=d},18685:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.GroupV4InviteFlowLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(81791)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,7335))).default})),"GroupV4InviteFlow");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{okText:i.fbt._("Invite to group",null,{hk:"FbMSO"}),error:Boolean(e.error)})});t.GroupV4InviteFlowLoadable=c},23831:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.InfoFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(9488),a.e(7205)]).then(a.bind(a,4782))).default})),"InfoFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.InfoFlowLoadable=d},88240:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.LicensesPopupLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(81791)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,87027))).default})),"LicensesPopup");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Licenses",null,{hk:"39PWhp"}),okText:i.fbt._("OK",null,{hk:"2KEeHb"}),error:Boolean(e.error)})});t.LicensesPopupLoadable=c},74429:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.LiveLocationDrawerLoadable=t.ExpiredLocationDrawerLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(16866)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){const e=yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,85905));return{LiveLocationDrawer:e.LiveLocationDrawer,ExpiredLocationDrawer:e.ExpiredLocationDrawer}})),"LiveLocationDrawer");t.requireBundle=d;const c=(0,s.default)({loader:(f=(0,r.default)((function*(){return(yield d()).LiveLocationDrawer})),function(){return f.apply(this,arguments)}),loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Live Location",null,{hk:"1LvIwY"}),error:Boolean(e.error)})});var f;t.LiveLocationDrawerLoadable=c;const h=(0,s.default)({loader:(p=(0,r.default)((function*(){return(yield d()).ExpiredLocationDrawer})),function(){return p.apply(this,arguments)}),loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Expired Location",null,{hk:"2bVGaN"}),error:Boolean(e.error),retry:e.retry})});var p;t.ExpiredLocationDrawerLoadable=h},67019:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requireVoipCommonDisabled=t.requireVoip=t.requireStickerPackCollection=t.requireStatusV3Collection=t.requireSetHandlers=t.requireMsgCollection=t.requireMain=t.requireLoadProtoVersions=t.requireLabelCollection=t.requireHandleVideoStreamingRequest=t.requireHandleSocketMessage=t.requireEmojiConfig=t.requireEmojiAssetMapCreator=t.requireContactCollection=t.requireClearAppStates=t.requireChatCollection=t.requireCallCollection=void 0;t.requireMain=()=>a(73481).Z;t.requireContactCollection=()=>a(19380).ContactCollection;t.requireLoadProtoVersions=()=>({features:a(76342).Z,17:a(90826).Z});t.requireHandleSocketMessage=()=>a(67938).default;t.requireEmojiConfig=()=>({APPLE:{UNICODE_TO_EMOJI:a(73743).Z,SELECTOR:"apple"},WHATSAPP:{UNICODE_TO_EMOJI:a(15848).Z,SELECTOR:"wa"}});t.requireEmojiAssetMapCreator=()=>a(14315).emojiAssetMapCreator;t.requireStatusV3Collection=()=>a(59387).StatusV3Collection;t.requireClearAppStates=()=>a(4641).Z;t.requireHandleVideoStreamingRequest=()=>a(70437).handleVideoStreamingRequest;t.requireLabelCollection=()=>a(16770).LabelCollection;t.requireChatCollection=()=>a(69951).ChatCollection;t.requireMsgCollection=()=>a(59871).MsgCollection;t.requireStickerPackCollection=()=>a(66299).StickerPackCollection;t.requireCallCollection=()=>a(60868).CallCollection;t.requireVoip=()=>a(84356).Voip;t.requireVoipCommonDisabled=()=>a(61748);t.requireSetHandlers=()=>a(3155).y},58267:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)("div",{children:(0,i.jsx)(r.default,{error:e.error})})};var r=n(a(2875)),i=a(85893)},2875:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{error:t,text:a=r.fbt._("There was an unexpected error, please click to reload the application.",null,{hk:"3olAtj"}),retry:n=(()=>window.location.reload())}=e;return(0,l.jsx)("div",{className:s.default.container,onClick:t?n:null,children:t?(0,l.jsx)(u,{text:a}):(0,l.jsx)(i.Loading,{})})};var r=a(48360),i=a(85600),s=n(a(25879)),o=n(a(23217)),l=a(85893);function u(e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:s.default.circle,children:(0,l.jsx)(o.default,{name:"live-location-refresh"})}),(0,l.jsx)("div",{className:s.default.text,children:e.text})]})}},49575:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)({[l.default.panelBodyError]:e.error},l.default.panelBody);return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:s.default.container}),(0,c.jsxs)("div",{className:l.default.gifPanel,children:[(0,c.jsx)("div",{className:d.default.barContainer}),(0,c.jsx)("div",{className:l.default.bodyContainer,children:(0,c.jsx)("div",{className:t,children:(0,c.jsx)("div",{className:o.default.noResults,children:(0,c.jsx)(u.default,(0,r.default)({},e))})})})]})]})};var r=n(a(81109)),i=n(a(94184)),s=n(a(64827)),o=n(a(1659)),l=n(a(91258)),u=n(a(2875)),d=n(a(50320)),c=a(85893)},81791:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(i.default,{title:e.title,onOK:()=>{},okText:e.okText,okDisabled:!0,onCancel:()=>r.ModalManager.close(),children:(0,l.jsx)("div",{className:o.default.container,children:(0,l.jsx)(s.default,{error:e.error})})})};var r=a(14597),i=n(a(52665)),s=n(a(2875)),o=n(a(86690)),l=a(85893)},16866:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{title:t,headerType:a=u.DRAWER_HEADER_TYPE.SMALL}=e,n=(0,i.default)(e,f),h=(0,s.default)();return(0,c.jsxs)(o.default,{children:[(0,c.jsx)(u.DrawerHeader,{title:t,type:a,onCancel:()=>{null==h||h.requestDismiss()}}),(0,c.jsx)(l.default,{children:(0,c.jsx)(d.default,(0,r.default)({},n))})]})};var r=n(a(81109)),i=n(a(6479)),s=n(a(95402)),o=n(a(60453)),l=n(a(69637)),u=a(94790),d=n(a(2875)),c=a(85893);const f=["title","headerType"]},92350:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,i.default)("overlay",u.default.mediaViewer),a=()=>r.ModalManager.closeMedia();return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:t,"data-animate-media-viewer":!0,children:[(0,f.jsxs)("div",{className:l.default.mediaPanelHeader,children:[(0,f.jsx)("div",{className:l.default.info}),(0,f.jsx)("div",{className:l.default.mediaPanelTools,children:(0,f.jsx)(d.MenuBar,{theme:"strong",children:(0,f.jsx)(d.MenuBarItem,{a8nText:"btn-close",icon:(0,f.jsx)(c.default,{name:"x-viewer"}),title:s.fbt._("Close",null,{hk:"19Jpec"}),onClick:a})},"media-panel-header")})]}),(0,f.jsx)("div",{className:u.default.mediaContent,dir:"ltr",onClick:a,children:(0,f.jsx)("div",{className:u.default.media,children:(0,f.jsx)(o.default,{error:e.error})})})]})})};var r=a(14597),i=n(a(94184)),s=a(48360),o=n(a(2875)),l=n(a(77375)),u=n(a(80674)),d=a(46346),c=n(a(23217)),f=a(85893)},50860:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)(o.Modal,{type:o.ModalTheme.Tower,children:(0,l.jsx)(s.default,(0,r.default)({headerType:i.DRAWER_HEADER_TYPE.POPUP},e))})};var r=n(a(81109)),i=a(94790),s=n(a(16866)),o=a(57224),l=a(85893)},77148:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,l.jsx)("div",{className:s.default.container,children:(0,l.jsxs)("div",{className:s.default.body,dir:"ltr",children:[(0,l.jsx)("div",{className:s.default.imageContainer,children:(0,l.jsx)("div",{className:s.default.defaultIcon,children:(0,l.jsx)(o.default,{name:e.svgName})})}),e.error?(0,l.jsx)(i.LazyLoadRetry,{xstyle:u.lazyLoadRetry,onClick:e.retry}):(0,l.jsx)(r.default,{})]})})};n(a(56720));var r=n(a(46918)),i=a(85600),s=n(a(40134)),o=n(a(23217)),l=a(85893);const u={lazyLoadRetry:{position:"lhggkp7q",top:"qq0sjtgm",left:"tukmaf4q",zIndex:"g2bpp9au",display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ppled2lx",color:"k17s6i4e",backgroundColor:"epdck8xl",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"}}},19572:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{error:t,text:a,retry:n}=e,c=(0,i.default)(o.default.closeButton,l.default.v3X,{}),f=(0,i.default)(o.default.closeButton,l.default.backIcon,{}),h=()=>r.ModalManager.closeMedia();return(0,d.jsxs)("div",{className:l.default.viewer,"data-animate-status-v3-viewer":!0,children:[(0,d.jsx)("button",{className:c,onClick:h,children:(0,d.jsx)(u.default,{name:"x-viewer"})}),(0,d.jsx)("button",{className:f,onClick:h,children:(0,d.jsx)(u.default,{name:"back",directional:!0})}),(0,d.jsx)(s.default,{error:t,text:a,retry:n})]})};var r=a(14597),i=n(a(94184)),s=n(a(2875)),o=n(a(69872)),l=n(a(7497)),u=n(a(23217)),d=a(85893)},20910:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.default)(u.default.closeButton,c.default.v3_x,{});return(0,p.jsx)("div",{className:c.default.modalBackground,"data-animate-status-v3-modal-background":!0,children:(0,p.jsxs)("div",{className:c.default.mainWrapper,children:[(0,p.jsx)("div",{className:d.default.listPanel,children:(0,p.jsxs)("div",{className:d.default.panelHeader,children:[(0,p.jsx)("div",{className:d.default.headerButtonsPrimary}),(0,p.jsx)("div",{className:d.default.headerText,children:(0,p.jsx)("span",{className:d.default.primaryHeaderText,children:o.fbt._("My Status",null,{hk:"225G1q"})})}),(0,p.jsx)("div",{className:d.default.headerButtonsSecondary})]})}),(0,p.jsx)("div",{className:f.default.outStatusPanel,children:(0,p.jsx)(l.default,(0,r.default)({},e))}),(0,p.jsx)("button",{className:t,onClick:()=>i.ModalManager.closeMedia(),children:(0,p.jsx)(h.default,{name:"x-viewer"})})]})})};var r=n(a(81109)),i=a(14597),s=n(a(94184)),o=a(48360),l=(n(a(14296)),n(a(2875))),u=n(a(69872)),d=n(a(26185)),c=n(a(18442)),f=n(a(89683)),h=n(a(23217)),p=a(85893)},47645:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.LottieAnimation=void 0;var r=n(a(68356)),i=n(a(2875)),s=n(a(15334)),o=a(85893);const l=(0,s.default)((()=>Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,60195)).then((e=>e.default))),"LottieAnimation");t.requireBundle=l;const u=(0,r.default)({loader:l,loading:e=>(0,o.jsx)(i.default,{error:Boolean(e.error)})});t.LottieAnimation=u},94205:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ManageCommunityGroupsFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,37926))).default})),"ManageCommunityGroupsFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.ManageCommunityGroupsFlowLoadable=d},11603:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.MediaViewerFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(92350)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(9488),a.e(7205)]).then(a.bind(a,12642))).default})),"MediaViewerFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.MediaViewerFlowLoadable=d},92507:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.NewChatFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,3884))).default})),"NewChatFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.NewChatFlowLoadable=d},23620:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.NewCommunityFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,81971))).default})),"NewCommunityFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.NewCommunityFlowLoadable=d},26489:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.NewGroupFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,66960))).default})),"NewGroupFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.NewGroupFlowLoadable=d},33646:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoPickerLoadable=function(e){switch(e.type){case l.default.GROUP:case l.default.DEFAULT_ANNOUNCEMENT_GROUP:return(0,d.jsx)(h,(0,r.default)((0,r.default)({},e),{},{a8nText:"group-pic-picker"}));case l.default.COMMUNITY:return(0,d.jsx)(p,(0,r.default)((0,r.default)({},e),{},{a8nText:"community-pic-picker"}));case l.default.PROFILE:return(0,d.jsx)(f,(0,r.default)((0,r.default)({},e),{},{a8nText:"profile-pic-picker"}))}},t.requireBundle=void 0;var r=n(a(81109)),i=n(a(48926)),s=n(a(68356)),o=n(a(77148)),l=n(a(43556)),u=n(a(15334)),d=a(85893);const c=(0,u.default)((0,i.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,82541))).default})),"PhotoPicker");t.requireBundle=c;const f=(0,s.default)({loader:c,loading:e=>(0,d.jsx)(o.default,{svgName:"default-user",error:Boolean(e.error),retry:e.retry})}),h=(0,s.default)({loader:c,loading:e=>(0,d.jsx)(o.default,{svgName:"default-group",error:Boolean(e.error),retry:e.retry})}),p=(0,s.default)({loader:c,loading:e=>(0,d.jsx)(o.default,{svgName:"default-group",error:Boolean(e.error),retry:e.retry})})},46588:(e,t,a)=>{"use strict";var n=a(95318);t.Z=function(){return U.apply(this,arguments)};var r=n(a(48926)),i=a(8139),s=a(40936),o=a(78457),l=a(30087),u=a(62044),d=a(7156),c=a(71989),f=a(95568),h=a(81178),p=a(63463),m=a(70174),g=a(75362),_=a(88280),v=a(64326),b=a(18685),y=a(23831),C=a(90878),S=a(74429),E=a(47645),T=a(94205),x=a(47809),M=a(11603),k=a(92507),w=a(23620),P=a(26489),A=a(33646),j=a(67455),I=a(77117),O=a(98633),N=a(11234),R=a(66040),D=a(49824),L=a(54712),B=a(45383),F=a(82364),G=a(78781);function U(){return(U=(0,r.default)((function*(){try{const e=[(0,M.requireBundle)(),(0,y.requireBundle)()];yield Promise.all(e);const t=[(0,I.requireBundle)(),(0,A.requireBundle)(),(0,S.requireBundle)(),(0,F.requireBundle)(),(0,l.requireBundle)(),(0,c.requireBundle)(),(0,m.requireBundle)(),(0,v.requireBundle)(),(0,k.requireBundle)(),(0,P.requireBundle)(),(0,w.requireBundle)(),(0,L.requireBundle)(),(0,u.requireBundle)(),(0,N.requireBundle)(),(0,D.requireBundle)(),(0,g.requireBundle)(),(0,d.requireBundle)(),(0,j.requireBundle)(),(0,f.requireBundle)(),(0,C.requireBundle)(),(0,x.requireBundle)(),(0,s.requireBundle)(),(0,B.requireBundle)(),(0,_.requireBundle)(),(0,G.requireBundle)(),(0,O.requireBundle)(),(0,p.requireBundle)(),(0,R.requireBundle)(),(0,b.requireBundle)(),(0,o.requireBundle)(),(0,E.requireBundle)()];(0,i.communitiesEnabled)()&&t.push((0,T.requireBundle)(),(0,h.requireBundle)()),yield Promise.all(t)}catch(e){__LOG__(3)`Error prefetching loadables: ${e.stack}`}}))).apply(this,arguments)}},77117:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.ProfileDrawerFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,30579))).default})),"ProfileDrawer");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.ProfileDrawerFlowLoadable=d},15334:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=function(e){return(t,a)=>{__LOG__(3)`Loadable error: ${t.stack}`;const n=a>1?"s":"";__LOG__(4,void 0,new Error,!0)`Failed to load a component`,SEND_LOGS(`loadable:${e} failed to load after [${a}] attempt${n}`)}}(t);let n,o="INIT",l=0;return function u(){switch(o){case"INIT":case"FAILURE":return o="INFLIGHT",n=e().then((e=>(e||a(new Error("Lazyload response is empty"),l),o="SUCCESS",e))).catch(function(){var e=(0,r.default)((function*(e){if(__LOG__(3)`Lazyload failure for component ${t}`,o="FAILURE",l++,l<=10)return yield(0,s.delayMs)(1e3*l),u();throw a(e,l),e}));return function(){return e.apply(this,arguments)}}()),n;case"INFLIGHT":case"SUCCESS":return(0,i.default)(n,"inflightPromise");default:return Promise.reject(new Error("retriable_promise_hoc:promiseStatus is invalid"))}}};var r=n(a(48926)),i=n(a(45095)),s=a(13959)},11234:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendGroupInviteFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(14296)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,89495))).default})),"SendGroupInviteFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:s.default.t(394),error:Boolean(e.error)})});t.SendGroupInviteFlowLoadable=c},66040:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendLogsPopupLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(14296)),o=n(a(81791)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,74943))).default})),"SendLogsPopup");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:s.default.t(654),okText:s.default.t(645),error:Boolean(e.error)})});t.SendLogsPopupLoadable=c},49824:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SendMsgMultiModalLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(50860)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,39524))).default})),"SendMsgMultiModal");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Send message to",null,{hk:"2kkuQs"}),error:Boolean(e.error)})});t.SendMsgMultiModalLoadable=c},45383:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.SettingsFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(14296)),o=n(a(16866)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,77248))).default})),"SettingsFlow");t.requireBundle=d;const c=(0,i.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:s.default.t(659),error:Boolean(e.error)})});t.SettingsFlowLoadable=c},82364:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StarredDrawerLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,53033))).default})),"StarredDrawer");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.StarredDrawerLoadable=d},98633:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.QuotedStatusV3FlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(19572)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,10121))).default})),"QuotedStatusV3Flow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.QuotedStatusV3FlowLoadable=d},78781:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StatusV3FlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(20910)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,540))).default})),"StatusV3Flow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.StatusV3FlowLoadable=d},76626:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.StickerStoreFlowLoadable=void 0;var r=n(a(48926)),i=n(a(68356)),s=n(a(16866)),o=n(a(15334)),l=a(85893);const u=(0,o.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,86245))).default})),"StickerStoreFlow");t.requireBundle=u;const d=(0,i.default)({loader:u,loading:e=>(0,l.jsx)(s.default,{error:Boolean(e.error)})});t.StickerStoreFlowLoadable=d},49376:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.requireBundle=t.VerificationDrawerLoadable=void 0;var r=n(a(48926)),i=a(48360),s=n(a(68356)),o=n(a(16866)),l=n(a(15334)),u=a(85893);const d=(0,l.default)((0,r.default)((function*(){return(yield Promise.all([a.e(8295),a.e(1702),a.e(9488),a.e(2790),a.e(275)]).then(a.bind(a,45925))).default})),"VerificationDrawer");t.requireBundle=d;const c=(0,s.default)({loader:d,loading:e=>(0,u.jsx)(o.default,{title:i.fbt._("Verify Security Code",null,{hk:"1vTVgt"}),error:Boolean(e.error)})});t.VerificationDrawerLoadable=c},14828:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,s.useState)(null),n=()=>{r.ModalManager.close()},d=e.msg.list;if(!d)return null;const f=()=>{t&&((0,m.default)(e.msg,t),n())};let b;t&&(b=(0,_.jsxs)("div",{className:c.default.controlsSummary,children:[t.title,(0,_.jsx)("div",{className:c.default.btnActive,children:(0,_.jsx)(p.Round,{large:!0,onClick:f,children:(0,_.jsx)(g.default,{directional:!0,name:"send"})})})]}));return(0,_.jsx)(h.Modal,{type:h.ModalTheme.Tower,children:(0,_.jsxs)(o.default,{theme:"products",children:[(0,_.jsx)(u.DrawerHeader,{title:d.buttonText,type:u.DRAWER_HEADER_TYPE.POPUP,onCancel:n}),(0,_.jsx)(l.default,{theme:"padding",children:(0,_.jsx)(v,{list:d,onSelect:e=>{a(e)},selected:t})}),(0,_.jsx)(i.default,{transitionName:"slide-up-down-footer",className:c.default.container,children:b})]})})};var r=a(14597),i=n(a(40436)),s=a(67294),o=n(a(60453)),l=n(a(69637)),u=a(94790),d=n(a(33308)),c=n(a(72681)),f=n(a(86506)),h=a(57224),p=a(82857),m=n(a(13164)),g=n(a(23217)),_=a(85893);function v(e){let{list:t,onSelect:a,selected:n}=e;return t.sections.map(((e,t)=>(0,_.jsx)(d.default,{title:e.title,theme:"list-section",shadow:!1,children:e.rows.map(((e,t)=>(0,_.jsx)(f.default,{row:e,onSelect:a.bind(null,e),selected:e===n},t)))},t)))}},86506:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(r.default,{primary:e.row.title,secondary:e.row.description,theme:"list-msg",onClick:e.onSelect,detail:(0,s.jsx)(i.default,{checked:e.selected,hover:!1,radio:!0,onChange:e.onSelect,systemUncheckedColor:!0})})};var r=n(a(44356)),i=n(a(9275)),s=a(85893)},82145:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qplAnnotateCartView=function(e,t){n.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_CART_VIEW,{bool:{IsConsumer:e},int:{ProductsCount:t}})},t.qplAnnotateCatalogView=function(e){n.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_CATALOG_VIEW,{bool:{IsCached:e}})},t.qplAnnotateOrderView=function(e){n.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_ORDER_VIEW,{int:{ProductsCount:e}})},t.qplAnnotateProductView=function(e){n.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_PRODUCT_VIEW,{bool:{IsConsumer:e}})},t.qplAnnotateProfileCatsView=function(e){n.QPL.markerAnnotate(r.QuickLogMarkerId.WHATSAPP_PROFILE_CATS_VIEW,{int:{CategoryCount:e}})},t.qplDropCatalogView=function(){n.QPL.markerDrop(r.QuickLogMarkerId.WHATSAPP_CATALOG_VIEW)},t.qplDropOrderView=function(){n.QPL.markerDrop(r.QuickLogMarkerId.WHATSAPP_ORDER_VIEW)},t.qplDropProductView=function(){n.QPL.markerDrop(r.QuickLogMarkerId.WHATSAPP_PRODUCT_VIEW)},t.qplEndCartView=function(e){n.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_CART_VIEW,e)},t.qplEndCatalogView=function(e){n.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_CATALOG_VIEW,e)},t.qplEndOrderCreate=function(e){n.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_ORDER_CREATE,e)},t.qplEndOrderView=function(e){n.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_ORDER_VIEW,e)},t.qplEndProductView=function(e){n.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_PRODUCT_VIEW,e)},t.qplEndProfileCatsView=function(e){n.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_PROFILE_CATS_VIEW,e)},t.qplEndProfileSave=function(e){n.QPL.markerEnd(r.QuickLogMarkerId.WHATSAPP_PROFILE_SAVE,e)},t.qplStartCartView=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_CART_VIEW,{annotations:{string:{EntryPoint:e}}})},t.qplStartCatalogView=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_CATALOG_VIEW,{annotations:{string:{EntryPoint:e}}})},t.qplStartCollectionViewAll=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_COLLECTION_VIEW_ALL,{annotations:{string:{EntryPoint:e}}})},t.qplStartOrderCreate=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_ORDER_CREATE,{annotations:{int:{ProductsCount:e}}})},t.qplStartProductView=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_PRODUCT_VIEW,{annotations:{string:{EntryPoint:e}}})},t.qplStartProfileCatsView=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_PROFILE_CATS_VIEW,{annotations:{string:{EntryPoint:e}}})},t.qplStartProfileSave=function(e){n.QPL.markerStart(r.QuickLogMarkerId.WHATSAPP_PROFILE_SAVE,{annotations:{string:{Field:e}}})};var n=a(48870),r=a(27798)},52805:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MainComponent=function(e){const{animate:t}=e,a=(0,x.useContext)(re.ThemeContext),r=(0,x.useRef)(null),f=(0,x.useRef)(null),p=(0,x.useRef)(null),j=(0,x.useRef)(null),Y=(0,x.useRef)(null),Ce=(0,x.useRef)(!1),Se=(0,x.useRef)(null),Ee=(0,x.useRef)(null),Te=(0,M.default)((()=>new c.ShiftTimer((()=>{if(document.activeElement!==document.body)return;const e=ue.UIM.Manager.getTop();null==e||e.requestFocus()})))),[xe,Me]=(0,x.useState)(!1),[ke,we]=(0,x.useState)(!1),[Pe,Ae]=(0,x.useState)(D.Conn.isVoipInitialized),je=()=>{var e,t;const a=null===(e=f.current)||void 0===e?void 0:e.getClientWidth();if(null==a)return!1;const n=null===(t=r.current)||void 0===t?void 0:t.clientWidth;return null!=n&&(!!p.current&&p.current.animatePanel(n,a))},Ie=()=>{switch(D.Conn.tos){case 1:case 2:v.ModalManager.open((0,ve.jsx)(oe.default,{}),{blockClose:!0});break;case 3:__LOG__(2)`TOS (terms of service) stage number 3, logging out`,he.Socket.logout()}},Oe=()=>{D.Conn.smbTos&&v.ModalManager.open((0,ve.jsx)(ae.default,{}),{blockClose:!0})},Ne=()=>{_.LegacyPhoneFeatures.supportsFeature(_.LegacyPhoneFeatures.F.USER_NOTICE)&&(0,E.isNonZeroNumber)(z.default.noticeId)&&!0===z.default.blocking&&v.ModalManager.open((0,ve.jsx)(de.default,{notice:z.default}),{blockClose:!0})},Re=e=>{let t=e?6e4:0;j.current=new n;const a=j.current.signal;(0,d.promiseLoop)(function(){var e=(0,i.default)((function*(e){try{if(yield(0,u.delayMs)(t),a.aborted)throw new l.AbortError;if(ne.Stream.markUnavailable(3e4),yield new Promise((e=>{Ee.current=e})),a.aborted)throw new l.AbortError;document.hasFocus()&&ne.Stream.markAvailable(),t=6e4}catch(t){if(t.name!==l.ABORT_ERROR)throw t;e()}}));return function(){return e.apply(this,arguments)}}()).finally((()=>{j.current=null}))},De=()=>{Y.current=h.default.setLocalTimeout((()=>{(0,X.queryServerProps)(),De()}),(0,T.default)().add(1,"days").valueOf())};(0,x.useEffect)((()=>{ne.Stream.uiActive=!0,ne.Stream.markAvailable();const{platform:e}=D.Conn;if((0,te.default)((0,F.getEmojiTypeFromPlatform)(e)),A.AssetLoader.setPlatform(e),V.default.menuBatchRenderWith((()=>{V.default.trigger(`${U.default.Event}:${U.default.Events.LOGGED_IN}`)})),Re(!0),De(),D.Conn.isSMB&&Oe(),Ie(),Ne(),b.UA.isSafari&&!G.default&&(0,C.shouldShowNUX)($.NUX.SAFARI_LIMITED_SUPPORT)&&(setTimeout((()=>{v.ModalManager.open((0,ve.jsx)(R.default,{onOK:()=>v.ModalManager.close(),okText:W.default.t(582),children:(0,ve.jsx)(J.SafariLimitedText,{})}))}),250),(0,C.setNUX)($.NUX.SAFARI_LIMITED_SUPPORT,{views:1})),Se.current=null==ye?void 0:ye.whenLessThan(1,((e,t)=>{new q.default.WebcUiFreeze({webcUiFreezeFps:e,webcUiFreezeT:(0,s.default)(t,0)}).commit(),__LOG__(2)`Low FPS Tracker: ${(0,s.default)(e,2)}fps, ${(0,s.default)(t,3)/1e3}s since page open.`})),me.default.supported){const e=navigator.serviceWorker;(null==e?void 0:e.controller)&&_e.default.request(e.controller,ge.default.PRELOAD_LAZY_LOADED_BUNDLES).catch((()=>{}))}if(Z.ServerProps.wallpapersV2){const e=O.default.get(I.DEFAULT_PREFERENCE);if(e&&fe.DEFAULT_CHAT_WALLPAPER!==e.wallpaperColor){const t=a.theme;if(!(0,fe.colorExistsInTheme)(e.wallpaperColor,t)){const a="light"===t?"dark":"light";if((0,fe.colorExistsInTheme)(e.wallpaperColor,a)){const t=(0,fe.toggleWallpaperColor)(e.wallpaperColor,a);e.set("wallpaperColor",t)}}}}}),[]),(0,w.default)((()=>{var e,t;Te.current.cancel(),V.default.menuBatchRenderWith((()=>{V.default.trigger(`${U.default.Event}:${U.default.Events.LOGGED_OUT}`)})),y.default.canMuckHistory()&&window.history.back(),ne.Stream.uiActive=!1,null===(t=j.current)||void 0===t||t.abort(),h.default.clearTimeout(Y.current),null===(e=Se.current)||void 0===e||e.call(Se)}));const Le=y.default.canMuckHistory();Le&&window.history.pushState({},"",window.location.href);(0,k.useListener)(Le?window:null,"popstate",be),(0,k.useListener)(D.Conn,"change:isVoipInitialized",(()=>{Ae(D.Conn.isVoipInitialized)})),(0,k.useListener)(D.Conn,"change:tos",Ie),(0,k.useListener)(D.Conn.isSMB?D.Conn:null,"change:smbTos",Oe),(0,k.useListener)(z.default,["change:blocking","change:noticeId"],Ne);(0,k.useListener)(null,"keydown",(e=>{if(e.ctrlKey&&!e.altKey&&!e.metaKey&&!e.shiftKey&&e.keyCode===o.default.EQUAL_SIGN){const e=ContentSettings.get();e.textsize<3&&(e.textsize=e.textsize+1),ContentSettings.set(e)}}));const Be=()=>{var e;null===(e=Ee.current)||void 0===e||e.call(Ee),Ee.current=null};(0,k.useListener)(document,["mousemouse","scroll","keydown"],Be),(0,k.useListener)(window,["focus","resize"],Be);const Fe=(0,S.default)(H.default.app,{three:xe,two:!xe,"app-animating":ke,[H.default.noAnimation]:!t});let Ge=(0,ve.jsx)(ce.default,{});return(0,ve.jsx)(le.UIE,{uimState:ue.UIMState.INACTIVE,displayName:"Main",children:(0,ve.jsxs)(se.default,{className:Fe,onBlur:()=>{Te.current.debounce(10)},ref:r,onShowKeyboardShortcuts:e=>{let{target:t}=e;for(let e=0;e<5;e++){if((a=t)&&a.getAttribute("contentEditable")||a instanceof HTMLInputElement)return;t=t.parentNode}var a;v.ModalManager.open((0,ve.jsx)(pe.default,{})),e.preventDefault()},skipNode:e=>{let t=!1;return g.DrawerManager.existsDrawerLeft((a=>{const n=f.current;t=t||a&&Boolean(null==n?void 0:n.containsDOMNode(e))})),g.DrawerManager.existsDrawerMid((a=>{const n=p.current;t=t||a&&Boolean(null==n?void 0:n.containsDOMNode(e))})),t},children:[(0,ve.jsx)(K.default,{}),(0,ve.jsx)(P.default,{}),(0,ve.jsx)(Q.PiPManager,{}),(0,ve.jsx)(ie.default,{}),Ge,undefined,(0,ve.jsxs)("div",{className:H.default.drawerManager,children:[(0,ve.jsx)("div",{className:(0,S.default)(H.default.pane,H.default.paneOne),"data-testid":"drawer-left",children:(0,ve.jsx)(B.DrawerManagerComponent,{direction:B.Dir.LEFT})}),(0,ve.jsx)("div",{className:(0,S.default)(H.default.pane,H.default.paneTwo),"data-testid":"drawer-middle",children:(0,ve.jsx)(B.DrawerManagerComponent,{direction:B.Dir.MID})}),(0,ve.jsx)("div",{className:(0,S.default)(H.default.pane,H.default.paneThree),"data-testid":"drawer-right",children:(0,ve.jsx)(B.DrawerManagerComponent,{direction:B.Dir.RIGHT,onDrawerIn:()=>{Ce.current=!1,m.Cmd.onPanesWillChange(3),Me(!0),we(!0),m.Cmd.onPanesDidChange(3),je()},onDrawerOut:()=>{Ce.current=!0,we(!0);je()&&(m.Cmd.onPanesWillChange(2),Me(!1),m.Cmd.onPanesDidChange(2))},onDrawerAnimationComplete:()=>{we(!1),xe&&Ce.current&&Me(!1)}})})]}),(0,ve.jsx)("div",{className:(0,S.default)(H.default.pane,H.default.paneOne),children:(0,ve.jsx)(N.default,{ref:f,settings:ee.default})}),(0,ve.jsx)("div",{className:(0,S.default)(H.default.pane,H.default.paneTwo),children:(0,ve.jsx)(L.default,{animate:t,ref:p})}),!1]})})},t.hasPending=function(){if((0,p.isLegacyWebdBackend)()&&!D.Conn.connected)return!1;const e=a(29250).hasText,t=Y.MsgCollection.some((e=>e.ack===f.ACK.CLOCK&&e.local&&e.isSentByMe)),n=j.ChatCollection.some((e=>!!e.composeContents.text));return t||n||e()};var i=r(a(48926)),s=r(a(59854)),o=r(a(57538)),l=a(89385),u=a(13959),d=a(4352),c=a(57319),f=a(35470),h=r(a(85074)),p=a(88555),m=(a(10206),a(81572)),g=a(41455),_=a(38184),v=a(14597),b=a(26741),y=r(a(76139)),C=a(74315),S=r(a(94184)),E=a(29984),T=r(a(30381)),x=a(67294),M=r(a(16223)),k=a(87550),w=r(a(55010)),P=r(a(22402)),A=a(89721),j=a(69951),I=a(33929),O=r(a(66034)),N=r(a(47488)),R=r(a(52665)),D=a(17239),L=r(a(83001)),B=a(53277),F=a(14315),G=r(a(56624)),U=r(a(81021)),V=r(a(65134)),W=r(a(14296)),H=r(a(55334)),q=r(a(11339)),Y=a(59871),z=r(a(51783)),K=r(a(77156)),$=a(61653),Q=a(92298),X=a(56018),J=a(20723),Z=a(64551),ee=r(a(68132)),te=r(a(16876)),ae=r(a(68862)),ne=a(8080),re=a(97628),ie=r(a(35166)),se=r(a(33048)),oe=r(a(29811)),le=a(18644),ue=a(89618),de=r(a(26132)),ce=r(a(54937)),fe=a(78123),he=a(65044),pe=r(a(57302)),me=r(a(92658)),ge=r(a(64237)),_e=r(a(25613)),ve=a(85893);function be(){window.history.pushState({},"",window.location.href)}const ye=Math.random()<.001?a(99441).I:null},87868:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{legalEntityDetails:t,onSave:a}=e;const[n,E]=(0,s.useState)(null==t?void 0:t.entityType),[T,x]=(0,s.useState)(null==t?void 0:t.entityTypeCustom),[M,k]=(0,s.useState)(null==t?void 0:t.isRegistered);(0,s.useEffect)((()=>{n!==(null==t?void 0:t.entityType)&&(x(""),k(!1))}),[n,null==t?void 0:t.entityType]);const w=(0,s.useCallback)((()=>{r.ModalManager.close(),a(n,T,M)}),[n,T,M,a]),P=(0,s.useCallback)((e=>{E(e.target.value)}),[]),A=(0,s.useCallback)((e=>k(e.target.checked)),[]),j=(0,y.jsx)(S,{value:M,label:i.fbt._("Registered Business",null,{hk:"3N1x9I"}),inputType:"checkbox",xstyle:C.indentedOption,onChange:A,"data-testid":"registered"});return(0,y.jsx)(v.Modal,{type:v.ModalTheme.Box,children:(0,y.jsxs)(f.default,{theme:"settings",children:[(0,y.jsx)(p.DrawerHeader,{title:i.fbt._("Business Type",null,{hk:"48J73B"}),type:p.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>r.ModalManager.close()}),(0,y.jsx)(h.default,{children:(0,y.jsx)("form",{className:(0,o.default)(C.form),children:(0,y.jsxs)("ol",{children:[(0,y.jsx)(S,{id:l.businessTypeOptions.limitedLiabilityPartnership,value:n,label:i.fbt._("Limited liability partnership",null,{hk:"2dwmwU"}),onChange:P,"data-testid":"limited-liability-partnership"}),(0,y.jsx)(S,{id:l.businessTypeOptions.soleProprietorship,value:n,label:i.fbt._("Sole proprietorship",null,{hk:"2N7jks"}),onChange:P,"data-testid":"sole-proprietorship"}),(0,y.jsx)(S,{id:l.businessTypeOptions.partnership,value:n,label:i.fbt._("Partnership",null,{hk:"ZeckL"}),onChange:P,"data-testid":"partnership"}),n===l.businessTypeOptions.partnership&&j,(0,y.jsx)(S,{id:l.businessTypeOptions.publicCompany,value:n,label:i.fbt._("Public Company",null,{hk:"1YuMvC"}),onChange:P,"data-testid":"public-company"}),(0,y.jsx)(S,{id:l.businessTypeOptions.privateCompany,value:n,label:i.fbt._("Private Company",null,{hk:"WL0uU"}),onChange:P,"data-testid":"private-company"}),(0,y.jsx)(S,{id:l.businessTypeOptions.other,value:n,label:i.fbt._("Other",null,{hk:"3zua5D"}),onChange:P,"data-testid":"other"}),n===l.businessTypeOptions.other&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:(0,o.default)(C.indentedOption),"data-testid":"other-input",children:(0,y.jsx)(b.TextInput,{value:T,editable:!0,maxLength:d.COMPLIANCE_INFO_LENGTH.ENTITY_TYPE_CUSTOM,inputPlaceholder:i.fbt._("Label",null,{hk:"3MRMvC"}),showRemaining:!0,onChange:x,theme:"text-input",lowProfile:!0})}),j]})]})})}),(0,y.jsx)(m.FlexRow,{justify:"end",xstyle:C.footer,children:(0,y.jsx)(g.default,{children:(0,y.jsx)(u.default,{type:"primary",onClick:w,disabled:n===l.businessTypeOptions.other&&!(0,c.existsFieldIgnoreHardEnforcement)(T),className:(0,o.default)(C.submitButton),children:_.default.t(622)})})})]})})};var r=a(14597),i=a(48360),s=a(67294),o=n(a(56720)),l=a(93170),u=n(a(39770)),d=a(33049),c=a(83657),f=n(a(60453)),h=n(a(69637)),p=a(94790),m=a(29623),g=n(a(48846)),_=n(a(14296)),v=a(57224),b=a(90011),y=a(85893);const C={inputWrapper:{display:"p357zi0d",alignSelf:"o2es7gts",paddingEnd:"iffbo4e8"},form:{paddingTop:"pxvlsfnc",paddingEnd:"bcymb0na",paddingBottom:"n3bptxsn",paddingStart:"e8k79tju"},label:{display:"f804f6gw",paddingTop:"emrlamx0",paddingEnd:"f9ovudaz",paddingBottom:"aiput80m",paddingStart:"gx1rr48f",fontSize:"fe5nidar"},footer:{paddingTop:"emrlamx0",paddingEnd:"itegkywt",paddingBottom:"aiput80m",paddingStart:"rppts313",backgroundColor:"lkjmyc96",borderTop:"swyb62mu"},submitButton:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},indentedOption:{marginStart:"dl2ettod"},cursorPointer:{cursor:"ajgl1lbb"}};function S(e){let{id:t,value:a,label:n,inputType:r="radio",xstyle:i,onChange:s,"data-testid":l="merchant-details-entity-type-option-popup"}=e;const u=t||n;return(0,y.jsx)("li",{className:(0,o.default)(C.cursorPointer,i),children:(0,y.jsxs)(m.FlexRow,{align:"center",children:[(0,y.jsx)(g.default,{xstyle:C.inputWrapper,children:(0,y.jsx)("input",{id:u,value:u,type:r,name:"entityType",checked:"radio"===r?a===u:a,className:(0,o.default)(C.cursorPointer),onChange:s})}),(0,y.jsx)(g.default,{grow:1,children:(0,y.jsx)("label",{htmlFor:u,className:(0,o.default)(C.label,C.cursorPointer),"data-testid":`${l}-label`,children:n})})]})})}},91468:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(50796),i=n(a(47259)),s=a(51737),o=a(92574),l=n(a(52013)),u=a(41906),d=a(78820),c=a(45454),f=a(67294),h=n(a(3409)),p=a(99989),m=a(64481),g=a(85600),_=a(47915),v=n(a(29796)),b=a(82145),y=n(a(62425)),C=a(48870),S=n(a(60809)),E=a(85893);function T(e,t){const{active:a,selections:n,onSelectionChanged:T,onProductsLoaded:x,flatListController:M}=e,k=(0,h.default)(),w=(0,f.useRef)(null),P=(0,f.useRef)(null),A=()=>{const e=(0,d.getMaybeMeUser)(),t=(0,s.isString)(e)?(0,c.createWid)(e):e;return p.CatalogCollection.get(t)},j=()=>{const e=A();return null!=e?e.productCollection.getProductModels():[]},[I,O]=(0,f.useState)(j),[N,R]=(0,f.useState)(!1),[D,L]=(0,f.useState)((()=>j().length)),[B,F]=(0,f.useState)(!0),[G,U]=(0,f.useState)(!0),V=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=A();if(!t)return;const n=!t.afterCursor||!B;if(e&&(0,b.qplAnnotateCatalogView)(n),n){const a=t.productCollection.getProductModels();O(a),R(!1),F(!1),x&&x(a),e&&(0,b.qplEndCatalogView)(C.QuickLogActionType.SUCCESS)}else R(!0),(0,i.default)(p.CatalogCollection.findNextProductPage(t.id,e),k).then((t=>{const n=t.length;O(t),R(!1),L(n),F(D!==n),x&&x(t),a.init(t),e&&(0,b.qplEndCatalogView)(C.QuickLogActionType.SUCCESS)})).catch((()=>{R(!1),F(!0),e&&(0,b.qplEndCatalogView)(C.QuickLogActionType.FAIL)}))};(0,f.useEffect)((()=>{a.init(I),R(!0),p.CatalogCollection.find((0,d.getMaybeMeUser)()).catch((0,r.filteredCatch)(o.ServerStatusCodeError,(()=>{R(!1),F(!1),U(!1),(0,b.qplDropCatalogView)()}))).then((()=>V(!0)))}),[]);const W=e=>{const t=e.currentTarget,{scrollTop:a,clientHeight:n,scrollHeight:r}=t;r-n-a<u.SCROLL_FUDGE&&!N&&V()},H=(e,t,r)=>{n.setVal(e,t,r),a.setVal(e,r),T&&T(e,t)},q=e=>{const t=n.isSelected(e);H(e,!t,!1)},Y=e=>{if(0===I.length)return;const t=I[0],a=!n.isSelected(t);H(t,a,e)},z=()=>{w.current&&l.default.focus(w.current)};return(0,f.useImperativeHandle)(t,(()=>({focus:z,toggleFirst:Y,updateForScrollEvent:W}))),(0,E.jsxs)(y.default,{active:e.active,onEnter:e=>{e.stopPropagation(),e.preventDefault(),a.value&&q(a.value)},onLeave:e.onLeaveList,ref:w,onIndexChange:e=>{var t;null===(t=P.current)||void 0===t||t.scrollIntoViewIfNeeded(e)},children:[0!==I.length||N||B?(0,E.jsx)(_.FlatList,{ref:P,direction:"vertical",forceConsistentRenderCount:!1,data:I.map((e=>({itemKey:e.id.toString(),data:e}))),renderItem:e=>{let{data:t}=e;return(0,E.jsx)(S.default,{product:t,selections:n,onClick:()=>q(t),active:a},t.id.toString())},flatListController:M,defaultItemHeight:m.PRODUCT_LIST_ITEM_HEIGHT}):(0,E.jsx)(g.ListProducts,{hasCatalog:G}),N&&(0,E.jsx)(v.default,{})]})}var x=(0,f.forwardRef)(T);t.default=x},39376:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(41455),i=a(78820),s=a(48360),o=a(57849),l=a(94010),u=a(17239),d=a(19380),c=n(a(95993)),f=n(a(11339)),h=a(61653),p=n(a(25550)),m=a(1710),g=a(77117),_=a(82039),v=a(46133),b=a(85893);const y=h.NuxKeyTypes.COOL_OFF_NUX.INCOMPLETE_BUSINESS_PROFILE_BANNER;class C extends p.default{render(){const{onInteract:e}=this.props,t=new m.CoolOffNux(y,f.default.BANNER_TYPES.SMB_EDIT_PROFILE);return(0,b.jsx)(c.default,{title:s.fbt._("Set up your profile",null,{hk:"3LUf0d"}),actionText:s.fbt._("Click to get started",null,{hk:"1oTaUx"}),onDismiss:e,onClick:()=>{!function(){const e=(0,i.getMaybeMeUser)(),t=v.StatusCollection.assertGet(e),a=_.ProfilePicThumbCollection.assertGet(e),n=d.ContactCollection.assertGet(e);r.DrawerManager.openDrawerLeft((0,b.jsx)(g.ProfileDrawerFlowLoadable,{status:t,profilePicThumb:a,contact:n,conn:u.Conn}))}(),null==e||e()},nuxManager:t,theme:"nuxGreen"})}static shouldShow(){const e=(0,i.getMaybeMeUser)(),t=d.ContactCollection.assertGet(e).businessProfile;return!!t&&(0,o.getABPropConfigValue)("web_abprop_business_profile_incomplete_nux_banner")&&u.Conn.isSMB&&!(0,l.isCompleteBizProfile)(t)&&(0,m.shouldShowNUX)(y)}}t.default=C,C.displayName="BusinessProfileBanner"},67161:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,s.default)(),t=(0,i.useMemo)((()=>u.BusinessProfileCollection.get((0,r.getMaybeMeUser)())),[]),[a,n]=(0,i.useState)((()=>null!=u.BusinessProfileCollection.getValid((0,r.getMaybeMeUser)())));(0,o.useListener)(d.Conn.isSMB?t:null,"change",(()=>{n(!0)}));const p=()=>{e()};return a&&(0,h.jsxs)(c.default,{children:[(0,h.jsx)(l.default,{onInteract:p}),(0,h.jsx)(f.default,{onInteract:p})]})};var r=a(78820),i=a(67294),s=n(a(59312)),o=a(87550),l=n(a(39376)),u=a(93581),d=a(17239),c=n(a(26293)),f=n(a(47955)),h=a(85893)},95993:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{title:t,subtitle:a,onDismiss:n,onClick:l,nuxManager:u,theme:d,actionText:c}=e;const[f,h]=(0,r.useState)(!0);u.show();const p=(0,o.jsxs)(o.Fragment,{children:[a," ",c&&(0,o.jsx)(i.default,{inline:!0,children:c})]});return(0,o.jsx)(o.Fragment,{children:f&&(0,o.jsx)(s.default,{type:d,title:t,text:p,onDismiss:e=>{e.preventDefault(),e.stopPropagation(),u.dismiss(),null==n||n(),h(!1)},action:()=>{u.click(),null==l||l()}})})};var r=a(67294),i=n(a(29237)),s=n(a(30508)),o=a(85893)},25550:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294);class r extends n.Component{static shouldShow(){return!1}}t.default=r},26293:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t}=e;const a=i.Children.toArray(t).find((e=>e.type.shouldShow()));return(0,s.jsx)(r.default,{transitionName:"butterbar",children:a})};var r=n(a(40436)),i=a(67294),s=(n(a(25550)),a(85893))},47955:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(78820),i=a(48360),s=a(57849),o=a(93581),l=a(94010),u=a(87912),d=a(17239),c=n(a(95993)),f=n(a(11339)),h=a(61653),p=n(a(25550)),m=a(1710),g=a(64551),_=a(85893);const v=h.NuxKeyTypes.COOL_OFF_NUX.PRODUCT_CATALOG_BANNER;class b extends p.default{render(){const{onInteract:e}=this.props,t=new m.CoolOffNux(v,f.default.BANNER_TYPES.SMB_CATALOG);return(0,_.jsx)(c.default,{title:i.fbt._("Showcase your products",null,{hk:"1lP9kd"}),actionText:i.fbt._("Click to get started",null,{hk:"31Psjq"}),onDismiss:e,onClick:()=>{(0,u.openCatalogManagementFlow)(null,f.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_NUX),null==e||e()},nuxManager:t,theme:"nuxGreen"})}static shouldShow(){const e=(0,r.getMaybeMeUser)(),t=o.BusinessProfileCollection.get(e);return(0,s.getABPropConfigValue)("web_abprop_product_catalog_nux_banner")&&d.Conn.isSMB&&!function(){if(!d.Conn.isSMB||!g.ServerProps.shopsHeaderDropdownMenuItem)return!1;const e=o.BusinessProfileCollection.get((0,r.getMaybeMeUser)());return(0,l.hasShop)(e)}()&&!(0,l.hasCatalog)(t)&&(0,m.shouldShowNUX)(v)}}t.default=b,b.displayName="ProductCatalogBanner"},95042:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){const t=l.BusinessProfileCollection.get((0,s.getMaybeMeUser)());(0,u.goToCommerceManager)(t),e.onCommerceManagerClick&&e.onCommerceManagerClick()}function a(){i.ModalManager.close(),e.onCancelClick&&e.onCancelClick()}if((0,r.bannedShopsEnabled)()){const e=l.BusinessProfileCollection.get((0,s.getMaybeMeUser)());if((0,u.isShopBanned)(e))return(0,p.jsx)(c.default,{type:h.ModalTheme.ColumnButtons,title:o.fbt._("Shop disabled",null,{hk:"3ByeHz"}),onCancel:a,actions:(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.default,{type:"primary",onClick:t,children:o.fbt._("Commerce Manager",null,{hk:"2ZKedl"})})}),children:o.fbt._("This shop has been disabled for not complying with our policies. Learn more in Commerce Manager.",null,{hk:"3brNh"})})}return(0,p.jsx)(c.default,{type:h.ModalTheme.ColumnButtons,title:o.fbt._("Manage shop on Commerce Manager",null,{hk:"1S8OsB"}),onCancel:a,actions:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.default,{type:"primary",onClick:function(){const t=l.BusinessProfileCollection.get((0,s.getMaybeMeUser)());(0,u.goToShop)(t),e.onViewShopClick&&e.onViewShopClick()},children:o.fbt._("View Shop",null,{hk:"KjKGP"})}),(0,p.jsx)(d.default,{type:"primary",onClick:t,children:o.fbt._("Commerce Manager",null,{hk:"2ZKedl"})})]}),children:f.default.t(934)})};var r=a(8139),i=a(14597),s=a(78820),o=a(48360),l=a(93581),u=a(94010),d=n(a(39770)),c=n(a(40944)),f=n(a(14296)),h=a(57224),p=a(85893)},68862:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=i.fbt._("We are updating our WhatsApp Business Terms of Service. Agree to our new Terms on your phone to continue using WhatsApp Business.",null,{hk:"yakgm"});(0,s.useListener)(l.Conn,"change:smbTos",(()=>{l.Conn.smbTos||r.ModalManager.close()}));const t=u.default.t(496);return(0,f.jsxs)(o.default,{onOK:()=>{__LOG__(2)`SMB: terms of service modal, user clicked logout`,r.ModalManager.close(),c.Socket.logout()},okText:t,children:[e," ",(0,f.jsx)(d.default,{})]})};var r=a(14597),i=a(48360),s=a(87550),o=n(a(52665)),l=a(17239),u=n(a(14296)),d=n(a(31703)),c=a(65044),f=a(85893)},58836:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onBlock:t,onCancel:a,onReportSpamBlock:n}=e,c=e=>{e.stopPropagation(),e.preventDefault(),t()},f=e=>{e.stopPropagation(),e.preventDefault(),a()},h=(0,d.jsx)(i.default,{a8nText:"popup-controls-block",type:"primary",onClick:c,children:o.default.t(148)},0),p=(0,d.jsx)(i.default,{a8nText:"popup-controls-report-spam",type:"secondary",onClick:e=>{e.stopPropagation(),e.preventDefault(),n()},children:r.fbt._("Report and block",null,{hk:"3KoRlr"})},1),m=(0,d.jsx)(i.default,{a8nText:"popup-controls-cancel",type:"secondary",onClick:f,children:r.fbt._("Cancel",null,{hk:"H0gNq"})},2),g=(0,d.jsx)(u.Name,{contact:e.contact}),_=r.fbt._("Block {contact}? Blocked contacts will no longer be able to call you or send you messages.",[r.fbt._param("contact",g)],{hk:"fQATz"});return(0,d.jsx)(s.HotKeys,{handlers:{enter:c,escape:f},children:(0,d.jsx)(l.Modal,{children:_,actions:[p,h,m]})})};var r=a(48360),i=n(a(39770)),s=a(29424),o=n(a(14296)),l=a(57224),u=a(12176),d=a(85893)},40944:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t){t.stopPropagation(),t.preventDefault(),e.onCancel&&e.onCancel()}const a=i.Children.count(e.actions)>0,n=e.onCancel?(0,u.jsx)(s.default,{a8nText:"popup-controls-cancel",type:a?"secondary":"primary",onClick:t,children:e.cancelText||r.fbt._("Cancel",null,{hk:"H0gNq"})}):null,d={escape:e.onCancel?t:()=>{}},c=(0,u.jsxs)(u.Fragment,{children:[e.actions,n]});return(0,u.jsx)(o.HotKeys,{handlers:d,children:(0,u.jsx)(l.Modal,{actions:c,children:e.children,cover:e.cover,onDragChange:e.onDragChange,onDrop:e.onDrop,type:e.type,title:e.title})})};var r=a(48360),i=a(67294),s=n(a(39770)),o=a(29424),l=a(57224),u=a(85893)},81681:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{editRestrictionText:a,a8n:n,emptyValuePlaceholder:M,showCreate:w=!0}=e,P=(0,m.useModelValues)(e.chat,["groupMetadata"]),A=(0,m.useModelValues)((0,i.default)(P.groupMetadata,"chat.groupMetadata"),["displayedDesc","owner","creation","restrict","participants","support"]),[j,I]=(0,f.useState)(A.displayedDesc),[O,N]=(0,f.useState)(!1),[R,D]=(0,f.useState)(e.showFullDescription||!(j&&j.length>30)),L=(0,g.default)();if((0,p.useListener)(A,"change:desc",(()=>{I(A.displayedDesc)})),C.ServerProps.groupDescLength<=0)return null;const B={textLimit:R?1/0:l.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,readMoreText:c.fbt._("Read more",null,{hk:"2pss9t"}),onReadMore:()=>{D(!0)},ellipsify:!0,multiline:!0,inferLinesDirection:!0,formatters:P.isTrusted()?y.Configuration.TrustedGroupDesc({links:u.findLinks(j)}):y.Configuration.UntrustedGroupDesc()},F=[T.TextInputCustomStyleThemes.groupInfoName,T.TextInputCustomStyleThemes.chatInfoDefaultText];let G,U=(0,x.jsx)("div",{className:(0,h.default)(k.inputWrapper),children:(0,x.jsx)(T.TextInput,{a8n:n,value:j,emptyValuePlaceholder:M,renderEmojiTextInLockMode:B,editable:A.canSetDescription(),pending:O,showRemaining:!0,maxLength:C.ServerProps.groupDescLength,onChange:e=>{I(e)},onSave:()=>{if(!A.canSetDescription())return;let e=j||"";const t=e.match(/\r\n/gm)?"\r\n":"\n",a=new RegExp(`^(${t}{2,})([^\n])`,"gm");e=e.replace(a,`${t}$2`);const n=(0,b.default)(e||"");if(n===A.displayedDesc)return I(n);N(!0),(0,s.default)((0,S.setGroupDesc)(P,n),L).catch((0,r.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`description_input:onSetDescription failed`})).finally((()=>{I(A.displayedDesc),N(!1)}))},onCancel:()=>{I(A.displayedDesc)},multiline:!0,editRestrictionInfo:A.canSetDescription()?void 0:()=>{d.ModalManager.open((0,x.jsx)(v.default,{onOK:()=>d.ModalManager.close(),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),children:a}))},supportsEmoji:!0,lockable:!0,lowProfile:!0,customStyleThemes:F,theme:"small",showEditOnHover:!0,constrainedWidth:!0})});j||A.canSetDescription()||(U=null);const V=A.owner&&(null===(t=A.participants.get(A.owner))||void 0===t?void 0:t.contact);V&&(G=(0,x.jsx)(E.TextDiv,{theme:"muted",children:o.Clock.createdByStr(A.creation,V.formattedName,V.isMe)}));return U||G?(0,x.jsxs)(_.ChatInfoDrawerSection,{xstyle:k.chatInfoSection,children:[U,w&&G]}):null};var r=a(89385),i=n(a(45095)),s=n(a(47259)),o=a(40234),l=n(a(64369)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(95726)),d=a(14597),c=a(48360),f=a(67294),h=n(a(56720)),p=a(87550),m=a(35461),g=n(a(3409)),_=a(98792),v=n(a(52665)),b=n(a(13699)),y=a(30695),C=a(64551),S=a(66155),E=a(13923),T=a(90011),x=a(85893);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}const k={chatInfoSection:{paddingTop:"nlnf8xo7",paddingBottom:"r219jyu0"},inputWrapper:{whiteSpace:"bbv8nyr4"}}},44296:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;return(0,s.jsx)(i.default,(0,r.default)((0,r.default)({},e),{},{separator:null!==(t=e.separator)&&void 0!==t&&t,xstyle:[e.xstyle,o.container],blockXstyle:[e.blockXstyle,o.block]}))};var r=n(a(81109)),i=(n(a(56720)),n(a(35721))),s=a(85893);const o={container:{paddingStart:"gx1rr48f"},block:{paddingEnd:"f9ovudaz",borderTop:"cc8mgx9x"}}},75116:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let{icon:a,title:n,secondaryTitle:p,side:m}=e,g=(0,i.default)(e,c);const _=null!==(t=h[a])&&void 0!==t?t:20,v=(0,d.jsx)(l.FlexRow,{xstyle:f.iconContainer,align:"center",justify:"center",children:(0,d.jsx)(u.default,{color:"secondary",name:a,height:_})});let b=null!=m?m:"";"chevron"===b&&(b=(0,d.jsx)(u.default,{color:"secondary",name:"chevron-right-alt",directional:!0}));return(0,d.jsxs)(o.default,(0,r.default)((0,r.default)({},g),{},{multiline:!0,children:[(0,d.jsxs)(l.FlexRow,{align:"center",justify:"start",children:[v,(0,d.jsx)("div",{className:(0,s.default)(f.content),children:n}),(0,d.jsx)(l.FlexRow,{align:"center",justify:"end",xstyle:f.drawerSide,children:b})]}),(0,d.jsx)("div",{className:(0,s.default)(f.secondaryTitleContainer),children:p})]}))};var r=n(a(81109)),i=n(a(6479)),s=n(a(56720)),o=n(a(44296)),l=a(29623),u=n(a(23217)),d=a(85893);const c=["icon","title","secondaryTitle","side"],f={iconContainer:{marginEnd:"bugiwsl0",width:"qssinsw9",height:"bmot90v7",flexGrow:"tvf2evcx",flexShrink:"oq44ahr5"},content:{flexGrow:"ggj6brxn",flexShrink:"m0h2a7mj",minWidth:"ktfrpxia"},drawerSide:{flexGrow:"tvf2evcx",flexShrink:"oq44ahr5",width:"baeo9xnf"},secondaryTitleContainer:{marginStart:"oybqnh0n",marginEnd:"lfum0007"}},h={settings:17}},98792:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST=t.INFO_DRAWER_MAX_ROWS=t.ChatInfoDrawerSection=t.ChatInfoDrawerListSection=t.ChatInfoDrawerButtonsSection=void 0;var r=n(a(81109)),i=a(67294),s=n(a(56720)),o=n(a(33308)),l=a(85893);t.INFO_DRAWER_MAX_ROWS=10;t.INFO_DRAWER_MAX_ROWS_IN_COLLAPSED_LIST=11;const u={title:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginBottom:"or9x5nie"},titleText:{fontSize:"bze30y65",lineHeight:"a4ywakfo"},container:{paddingTop:"i4pc7asj",paddingEnd:"bcymb0na",paddingBottom:"myel2vfb",paddingStart:"e8k79tju"},containerWithoutTitle:{paddingTop:"i5tg98hk",paddingEnd:"bcymb0na",paddingBottom:"przvwfww",paddingStart:"e8k79tju",marginBottom:"mpdn4nr2"}},d=(0,i.forwardRef)(((e,t)=>(0,l.jsx)(o.default,(0,r.default)((0,r.default)({},e),{},{xstyle:[u.container,null==e.title&&u.containerWithoutTitle,e.xstyle],titleXStyle:u.title,titleTextXStyle:u.titleText,theme:"chat-info",ref:t,children:e.children}))));t.ChatInfoDrawerSection=d;const c={drawerSectionContainer:{paddingBottom:"przvwfww"},contentContainer:{marginTop:"tt8xd2xn",marginEnd:"dl6j7rsh",marginBottom:"mpdn4nr2",marginStart:"avk8rzj1"}},f=(0,i.forwardRef)(((e,t)=>(0,l.jsx)(d,(0,r.default)((0,r.default)({},e),{},{xstyle:c.drawerSectionContainer,ref:t,children:(0,l.jsx)("div",{className:(0,s.default)(c.contentContainer),children:e.children})}))));t.ChatInfoDrawerListSection=f;const h={drawerSectionContainer:{paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f"}},p=(0,i.forwardRef)(((e,t)=>(0,l.jsx)(d,(0,r.default)((0,r.default)({},e),{},{xstyle:h.drawerSectionContainer,ref:t,children:e.children}))));t.ChatInfoDrawerButtonsSection=p},15908:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,l.useState)(null),[n,g]=(0,l.useState)(!1),[_,v]=(0,l.useState)(!1),b=function(){var n=(0,i.default)((function*(){if(v(!1),t&&t!==e.subject){g(!0);try{yield e.onSave(t)}finally{g(!1),a(null)}}else a(null)}));return function(){return n.apply(this,arguments)}}(),y=[h.TextInputCustomStyleThemes.groupInfoName,h.TextInputCustomStyleThemes.chatInfoLargeText];return(0,p.jsx)("div",{className:(0,u.default)(m.container,_&&m.editing),children:(0,p.jsx)(h.TextInput,(0,r.default)({a8n:"group-info-drawer-subject-input",value:null!=t?t:e.subject,pending:n,showRemaining:!0,validate:e=>!(!e||!e.trim()),maxLength:f.ServerProps.maxSubject,onBeginEdit:()=>{v(!0)},onChange:e=>{_&&a(e)},onSave:b,onError:()=>{s.ModalManager.open((0,p.jsx)(d.default,{onOK:()=>s.ModalManager.close(),okText:o.fbt._("OK",null,{hk:"2KEeHb"}),children:c.default.t(69)}))},onCancel:()=>{v(!1),a(null)},supportsEmoji:!0,lockable:!0,lowProfile:!0,constrainedWidth:!0,theme:"large",customStyleThemes:y,showEditOnHover:!0,showHighlightOnHover:!0},e.textInputProps))})};var r=n(a(81109)),i=n(a(48926)),s=a(14597),o=a(48360),l=a(67294),u=n(a(56720)),d=n(a(52665)),c=n(a(14296)),f=a(64551),h=a(90011),p=a(85893);const m={container:{textAlign:"qfejxiq4",maxWidth:"laorhtua"},editing:{width:"ln8gz9je",textAlign:"ljrqcn24","@media (max-width: 1441px)":{width:"o135me7o"}}}},62857:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(89385),s=r(a(47259)),o=a(57319),l=a(64331),u=a(92574),d=a(88555),c=a(81572),f=r(a(45120)),h=r(a(52013)),p=a(41906),m=a(48360),g=a(67294),_=r(a(51799)),v=r(a(59312)),b=r(a(16223)),y=a(87550),C=r(a(90886)),S=r(a(95402)),E=r(a(3409)),T=a(63183),x=r(a(49291)),M=r(a(58654)),k=r(a(60453)),w=r(a(69637)),P=a(94790),A=a(85600),j=a(47915),I=r(a(30855)),O=a(80872),N=r(a(84937)),R=a(29424),D=r(a(41955)),L=r(a(14296)),B=r(a(48837)),F=r(a(99104)),G=r(a(88406)),U=a(11054),V=a(85893);function W(e,t){const{chat:a}=e,r=(0,v.default)(),W=(0,S.default)(),H=(0,E.default)(),[q,Y]=(0,g.useState)(""),[z,K]=(0,g.useState)(!1),[$,Q]=(0,g.useState)(!1),X=(0,b.default)((()=>new I.default)),J=(0,b.default)((()=>new N.default(a))),Z=(0,g.useRef)(null),ee=(0,b.default)((()=>new G.default([],(e=>e.id.toString())))),te=(0,g.useRef)(!1),ae=(0,g.useRef)({}),ne=(0,g.useRef)(null),re=(0,g.useRef)(null),ie=(0,g.useRef)(null),se=(0,g.useRef)(null),oe=(0,b.default)((()=>new o.ShiftTimer((()=>{const e=ae.current;void 0!==e.searchText&&Y(e.searchText),void 0!==e.searching&&K(e.searching),void 0!==e.resultsUnavailable&&Q(e.resultsUnavailable),ae.current={}})))),le=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75;Object.assign(ae.current,e),oe.current.debounce(t)},ue=()=>{f.default.shouldIndicateFocus(),h.default.focus(Z.current)},de=(0,_.default)((()=>{var e;te.current=!1;const t=(q||"").trim();if(!(0,D.default)(t))return;null===(e=se.current)||void 0===e||e.abort(),se.current=new n;const{signal:r}=se.current,o=Promise.resolve().then((()=>{(()=>{const e=ae.current;var t;return"searching"in e?null!==(t=e.searching)&&void 0!==t&&t:z})()||le({searching:!0})})).then((()=>J.current.search({chat:a,count:Math.round(window.innerHeight/j.DEFAULT_ITEM_HEIGHT)+1,searchTerm:t})));ie.current=(0,s.default)(o,r).then((e=>{if(H.aborted)throw new i.AbortError;e&&!e.canceled&&t===q.trim()&&le({searching:!1,resultsUnavailable:!1})})).catch((0,i.catchAbort)((()=>{}))).finally((()=>{ie.current=void 0,se.current=void 0})).catch((e=>{te.current||le({searching:!1,resultsUnavailable:e instanceof u.E404})}))}),O.FTS_TYPING_DELAY),ce=(0,C.default)((e=>{var t;!(null==(t=e.currentTarget)||!J.current.hasMoreMsgs||te.current||z||J.current.searchPromise||(0,l.numCodepoints)(q||"")<O.FTS_MIN_CHARS)&&t.scrollTop+p.SCROLL_FUDGE>t.scrollHeight-t.clientHeight&&(de(),te.current=!0)}),100);(0,g.useEffect)((()=>(ue(),()=>{var e;de.cancel(),J.current.delete(!0),null===(e=se.current)||void 0===e||e.abort(),oe.current.cancel()})),[]),(0,y.useListener)(J.current,["bulk_remove"],r);const fe=J.current.toArray();let he=(e=>{if(e.length)return null;const t=(q||"").trim();return(0,l.numCodepoints)(t)>=O.FTS_MIN_CHARS?z?(0,V.jsx)(A.SearchingMessages,{}):$?(0,V.jsx)(A.SearchMessagesUnavailable,{}):(0,V.jsx)(A.SearchMessages,{}):(0,A.BeforeSearchMessages)(a.title(),a.isGroup)})(fe);if(null==he){const e=q?q.trim():null;he=(0,V.jsx)(F.default,{ref:ne,flatListController:X.current,isSearching:!!e,searchText:e,ftsResult:fe,selection:ee.current,onFocusSearch:ue})}const pe=z&&fe.length?(0,V.jsx)("div",{className:x.default.searchSpinner,children:(0,V.jsx)(U.Spinner,{stroke:6,size:24})}):null;let me;if((0,d.isMDBackend)()&&e.chat.endOfHistoryTransferType===T.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY||e.chat.endOfHistoryTransferType===T.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC){const e=(q||"").trim();(0,l.numCodepoints)(e)>=O.FTS_MIN_CHARS&&(me=(0,V.jsx)(M.default,{theme:"md-chat-search-list",children:m.fbt._("Use WhatsApp on your phone to search for older chats or messages.",null,{hk:"1nGygN"})}))}return(0,V.jsxs)(k.default,{ref:t,children:[(0,V.jsx)(P.DrawerHeader,{title:L.default.t(629),type:P.DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:()=>{null==W||W.requestDismiss()}}),(0,V.jsx)(R.HotKeys,{handlers:{down:e=>{var t;e.repeat||ne.current&&(Z.current&&!Z.current.cursorIsAtEnd()||(e.preventDefault(),e.stopPropagation(),f.default.shouldIndicateFocus(),null===(t=ne.current)||void 0===t||t.focusFirst()))}},onFocus:()=>{f.default.maybeIndicateFocus(re.current)},ref:re,className:x.default.panelSearch,children:(0,V.jsx)(B.default,{ref:Z,type:"chat-msg-search",onSearch:e=>{if(!e)return de.cancel(),J.current.resetSearch(),J.current.delete(),null===(t=se.current)||void 0===t||t.abort(),te.current=!1,Y(""),void K(!1);var t;e!==q&&((e=>{const t=e.trim();var a;(0,D.default)(t)?(de(),te.current=!0,z||le({searching:!0})):(de.cancel(),J.current.resetSearch(),J.current.delete(),null===(a=se.current)||void 0===a||a.abort(),te.current=!1,z&&le({searching:!1,resultsUnavailable:!1}))})(e),Y(e),le({searchText:e,resultsUnavailable:!1}))},onEnter:e=>{e.preventDefault();const t=J.current.head();if(!t)return;const a=t.chat,n=a.getSearchContext(t);c.Cmd.focusChatTextInput(a),c.Cmd.openChatAt(a,n)},placeholder:L.default.t(624),loading:z})}),(0,V.jsxs)(w.default,{flatListControllers:[X.current],className:x.default.panelBody,onScroll:ce,id:"pane-side",children:[he,pe,me]})]},"search-modal")}var H=(0,g.forwardRef)(W);t.default=H},13243:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Message=function(e){const{author:t,onClick:a}=e,n=(0,u.useModelValues)(e.msg,["id","chat","isSentByMe","senderObj","rtl","dir","type","t"]),_=(0,o.useRef)(null),v=(0,o.useRef)(null),[b,y]=(0,o.useState)((()=>!!e.active&&e.active.value===n));(0,l.useListener)(e.active,n.id.toString(),((e,t)=>{if("focus"===e){const e=v.current;s.default.focus(e),t&&e&&(0,h.scrollIntoViewIfNeeded)(e)}y(!!e)}));const C=e=>{if((0,r.isFunction)(a)){const t=n.chat,r=t.getSearchContext((0,p.unproxy)(n));r.msg=n,a(e,t,r)}},S=(0,g.jsx)(m.default,{msg:n}),E=(0,g.jsx)(f.default,{msg:n.safe(),msgType:"Search",author:t,searchQuery:e.searchText?[e.searchText]:[]});return(0,g.jsx)(c.HotKeys,{handlers:{enter:e=>{e.preventDefault(),e.stopPropagation(),i.default.shouldIndicateFocus(),C(e)}},onFocus:()=>{var e;null===(e=_.current)||void 0===e||e.indicateFocus()},ref:v,children:(0,g.jsx)(d.default,{ref:_,contextEnabled:()=>!1,theme:"chat-search",active:!!b,primaryDetail:S,secondary:E,primary:void 0,onClick:C})})};var r=a(51737),i=n(a(45120)),s=n(a(52013)),o=a(67294),l=a(87550),u=a(35461),d=n(a(49107)),c=a(29424),f=n(a(3982)),h=a(78756),p=a(18146),m=n(a(55364)),g=a(85893)},35109:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,n.useModelValues)(e.msg,["id","chat"]),a=(0,n.useModelValues)(e.contact,["formattedShortName"]);return(0,i.jsx)(r.Message,{msg:t,chat:t.chat,author:a.formattedShortName,searchText:e.searchText,onClick:e.onClick,active:e.active},t.id.toString())};var n=a(35461),r=a(13243),i=a(85893)},99104:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(81572),i=a(55715),s=a(67294),o=n(a(95402)),l=a(72439),u=a(50101),d=a(47915),c=a(29424),f=a(13243),h=n(a(35109)),p=a(85893);function m(e){let{selection:t,searchText:a,onClick:n,msg:r}=e;return r.sender&&r.isGroupMsg&&!r.isNotification&&!r.isSentByMe?(0,p.jsx)(h.default,{contact:r.senderObj,msg:r,chat:r.chat,searchText:a,onClick:n,active:t},r.id.toString()):(0,p.jsx)(f.Message,{msg:r,chat:r.chat,searchText:a,onClick:n,active:t},r.id.toString())}function g(e,t){const{selection:a,ftsResult:n,searchText:f,onFocusSearch:h}=e,g=(0,o.default)(),_=(0,s.useRef)(null),v=(e,t,a)=>{e.preventDefault(),e.stopPropagation(),(0,u.findChat)(t.id).then((e=>{2===l.Column.column&&(null==g||g.requestDismiss()),r.Cmd.focusChatTextInput(e),r.Cmd.openChatAt(e,a)}))},b=()=>{a.reset(!0)},y=()=>{a.setFirst(!0)};return(0,s.useEffect)((()=>{a.init(n||[])}),[]),(0,s.useImperativeHandle)(t,(()=>({focusFirst:y,restoreFocus:b}))),(0,p.jsx)(c.HotKeys,{handlers:{down:e=>(e=>{e&&(e.preventDefault(),e.stopPropagation());const t=a.next();a.index!==t&&a.setNext(!0)})(e),up:e=>{return(t=e)&&(t.stopPropagation(),t.preventDefault()),void(a.prev()>-1?a.setPrev(!0):h());var t}},onFocus:e=>{e.target===_.current&&(a.index<0?y():a.reset(!0))},"data-tab":i.TAB_ORDER.CHAT_SEARCH_MSG_LIST,ref:_,children:(0,p.jsx)(d.FlatList,{flatListController:e.flatListController,direction:"vertical",data:n.map((e=>({itemKey:e.id.toString(),msg:e}))),renderItem:e=>{let{msg:t}=e;return(0,p.jsx)(m,{msg:t,selection:a,searchText:f,onClick:v})},forceConsistentRenderCount:!1})})}var _=(0,s.forwardRef)(g);t.default=_},90233:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{children:t,disabled:a,tabIndex:n,selections:c,model:f,checked:h,checkboxTheme:p,onClick:m=(()=>{})}=e,[g,_]=(0,i.useState)((()=>c.isSelected(f)||!!h));return(0,s.useListener)(c,f.id.toString(),(e=>{e!==g&&_(e)})),(0,d.jsxs)(u.default,{className:l.default.checkboxSelectableWrapper,onClick:m,children:[(0,d.jsx)("div",{className:l.default.checkboxSelectableControl,"data-a8n":r.default.key(e.a8nKey),children:(0,d.jsx)(o.CheckBox,{onChange:()=>{},checked:g,disabled:a,tabIndex:n,theme:p})}),t]})};var r=n(a(99964)),i=a(67294),s=a(87550),o=a(16593),l=n(a(9340)),u=n(a(1784)),d=a(85893)},9712:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t}=e,[a,n]=(0,u.useState)((()=>!(0,i.isMDBackend)())),v=()=>{o.ModalManager.close()},b=()=>{t.pendingAction++,(0,m.sendClear)(t,a).finally((()=>{t.pendingAction--})),o.ModalManager.close()},y=(0,u.useMemo)((()=>{switch(t.kind){case d.CHAT_KIND.GROUP:return l.fbt._("Clear this chat?",null,{hk:"2L0fh7"});case d.CHAT_KIND.CHAT:return l.fbt._("Clear this chat?",null,{hk:"RFq4U"});case d.CHAT_KIND.BROADCAST:return l.fbt._("Clear this chat?",null,{hk:"1TyQoK"});default:return""}}),[t.kind]),C=(0,_.jsxs)("div",{className:f.default.section,children:[(0,_.jsx)("div",{"data-a8n":r.default.key("menu-icon-clear-chat"),className:f.default.control,children:(0,_.jsx)(c.CheckBox,{onChange:()=>{n(!a)},checked:a,id:"menu-icon-clear-chat"})}),(0,_.jsx)("label",{htmlFor:"menu-icon-clear-chat",className:f.default.label,children:l.fbt._("Keep starred messages",null,{hk:"2KaiFp"})})]});if((0,i.isMDBackend)()){const e=(0,s.clearOrDeleteChatSyncEnabled)()?(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:f.default.note,children:(0,_.jsx)(g.TextParagraph,{theme:"muted",children:l.fbt._("Messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"4h8ZfM"})})}),C]}):(0,_.jsx)("div",{className:f.default.note,children:(0,_.jsx)(g.TextParagraph,{theme:"muted",children:l.fbt._("Messages will be removed from this device only.",null,{hk:"3Lzh5V"})})});return(0,_.jsx)(h.default,{title:y,onOK:b,okText:l.fbt._("Clear chat",null,{hk:"46a4GH"}),onCancel:v,children:e})}return(0,_.jsx)(h.default,{onOK:b,okText:l.fbt._("Clear chat",null,{hk:"46a4GH"}),onCancel:v,children:(0,_.jsxs)("div",{children:[(0,_.jsx)(p.EmojiText,{text:y}),C]})})};var r=n(a(99964)),i=a(88555),s=a(8139),o=a(14597),l=a(48360),u=a(67294),d=a(63183),c=a(16593),f=n(a(46937)),h=n(a(52665)),p=a(65417),m=a(83802),g=a(13923),_=a(85893)},4903:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityHome=function e(t){var a,n;const P=(0,l.default)((()=>new E.default));(0,s.useEffect)((()=>()=>{}),[]);const[A,j]=(0,u.default)(M.NUX.COMMUNITY_HOME),I=c.ChatCollection.get(t.jid);if(null==I||null==I.groupMetadata)return null;const O=(null===(a=t.callbacks)||void 0===a?void 0:a.onBack)?void 0:()=>r.DrawerManager.closeDrawerLeft(),N=(0,k.jsx)(_.default,{chat:I}),R=(0,k.jsx)(p.default,{chat:I,showFullDescription:t.showFullDescription}),D=I.groupMetadata.participants.iAmAdmin(),L=D?(0,k.jsx)("div",{className:(0,o.default)(w.buttonBox),children:(0,k.jsx)(d.default,{type:"secondary",xstyle:w.button,onClick:()=>{var a;(null===(a=t.callbacks)||void 0===a?void 0:a.onManageCommunityGroupsClick)?t.callbacks.onManageCommunityGroupsClick(I):r.DrawerManager.openDrawerLeft((0,k.jsx)(x.ManageCommunityGroupsFlowLoadable,{parentGroup:I,onBack:()=>{r.DrawerManager.openDrawerLeft((0,k.jsx)(e,{jid:t.jid}))}}),"flow-transition-drawer-pop")},children:i.fbt._("",null,{hk:"1eypT8"})})}):null,B=D?(0,k.jsx)(h.ChatInfoDrawerSection,{a8nText:"section-invite-members",children:(0,k.jsx)(f.default,{a8nText:"row-invite-members",side:"chevron",icon:"add-user",onClick:()=>{var a;(null===(a=t.callbacks)||void 0===a?void 0:a.onInviteMembersClick)?t.callbacks.onInviteMembersClick(I):r.DrawerManager.openDrawerLeft((0,k.jsx)(T.GroupInviteLinkDrawerLoadable,{chat:I,groupMetadata:I.groupMetadata,onBack:()=>{r.DrawerManager.openDrawerLeft((0,k.jsx)(e,{jid:t.jid}))}}),"flow-transition-drawer-pop")},title:i.fbt._("",null,{hk:"2sICyv"})})}):null,F=(0,k.jsx)(m.default,{chat:I,flatListController:P.current}),G=(0,k.jsx)(v.default,{chat:I,flatListController:P.current}),U=(0,k.jsxs)(S.default,{children:[L,F,G]}),V=A&&(0,k.jsx)(g.default,{onDismiss:j});return(0,k.jsxs)(b.default,{children:[(0,k.jsx)(C.DrawerHeader,{title:i.fbt._("",null,{hk:"KYhBq"}),type:C.DRAWER_HEADER_TYPE.SMALL,onBack:null===(n=t.callbacks)||void 0===n?void 0:n.onBack,onCancel:O}),(0,k.jsx)(y.default,{flatListControllers:[P.current],children:(0,k.jsxs)("section",{className:(0,o.default)(w.body),children:[V,N,R,B,U]})})]})};var r=a(41455),i=a(48360),s=a(67294),o=n(a(56720)),l=n(a(16223)),u=n(a(59732)),d=n(a(39770)),c=a(69951),f=n(a(75116)),h=a(98792),p=n(a(50743)),m=n(a(61402)),g=n(a(17323)),_=n(a(75055)),v=n(a(43037)),b=n(a(60453)),y=n(a(69637)),C=a(94790),S=n(a(33308)),E=n(a(30855)),T=a(88280),x=a(94205),M=a(61653),k=a(85893);const w={body:{flexShrink:"oq44ahr5",flexGrow:"tvf2evcx",flexBasis:"lb5m6g5c",paddingBottom:"s9fl9ege"},buttonBox:{width:"ln8gz9je",marginTop:"tt8xd2xn",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",textAlign:"qfejxiq4"},button:{marginTop:"mnhq3yws",marginEnd:"k1jo73ug",marginBottom:"ndlvrqf7",marginStart:"isfiuinm",width:"hqec7i8t"}}},50743:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.jsx)(i.default,{chat:e.chat,showFullDescription:e.showFullDescription,editRestrictionText:r.fbt._("Only admins can edit this community's info",null,{hk:"2ddKAP"}),a8n:"community-home-drawer-description-title-input",emptyValuePlaceholder:r.fbt._("Add community description",null,{hk:"sU1iu"}),showCreate:!1})};var r=a(48360),i=n(a(81681)),s=a(85893)},61402:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{chat:t,flatListController:a}=e,n=(0,o.default)();(0,l.useListener)(c.ChatCollection,["sort"],n);const{joinedSubgroups:i=[]}=(0,u.useOptionalModelValues)(t.groupMetadata,["joinedSubgroups"])||{};if(i.length<1)return null;return(0,m.jsx)(f.ChatInfoDrawerListSection,{a8nText:"section-your-groups",title:s.fbt._("",null,{hk:"1aodCa"}),children:(0,m.jsx)(h.FlatList,{flatListController:a,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=i.map((e=>e.toString()));return c.ChatCollection.filter((t=>e.includes(t.id.toString()))).sort(r.default).map((e=>{var t;const a=null===(t=e.groupMetadata)||void 0===t?void 0:t.groupType;return a?{itemKey:e.id.toString(),subChat:e,groupType:a,height:65}:null})).filter(Boolean)})(),renderItem:g})})};var r=n(a(80744)),i=a(81572),s=a(48360),o=n(a(59312)),l=a(87550),u=a(35461),d=a(65511),c=a(69951),f=a(98792),h=a(47915),p=a(55981),m=a(85893);function g(e){const{subChat:t,groupType:a}=e;return(0,m.jsx)(d.Chat,{chat:t,theme:"subgroup",contact:t.contact,mode:d.Mode.LAST,onClick:()=>{i.Cmd.openChatFromUnread(t).then((e=>{e&&i.Cmd.focusChatTextInput(t)}))},noContext:!0,smallUnread:!0,hidePin:!0,fakePin:a===p.GroupType.DEFAULT_ANNOUNCEMENT_GROUP},t.id.toString())}},17323:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,c.jsx)(u.default,{name:"communities-nux"}),a=r.fbt._("",null,{hk:"1ZjYYW"}),n=r.fbt._("",null,{hk:"4hZm6o"}),h=r.fbt._("",null,{hk:"29aFfe"});return(0,c.jsxs)(s.default,{className:(0,i.default)(f.main),children:[(0,c.jsx)(o.FlexRow,{align:"end",justify:"end",children:(0,c.jsx)(l.default,{children:(0,c.jsx)("button",{className:(0,i.default)(f.btnCloseDrawer),onClick:e.onDismiss,"aria-label":r.fbt._("Dismiss",null,{hk:"J2VOF"}),children:(0,c.jsx)(u.default,{name:"x"})})})}),(0,c.jsx)(o.FlexRow,{align:"center",justify:"center",children:(0,c.jsx)(l.default,{xstyle:f.badge,children:t})}),(0,c.jsx)(o.FlexRow,{align:"center",justify:"center",children:(0,c.jsx)(d.TextHeader,{xstyle:f.header,size:"24",color:"dark",weight:"bold",children:a})}),(0,c.jsx)("div",{className:(0,i.default)(f.infoArea),children:(0,c.jsxs)(o.FlexColumn,{xstyle:f.textArea,children:[(0,c.jsx)(d.TextParagraph,{children:n}),(0,c.jsx)(d.TextParagraph,{theme:"muted",xstyle:f.subText,children:h})]})})]})};a(21310);var r=a(48360),i=n(a(56720)),s=n(a(33308)),o=(a(12591),a(29623)),l=n(a(48846)),u=n(a(23217)),d=a(13923),c=a(85893);const f={main:{paddingBottom:"lnhl94cj"},badge:{borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",color:"qiqvuef5",fontSize:"rwfn434h",marginTop:"rek1qe2c",paddingTop:"eujn52yf",paddingEnd:"abxuf49s",paddingBottom:"ckm995li",paddingStart:"mhcwslh8",textTransform:"ofejerhi"},header:{marginTop:"rek1qe2c",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",maxWidth:"rbwhpyfn",textAlign:"qfejxiq4",lineHeight:"a4ywakfo"},textArea:{paddingStart:"bmj4fdax",paddingEnd:"aupsmrcl",textAlign:"qfejxiq4",paddingTop:"jvpa774f",lineHeight:"r5qsrrlp"},subText:{paddingTop:"jvpa774f"},infoArea:{display:"p357zi0d",marginTop:"mnhq3yws",marginEnd:"k1jo73ug",marginBottom:"mpdn4nr2",marginStart:"isfiuinm",maxWidth:"tmdfr0rs"},btnCloseDrawer:{color:"k06jqncy",cursor:"ajgl1lbb",marginTop:"rek1qe2c",marginEnd:"arnwls1b",marginBottom:"f37kyzdt",marginStart:"s0uh0b5x",paddingTop:"eujn52yf",paddingEnd:"jfqm35v0",paddingBottom:"ckm995li",paddingStart:"bdbt56hn"}}},75055:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,p.useModelValues)(e.chat,["groupMetadata","contact"]),{unjoinedSubgroups:a=[],joinedSubgroups:n=[]}=(0,p.useOptionalModelValues)(e.chat.groupMetadata,["joinedSubgroups","unjoinedSubgroups"])||{},r=a.length+n.length,i=c.fbt._("Community",null,{hk:"2youO2"});return(0,k.jsx)(_.default,{theme:"padding-large",children:(0,k.jsxs)(b.FlexColumn,{align:"center",children:[(0,k.jsx)(A,{chat:t,xstyle:P.photo}),(0,k.jsx)(j,{chat:t}),(0,k.jsx)("div",{className:(0,h.default)(P.groupSecondary),children:(0,k.jsx)(T.SelectableSpan,{dir:"auto",selectable:!0,children:(0,k.jsxs)(M.TextSpan,{size:"16",color:"secondary",children:[i," · ",c.fbt._({"*":"{count} Groups",_1:"1 Group"},[c.fbt._plural(r,"count")],{hk:"Ar6Pi"})]})})})]})})};var r=n(a(48926)),i=a(89385),s=a(50796),o=n(a(45095)),l=n(a(47259)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),d=a(14597),c=a(48360),f=a(67294),h=n(a(56720)),p=a(35461),m=n(a(3409)),g=n(a(52665)),_=n(a(33308)),v=n(a(13699)),b=a(29623),y=n(a(15908)),C=a(33646),S=n(a(43556)),E=a(71517),T=a(52596),x=a(50760),M=a(13923),k=a(85893);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}const P={groupSecondary:{lineHeight:"a4ywakfo",marginTop:"ma4rpf0l"},photo:{marginBottom:"njub1g37"}};function A(e){const t=(0,p.useModelValues)(e.chat,["isReadOnly","groupMetadata","contact"]),a=(0,p.useModelValues)(t.contact,["id","profilePicThumb"]);a.getProfilePicThumb();const n=(0,p.useModelValues)(a.profilePicThumb,["imgFull"]),[r,o]=(0,f.useState)(!1),[d,c]=(0,f.useState)(!1),g=(0,m.default)(),_=t.isReadOnly||!n.canDelete()&&!n.canSet();return(0,k.jsx)("div",{className:(0,h.default)(e.xstyle),children:(0,k.jsx)(C.PhotoPickerLoadable,{type:S.default.COMMUNITY,id:a.id,attachToChat:!0,pending:d,startImage:n.imgFull,readOnly:_,onImageSet:(e,t)=>{let a;c(!0),a=e&&t?(0,E.setProfilePic)(n,e,t):(0,E.deleteProfilePic)(n),(0,l.default)(a,g).catch((0,i.catchAbort)((()=>{}))).catch((0,s.filteredCatch)(u.ActionError,(()=>{__LOG__(3)`CommunityInfoDrawer: failed to set/delete community image`,o(!r)}))).finally((()=>{c(!1)}))}},String(r))})}function j(e){const t=(0,p.useModelValues)(e.chat.contact,["name"]),a=(0,p.useModelValues)((0,o.default)(e.chat.groupMetadata,"props.chat.groupMetadata"),["creation","restrict"]),n=(0,m.default)(),s=function(){var a=(0,r.default)((function*(a){const r=(0,v.default)(a);r!==t.name&&(yield(0,l.default)((0,x.setGroupSubject)(e.chat,r),n).catch((0,i.catchAbort)((()=>{}))).catch((()=>{__LOG__(3)`community_home:onSetSubject failed`})))}));return function(){return a.apply(this,arguments)}}();return(0,k.jsx)(y.default,{subject:t.name,onSave:s,textInputProps:{editable:a.canSetSubject(),editRestrictionInfo:a.restrict?()=>{d.ModalManager.open((0,k.jsx)(g.default,{onOK:()=>d.ModalManager.close(),okText:c.fbt._("OK",null,{hk:"2KEeHb"}),children:c.fbt._("Only admins can edit this community's info",null,{hk:"2ddKAP"})}))}:void 0}})}},43037:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{flatListController:t,chat:a}=e,{unjoinedSubgroups:n=[]}=(0,o.useOptionalModelValues)(a.groupMetadata,["unjoinedSubgroups"])||{};if((0,s.useEffect)((()=>{(0,d.forceFetchProfilePics)(n)}),[n]),n.length<1)return null;return(0,g.jsx)(u.ChatInfoDrawerListSection,{a8nText:"section-other-groups",title:i.fbt._("",null,{hk:"2cpltL"}),children:(0,g.jsx)(f.FlatList,{flatListController:t,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=n.map((e=>e.toString()));return m.default.filter((t=>e.includes(t.id.toString()))).sort(p.default).map((e=>({itemKey:e.id.toString(),subgroupMetadata:e,height:65})))})(),renderItem:_})})};var r=a(14597),i=a(48360),s=a(67294),o=a(35461),l=n(a(44356)),u=a(98792),d=a(6333),c=a(88984),f=a(47915),h=n(a(37756)),p=n(a(19331)),m=n(a(73213)),g=a(85893);function _(e){const{subgroupMetadata:t}=e;if(null==t)return null;const{id:a,subject:n}=t;return(0,g.jsx)(l.default,{theme:"subgroup",primary:n,image:(0,g.jsx)(c.DetailImage,{size:40,id:a}),onClick:()=>{r.ModalManager.open((0,g.jsx)(h.default,{subgroupMetadata:t}))}})}},96464:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(5177),i=a(67294),s=n(a(95402)),o=n(a(55944)),l=n(a(60453)),u=n(a(69637)),d=a(94790),c=n(a(35563)),f=a(85893);function h(e,t){var a;const{onClose:n}=e,i=(0,s.default)(),h=()=>{n?n():null==i||i.requestDismiss()},p=e.chat.getReceivedVcardMsgs(),m=null!==(a=null==p?void 0:p.map((e=>(0,f.jsx)(c.default,{msg:e,displayType:r.DISPLAY_TYPE.CONTACT_CARD,onMessageClick:h},e.id.toString()))))&&void 0!==a?a:[];return(0,f.jsxs)(l.default,{ref:t,children:[(0,f.jsx)(d.DrawerHeader,{title:(0,f.jsx)(o.default,{count:p?p.length:0}),onBack:h,type:d.DRAWER_HEADER_TYPE.LARGE}),(0,f.jsx)(u.default,{children:m})]})}var p=(0,i.forwardRef)(h);t.default=p},55944:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{count:t}=e;return n.fbt._({"*":"Contact cards",_1:"Contact card"},[n.fbt._plural(t)],{hk:"SuHZi"})};var n=a(48360)},50485:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onCancel:t,onSend:a,supportTag:u}=e,d=(0,r.useCallback)((e=>{n.ModalManager.open((0,l.jsx)(o.SendLogsPopupLoadable,{onCancel:t,onSend:a,description:null==e?void 0:e.description,supportTag:u}))}),[t,a,u]);if((0,s.isInAppSupportEnabled)())return(0,l.jsx)(i.ContactUsModalLoadable,{onEmail:d,onCancel:t,onFailure:d,supportTag:u});return(0,l.jsx)(o.SendLogsPopupLoadable,{onCancel:t,onSend:a,supportTag:u})};var n=a(14597),r=a(67294),i=a(24390),s=a(41566),o=a(66040),l=a(85893)},4317:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(14597),i=a(93778),s=n(a(60453)),o=n(a(69637)),l=a(94790),u=a(29424),d=n(a(14296)),c=a(57224),f=n(a(11976)),h=a(85893);t.default=e=>{const{vcard:t}=e;return(0,h.jsx)(c.Modal,{type:c.ModalTheme.Box,children:(0,h.jsxs)(s.default,{children:[(0,h.jsx)(l.DrawerHeader,{title:d.default.t(266),type:l.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>r.ModalManager.close()}),(0,h.jsx)(o.default,{children:(0,h.jsx)(u.HotKeys,{children:(0,h.jsx)(f.default,{parsedVcard:t,thumbnail:(0,i.vcardThumbnail)(t)})})})]},"vcard-modal")})}},29234:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=a(51737),s=n(a(97039)),o=a(67294),l=n(a(51799)),u=n(a(59312)),d=n(a(16223)),c=a(87550),f=a(2732),h=a(19380),p=a(85600),m=a(47915),g=n(a(14296)),_=a(88631),v=n(a(67568)),b=n(a(11497)),y=n(a(88406)),C=a(85893);const S="HEADER",E="ROW",T="BUTTON";function x(e){var t;let{data:a,contextMenu:n,onContext:s,openContextOnClick:o,filter:l,contextEnabled:u,onSelect:d,showNotifyName:c,listenForAdminChange:h,participantCollection:p,active:g}=e;switch(a.type){case S:return(0,C.jsx)(b.default,{header:null!==(t=a.header)&&void 0!==t?t:""});case E:const e=(0,i.isString)(l(a.contact)),v=e?"group-modal":null,y=e?l(a.contact):null,x=s&&n?{contextEnabled:u,contextMenu:n(a.contact.id),onContext:s}:{};return(0,C.jsx)(f.Contact,(0,r.default)({contact:a.contact,active:g,theme:v,secondary:y,onClick:o&&s?s:e?void 0:d?()=>{d(a.contact)}:()=>{},waitIdle:!0,showNotifyName:c,listenForAdminChange:h,participantCollection:p},x));case T:return(0,C.jsx)(_.ListButton,{active:g,id:a.itemKey,onClick:a.onClick,children:a.text});default:throw new m.UnknownDataError(a)}}function M(e){const{title:t,onCancel:a,contacts:n,filter:r,onSelect:i,onContext:f,contextEnabled:m,contextMenu:b,openContextOnClick:M,showNotifyName:k,participantCollection:w,listenForAdminChange:P,button:A}=e,j=(0,d.default)((()=>new y.default([],(e=>e.id)))),[I,O]=(0,o.useState)(void 0),N=(0,u.default)();(0,c.useListener)(h.ContactCollection,"add remove change:name",(()=>{n||N()}));const R=(0,l.default)((e=>{O(e)}),100);return(0,C.jsx)(v.default,{title:t,data:(()=>{const e=g.default.accentFold(I),t=(0,s.default)(e),a=(n||h.ContactCollection).filter((a=>r(a)&&(!e||e&&a.searchMatch(e,t)))),i=a.filter((e=>!0===r(e)));A&&i.push({id:"button"}),j.current.init(i);const o=[];if(!a.length)return o;let l,u;const d=a.length>10;for(let e=0;e<a.length;e++)l=a[e],d&&l.header!==u&&o.push({type:S,header:l.header,itemKey:`${l.header||""}_${e}`}),o.push({type:E,contact:l,itemKey:`${l.id.toString()}_${e}`}),u=l.header;if(A){const{text:e,onClick:t}=A;o.push({type:T,text:e,onClick:t,itemKey:"button",height:_.LIST_BUTTON_HEIGHT})}return o})(),renderItem:e=>(0,C.jsx)(x,{data:e,contextMenu:b,onContext:f,openContextOnClick:M,filter:r,contextEnabled:m,onSelect:i,showNotifyName:k,listenForAdminChange:P,participantCollection:w,active:j.current}),emptyState:(0,C.jsx)(p.SearchContacts,{}),selection:j.current,onSearch:R,searchPlaceholder:g.default.t(625),onSelect:(e,t)=>{if(t.type!==E)return;const a=t.contact;!0===r(a)&&(null==i||i(a))},onCancel:a})}M.defaultProps={filter:e=>h.ContactCollection.isFilteredContact(e)};var k=M;t.default=k},77835:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{title:t,countryCode:a,countries:n,onSave:y}=e;const[C,S]=(0,i.useState)(""),[E,T]=(0,i.useState)(a||""),x=(0,i.useCallback)((()=>{r.ModalManager.close(),y(E)}),[E,y]),M=(0,i.useCallback)((e=>{T(e.target.value)}),[]);return(0,_.jsx)(m.Modal,{type:m.ModalTheme.Box,children:(0,_.jsxs)(l.default,{theme:"settings",children:[(0,_.jsx)(d.DrawerHeader,{title:t,type:d.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>r.ModalManager.close()}),(0,_.jsx)(u.default,{children:(0,_.jsxs)(c.FlexColumn,{align:"stretch",children:[(0,_.jsx)(f.default,{shrink:0,xstyle:v.search,children:(0,_.jsx)(h.IconSection,{icon:"search",theme:h.IconSectionTheme.NoMarginSmallGutter,content:(0,_.jsx)(g.TextInput,{value:C,editable:!0,inputPlaceholder:p.default.t(624),onChange:S,focusOnMount:!0,theme:"text-input",lowProfile:!0})})}),(0,_.jsx)(f.default,{xstyle:v.formWrapper,grow:1,children:(0,_.jsx)("form",{className:(0,s.default)(v.form),children:(0,_.jsx)("ol",{children:n.filter((e=>{let[t,a]=e;return t.toLowerCase().includes(C.toLowerCase())||a.toString().toLowerCase().includes(C.toLowerCase())})).map((e=>{let[t,a,n,r]=e;return(0,_.jsx)(b,{selectedCountryCode:E,countryCode:t,label:a,description:n,xstyle:r,onChange:M},t)}))})})})]})}),(0,_.jsx)(c.FlexRow,{justify:"end",xstyle:v.footer,children:(0,_.jsx)(f.default,{children:(0,_.jsx)(o.default,{type:"primary",onClick:x,className:(0,s.default)(v.submitButton),children:p.default.t(622)})})})]})})};var r=a(14597),i=a(67294),s=n(a(56720)),o=n(a(39770)),l=n(a(60453)),u=n(a(69637)),d=a(94790),c=a(29623),f=n(a(48846)),h=a(84287),p=n(a(14296)),m=a(57224),g=a(90011),_=a(85893);const v={inputWrapper:{display:"p357zi0d",alignSelf:"o2es7gts",paddingEnd:"iffbo4e8"},formWrapper:{overflowY:"ag5g9lrv"},form:{paddingTop:"qomlamqu",paddingEnd:"f9ovudaz",paddingBottom:"bxcbqipq",paddingStart:"gx1rr48f"},search:{backgroundColor:"amaavye1",paddingTop:"emrlamx0",paddingEnd:"bcymb0na",paddingBottom:"aiput80m",paddingStart:"e8k79tju"},option:{paddingTop:"emrlamx0",paddingEnd:"bcymb0na",paddingBottom:"aiput80m",paddingStart:"e8k79tju"},label:{display:"f804f6gw",fontSize:"fe5nidar"},description:{color:"hp667wtd",fontSize:"enbbiyaj",lineHeight:"t4tp0euv"},footer:{paddingTop:"emrlamx0",paddingEnd:"itegkywt",paddingBottom:"aiput80m",paddingStart:"rppts313",backgroundColor:"lkjmyc96",borderTop:"swyb62mu"},submitButton:{marginTop:"tt8xd2xn",marginEnd:"jnwc1y2a",marginBottom:"mpdn4nr2",marginStart:"svoq16ka"},cursorPointer:{cursor:"ajgl1lbb"}};function b(e){let{selectedCountryCode:t,countryCode:a,label:n,description:r,xstyle:i,"data-testid":o="country-selector-popup-option",onChange:l}=e;return(0,_.jsx)("li",{className:(0,s.default)(v.option,v.cursorPointer,i),children:(0,_.jsxs)(c.FlexRow,{align:"center",children:[(0,_.jsx)(f.default,{xstyle:v.inputWrapper,children:(0,_.jsx)("input",{id:a,value:a,type:"radio",name:"countryCode",checked:a===t,className:(0,s.default)(v.cursorPointer),onChange:l})}),(0,_.jsxs)(f.default,{grow:1,children:[(0,_.jsx)("label",{htmlFor:a,className:(0,s.default)(v.label,v.cursorPointer),"data-testid":`${o}-label`,children:n}),void 0!==r?(0,_.jsx)("label",{htmlFor:a,className:(0,s.default)(v.description,v.cursorPointer),children:r}):null]})]})})}},43250:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(40234),i=a(21310),s=a(14597),o=a(94816),l=a(78820),u=a(48360),d=a(67294),c=n(a(56720)),f=a(57849),h=n(a(99360)),p=n(a(85260)),m=n(a(60453)),g=n(a(69637)),_=a(94790),v=n(a(33308)),b=a(12591),y=a(29623),C=a(71206),S=a(28307),E=n(a(11339)),T=n(a(88183)),x=a(80132),M=a(65376),k=a(13923),w=a(50452),P=a(85893);const A={banner:{height:"ptxfukc7",width:"ln8gz9je",marginTop:"nylzjxre",marginEnd:"jnwc1y2a",marginBottom:"bvhm1occ",marginStart:"svoq16ka",backgroundSize:"hbhfgwk1",backgroundRepeat:"sxl192xd",backgroundPosition:"t3g6t33p"},header:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"j3oq2rgp"},paragraph:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"pm5hny62"},learnMoreLink:{display:"l7jjieqr",marginTop:"bddvio20"}};function j(e,t){let{onClose:a,entryPoint:n}=e;const j=(0,f.getABPropConfigValue)("disappearing_messages_chat_picker"),[I,O]=(0,d.useState)((()=>{var e,t,a,n;let r;const i=(0,l.getMaybeMeUser)();return i&&(r=(0,S.getDisappearingModeSettingForUser)(i)),{duration:null!==(e=null===(t=r)||void 0===t?void 0:t.duration)&&void 0!==e?e:0,settingTimestamp:null!==(a=null===(n=r)||void 0===n?void 0:n.settingTimestamp)&&void 0!==a?a:0}}));const N=I.duration>0;return(0,P.jsxs)(m.default,{ref:t,testid:"ddm-drawer",children:[(0,P.jsx)(_.DrawerHeader,{a8n:"drawer-title-emphemerality",title:u.fbt._("Default message timer",null,{hk:"8GLek"}),onBack:a,type:_.DRAWER_HEADER_TYPE.LARGE}),(0,P.jsx)(g.default,{children:(0,P.jsxs)(v.default,{theme:"padding-no-vertical",animation:!1,children:[(0,P.jsx)(y.FlexRow,{align:"center",justify:"center",children:(0,P.jsx)("div",{style:{backgroundImage:`url(${p.default})`},className:(0,c.default)(A.banner)})}),(0,P.jsx)(k.TextHeader,{xstyle:A.header,children:u.fbt._("Start new chats with disappearing messages",null,{hk:"HDpit"})}),(0,C.getAllDurations)().map((e=>{let{value:t,label:a}=e;return(0,P.jsx)(x.RadioWithLabel,{name:"duration",value:t,label:a,checked:t===I.duration,onChange:()=>function(e){const t=I.duration,a=I.settingTimestamp;e!==t&&(O({duration:e,settingTimestamp:r.Clock.globalUnixTime()}),(0,M.setDisappearingMode)(e).then((()=>{new E.default.DisappearingModeSettingChange({disappearingModeEntryPoint:n,lastToggleTimestamp:a,newEphemeralityDuration:e,previousEphemeralityDuration:t}).commit()})).catch((()=>{__LOG__(4,void 0,new Error,!0)`DDM duration change failed. Entry: ${n} Previous: ${t} New: ${e}`,SEND_LOGS("DDM-change-fail"),O({duration:t,settingTimestamp:a}),o.ToastManager.open((0,P.jsx)(w.Toast,{id:(0,w.genId)(),msg:u.fbt._("Failed to change disappearing messages duration",null,{hk:"1KZn3u"})}))})))}(t)},t)})),j?(0,P.jsxs)("div",{className:(0,c.default)(A.paragraph),children:[N&&(0,P.jsxs)(k.TextParagraph,{children:[u.fbt._("This setting will not affect your existing chats. At any time, you can {=m1} you’d like to use this timer.",[u.fbt._implicitParam("=m1",(0,P.jsx)(h.default,{onClick:function(){s.ModalManager.open((0,P.jsx)(T.default,{duration:I.duration}))},children:u.fbt._("select existing chats",null,{hk:"3sEFNy"})}))],{hk:"2TC9os"})," "]}),(0,P.jsx)(b.ExternalLink,{href:(0,i.getEphemeralFaqUrl)(),xstyle:A.learnMoreLink,children:u.fbt._("Learn more",null,{hk:"1XDEfh"})})]}):(0,P.jsxs)(k.TextParagraph,{xstyle:A.paragraph,children:[u.fbt._("When enabled, all new individual chats will start with disappearing messages set to the selected duration. This setting will not affect your existing chats.",null,{hk:"4oZdgb"})," ",(0,P.jsx)(b.ExternalLink,{href:(0,i.getEphemeralFaqUrl)(),children:u.fbt._("Learn more",null,{hk:"1XDEfh"})})]})]})})]})}var I=(0,d.forwardRef)(j);t.default=I},65640:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteChatPopup=function(e){const{onCancel:t,onDeleteOrExit:a}=e,n=(0,l.useModelValues)(e.chat,["isReadOnly","isGroup","isUser","isBroadcast"]);return(0,h.jsx)(u.default,{title:p(n),onOK:()=>{let e;n.isGroup?e=n.isReadOnly?(0,d.sendDelete)(n):(0,c.sendExitGroup)(n):n.isUser||n.isBroadcast?e=(0,d.sendDelete)(n):__LOG__(3)`deleteChatPopup:onDelete Unsupported chat type`,e&&a(e),s.ModalManager.close()},okText:g(n),onCancel:()=>{s.ModalManager.close(),null==t||t()},children:(0,h.jsx)(f.TextDiv,{theme:"muted",children:m(n)})})},t.isDelete=_;var r=a(88555),i=a(8139),s=a(14597),o=a(48360),l=a(35461),u=n(a(52665)),d=a(20052),c=a(5501),f=a(13923),h=a(85893);function p(e){return e.isGroup?e.isReadOnly?o.fbt._("Delete this group?",null,{hk:"2PlADN"}):o.fbt._("Exit this group?",null,{hk:"2sYjV0"}):e.isUser?o.fbt._("Delete this chat?",null,{hk:"3v4QBf"}):e.isBroadcast?o.fbt._("Delete broadcast list?",null,{hk:"Xp84E"}):void 0}function m(e){return(0,r.isMDBackend)()&&_(e)?(0,i.clearOrDeleteChatSyncEnabled)()?o.fbt._("Messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"4AXwej"}):o.fbt._("Messages will be removed from this device only.",null,{hk:"42siop"}):(0,i.silentGroupExitEnabled)()?o.fbt._("Only you and group admins will be notified that you left the group.",null,{hk:"26O8WY"}):void 0}function g(e){return e.isGroup?e.isReadOnly?o.fbt._("Delete group",null,{hk:"Raajp"}):o.fbt._("Exit group",null,{hk:"wnp71"}):e.isUser||e.isBroadcast?o.fbt._("Delete chat",null,{hk:"w3dKM"}):void 0}function _(e){return e.isGroup&&e.isReadOnly||e.isUser||e.isBroadcast}},99131:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,o.default)(g.NUX.SENDER_REVOKE_LEGAL_DISCLAIMER_NUX),[n,i]=(0,o.default)(g.NUX.ADMIN_REVOKE_LEGAL_DISCLAIMER_NUX),s=y(e.msgList);if(s.canRevoke){let o=s.admin>0;return!n&&s.sender&&(o=!1),(0,v.jsx)(b,(0,r.default)((0,r.default)({},e),{},{showNux:o?n:t,onRevokeNuxOk:o?i:a}))}return(0,v.jsx)(b,(0,r.default)({},e))};var r=n(a(81109)),i=a(21310),s=a(48360),o=n(a(59732)),l=n(a(39770)),u=n(a(36874)),d=a(80226),c=a(12591),f=n(a(32973)),h=a(29424),p=n(a(14296)),m=a(57224),g=a(61653),_=a(18644),v=a(85893);class b extends f.default{constructor(){super(...arguments),this._handleDelete=()=>{var e,t;null===(e=(t=this.props).onDelete)||void 0===e||e.call(t),this.end()},this._handleRevoke=()=>{this.props.showNux?this.push(this._renderRevokeNux(),"none"):this.end()},this._handlePopupCancel=()=>{this.end()},this._handleCancel=()=>{this.end()},this._openRevokeLearnMore=()=>{(0,c.openExternalLink)((0,i.getRevokeFaqUrl)())},this._handleRevokeNuxOk=()=>{var e,t;null===(e=(t=this.props).onRevokeNuxOk)||void 0===e||e.call(t),this.end()},this._renderRevokeNux=()=>{const e=[(0,v.jsx)(l.default,{type:"secondary",onClick:this._openRevokeLearnMore,children:p.default.t(447)},1),(0,v.jsx)(l.default,{type:"primary",onClick:this._handleRevokeNuxOk,children:s.fbt._("OK",null,{hk:"2KEeHb"})},0)],t=y(this.props.msgList);let a;return 1===t.sender&&0===t.admin?a=s.fbt._("This message will be deleted for everyone in this chat on the latest version of WhatsApp.",null,{hk:"1ZHL3y"}):t.sender>1&&0===t.admin?a=s.fbt._("Messages you selected will be deleted for everyone on the latest version of WhatsApp in this chat.",null,{hk:"1kFtBh"}):0===t.sender&&1===t.admin?a=s.fbt._("This message will be deleted for everyone in this chat on the latest version of WhatsApp. They will see that you deleted the message.",null,{hk:"20D5p8"}):t.sender>0&&1===t.admin&&(a=s.fbt._("Messages you selected will be deleted for everyone on the latest version of WhatsApp in this chat. They will see that you deleted the messages.",null,{hk:"4wsnii"})),(0,v.jsx)(_.UIE,{displayName:"MsgRevokeNuxModal",escapable:!1,children:(0,v.jsx)(h.HotKeys,{handlers:{enter:this._handleRevokeNuxOk},children:(0,v.jsx)(m.Modal,{actions:e,children:(0,v.jsx)("div",{className:u.default.label,children:a})})})})}}componentDidMount(){const{chat:e,msgList:t,toastPosition:a,onCancel:n,isMsgVisible:r}=this.props,i=y(this.props.msgList);this.push((0,v.jsx)(d.DeleteRevokeMsgPopup,{chat:e,msgList:t,toastPosition:a,revokePrompt:i.canRevoke,onDelete:this._handleDelete,onRevoke:this._handleRevoke,onPopupCancel:this._handlePopupCancel,onCancel:n,isMsgVisible:r}))}}function y(e){return e.reduce(((e,t)=>{const a=t.canSenderRevoke(),n=t.canAdminRevoke(),r=e.sender+(a?1:0),i=e.admin+(n?1:0);return{sender:r,admin:i,canRevoke:e.canRevoke&&(a||n)&&i<=1}}),{sender:0,admin:0,canRevoke:!0})}},80226:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteRevokeMsgPopup=function(e){const{msgList:t,revokePrompt:a,onPopupCancel:n,chat:_,toastPosition:v,onCancel:b,onRevoke:y,onDelete:C,isMsgVisible:S}=e,[E,T]=(0,u.useState)(!0),x=()=>{n()},M=()=>{t.length>0&&i.Cmd.sendRevokeMsgs(_,t,{clearMedia:E,toastPosition:v}),y(),b&&b()},k=()=>{i.Cmd.sendDeleteMsgs(_,t,E,null,v),C(),b&&b(),s.DrawerManager.existsDrawerRight((e=>{e&&S&&t.forEach((e=>{S(e.id,!0)&&s.DrawerManager.closeDrawerRight()}))}))},w=()=>{T(!E)};let P;t.some((e=>e.asMms&&e.type!==o.MSG_TYPE.STICKER))&&(P=(0,g.jsxs)("div",{className:f.default.container,onClick:w,children:[(0,g.jsx)("div",{"data-a8n":r.default.key("menu-icon-revoke-message"),className:f.default.control,children:(0,g.jsx)(c.CheckBox,{onChange:w,checked:E})}),(0,g.jsx)("div",{className:f.default.label,children:l.fbt._("Delete file from your phone",null,{hk:"3kXkNc"})})]},0));let A=null,j=null;const I=t.length,O=p.default.t(278,{_plural:I}),N=(0,g.jsx)(d.default,{a8nText:"popup-controls-delete",type:a?"secondary":"primary",onClick:k,children:l.fbt._("Delete for me",null,{hk:"2vYbDY"})},2),R=(0,g.jsx)(d.default,{type:"secondary",onClick:x,children:l.fbt._("Cancel",null,{hk:"H0gNq"})},0);a&&(A=(0,g.jsx)(d.default,{a8nText:"popup-controls-revoke",type:"secondary",onClick:M,children:l.fbt._("Delete for everyone",null,{hk:"2McSeU"})},1));j=A?(0,g.jsxs)("div",{className:f.default.buttons,children:[(0,g.jsx)("div",{className:f.default.button,children:A}),(0,g.jsx)("div",{className:f.default.button,children:N}),(0,g.jsx)("div",{className:f.default.button,children:R})]}):[R,N];return(0,g.jsx)(h.HotKeys,{handlers:{enter:k,escape:x},children:(0,g.jsx)(m.Modal,{title:O,actions:j,children:[P]})})};var r=n(a(99964)),i=a(81572),s=a(41455),o=a(15461),l=a(48360),u=a(67294),d=n(a(39770)),c=a(16593),f=n(a(36874)),h=a(29424),p=n(a(14296)),m=a(57224),g=a(85893)},60453:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=n(a(56720)),s=n(a(5354)),o=n(a(79592)),l=a(85893);const u={belowHeader:{height:"sh5ccnuw",marginTop:"dn3ua38v",position:"lhggkp7q",width:"ln8gz9je"},drawer:{backgroundColor:"g6kkip0l",display:"p357zi0d",flexDirection:"f8m0rgwh",height:"ppled2lx",start:"tkdu00h0",overflowX:"gfz4du6o",overflowY:"r7fjleex",pointerEvents:"jv8uhy2r",position:"lhggkp7q",top:"qq0sjtgm",width:"ln8gz9je"},drawerCapture:{backgroundColor:"ej3x2ktq"},drawerCatalog:{backgroundColor:"svpeipy5"},drawerEdit:{backgroundColor:"ej3x2ktq"},drawerGallery:{backgroundColor:"cumqsjf0"},drawerMedia:{backgroundColor:"ej3x2ktq"},striped:{backgroundColor:"se2m7z6i"},white:{backgroundColor:"ihvf49ua"}};function d(e,t){const{children:a,onDrop:n,onDragChange:d,theme:c,testid:f}=e,h=(0,r.useRef)(null),p=(0,i.default)(u.drawer,("invite"===c||"products"===c||"labels"===c||"settings"===c||"archived"===c||"sticker-store"===c)&&u.white,("capture-contain"===c||"capture-cover"===c)&&u.drawerCapture,"edit"===c&&u.drawerEdit,"media"===c&&u.drawerMedia,"gallery"===c&&u.drawerGallery,"catalog"===c&&u.drawerCatalog,"striped"===c&&u.striped,("capture-contain"===c||"media"===c)&&u.belowHeader,e.xstyle);return(0,l.jsxs)(s.default,{ref:t,className:p,style:e.style,onDragOver:e=>{var t;null===(t=h.current)||void 0===t||t.onDragOver(e)},onDragStart:e=>{var t;null===(t=h.current)||void 0===t||t.onDragStart(e)},onDragEnd:e=>{var t;null===(t=h.current)||void 0===t||t.onDragEnd(e)},testid:f,children:[n&&(0,l.jsx)(o.default,{ref:h,disableFromWithin:!0,onDragChange:d,onDrop:n}),a]})}var c=(0,r.forwardRef)(d);t.default=c},69637:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(6479)),s=n(a(94184)),o=a(67294),l=n(a(68276)),u=n(a(44942)),d=a(85893);const c=["overflow","flatListControllers","children","theme"];function f(e,t){const{overflow:a,flatListControllers:n,children:o,theme:f}=e,h=(0,i.default)(e,c),p=(0,s.default)(l.default.container,{[l.default.noscroll]:"hidden"===a,[l.default.centerItem]:"center-content"===f,[l.default.padding]:"padding"===f,[l.default.centerColumn]:"center-column"===f});return n&&n.length>0?(0,d.jsx)(u.default,(0,r.default)((0,r.default)({flatListControllers:n,className:p},h),{},{children:o})):(0,d.jsx)("div",(0,r.default)((0,r.default)({className:p,ref:t},h),{},{children:o}))}var h=(0,o.forwardRef)(f);t.default=h},27394:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerContext=void 0;const n=(0,a(67294).createContext)({type:null});t.DrawerContext=n},94790:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerHeader=t.DRAWER_HEADER_TYPE=void 0;var r=n(a(99964)),i=n(a(52013)),s=n(a(40436)),o=n(a(94184)),l=a(48360),u=a(67294),d=n(a(44117)),c=a(46346),f=n(a(23217)),h=a(13923),p=a(85893);const m={SMALL:"small",LARGE:"large",POPUP:"popup",OFFSET:"offset",MULTI_MEDIA_GALLERY:"multiMediaGallery",LABELS:"labels"};t.DRAWER_HEADER_TYPE=m;t.DrawerHeader=e=>{var t;const{title:a,onBack:n,onCancel:g,type:_,children:v,menu:b,headingLevel:y,focusBackOrCancel:C}=e,S=(0,u.useRef)(null);(0,u.useEffect)((()=>{C&&S.current&&i.default.focus(S.current)}),[C]);const E=n?(0,p.jsx)("button",{className:d.default.btnCloseDrawer,"data-a8n":r.default.key("btn-closer-drawer"),onClick:n,"aria-label":l.fbt._("Back",null,{hk:"JgQC7"}),ref:S,children:(0,p.jsx)(f.default,{name:"back",directional:!0})}):null,T=g?(0,p.jsx)("button",{className:d.default.btnCloseDrawer,"data-a8n":r.default.key("btn-closer-drawer"),onClick:g,"aria-label":l.fbt._("Close",null,{hk:"17RE2w"}),ref:S,children:(0,p.jsx)(f.default,{name:"x"})}):null,x=null!=b?(0,p.jsx)("span",{className:d.default.paneListControls,children:(0,p.jsx)(c.MenuBar,{theme:_!==m.SMALL?"inverse":null,children:(0,p.jsx)(s.default,{transitionName:"btn",children:b})},"drawer-header")}):null,M=(0,o.default)({[d.default.multiMediaGallery]:_===m.MULTI_MEDIA_GALLERY,[d.default.labels]:_===m.LABELS,[d.default.drawerHeader]:_===m.LARGE||_===m.MULTI_MEDIA_GALLERY||_===m.LABELS,[d.default.drawerHeaderSmall]:_===m.SMALL,[d.default.drawerHeaderOffset]:_===m.OFFSET||_===m.POPUP,[d.default.drawerHeaderPopup]:_===m.POPUP,[d.default.drawerHeaderMacRtlFix]:!1}),k=a&&null!=v?(0,p.jsx)("div",{className:d.default.side,children:v}):null;return(0,p.jsx)("header",{className:M,children:(0,p.jsxs)("div",{className:d.default.drawerTitle,"data-animate-drawer-title":!0,children:[(0,p.jsxs)("div",{className:d.default.drawerTitleAction,children:[E,T]}),(0,p.jsx)("div",{"data-a8n":r.default.key(null!==(t=e.a8n)&&void 0!==t?t:"drawer-title-body"),className:d.default.drawerTitleBody,children:(0,p.jsx)(h.TextHeader,{level:y,weight:"inherit",customSize:"inherit",children:a||v})}),k,x]})})}},70835:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(56720)),i=n(a(14296)),s=a(52596),o=a(85893);const l={item:{lineHeight:"r5qsrrlp",minHeight:"g4oj0cdv",paddingTop:"gaujl5hk"},itemBody:{borderBottom:"daad4uqs",paddingBottom:"p9a4hubg",textAlign:"ml4r5409"},itemBodyRTL:{textAlign:"cb8ormfa"},lastItemBody:{borderBottom:"thn59n0e"},main:{flex:"a1m9qzja"},primary:{color:"tviruh8d",fontSize:"bze30y65"},row:{alignItems:"gndfcl4n",display:"p357zi0d"},secondary:{color:"jq3rn4u7",fontSize:"f8jlpxt4",fontWeight:"bcr6az0x",lineHeight:"g2xi8p6r"},secondaryPrivacy:{color:"g4ti3y4y"},side:{color:"svlsagor",flex:"kk3akd72"}};var u=e=>{let{title:t,icon:a,onClick:n,children:u,isLastItem:d,theme:c="default",testid:f}=e;const h=(0,r.default)(l.itemBody,i.default.isRTL()&&l.itemBodyRTL,null!=a&&l.row,d&&l.lastItemBody),p=(0,r.default)(null!=a&&l.main),m=(0,r.default)(null!=a&&l.side);return(0,o.jsx)("div",{className:(0,r.default)(l.item),onClick:n,role:n?"button":"","data-testid":f,children:(0,o.jsxs)("div",{className:h,children:[(0,o.jsxs)("div",{className:p,dir:"auto",children:[(0,o.jsx)(s.SelectableDiv,{className:(0,r.default)(l.primary),selectable:!0,children:t}),(0,o.jsx)("div",{className:(0,r.default)(l.secondary,"privacy"===c&&l.secondaryPrivacy),children:u})]}),(0,o.jsx)("div",{className:m,children:a})]})})};t.default=u},53277:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.Dir=void 0,t.DrawerManagerComponent=function(e){const{direction:t,onDrawerIn:a,onDrawerOut:n,onDrawerAnimationComplete:E}=e,T=(0,p.default)(),x=(0,c.useRef)(null),M=(0,c.useRef)(null),k=(0,c.useRef)(!1),[w,P]=(0,c.useState)(void 0),[A,j]=(0,c.useState)(null),[I,O]=(0,c.useState)((()=>S(e.direction))),[N,R]=(0,c.useState)(void 0),[D,L]=(0,c.useState)(void 0),[B,F]=(0,c.useState)(void 0),[G,U]=(0,c.useState)(_.FocusType.CUSTOM),V=e=>{e&&A!==e||w&&(n&&n(),k.current=!0,P(void 0),F(void 0),T((()=>{k.current=!1})))},W=()=>{if(!x.current)return;const e=x.current.getNode();e&&!e.contains(document.activeElement)&&u.default.focus(e)};(0,h.useListener)(l.DrawerManager,`open_drawer_${t}`,(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S(t),r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;const d=(0,s.default)(`DrawerManager${t}`);if(!k.current&&w){if(null!=w.key&&(0,i.default)(w.key,e.key))return;M.current=C.NONE,f.default.unstable_batchedUpdates((()=>{P(e),j(d),O(n),R(r),L(o),F(l),U(u)})),T((()=>{M.current=n}))}else a&&a(),f.default.unstable_batchedUpdates((()=>{P(e),j(d),O(n),R(r),L(o),F(l),U(u)}))})),(0,h.useListener)(l.DrawerManager,`exists_drawer_${t}`,(e=>{e(!0!==k.current&&!!w)})),(0,h.useListener)(l.DrawerManager,`close_drawer_${t}`,V),(0,h.useListener)(l.DrawerManager,`update_context_${t}`,(e=>{F(e)}));const H=M.current||I;let q;w&&(q=(0,y.jsx)(v.UIE,{displayName:`Drawer${(0,r.default)(t)}`,escapable:!0,ref:x,requestFocus:(null==D?void 0:D.noFocus)?null:W,requestDismiss:V.bind(null,A),children:(0,y.jsx)(_.RotateFocus,{style:{height:"100%"},focusType:G,children:B?(0,y.jsx)(m.DrawerContext.Provider,{value:B,children:w}):(0,y.jsx)(y.Fragment,{children:w})})},A));return(0,y.jsx)(b.default.Consumer,{children:e=>(0,y.jsx)(b.default.Provider,{value:N||e,children:(0,y.jsx)(d.default,{className:g.default.container,transitionName:H,onAnimationComplete:()=>{return e=A,E&&E(),void(D&&w&&e===A&&(0,o.isFunction)(D.onEnterAnimationComplete)&&D.onEnterAnimationComplete());var e},children:q})})})},t.Transition=void 0;var r=n(a(11700)),i=n(a(18446)),s=n(a(73955)),o=a(51737),l=a(41455),u=n(a(52013)),d=n(a(40436)),c=a(67294),f=n(a(73935)),h=a(87550),p=n(a(74570)),m=a(27394),g=n(a(90592)),_=a(87956),v=a(18644),b=n(a(2773)),y=a(85893);const C={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"};t.Transition=C;t.Dir={LEFT:"left",MID:"mid",RIGHT:"right"};const S=e=>C[e.toUpperCase()]},33308:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(99964)),i=n(a(94184)),s=a(67294),o=n(a(56720)),l=n(a(17764)),u=n(a(53145)),d=a(13923),c=a(85893);const f={paddingTop:"gaujl5hk",paddingEnd:"bcymb0na",paddingBottom:"p9a4hubg",paddingStart:"e8k79tju"};function h(e,t){let{children:a,title:n,titleXStyle:s,titleTextXStyle:h,subtitle:p,titleOnClick:m,a8nText:g,"data-list-scroll-offset":_,theme:v,animation:b=!0,className:y,xstyle:C,ellipsify:S=!0,shadow:E=!0}=e;const T=v?l.default[v]:null,x=(0,i.default)(l.default.container,{[l.default.animate]:b,[l.default.shadow]:E},T,y,(0,o.default)(C));let M;if(null!=n){let e="section-title";"list-section"===v||"title-larger"===v?e="section-title-larger":"chat-info"===v&&(e="chat-info-section-title"),M=(0,c.jsx)("div",{className:(0,i.default)(l.default.title,(0,o.default)(f,s)),"data-a8n":r.default.key(g),role:m?"button":null,onClick:m,children:(0,c.jsx)(u.default,{side:p,ellipsify:S,children:(0,c.jsx)(d.TextSpan,{xstyle:h,theme:e,children:n})})})}return(0,c.jsxs)("div",{ref:t,className:x,"data-list-scroll-offset":_,children:[M,a]})}var p=(0,s.forwardRef)(h);t.default=p},4061:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{e2eSubtype:t,chatId:a,chat:n,msg:j,highlightSurface:I,jid:O}=e;(0,p.useEffect)((()=>{if((0,r.isMDBackend)()){const e=(0,l.assertGetMe)(),t=O?[(0,d.createWid)(O.toString()),e]:[e];(0,v.getFanOutListJob)(t).then((e=>{(0,x.ensureE2ESessions)(e)})),(0,T.isPrivacyNarrativeV1Enabled)()&&new M.default.PrivacyHighlight({highlightCategory:"e2e",highlightSurface:I,userActionType:M.default.USER_ACTION_TYPE.DIALOG_APPEAR}).commit()}}),[]);const N=()=>{if(!O)return;const e=O.equals((0,l.getMeUser)())?a:O;o.ModalManager.close(),i.Cmd.verificationDrawer(e)};let R,D,L=null,B=null,F=null,G=null,U=E.default.t(447),V=null;switch(F=()=>o.ModalManager.close(),G=f.fbt._("OK",null,{hk:"2KEeHb"}),t){case"info_encrypted":if(D=(0,s.getE2EFaqUrl)(),(0,T.isPrivacyNarrativeV1Enabled)()&&!(null==n?void 0:n.isSupportGroup()))return(0,A.jsx)(b.E2eSummaryInfoModal,{highlightSurface:I,url:D});u.default.isGroup(a)?(null==n?void 0:n.isSupportGroup())?(R=f.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),U=f.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}),D=(0,s.getSupportChatSafetyFaqUrl)()):R=(0,P.isGroupCallEnabled)()?f.fbt._("Messages and calls to this group are secured with end-to-end encryption, which means WhatsApp and third parties can't read or listen to them.",null,{hk:"o6dGe"}):f.fbt._("Messages you send to this group are secured with end-to-end encryption, which means WhatsApp and third parties can't read them.",null,{hk:"2xYbHw"}):u.default.isBroadcast(a)&&(R=f.fbt._("Messages you send to this broadcast list are secured with end-to-end encryption, which means WhatsApp and third parties can't read them.",null,{hk:"27mjFa"}));break;case"identity":{const t=O&&_.ContactCollection.get(O);if(null==t?void 0:t.isMe)if(__LOG__(4,void 0,new Error,!0)`formatE2ENotification: receive identity notification of self`,SEND_LOGS("SelfIdentityNotificationError"),u.default.isGroup(a))R=f.fbt._('Your security code with all participants changed because there was a registration on a new device of yours. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"3CxdRh"});else if(u.default.isBroadcast(a))R=f.fbt._('Your security code with all recipients changed because there was a registration on a new device of yours. To verify a contact\'s security code, open their Contact Info page and click "Encryption".',null,{hk:"3vKS62"});else{const e=_.ContactCollection.get(a),t=e?e.formattedName:(0,c.widToFormattedUser)(a);R=E.default.t(887,{name:t})}else{const a=t?t.formattedName:(0,c.widToFormattedUser)(e.jid);R=E.default.t(886,{name:a})}(0,r.isMDBackend)()?(L=F,B=G,F=N,G=f.fbt._("Verify",null,{hk:"2u9OID"}),D=(0,s.getMDCodeChangeFaqUrl)()):(L=F,B=f.fbt._("Cancel",null,{hk:"H0gNq"}),D=(0,s.getCodeChangeFaqUrl)());break}case"device":{(0,h.default)(null!=j,"msg shouldn't be null");const e=(0,k.unproxy)(j);if(R=(0,C.default)(e,!0),(0,r.isMDBackend)()){L=F,B=G;const t=e.body?_.ContactCollection.get(e.body):null;(null==t?void 0:t.isMe)&&(a.isGroup()||a.isBroadcast())?(F=void 0,G=void 0):(F=N,G=f.fbt._("Verify",null,{hk:"2u9OID"})),D=(0,s.getMDCodeChangeFaqUrl)()}else L=F,B=f.fbt._("Cancel",null,{hk:"H0gNq"}),D=(0,s.getCodeChangeFaqUrl)();break}case"encrypt":case"encrypt_now":default:if(D=(0,w.securityUrl)(),(0,T.isPrivacyNarrativeV1Enabled)()&&!(null==j?void 0:j.chat.isSupportGroup())&&!(0,S.default)(a.user))return(0,A.jsx)(b.E2eSummaryInfoModal,{highlightSurface:I,url:D});if(u.default.isGroup(a))(null==j?void 0:j.chat.isSupportGroup())?(R=f.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),U=f.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}),D=(0,s.getSupportChatSafetyFaqUrl)()):R=(0,P.isGroupCallEnabled)()?f.fbt._("WhatsApp secures your conversations with end-to-end encryption. This means your messages, calls and status updates stay between you and the people you choose. Not even WhatsApp can read or listen to them.",null,{hk:"1tJbs1"}):f.fbt._("WhatsApp secures your conversations with end-to-end encryption. This means your messages and status updates stay between you and the people you choose. Not even WhatsApp can read or listen to them.",null,{hk:"4cGcGP"});else if((0,S.default)(a.user))R=f.fbt._("WhatsApp secures your messages and calls with this account.",null,{hk:"18Ci1q"}),U=f.fbt._("Learn more about chats with WhatsApp Support.",null,{hk:"1an25A"}),D=(0,s.getSupportChatSafetyFaqUrl)();else if(u.default.isBroadcast(a))R=f.fbt._("WhatsApp secures your conversations with end-to-end encryption. This means your messages and status updates stay between you and the people you choose. Not even WhatsApp can read or listen to them.",null,{hk:"4cGcGP"});else{const e=(0,P.isVoiceCallEnabled)()||(0,P.isVideoCallEnabled)();V=f.fbt._("WhatsApp secures your conversations with end-to-end encryption.",null,{hk:"1y1wzm"}),R=e?f.fbt._("Your messages and calls stay between you and the people and businesses you choose. Not even WhatsApp can read or listen to them.",null,{hk:"1QdXdG"}):f.fbt._("Your messages stay between you and the people and businesses you choose. Not even WhatsApp can read or listen to them.",null,{hk:"4a0dhC"})}}const W=(0,A.jsx)(m.default,{onClick:()=>{(0,T.isPrivacyNarrativeV1Enabled)()&&new M.default.PrivacyHighlight({highlightCategory:"e2e",highlightSurface:I,userActionType:M.default.USER_ACTION_TYPE.DIALOG_SELECT}).commit(),(0,y.openExternalLink)(D)},children:U}),H=(0,A.jsxs)(A.Fragment,{children:[R," ",W]});return(0,A.jsx)(g.default,{title:V,onOK:F,okText:G,onCancel:L,cancelText:B,children:H})};var r=a(88555),i=a(81572),s=a(21310),o=a(14597),l=a(78820),u=n(a(89867)),d=a(45454),c=a(62054),f=a(48360),h=n(a(41143)),p=a(67294),m=n(a(99360)),g=n(a(52665)),_=a(19380),v=a(26409),b=a(62657),y=a(12591),C=n(a(30344)),S=n(a(78542)),E=n(a(14296)),T=a(41566),x=a(97398),M=n(a(11339)),k=a(18146),w=a(1010),P=a(69594),A=a(85893)},30305:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(21310),i=n(a(81602)),s=a(94816),o=a(48360),l=a(67294),u=n(a(56720)),d=n(a(59732)),c=n(a(55010)),f=n(a(95402)),h=n(a(39770)),p=a(23817),m=n(a(99360)),g=n(a(60453)),_=n(a(69637)),v=a(94790),b=n(a(33308)),y=n(a(70263)),C=n(a(92744)),S=a(12591),E=a(29623),T=a(71206),x=n(a(14296)),M=a(41566),k=a(47645),w=n(a(11339)),P=n(a(87759)),A=a(61653),j=a(80132),I=a(13923),O=a(50452),N=a(85893);const R={animation:{height:"ptxfukc7",width:"hp5m5kpu",marginTop:"nylzjxre",marginEnd:"jnwc1y2a",marginBottom:"bvhm1occ",marginStart:"svoq16ka"},ddmLink:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"pm5hny62"},nux:{marginTop:"nylzjxre",marginEnd:"lfum0007",marginBottom:"bvhm1occ",marginStart:"r6x3u63k",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7"},nuxAction:{paddingTop:"emrlamx0",paddingEnd:"bcymb0na",paddingBottom:"aiput80m",paddingStart:"e8k79tju",marginBottom:"du8bjn1j",textAlign:"qfejxiq4"},header:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"j3oq2rgp"},paragraph:{marginTop:"eg3lofc5",marginEnd:"jnwc1y2a",marginBottom:"pz0xruzv",marginStart:"svoq16ka",fontSize:"f8jlpxt4",lineHeight:"jgi8eev7",color:"pm5hny62"}};function D(e,t){const{chat:a,entryPoint:n,showNux:D,onClose:L,onDDMSettingsClick:B}=e,F=(0,f.default)(),G=e=>e.getEphemeralSetting()||0,[U,V]=(0,l.useState)((()=>G(a))),W=()=>{const e=G(a);if(U===e)return;if(!i.default.online)return void s.ToastManager.open((0,N.jsx)(O.Toast,{msg:o.fbt._("You can't change this setting because you're not connected to the Internet. Check your Internet and try again.",null,{hk:"3r2v54"}),id:(0,O.genId)()}));const t={chatEphemeralityDuration:U,previousEphemeralityDuration:e};if(null!=n&&(t.ephemeralSettingEntryPoint=n),a.isGroup){var r,l;const e=(0,P.default)(null!==(r=null===(l=a.groupMetadata)||void 0===l?void 0:l.participants.length)&&void 0!==r?r:0);t.ephemeralSettingGroupSize=e}(0,p.changeEphemeralDuration)(a,U);new w.default.EphemeralSettingChange(t).commit()},H=()=>{D||W(),L?L():null==F||F.requestDismiss()},q=e=>{const t=parseInt(e.target.value,10);V(t)},[Y,z]=(0,d.default)(A.NUX.EPHEMERAL);(0,c.default)((()=>{Y&&z()}));const K=(0,M.isDefaultDisappearingMessagesEnabled)();return(0,N.jsxs)(g.default,{theme:"gallery",ref:t,testid:"chat-dm-settings-drawer",children:[(0,N.jsx)(v.DrawerHeader,{title:o.fbt._("Disappearing messages",null,{hk:"384ocn"}),onBack:H,type:v.DRAWER_HEADER_TYPE.LARGE}),(0,N.jsx)(_.default,{children:e.showNux?(0,N.jsxs)(b.default,{animation:!1,children:[(0,N.jsx)("div",{className:(0,u.default)(R.nux),children:(0,N.jsx)(y.default,{fromMe:!1})}),(0,N.jsx)("div",{className:(0,u.default)(R.nuxAction),children:(0,N.jsx)(h.default,{type:"primary",onClick:H,children:o.fbt._("OK",null,{hk:"2KEeHb"})})})]}):(0,N.jsxs)(b.default,{animation:!1,theme:"padding-no-vertical",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(E.FlexRow,{align:"center",justify:"center",children:(0,N.jsx)(k.LottieAnimation,{loop:!0,autoplay:!0,data:C.default,xstyle:R.animation})}),(0,N.jsx)(I.TextHeader,{xstyle:R.header,children:o.fbt._("Make messages in this chat disappear",null,{hk:"2yBwQo"})}),(0,N.jsxs)(I.TextParagraph,{xstyle:R.paragraph,children:[a.isGroup?o.fbt._("For more privacy and storage, all new messages will disappear from this chat for everyone after the selected duration. Group admins control who can change this setting.",null,{hk:"2wzKCv"}):o.fbt._("For more privacy and storage, all new messages will disappear from this chat for everyone after the selected duration. Anyone in the chat can change this setting.",null,{hk:"3pYSKY"})," ",(0,N.jsx)(S.ExternalLink,{href:(0,r.getEphemeralFaqUrl)(),children:x.default.t(447)})]})]}),(0,T.getAllDurations)().map((e=>{let{value:t,label:a}=e;return(0,N.jsx)(j.RadioWithLabel,{name:"duration",value:t,label:a,checked:t===U,onChange:q},t)})),K&&(0,N.jsx)(I.TextParagraph,{xstyle:R.ddmLink,children:o.fbt._("Update your {=m1} in Settings",[o.fbt._implicitParam("=m1",(0,N.jsx)(m.default,{onClick:B,children:o.fbt._("default message timer",null,{hk:"nymT1"})}))],{hk:"nnsrt"})})]})})]})}var L=(0,l.forwardRef)(D);t.default=L},70263:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.fromMe?i.fbt._("Get Started With Disappearing Messages",null,{hk:"293cLq"}):i.fbt._("Disappearing messages are turned on in this chat",null,{hk:"GfWv5"}),a=i.fbt._("For more privacy and storage, all new messages will disappear for everyone in this chat after the selected duration.",null,{hk:"1QYhZP"});let n;n=e.fromMe?i.fbt._("This setting does not affect your existing chats or any messages already saved to your device. Remember, people may find other ways to save messages.",null,{hk:"Lj7oV"}):(0,h.jsxs)(h.Fragment,{children:[i.fbt._("This setting does not affect your existing chats or any messages already saved to your device. Remember, people may find other ways to save messages.",null,{hk:"Lj7oV"})," ",(0,h.jsx)(o.ExternalLink,{href:(0,r.getEphemeralFaqUrl)(),children:d.default.t(447)})]});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.FlexRow,{align:"center",justify:"center",children:(0,h.jsx)(c.LottieAnimation,{loop:!0,autoplay:!0,data:s.default,xstyle:p.animation})}),(0,h.jsx)(l.FlexRow,{align:"center",justify:"center",children:(0,h.jsx)(u.default,{xstyle:p.badge,children:i.fbt._("NEW",null,{hk:"zkHRf"})})}),(0,h.jsx)(f.TextHeader,{xstyle:p.header,children:t}),(0,h.jsx)(f.TextParagraph,{xstyle:p.paragraph,children:a}),(0,h.jsx)(f.TextParagraph,{xstyle:p.paragraph,children:n})]})};var r=a(21310),i=a(48360),s=(n(a(56720)),n(a(92744))),o=a(12591),l=a(29623),u=n(a(48846)),d=n(a(14296)),c=a(47645),f=a(13923),h=a(85893);const p={badge:{backgroundColor:"aquyuamc",borderTopStartRadius:"boajuire",borderTopEndRadius:"o93wvyfv",borderBottomEndRadius:"i5w8n1e6",borderBottomStartRadius:"cnpay6qi",color:"qiqvuef5",fontSize:"dsh4tgtl",marginTop:"iy2cu22y",paddingTop:"eujn52yf",paddingEnd:"abxuf49s",paddingBottom:"ckm995li",paddingStart:"mhcwslh8",textTransform:"ofejerhi"},header:{fontSize:"p9fp32ui",lineHeight:"pvbam5uh",marginTop:"iy2cu22y"},animation:{height:"ptxfukc7",width:"hp5m5kpu"},paragraph:{marginTop:"iy2cu22y"}}},91204:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=t=>{var a;t.stopPropagation(),t.preventDefault(),null===(a=e.onLearnMoreClicked)||void 0===a||a.call(e)},a=(0,u.jsx)(i.default,{a8nText:"popup-controls-learn-more",type:"secondary",onClick:t,children:o.default.t(447)}),n=(0,u.jsx)(i.default,{a8nText:"popup-controls-ok",type:"primary",onClick:t=>{var a;t.stopPropagation(),t.preventDefault(),null===(a=e.onOkClicked)||void 0===a||a.call(e)},children:r.fbt._("OK",null,{hk:"2KEeHb"})}),d={escape:e.onLearnMoreClicked?t:()=>{}},c=(0,u.jsxs)(u.Fragment,{children:[a,n]});return(0,u.jsx)(s.HotKeys,{handlers:d,children:(0,u.jsx)(l.Modal,{actions:c,children:e.children,title:e.title})})};var r=a(48360),i=n(a(39770)),s=a(29424),o=n(a(14296)),l=a(57224),u=a(85893)},42547:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{groupCode:t}=e,[a,n]=(0,c.useState)(k),[A,j]=(0,c.useState)(void 0),[I,O]=(0,c.useState)(void 0),[N,R]=(0,c.useState)(void 0),D=(0,f.default)(),L=e=>{let t;e?t=e:I&&(t=I.id),t&&l.Cmd.openChatFromUnread(h.ChatCollection.assertGet(t)),u.ModalManager.close()};let B=!1;(0,c.useEffect)((()=>{(0,s.default)((0,x.queryGroupInviteInfo)(t),D).then((e=>{const{inGroup:t}=e;t?L(e.groupMetadata.id):(j(e.status),O(e.groupMetadata),R(e.subject),n(w))})).catch((0,i.filteredCatch)(o.ServerStatusCodeError,(e=>{j(e.status),n(P)}))).catch((0,r.catchAbort)((()=>{})))}),[]);const F=()=>{(0,s.default)((0,b.joinGroupViaInvite)(t),D).then((e=>{l.Cmd.openChatFromUnread(e).then((t=>{t&&l.Cmd.focusChatTextInput(e)})),u.ModalManager.close()})).catch((0,r.catchAbort)((()=>{}))).catch((0,i.filteredCatch)(o.ServerStatusCodeError,(e=>{n(P),j(e.status)})))},G={cancelText:E.default.t(384),onCancel:()=>{u.ModalManager.close()},onOK:void 0,okText:void 0};let U,V;if(a===k)U=(0,M.jsx)(v.LoadingWithText,{text:E.default.t(385)});else if(a===w&&I){const e=I.participants,a=I.size||e.length,n=e.filter((e=>!!m.ContactCollection.assertGet(e.id).name));let r;const i=I.desc?(0,M.jsx)("div",{className:y.default.metadataDesc,children:I.desc}):null;r=n.length?(0,M.jsxs)("div",{className:y.default.participantList,children:[(0,M.jsxs)("div",{className:y.default.participantsTitle,children:[E.default.t(389,{count:a,_plural:a})," ","•"," ",E.default.t(386,{count:n.length,_plural:n.length})]}),(0,M.jsx)("div",{className:y.default.participantsContainer,children:n.map((e=>(0,M.jsxs)("div",{className:y.default.participantWrapper,children:[(0,M.jsx)(g.DetailImage,{id:e.id}),(0,M.jsx)(_.EmojiText,{className:y.default.participantText,text:e.contact.formattedName})]},e.id.toString())))})]}):(0,M.jsxs)("div",{className:y.default.emptyContentContainer,children:[(0,M.jsx)("span",{className:y.default.participantsText,children:E.default.t(389,{count:a,_plural:a})}),(0,M.jsxs)("span",{className:y.default.contactsText,children:[" ","•"," ",E.default.t(386,{count:n.length,_plural:n.length})]})]}),U=(0,M.jsxs)("div",{className:y.default.container,children:[(0,M.jsxs)("div",{className:y.default.metadataContainer,children:[(0,M.jsx)(S.ImgWithFallback,{fallbackSVG:"default-group",size:82,imgProps:{src:`https://web.whatsapp.com/invite/icon/${t}`}}),(0,M.jsxs)("div",{className:y.default.metadataText,children:[(0,M.jsx)(_.EmojiText,{className:y.default.metadataTitle,text:N}),i]})]}),r]});const s=h.ChatCollection.get(I.id),o=!!s&&!s.isReadOnly;G.onOK=o?L:F,G.okText=o?d.fbt._("View group",null,{hk:"27ij4N"}):E.default.t(387),V=T.ModalTheme.Flex}else{let e;switch(A){case 401:e=d.fbt._("You can't join this group because you were removed.",null,{hk:"3PHNXf"});break;case 404:e=d.fbt._("You can't join this group because it has ended.",null,{hk:"38SN9a"});break;case 410:e=d.fbt._("You can't join this group because this invite link was reset.",null,{hk:"1zEGh5"});break;case 436:e=d.fbt._("You can't join this group because the invite link is unavailable.",null,{hk:"4LVCw"}),B=!0;break;case 419:e=d.fbt._("You can't join this group because it is full.",null,{hk:"1D8JSO"});break;default:e=d.fbt._("Couldn't join this group. Please try again.",null,{hk:"10viZM"})}G.cancelText=d.fbt._("OK",null,{hk:"2KEeHb"}),U=(0,M.jsx)("div",{children:e})}return B?(0,M.jsx)(C.GrowthLockedModal,{}):(0,M.jsx)(p.default,{cancelText:G.cancelText,onCancel:G.onCancel,onOK:G.onOK,okText:G.okText,type:V,children:U})};var r=a(89385),i=a(50796),s=n(a(47259)),o=a(92574),l=a(81572),u=a(14597),d=a(48360),c=a(67294),f=n(a(3409)),h=a(69951),p=n(a(52665)),m=a(19380),g=a(88984),_=a(65417),v=a(85600),b=a(73058),y=n(a(77021)),C=a(55800),S=a(50981),E=n(a(14296)),T=a(57224),x=a(96269),M=a(85893);const k=0,w=1,P=2},89136:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,m.useState)(L),[n,p]=(0,m.useState)(void 0),[D,U]=(0,m.useState)(void 0),[V,W]=(0,m.useState)(void 0),[H,q]=(0,m.useState)(void 0),Y=(0,g.useModelValues)(e.msg,["id","to","inviteCode","inviteCodeExp","inviteGrp","isGroupsV4InviteExpired","from","chat","isSentByMe"]),{inviteGrp:z,inviteCodeExp:K,inviteCode:$,isGroupsV4InviteExpired:Q,from:X,isSentByMe:J}=Y,Z=e=>{switch(e){case 400:return h.fbt._("Can't Join.",null,{hk:"1vIJiX"});case 401:return h.fbt._("You can't join this group because you were removed.",null,{hk:"3PHNXf"});case 404:return h.fbt._("You can't join this group because it has ended.",null,{hk:"38SN9a"});case 409:return h.fbt._("You can't join this group because you are already a member of it.",null,{hk:"3sUUND"});case 410:return h.fbt._("You can't join this group because this invite link was reset.",null,{hk:"1zEGh5"});case 419:return h.fbt._("You can't join this group because it is full.",null,{hk:"1D8JSO"});default:return h.fbt._("Couldn't join this group. Please try again.",null,{hk:"10viZM"})}};(0,m.useEffect)((()=>{if(J){const e=_.ChatCollection.assertGet((0,f.createWid)(z));return void(e.groupMetadata&&x.default.find(e.id).catch((0,r.filteredCatch)([i.WebdDrop,l.ProtoVersionUndefined],(()=>{}))).finally((()=>{p(200),W(e.groupMetadata),q(e.formattedTitle||e.name),a(B)})))}let e=Promise.resolve();e=(0,s.isMDBackend)()?(0,j.queryGroupInviteV4Info)($,K.toString(),z,Y.from.toString()):N.default.groupV4InviteRequestMetadataFind((0,c.getMaybeMeUser)().toString(),Y.from.toString(),$,String(K),z),e.then((e=>{if(null!=e.status&&e.status>=400)p(e.status),a(F),U(Z(e.status));else if(e.id){const t=new T.default({id:e.id,owner:e.owner,creation:e.creation,desc:e.desc,descId:e.descId,descOwner:e.descOwner,descTime:e.descTime,restrict:e.restrict,announce:e.announce,participants:e.participants});p(200),W(t),q(e.subject),a(B)}else p(e.status),a(F),U(Z(e.status))})).catch((0,r.filteredCatch)(l.Unmount,(()=>{})))}),[]);const ee=e=>{let t;e?t=e:V&&(t=V.id),t&&o.Cmd.openChatFromUnread(_.ChatCollection.assertGet(t)),u.ModalManager.close()},te=e=>{switch(e){case 400:return h.fbt._("Failed to revoke this invite.",null,{hk:"1DzSUz"});case 401:return h.fbt._("You can't revoke this group invite because you are not an admin of this group.",null,{hk:"3sfM8v"});case 403:return h.fbt._("You can't revoke this group invite because you are not a participant of this group.",null,{hk:"4DU6Va"});case 404:return h.fbt._("You can't revoke this group invite because this group has ended.",null,{hk:"3KFLBE"});default:return h.fbt._("Can't revoke invite. Please try again.",null,{hk:"1Lf1a8"})}},ae=()=>{const e=_.ChatCollection.assertGet((0,f.createWid)(z)).groupMetadata;u.ModalManager.open((0,R.jsx)(v.default,{onOK:()=>{u.ModalManager.close(),null==e||e.revokeGroupV4AddInvite([Y.to.toString()]).then((e=>{d.ToastManager.open((0,R.jsx)(O.Toast,{msg:null!=e&&e>=400?te(e):h.fbt._("Invite reset",null,{hk:"MgErr"}),id:(0,O.genId)()}))}))},okText:h.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>u.ModalManager.close(),cancelText:h.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,R.jsx)(C.EmojiText,{text:w.default.t(413,{participant:Y.chat.contact.formattedName})})}))},ne=()=>{let e=Promise.resolve();e=(0,s.isMDBackend)()?(0,j.joinGroupViaInviteV4)($,K.toString(),z,X.toString()):N.default.acceptGroupV4Invite(z,X.toString(),$,String(K),(0,c.getMaybeMeUser)().toString()),e.then((e=>{if(200===e.status)return(0,E.findChat)((0,f.createWid)(z));throw e.status})).then((e=>{o.Cmd.openChatFromUnread(e).then((t=>{t&&o.Cmd.focusChatTextInput(e)})),u.ModalManager.close()})).catch((0,r.filteredCatch)(l.Unmount,(()=>{}))).catch((e=>{a(F),p(e),U(Z(e))}))},re={cancelText:w.default.t(384),onCancel:()=>{u.ModalManager.close()},onOK:void 0,okText:void 0};let ie,se;if(t===L)ie=(0,R.jsx)(S.Loading,{});else if(t===B&&V){const e=V.participants,t=V.size||e.length,a=e.filter((e=>!!b.ContactCollection.assertGet(e.id).name));let n;const r=V.desc?(0,R.jsx)("div",{className:M.default.metadataDesc,children:(0,R.jsx)(C.EmojiText,{text:V.desc})}):null;n=a.length?(0,R.jsxs)("div",{className:M.default.participantList,children:[(0,R.jsxs)("div",{className:M.default.participantsTitle,children:[w.default.t(389,{count:t,_plural:t})," ","•"," ",w.default.t(386,{count:a.length,_plural:a.length})]}),(0,R.jsx)("div",{className:M.default.participantsContainer,children:a.map((e=>(0,R.jsxs)("div",{className:M.default.participantWrapper,children:[(0,R.jsx)(y.DetailImage,{id:e.id}),(0,R.jsx)(C.EmojiText,{className:M.default.participantText,text:e.contact.formattedName})]},e.id.toString())))})]}):(0,R.jsxs)("div",{className:M.default.emptyContentContainer,children:[(0,R.jsx)("span",{className:M.default.participantsText,children:w.default.t(389,{count:t,_plural:t})}),(0,R.jsxs)("span",{className:M.default.contactsText,children:[" ","•"," ",w.default.t(386,{count:a.length,_plural:a.length})]})]});const i=`w=${encodeURIComponent((0,c.getMaybeMeUser)().toString())}&g=${encodeURIComponent(z)}&c=${encodeURIComponent($)}&e=${encodeURIComponent(String(K))}&a=${encodeURIComponent(X.toString())}`;ie=(0,R.jsxs)("div",{className:M.default.container,children:[(0,R.jsxs)("div",{className:M.default.metadataContainer,children:[J?(0,R.jsx)(A.default,{size:82,wid:(0,f.createWid)(z)}):(0,R.jsx)(k.ImgWithFallback,{fallbackSVG:"default-group",size:82,imgProps:{src:`https://web.whatsapp.com/invite/v4/icon/?${i}`}}),(0,R.jsxs)("div",{className:M.default.metadataText,children:[(0,R.jsx)(C.EmojiText,{className:M.default.metadataTitle,text:H}),r]})]}),n]});const s=_.ChatCollection.get(V.id),o=!!s&&!s.isReadOnly;Y.isSentByMe?(re.onOK=ae,re.okText=h.fbt._("Revoke invite",null,{hk:"4on28q"})):o?(re.onOK=ee,re.okText=h.fbt._("View group",null,{hk:"27ij4N"})):Q||(re.onOK=ne,re.okText=w.default.t(387)),se=P.ModalTheme.Flex}else re.cancelText=h.fbt._("OK",null,{hk:"2KEeHb"}),ie=(0,R.jsx)("div",{children:D});const oe=t===B?(0,R.jsxs)("div",{className:M.default.inviteExpiration,children:[(0,R.jsx)(I.default,{name:"panel-recent",display:"inline",className:M.default.inviteExpirationIcon}),(0,R.jsx)("span",{children:G(parseInt(K,10))})]}):null;return(0,R.jsxs)(v.default,{cancelText:re.cancelText,onCancel:re.onCancel,onOK:re.onOK,okText:re.okText,type:se,children:[ie,oe]})};var r=a(50796),i=a(92574),s=a(88555),o=a(81572),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),u=a(14597),d=a(94816),c=a(78820),f=a(45454),h=a(48360),p=n(a(30381)),m=a(67294),g=a(35461),_=a(69951),v=n(a(52665)),b=a(19380),y=a(88984),C=a(65417),S=a(85600),E=a(50101),T=n(a(14423)),x=n(a(63928)),M=n(a(30081)),k=a(50981),w=n(a(14296)),P=a(57224),A=n(a(87543)),j=a(48537),I=n(a(23217)),O=a(50452),N=n(a(56891)),R=a(85893);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}const L=0,B=1,F=2;function G(e){const t=(0,p.default)(1e3*e).diff((0,p.default)()),a=Math.floor(t/36e5);return t<=0?h.fbt._("Invite expired",null,{hk:"2jNplh"}):a<12?w.default.t(443,{time:(0,p.default)().local().format("LT")}):a<24?w.default.t(444,{number:1,_plural:1}):a<48?w.default.t(444,{number:2,_plural:2}):w.default.t(444,{number:3,_plural:3})}},27021:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=t=>{var a;t.stopPropagation(),t.preventDefault(),null===(a=e.onDismissClicked)||void 0===a||a.call(e)},a=(0,l.jsx)(i.default,{a8nText:"popup-controls-support",type:"secondary",onClick:t=>{var a;t.stopPropagation(),t.preventDefault(),null===(a=e.onSupportClicked)||void 0===a||a.call(e)},children:r.fbt._("Support",null,{hk:"21xceR"})}),n=(0,l.jsx)(i.default,{a8nText:"popup-controls-dismiss",type:"primary",onClick:t,children:r.fbt._("Dismiss",null,{hk:"OiOSP"})}),u={escape:e.onDismissClicked?t:()=>{}},d=(0,l.jsxs)(l.Fragment,{children:[a,n]});return(0,l.jsx)(s.HotKeys,{handlers:u,children:(0,l.jsx)(o.Modal,{actions:d,children:e.children,title:e.title})})};var r=a(48360),i=n(a(39770)),s=a(29424),o=a(57224),l=a(85893)},18671:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.GuidePopup=_,t.TYPE=t.Messaging=void 0;var r=a(14597),i=a(26741),s=n(a(94184)),o=a(48360),l=n(a(39770)),u=n(a(52665)),d=n(a(97765)),c=n(a(14296)),f=n(a(56074)),h=a(57224),p=n(a(23217)),m=a(85893);t.Messaging={NOTIFICATIONS:"NOTIFICATIONS",CAMERA_FAIL:"CAMERA_FAIL",CAMERA_MISSING:"CAMERA_MISSING",MIC_FAIL:"MIC_FAIL",MIC_MISSING:"MIC_MISSING",CAMERA:"CAMERA",MIC:"MIC"};const g=a(76672)({GUIDE_ALLOW:"guide-allow",GUIDE_UNBLOCK:"guide-unblock",GUIDE_NONE:"guide-none"});function _(e){const{type:t,onCancel:a,onConfirm:n,messaging:r}=e,o=(0,m.jsx)(b,{messaging:r});if(t===g.GUIDE_ALLOW){let e;switch(i.UA.browser){case i.BROWSER_TYPE.CHROME:case i.BROWSER_TYPE.FIREFOX:e=d.default.topLeft;break;case i.BROWSER_TYPE.EDGE:e=d.default.bottomCenter;break;default:e=d.default.topCenter}return(0,m.jsx)(h.Modal,{type:h.ModalTheme.Guide,children:(0,m.jsxs)("div",{className:(0,s.default)(d.default.containerAllow,e),children:[(0,m.jsx)("div",{className:d.default.icon,children:(0,m.jsx)(p.default,{name:"back",directional:!0})}),(0,m.jsx)("div",{className:d.default.title,children:(0,m.jsx)(v,{messaging:r})}),(0,m.jsx)("div",{className:d.default.description,children:o}),(0,m.jsx)("div",{className:d.default.controls,children:(0,m.jsx)(l.default,{onClick:n,type:"primary",children:c.default.t(582)})})]})})}return(0,m.jsx)(u.default,{title:(0,m.jsx)(v,{messaging:r}),onOK:n,okText:c.default.t(582),onCancel:a,cancelText:a?c.default.t(447):void 0,children:(0,m.jsx)("div",{className:d.default.description,children:o})})}function v(e){const{messaging:t}=e;switch(t){case"NOTIFICATIONS":return o.fbt._("Allow notifications",null,{hk:"2LDnhj"});case"CAMERA_FAIL":return(0,m.jsx)(f.default,{id:416});case"CAMERA_MISSING":return(0,m.jsx)(f.default,{id:415});case"MIC_MISSING":return(0,m.jsx)(f.default,{id:418});case"CAMERA":return(0,m.jsx)(f.default,{id:416});case"MIC_FAIL":case"MIC":return(0,m.jsx)(f.default,{id:419});default:throw new Error(`Invalid messaging: ${t}`)}}function b(e){const{messaging:t}=e,{browser:a}=i.UA,n=(0,m.jsx)("span",{className:"chrome-media-icon"}),r=(0,m.jsx)("span",{className:"firefox-lock-icon"}),s=(0,m.jsx)("span",{className:"opera-media-icon"});switch(t){case"NOTIFICATIONS":return"edge"===a?o.fbt._("To get notifications for new messages, click “Yes” below.",null,{hk:"iWnZq"}):"firefox"===a?o.fbt._("To get notifications for new messages, select “Allow notifications” from the prompt below the URL bar.",null,{hk:"JoHEk"}):o.fbt._("To get notifications for new messages, click “Allow” above.",null,{hk:"1DI3hu"});case"CAMERA_FAIL":return"edge"===a?o.fbt._("To take photos, WhatsApp needs access to your computer’s camera. Refresh the page, try sending a camera image, and select “Yes” from the menu that appears.",null,{hk:"3OUI6n"}):"firefox"===a?o.fbt._("To take photos, WhatsApp needs access to your computer’s camera. Click {firefox_lock} in the URL bar and set “Use the Camera” to “Allow.”",[o.fbt._param("firefox_lock",r)],{hk:"awgaS"}):"safari"===a?o.fbt._("To take photos, WhatsApp needs access to your computer’s camera. Open your browser’s Preferences → Websites and change camera setting for web.whatsapp.com to “Allow”.",null,{hk:"1qHLCp"}):"opera"===a?o.fbt._("To take photos, WhatsApp needs access to your computer’s camera. Click {opera_media} in the URL bar and click “Clear This Setting and Reload.”",[o.fbt._param("opera_media",s)],{hk:"V3mQw"}):o.fbt._("To take photos, WhatsApp needs access to your computer's camera. Click {chrome_media_error} in the URL bar and choose “Always allow web.whatsapp.com to access your camera.”",[o.fbt._param("chrome_media_error",n)],{hk:"1t3g8g"});case"CAMERA_MISSING":return(0,m.jsx)(f.default,{id:414});case"MIC_FAIL":return"edge"===a?o.fbt._("To record Voice Messages, WhatsApp needs access to your computer’s microphone. Refresh the page, try sending a Voice Message, and select “Yes” from the menu that appears.",null,{hk:"3W4JAI"}):"firefox"===a?o.fbt._("To record Voice Messages, WhatsApp needs access to your computer’s microphone. Click {firefox_lock} in the URL bar and set “Use the Microphone” to “Allow.”",[o.fbt._param("firefox_lock",r)],{hk:"3CdtEM"}):"safari"===a?o.fbt._("To record Voice Messages, WhatsApp needs access to your computer’s microphone. Open your browser’s Preferences → Websites and change microphone setting for web.whatsapp.com to “Allow”.",null,{hk:"2FU9of"}):"opera"===a?o.fbt._("To record Voice Messages, WhatsApp needs access to your computer’s microphone. Click {opera_media} in the URL bar and click “Clear This Setting and Reload.”",[o.fbt._param("opera_media",s)],{hk:"hGvxv"}):o.fbt._("To record Voice Messages, WhatsApp needs access to your microphone. Click {chrome_media_error} in the URL bar and choose “Always allow web.whatsapp.com to access your microphone.”",[o.fbt._param("chrome_media_error",n)],{hk:"1TuSPf"});case"MIC_MISSING":return(0,m.jsx)(f.default,{id:417});case"CAMERA":return"edge"===a?o.fbt._("To take photos, click “Yes” below to give WhatsApp access to your computer's camera.",null,{hk:"2UTEVk"}):o.fbt._("To take photos, click “Allow” above to give WhatsApp access to your computer's camera.",null,{hk:"RF9g7"});case"MIC":return"edge"===a?o.fbt._("To record Voice Messages, click “Yes” below to give WhatsApp access to your computer's microphone.",null,{hk:"3haECI"}):o.fbt._("To record Voice Messages, click “Allow” above to give WhatsApp access to your computer's microphone.",null,{hk:"MPfII"});default:throw new Error(`Invalid messaging type: ${t}`)}}t.TYPE=g,_.defaultProps={type:g.GUIDE_NONE,onConfirm:()=>r.ModalManager.close()}},97759:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=(n(a(45095)),a(51737)),s=n(a(99964)),o=a(88555),l=a(21310),u=a(38184),d=a(8139),c=n(a(62831)),f=a(48360),h=a(67294),p=a(35461),m=a(57849),g=n(a(39770)),_=a(37623),v=a(12591),b=n(a(31190)),y=n(a(14296)),C=n(a(56074)),S=(a(52596),n(a(23217))),E=a(97628),T=a(17879),x=a(26741),M=a(85893);function k(e,t){const{animate:a}=e,n={[`data-asset-intro-image-${(0,h.useContext)(E.ThemeContext).theme}`]:!0},x=(0,h.useRef)(null),k=(0,h.useRef)(null),P=(0,p.useModelValues)(e.mdOptInDeadline,["showCountDownMsg","daysLeftTillDeadline","expirationTime"]);(0,h.useEffect)((()=>{const e=x.current,t=k.current;a?((0,c.default)(e,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]}),(0,c.default)(t,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})):(e&&(e.style.opacity="1"),t&&(t.style.opacity="1"))}),[]);const A=(0,h.useRef)(null),j=(e,t)=>{var a;const n=null===(a=A.current)||void 0===a?void 0:a.clientWidth;return null!=n&&e!==t&&(0,_.animateConversationPanel)(A.current,n/(e-t))},I=e=>!!A.current&&A.current.contains(e);let O,N,R;(0,h.useImperativeHandle)(t,(()=>({animatePanel:j,containsDOMNode:I})));let D=!0,L=!1,B=b.default.textContainer;if((0,o.isMDBackend)())if(L=!0,B=b.default.mdTextContainer,O=(0,M.jsx)("div",{ref:x,className:b.default.mdImageWrapper,children:(0,M.jsx)(S.default,{className:b.default.mdBetaImage,width:360,name:"light"===(0,E.getTheme)()?"intro-md-beta-logo-light":"intro-md-beta-logo-dark"})}),2===(0,m.getABPropConfigValue)("md_migration_experience")){const e=(0,M.jsx)("div",{className:b.default.betaIcon,children:(0,M.jsx)("b",{className:b.default.betaIconText,children:f.fbt._("NEW",null,{hk:"3klbQ3"})})});N=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:b.default.betaTitle,children:[(0,M.jsx)("h1",{"data-a8n":s.default.key("intro-title"),children:f.fbt._("WhatsApp Web",null,{hk:"3iiiV1"})}),e]}),(0,M.jsxs)("div",{"data-a8n":s.default.key("intro-text"),className:b.default.betaText,children:[f.fbt._("Now send and receive messages without keeping your phone online.",null,{hk:"jvlOw"}),(0,M.jsx)("br",{}),f.fbt._("Use WhatsApp on up to 4 linked devices and 1 phone at the same time.",null,{hk:"1QOlYg"})]})]})}else{const e=(0,M.jsx)("div",{className:b.default.betaIcon,children:(0,M.jsx)("b",{className:b.default.betaIconText,children:f.fbt._("BETA",null,{hk:"23OBCm"})})});N=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:b.default.betaTitle,children:[(0,M.jsx)("h1",{"data-a8n":s.default.key("intro-title"),children:f.fbt._("WhatsApp Web",null,{hk:"3iiiV1"})}),e]}),(0,M.jsxs)("div",{"data-a8n":s.default.key("intro-text"),className:b.default.betaText,children:[f.fbt._("Send and receive messages without connecting your phone.",null,{hk:"1fUun7"}),(0,M.jsx)("br",{}),f.fbt._("Use WhatsApp on up to 4 devices at the same time.",null,{hk:"NN4Tm"})]})]})}else if(u.LegacyPhoneFeatures.supportsFeature(u.LegacyPhoneFeatures.F.EXTERNAL_MD_OPT_IN_AVAILABLE)){D=!1,O=(0,M.jsx)("div",{ref:x,className:b.default.mdImageWrapper,children:(0,M.jsx)(S.default,{className:b.default.mdBetaImage,name:"light"===(0,E.getTheme)()?"intro-md-beta-logo-light":"intro-md-beta-logo-dark"})});const e=(0,M.jsx)(v.ExternalLink,{href:(0,l.getMdOptInFaqUrl)(),children:f.fbt._("Learn more",null,{hk:"1L9NkE"})});let t,a=f.fbt._("New WhatsApp Web available",null,{hk:"2f2RlC"});if(P.showCountDownMsg){const n=P.daysLeftTillDeadline;if(a=f.fbt._("Update WhatsApp Web",null,{hk:"2thNci"}),(0,i.isNumber)(n)&&n>0)t=(0,d.mdMigrationExperience)()?(0,M.jsx)(C.default,{id:435,params:{num_days:n.toString(),learn_more:e},plural:n}):(0,M.jsx)(C.default,{id:434,params:{num_days:n.toString(),learn_more:e},plural:n});else if(P.expirationTime){const a=P.expirationTime;t=(0,d.mdMigrationExperience)()?(0,M.jsx)(C.default,{id:437,params:{time:a,learn_more:e}}):(0,M.jsx)(C.default,{id:436,params:{time:a,learn_more:e}})}}else t=(0,d.mdMigrationExperience)()?(0,M.jsx)(C.default,{id:433,params:{learn_more:e}}):(0,M.jsx)(C.default,{id:432,params:{learn_more:e}});N=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h1",{"data-a8n":s.default.key("intro-title"),className:b.default.title,children:a}),(0,M.jsx)("div",{"data-a8n":s.default.key("intro-text"),className:b.default.text,children:t})]}),R=(0,M.jsx)("div",{className:b.default.upgradeBtn,children:(0,M.jsx)(g.default,{type:"strong-primary",onClick:()=>(0,T.upgradeToMD)(!1),a8nText:"product-info-drawer edit-button",children:f.fbt._("UPDATE NOW",null,{hk:"1e4JqR"})})})}else O=(0,M.jsx)("div",(0,r.default)({ref:x,className:b.default.image},n)),N=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h1",{"data-a8n":s.default.key("intro-title"),className:b.default.title,children:y.default.t(442)}),(0,M.jsx)("div",{"data-a8n":s.default.key("intro-text"),className:b.default.text,children:y.default.t(431)})]});return(0,M.jsx)("div",{className:b.default.intro,ref:A,children:(0,M.jsxs)("div",{className:b.default.body,children:[O,(0,M.jsxs)("div",{ref:k,className:B,children:[N,R,D&&(0,M.jsx)(w,{}),null,null]}),L&&(0,M.jsxs)("div",{className:b.default.encrypted,children:[(0,M.jsx)(S.default,{name:"lock-small"})," ",y.default.t(302)]})]})})}const w=()=>{{let e;const t=`<a href="https://www.whatsapp.com/download" target="_blank">${f.fbt._("Get it here",null,{hk:"1FtOlM"}).toString()}</a>`;switch(x.UA.os){case x.OS_TYPE.MAC:e=y.default.t(439,{get_it_here:t});break;case x.OS_TYPE.WINDOWS:e=y.default.t(441,{get_it_here:t})}if(e)return(0,M.jsxs)(P,{children:[(0,M.jsx)("span",{className:b.default.secondaryIcon,children:(0,M.jsx)(S.default,{name:"laptop"})}),(0,M.jsx)("div",{dangerouslySetInnerHTML:{__html:e},className:b.default.secondaryTextBody})]})}return null},P=e=>{let{children:t}=e;return(0,M.jsxs)("div",{className:b.default.secondary,children:[(0,M.jsx)("div",{className:b.default.divider}),(0,M.jsx)("div",{className:b.default.secondaryText,children:t})]})};var A=(0,h.forwardRef)(k);t.default=A},57302:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=function(){const e=f.ServerProps.pttPlaybackSpeedEnabled?m:[];return[[d.default.t(551),s.default.TOGGLE_UNREAD],[d.default.t(561),s.default.TOGGLE_MUTE],[d.default.t(543),s.default.TOGGLE_ARCHIVE],[d.default.t(546),s.default.DELETE_OR_EXIT_CHAT],[i.fbt._("Pin Chat",null,{hk:"3l6ovX"}),s.default.TOGGLE_PIN],[i.fbt._("Search",null,{hk:"3CChip"}),s.default.SEARCH],[i.fbt._("Search Chat",null,{hk:"eUGKg"}),s.default.SEARCH_IN_CHAT],[d.default.t(562),s.default.OPEN_NEW_CHAT],[d.default.t(555),s.default.GO_TO_NEXT_CHAT],[d.default.t(556),s.default.GO_TO_PREV_CHAT],[d.default.t(563),s.default.OPEN_NEW_GROUP],[d.default.t(564),s.default.OPEN_PROFILE],...e,[d.default.t(502),s.default.OPEN_SETTINGS],[i.fbt._("Emoji Panel",null,{hk:"2sDpHl"}),s.default.OPEN_EMOJI_PANEL],[i.fbt._("Gif Panel",null,{hk:"28HQaF"}),s.default.OPEN_GIF_PANEL],[i.fbt._("Sticker Panel",null,{hk:"4y6bgb"}),s.default.OPEN_STICKER_PANEL]]}().map(((e,t)=>{let[a,n,r=!0]=e;const i=(0,p.jsx)(l.KeyboardShortcut,{action:n,addModifiers:r});if(i)return(0,p.jsxs)("div",{className:u.default.section,children:[(0,p.jsx)("div",{className:u.default.action,title:a,children:a}),(0,p.jsx)("div",{className:u.default.shortcut,children:i})]},t)}));return(0,p.jsx)(o.default,{onOK:()=>{r.ModalManager.close()},okText:i.fbt._("OK",null,{hk:"2KEeHb"}),type:c.ModalTheme.Flex,children:(0,p.jsxs)("div",{className:u.default.container,children:[(0,p.jsx)(h.TextSpan,{theme:"popup-title",children:i.fbt._("Keyboard shortcuts",null,{hk:"1uFFXP"})}),(0,p.jsx)("div",{className:u.default.list,children:e})]})})};var r=a(14597),i=a(48360),s=n(a(21252)),o=n(a(52665)),l=a(28141),u=n(a(95694)),d=n(a(14296)),c=a(57224),f=a(64551),h=a(13923),p=a(85893);const m=[[i.fbt._("Increase Speed of Selected Voice Message",null,{hk:"YQPbc"}),s.default.INCREASE_PTT_SPEED,!1],[i.fbt._("Decrease Speed of Selected Voice Message",null,{hk:"uHTZ8"}),s.default.DECREASE_PTT_SPEED,!1]]},36846:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.KeepInChatConfirmPopup=function(e){let{onContinue:t}=e;const a=()=>{(0,i.setNUX)(l.NUX.KEEP_IN_CHAT,{views:1}),r.ModalManager.close()};return(0,u.jsx)(o.default,{title:s.fbt._("Keep this message?",null,{hk:"3u3tox"}),onOK:()=>{a(),t()},onCancel:a,children:s.fbt._("The message will no longer disappear from this chat. Anyone can unsave it.",null,{hk:"1YmIym"})})};var r=a(14597),i=a(74315),s=a(48360),o=n(a(52665)),l=a(61653),u=a(85893)},86002:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WarningKeepExpiredModal=function(){return(0,o.jsx)(s.default,{title:i.fbt._("Keep Message - error",null,{hk:"1fP4iD"}),onCancel:l,children:i.fbt._("You can't keep an expired message. The message will dissappear once you exit the chat.",null,{hk:"3Iauwn"})})};var r=a(14597),i=a(48360),s=n(a(52665)),o=a(85893);const l=()=>{r.ModalManager.close()}},45301:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WarningUnkeepExpiredModal=function(e){let{onConfirm:t}=e;return(0,o.jsx)(s.default,{title:i.fbt._("Unkeep Message - warning",null,{hk:"sEdrL"}),onOK:()=>{t(),r.ModalManager.close()},onCancel:l,children:i.fbt._("This message is past its expiration. It will be deleted once you unkeep it.",null,{hk:"gfYuE"})})};var r=a(14597),i=a(48360),s=n(a(52665)),o=a(85893);const l=()=>{r.ModalManager.close()}},67568:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45120)),i=n(a(52013)),s=a(67294),o=n(a(16223)),l=n(a(60453)),u=n(a(69637)),d=a(94790),c=a(47915),f=n(a(30855)),h=a(29424),p=n(a(14296)),m=n(a(48837)),g=a(57224),_=a(85893);function v(e,t){const{title:a,onBack:n,onCancel:v,onSearch:b,searchPlaceholder:y,renderItem:C,data:S,emptyState:E,selection:T,onSelect:x}=e,M=(0,o.default)((()=>new f.default)),k=(0,s.useRef)(null),w=(0,s.useRef)(null);(0,s.useEffect)((()=>{i.default.focus(w.current)}),[]);const P=e=>{e.preventDefault(),e.stopPropagation();const t=S[0];t&&(null==x||x(e,t))},A=e=>{b(e)},j=e=>{const t=e.relatedTarget;return t instanceof HTMLElement&&e.currentTarget instanceof HTMLElement&&!e.currentTarget.contains(t)},I={down:e=>{k.current&&(e.preventDefault(),e.stopPropagation(),r.default.shouldIndicateFocus(),null==T||T.setFirst(!0))}};let O;b&&(O=(0,_.jsx)(h.HotKeys,{handlers:I,children:(0,_.jsx)(m.default,{ref:w,onSearch:A,onEnter:P,placeholder:y||p.default.t(624)})}));const N=S.length?(0,_.jsx)(h.HotKeys,{handlers:{down:e=>{e.preventDefault(),e.stopPropagation(),T&&T.setNext(!0)},up:e=>{if(!T)return;e.preventDefault(),e.stopPropagation();T.prev()>-1?T.setPrev(!0):(T.unset(),r.default.shouldIndicateFocus(),i.default.focus(w.current))}},onFocus:e=>{j(e)&&(null==T||T.setFirst(!0))},onBlur:e=>{j(e)&&(null==T||T.unset())},tabIndex:0,children:(0,_.jsx)(c.FlatList,{data:S,ref:k,flatListController:M.current,direction:"vertical",renderItem:C})}):E;return(0,_.jsx)(g.Modal,{type:g.ModalTheme.Tower,ref:t,children:(0,_.jsxs)(l.default,{children:[(0,_.jsx)(d.DrawerHeader,{title:a,type:d.DRAWER_HEADER_TYPE.POPUP,onBack:n,onCancel:v}),O,(0,_.jsx)(u.default,{flatListControllers:[M.current],children:N})]},"contact-modal")})}var b=(0,s.forwardRef)(v);t.default=b},79834:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.chat,["name","isGroup","liveLocation"]),{name:a,isGroup:n}=t,d=n?i.fbt._("Stop sharing live location with {name}?",[i.fbt._param("name",a)],{hk:"1Loxtz"}):i.fbt._("Stop sharing live location with {name}?",[i.fbt._param("name",a)],{hk:"bCXr9"});return(0,u.jsx)(o.default,{onOK:()=>{const{liveLocation:e}=t;e&&e.stopMyLiveLocation(),r.ModalManager.close()},okText:i.fbt._("Stop Sharing",null,{hk:"14LWdj"}),onCancel:()=>{r.ModalManager.close()},children:(0,u.jsx)(l.EmojiText,{text:d})})};var r=a(14597),i=a(48360),s=a(35461),o=n(a(52665)),l=a(65417),u=a(85893)},93045:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.logSessionEvent=function(e,t,a){const n=new r.default.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-t)});a&&(n.contactUsAutomaticEmail=!0,n.contactUsProblemDescription=a.subject,n.contactUsScreenshotC=a.numScreenshots);n.commit()};var r=n(a(11339))},21059:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.LongLinkPopup=function(e){const{link:t}=e;return(0,l.jsx)(s.default,{title:i.fbt._("Open in browser",null,{hk:"4nwCde"}),okText:i.fbt._("Open link",null,{hk:"1yYoWm"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onOK:()=>{(0,o.openExternalLink)(t.href),r.ModalManager.close()},onCancel:u,children:(0,l.jsx)("div",{children:t.href})})};var r=a(14597),i=a(48360),s=n(a(52665)),o=a(12591),l=a(85893);const u=()=>{r.ModalManager.close()}},56227:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{to:t,participant:a,msg:n}=e;let p;if(t.isUser()){const e=d.ContactCollection.get(t),a=e?e.formattedName:(0,o.widToFormattedUser)(t);p=c.default.t(832,{name:a})}else if("string"==typeof a&&i.default.isUser(a)){const e=d.ContactCollection.get((0,s.createWid)(a)),t=e?e.formattedName:(0,o.widToFormattedUser)(a);p=c.default.t(831,{name:i.default.user(t)})}else p=l.fbt._("One or more group participants are using old versions of WhatsApp that can't receive messages sent from this device. Use your phone to message them instead.",null,{hk:"XCd50"});return(0,h.jsx)(u.default,{onOK:()=>{n.resend().then((e=>{e===f.SendMsgResult.ERROR_UNKNOWN&&__LOG__(2,void 0,void 0,void 0,["messaging"])`MdDowngradeModal:resend: failure with SendMsgResult.ERROR_UNKNOWN`})).catch((function(e){__LOG__(2,void 0,void 0,void 0,["messaging"])`MdDowngradeModal:resend: resend failure ${e}`})),r.ModalManager.close()},okText:l.fbt._("Try Again",null,{hk:"1UTnaS"}),cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>{r.ModalManager.close()},title:l.fbt._("Could not deliver message",null,{hk:"YbK1b"}),children:p})};var r=a(14597),i=n(a(89867)),s=a(45454),o=a(62054),l=a(48360),u=n(a(52665)),d=a(19380),c=n(a(14296)),f=a(13705),h=a(85893)},72434:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e;return(0,l.jsx)(s.default,{onOK:()=>{t.resend().then((e=>{e===o.SendMsgResult.ERROR_UNKNOWN&&__LOG__(2,void 0,void 0,void 0,["messaging"])`MdSendRetryModal:resend: failure with SendMsgResult.ERROR_UNKNOWN`})).catch((function(e){__LOG__(2,void 0,void 0,void 0,["messaging"])`MdSendRetryModal:resend: resend failure ${e}`})),r.ModalManager.close()},okText:i.fbt._("Try Again",null,{hk:"1UTnaS"}),cancelText:i.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:()=>r.ModalManager.close(),children:i.fbt._("Could not deliver message",null,{hk:"YbK1b"})})};var r=a(14597),i=a(48360),s=n(a(52665)),o=a(13705),l=a(85893)},20668:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,s.useModelValues)(e.msg,["type","isVcardOverMmsDocument"]),a=(e=>{try{return(0,u.getMsgMediaType)(e)}catch(e){return null}})(e.msg);let n,c;switch(a){case u.MEDIA_TYPES.VIDEO:n=l.default.t(532),c=l.default.t(531);break;case u.MEDIA_TYPES.GIF:n=l.default.t(527),c=l.default.t(526);break;case u.MEDIA_TYPES.AUDIO:n=l.default.t(523),c=l.default.t(522);break;case u.MEDIA_TYPES.IMAGE:n=l.default.t(530),c=l.default.t(529);break;case u.MEDIA_TYPES.DOCUMENT:if(t.isVcardOverMmsDocument){n=i.fbt._("Contact Unavailable",null,{hk:"4cR9XP"}),c=i.fbt._("Can’t view this contact because it's no longer on your phone.",null,{hk:"UWEiv"});break}n=l.default.t(525),c=l.default.t(524);break;case u.MEDIA_TYPES.STICKER:n=i.fbt._("Sticker Unavailable",null,{hk:"3mn4b1"}),c=i.fbt._("Can’t download this sticker because it's no longer on your phone.",null,{hk:"3lXqKv"});break;default:n=l.default.t(528),__LOG__(4,void 0,new Error,!0)`type: ${a}`,SEND_LOGS("MediaMissingModal: unexpected message type")}return(0,d.jsx)(o.default,{title:n,onOK:()=>{r.ModalManager.close()},okText:i.fbt._("OK",null,{hk:"2KEeHb"}),children:c})};var r=a(14597),i=a(48360),s=a(35461),o=n(a(52665)),l=n(a(14296)),u=a(61596),d=a(85893)},97157:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useModelValues)(e.msg,["type","isGif"]);let a;switch(t.type){case i.MSG_TYPE.VIDEO:t.isGif||(a=u.default.t(567))}return(0,d.jsx)(l.default,{onOK:()=>{r.ModalManager.close()},okText:s.fbt._("OK",null,{hk:"2KEeHb"}),children:a})};var r=a(14597),i=a(15461),s=a(48360),o=a(35461),l=n(a(52665)),u=n(a(14296)),d=a(85893)},98707:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.jsx)(s.default,{title:i.fbt._("Can't Send Changed File",null,{hk:"ntbaL"}),onOK:()=>{r.ModalManager.close()},okText:i.fbt._("OK",null,{hk:"2KEeHb"}),children:i.fbt._("This document has changed since you tried to send it. Please try again.",null,{hk:"3fUbmQ"})})};var r=a(14597),i=a(48360),s=n(a(52665)),o=a(85893)},19451:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t}=e;return(0,l.jsx)(o.default,{onCancel:()=>i.ModalManager.close(),onOK:()=>{i.ModalManager.close(),r.FileSaver.initDownload(t)},okText:s.fbt._("Download",null,{hk:"1g5Jix"}),cancelText:s.fbt._("Cancel",null,{hk:"H0gNq"}),title:s.fbt._("Download Unsupported File?",null,{hk:"Xh7Km"}),children:s.fbt._("This file can't be opened in WhatsApp Web. Download it to open it with another app on your computer?",null,{hk:"1DOus2"})})};var r=a(21634),i=a(14597),s=a(48360),o=n(a(52665)),l=a(85893)},15407:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{altText:t,mediaData:a}=e;const{preview:n}=(0,r.useModelValues)(a,["preview"]),u=n instanceof s.default?n.url():null;return(0,o.jsx)("div",{className:i.default.mediaViewerBlurCrop,onClick:l,children:(0,o.jsx)("img",{className:i.default.mediaViewerBlurImg,src:u,alt:t})})};var r=a(35461),i=n(a(57269)),s=n(a(34949)),o=a(85893);function l(e){e.stopPropagation()}},76530:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67294),i=n(a(56720)),s=n(a(78506)),o=a(35461),l=n(a(62190)),u=n(a(15407)),d=n(a(47065)),c=a(58668),f=n(a(20553)),h=n(a(39040)),p=n(a(37015)),m=n(a(11339)),g=n(a(11791)),_=a(85893);const v={isDownloadPrevented:{pointerEvents:"m62443ks"}};function b(e){let{mediaData:t}=e;return(0,_.jsx)(g.default,{type:"scaleDown",size:{width:t.fullWidth,height:t.fullHeight},position:"relative",objectPosition:"relative",children:(0,_.jsx)(u.default,{altText:"",mediaData:t})})}function y(e){let{src:t,preventDownload:a=!1,onImageClick:n,onLoad:r}=e;return(0,_.jsx)(d.default,{className:(0,i.default)(h.default.content,a&&v.isDownloadPrevented),draggable:!a,onClick:n,disableContextMenu:a,src:t,onLoad:r})}function C(e){let{src:t,onImageClick:a,onLoad:n}=e;return(0,_.jsx)("figure",{className:(0,i.default)(h.default.content),draggable:"false",onClick:a,onContextMenu:e=>e.preventDefault(),children:(0,_.jsx)(y,{src:t,preventDownload:!0,onImageClick:a,onLoad:n})})}const S=(e,t)=>{const{msg:a,preventDownload:n,onLoad:i}=e,u=(0,o.useModelValues)(e.mediaData,["mediaStage","fullWidth","fullHeight","renderableUrl","progressiveStage"]),d=(0,r.useRef)(null),h=(0,s.default)(t,d);(0,r.useEffect)((()=>{if(a)return a.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:m.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0}),()=>{a.mediaObject&&a.cancelDownload()}}),[a]);const g=e=>{var t;null===(t=d.current)||void 0===t||t.onClick(e)};switch(u.mediaStage){case c.MEDIA_DATA_STAGE.DECRYPTING:if(null==u.progressiveStage)return(0,_.jsx)(b,{mediaData:u});break;case c.MEDIA_DATA_STAGE.RESOLVED:case c.MEDIA_DATA_STAGE.PROGRESSIVE_READY:break;default:return(0,_.jsx)(b,{mediaData:u})}const v=n?e=>(0,_.jsx)(C,{src:e,onImageClick:g,onLoad:i}):e=>(0,_.jsx)(y,{src:e,onImageClick:g,onLoad:i}),S=null!=a?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(f.default,{mediaData:u,placeholderRenderer:()=>(0,_.jsx)(b,{mediaData:u}),downloadMedia:()=>{if(null!=a.mediaObject)return a.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:m.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0})},renderProgressively:!0,children:v}),a.interactiveAnnotations&&a.interactiveAnnotations.length>0&&(0,_.jsx)(l.default,{annotations:a.interactiveAnnotations,onTooltipDisplay:e.onAnnotationTooltipDisplay,onTooltipDismiss:e.onAnnotationTooltipDismiss})]}):v(u.renderableUrl);return(0,_.jsx)(p.default,{ref:h,width:u.fullWidth,height:u.fullHeight,onZoomIn:e.onImgZoomIn,msg:a,children:S})};var E=(0,r.forwardRef)(S);t.default=E},81136:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{msg:t,mediaData:a}=e,{mediaStage:n,size:f,streamable:h}=(0,i.useModelValues)(a,["mediaStage","size","streamable"]);if(h&&a.isStreamable())return null;switch(n){case o.MEDIA_DATA_STAGE.INIT:case o.MEDIA_DATA_STAGE.EXISTS:case o.MEDIA_DATA_STAGE.RESOLVED:case o.MEDIA_DATA_STAGE.ERROR_MISSING:case o.MEDIA_DATA_STAGE.NEED_UPLOAD:case o.MEDIA_DATA_STAGE.ERROR_TOO_LARGE:case o.MEDIA_DATA_STAGE.PROGRESSIVE_READY:case o.MEDIA_DATA_STAGE.REMOTE_NEED_UPLOAD:case o.MEDIA_DATA_STAGE.ERROR_FILE_NOT_READABLE:return null;case o.MEDIA_DATA_STAGE.NEED_POKE:return(0,c.jsx)(s.Download,{filesize:f,onClick:e=>function(e,t){e.stopPropagation(),t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:u.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0})}(e,t)});case o.MEDIA_DATA_STAGE.FETCHING:case o.MEDIA_DATA_STAGE.PREPARING:case o.MEDIA_DATA_STAGE.UPLOADING:case o.MEDIA_DATA_STAGE.REUPLOADING:case o.MEDIA_DATA_STAGE.REMOTE_UPLOADING:case o.MEDIA_DATA_STAGE.DECRYPTING:case o.MEDIA_DATA_STAGE.SENDING:case o.MEDIA_DATA_STAGE.FINALIZING:return(0,c.jsx)("div",{onClick:e=>function(e,t){e.stopPropagation(),t.cancelDownload()}(e,t),children:(0,c.jsx)(s.Pending,{cancelable:!0})});case o.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:return(0,c.jsx)(s.Download,{filesize:f,onClick:e=>function(e,t){e.stopPropagation(),r.ModalManager.open((0,c.jsx)(l.default,{msg:(0,d.unproxy)(t)}))}(e,t)})}};var r=a(14597),i=a(35461),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),o=a(58668),l=n(a(19451)),u=n(a(11339)),d=a(18146),c=a(85893);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}},8969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZOOM_IN_FACTOR=t.CLOSE_ANIMATION_DURATION=t.ANIMATION_DURATION=void 0;t.ANIMATION_DURATION=500;t.CLOSE_ANIMATION_DURATION=200;t.ZOOM_IN_FACTOR=2},39040:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(a(56720));t.default={content:{alignItems:"gndfcl4n",display:"p357zi0d",height:"ppled2lx",justifyContent:"ac2vgrno",overflowX:"gfz4du6o",overflowY:"r7fjleex",position:"g0rxnol2",width:"ln8gz9je",zIndex:"b9fczbqn"}}},37015:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(67811),i=a(67294),s=n(a(56720)),o=a(8969),l=n(a(39040)),u=n(a(11791)),d=n(a(52500)),c=a(94270),f=a(18644),h=a(85893);const p={cursorZoomIn:{cursor:"bn05jr7j"}},m=(e,t)=>{const{children:a,onZoomIn:n,width:m,height:g,msg:_,onLoad:v}=e,[b,y]=(0,i.useState)(null),[C,S]=(0,i.useState)(!0),E=(0,i.useRef)(0),T=(0,i.useRef)(0),x=(0,i.useRef)(),M=()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.outsideContainer},k=()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.insideContainer},w=()=>{S(!1)},P=(e,t,a)=>{const n=T.current,r=E.current,i=window.innerWidth/2-t,s=window.innerHeight/2-a;return{translateX:n>0?Math.round(1.2*i*n/e.clientWidth):0,translateY:r>0?Math.round(1.2*s*r/e.clientHeight):0}},A=()=>{n(!1),y(null),S(!0)},j=(e,t)=>{if(b)return void A();const a=k(),r=M();if(!(a instanceof HTMLElement&&r instanceof HTMLElement))return;E.current=a.clientHeight*o.ZOOM_IN_FACTOR-r.clientHeight,T.current=a.clientWidth*o.ZOOM_IN_FACTOR-r.clientWidth;const{translateX:i,translateY:s}=P(r,e,t);n(!0),y({factor:o.ZOOM_IN_FACTOR,translateX:i,translateY:s}),S(!1)},I=e=>{e.stopPropagation(),j(e.pageX,e.pageY)},O=e=>{e.stopPropagation(),j(window.innerWidth/2,window.innerHeight/2)};(0,i.useImperativeHandle)(t,(()=>({get heightOverflow(){return E.current},get widthOverflow(){return T.current},onClick:I,onKeyboardZoom:O,getTranslatePosition:P,getOutsideContainer:M,getInsideContainer:k,closingMediaZoomable:w})));let N=(0,h.jsx)("div",{className:(0,s.default)(l.default.content,!b&&p.cursorZoomIn),"data-testid":"media-zoomable",children:a});b&&(N=(0,h.jsx)(f.UIE,{displayName:"ZoomInImage",escapable:!0,requestDismiss:A,children:N}));const R=c.ReactionBubbleType.MEDIA_ITEM;return(0,h.jsxs)(u.default,{type:"zoomIn",size:{width:m,height:g},position:"relative",objectPosition:"relative",zoomIn:b,onObjectLoad:v,ref:x,children:[N,_&&(0,r.shouldShowReactionBubble)(_,R)&&(0,h.jsx)(d.default,{msgIds:[_.id.toString()],reactionBubbleVisible:C,reactionBubbleType:R})]})};var g=(0,i.forwardRef)(m);t.default=g},77864:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(21310),i=a(8139),s=n(a(97039)),o=a(94816),l=a(48360),u=a(67294),d=a(87550),c=n(a(37453)),f=n(a(89113)),h=a(63183),p=a(65511),m=a(69951),g=a(16593),_=n(a(90233)),v=a(19380),b=a(47473),y=a(85600),C=a(12591),S=a(47915),E=n(a(14296)),T=n(a(62425)),x=n(a(11497)),M=a(64551),k=a(50452),w=a(37894),P=n(a(14421)),A=a(85893);const j="SEC_FREQUENT_CONTACTS",I="SEC_CHATS",O="SEC_CONTACTS",N="ROW_FREQUENT_CONTACTS",R="ROW_CHATS",D="ROW_CONTACTS";function L(e){let{active:t,selections:a,hasFrequentlyForwarded:n,ephemeralIcon:r,onChatClick:s,data:o,isMaxChatsSelected:u,isMaxGroupsSelected:d,isDisabled:c}=e;switch(o.type){case j:return(0,A.jsx)(x.default,{header:E.default.t(776)});case I:return(0,A.jsx)(x.default,{header:E.default.t(881)});case O:return(0,A.jsx)(x.default,{header:E.default.t(846)});case N:case R:case D:const{data:e}=o,m=()=>s(e);let v,b,y=!1;if((0,i.forwardingLimitToGroupsEnabled)()){const t=a.isSelected(e);y=u&&!t}if(c&&(v=c(e),y=v),e instanceof h.Chat){var f;let s;const o=!!(null===(f=e.groupMetadata)||void 0===f?void 0:f.noFrequentlyForwarded);n&&o?(y=!0,s=l.fbt._("Can't send messages that have been forwarded many times",null,{hk:"1lDDZg"})):d&&!a.isSelected(e)&&(y=!0);let u="chat-checkbox";y&&(u=(0,i.forwardingLimitToGroupsEnabled)()?"chat-checkbox-disabled":"chat-checkbox-no-delete"),b=(0,A.jsx)(p.Chat,{theme:u,active:t,chat:e,mode:p.Mode.INFO,noContext:!0,onClick:y?()=>{}:m,secondary:s,ephemeralIcon:r})}else{const a=(0,i.forwardingLimitToGroupsEnabled)()?"multi-select-chat-list":void 0;b=(0,A.jsx)(P.default,{contact:e,onSelect:m,active:t,ephemeralIcon:r,disabled:y,theme:a})}const C=()=>{v||(0,i.forwardingLimitToGroupsEnabled)()&&y&&s(e)};return(0,A.jsx)(_.default,{model:e,selections:a,tabIndex:-1,onClick:C,disabled:y,checkboxTheme:(0,i.forwardingLimitToGroupsEnabled)()?g.CHECKBOX_THEME.OUTLINE:void 0,children:b},e.id.toString());default:throw new S.UnknownDataError(o)}}function B(e){let{searchText:t,isEmpty:a,flatList:n}=e;return a?t?(0,A.jsx)(y.Search,{}):(0,A.jsx)(y.ListChats,{}):n}function F(e,t){const{active:a,getInitialItems:n,selections:h,maxChats:p,onSelectionChanged:g,hasFrequentlyForwarded:_=!1,hasForwarded:y=!1,ephemeralIcon:x,searchText:P,msgType:F,excludeChat:G,excludeBroadcast:U,flatListController:V,isDisabled:W}=e,H=(0,c.default)(P),q=e=>e.filter((e=>!(0,w.shouldBlockByTos)(e)&&!(0,b.shouldBlockByCountry)(e))),Y=(0,f.default)((e=>{const t={};return{frequentContacts:q((e=>e?[]:v.ContactCollection.frequentContacts(F,G))(e)).map((e=>{if(U&&e.isBroadcast)return null;const a=e.isGroup||e.isBroadcast?m.ChatCollection.get(e.id):e;return a&&(t[a.id]=!0),a})).filter(Boolean),chats:(e=>{let t=e;if(t){t=E.default.accentFold(t);const e=(0,s.default)(t);return m.ChatCollection.filter((function(a){return a.canSend&&a.shouldAppearInList&&a.contact.searchMatch(t,e)}))}return m.ChatCollection.filter((function(e){return e.canSend&&e.shouldAppearInList}))})(e).map((e=>{if(U&&e.isBroadcast)return null;if(e.isSuspendedGroup())return null;const a=e.isGroup||e.isBroadcast?e:e.contact;return t[a.id]?null:(t[a.id]=!0,a)})).filter(Boolean),contacts:q((e=>{let t=e;const a=v.ContactCollection.getFilteredContacts();if(!t)return a;t=E.default.accentFold(t);const n=(0,s.default)(t);return a.filter((function(e){return e.searchMatch(t,n)}))})(e)).map((e=>t[e.id]?null:e)).filter(Boolean)}})),[z,K]=(0,u.useState)((()=>Y(P))),$=(0,u.useRef)(null),Q=(0,u.useRef)(null),X=e=>{const{frequentContacts:t,chats:a,contacts:n}=e;return t.concat(a,n)};(0,u.useEffect)((()=>{a.init(X(z)),n&&n().forEach((e=>h.setVal(e,!0)))}),[]);const[J,Z]=(0,u.useState)(!1),[ee,te]=(0,u.useState)(!1);(0,d.useListener)(h,"all",(()=>{(0,i.forwardingLimitToGroupsEnabled)()&&(Z(h.getSelected().length===p),te(y&&h.getSelected().some((e=>e.isGroup))))}));const ae=(e,t,n)=>{if(t){let t,a;if("number"==typeof p&&h.getSelected().length>=p?_?(t=M.ServerProps.hfmStringChanges?l.fbt._({"*":"Messages forwarded many times can only be shared with up to {count} chats at a time.",_1:"Messages forwarded many times can only be shared with up to 1 chat at a time."},[l.fbt._plural(p,"count")],{hk:"3nuqz2"}):E.default.t(367,{count:p,_plural:p}),a={actionText:l.fbt._("Learn more",null,{hk:"3Tt4dc"}),onAction:()=>(0,C.openExternalLink)((0,r.getFrequentlyForwardedFaqUrl)())}):t=E.default.t(366,{count:p,_plural:p}):ee&&e.isGroup&&(t=l.fbt._("Forwarded messages can only be sent to one group chat at a time.",null,{hk:"2ZxS0s"}),a={actionText:l.fbt._("Learn more",null,{hk:"176vVf"}),onAction:()=>(0,C.openExternalLink)((0,r.getFrequentlyForwardedFaqUrl)())}),null!=t)return void o.ToastManager.open((0,A.jsx)(k.Toast,{id:(0,k.genId)(),msg:t,action:a}),(0,i.forwardingLimitToGroupsEnabled)()?o.ToastPosition.CENTER:o.ToastPosition.LEFT)}h.setVal(e,t,n),a.setVal(e,n),g&&g(e,t)},ne=e=>{const t=h.isSelected(e);ae(e,!t,!1)};(0,u.useEffect)((()=>{if(P!==H){const e=Y(P);K(e),a.init(X(e))}}),[a,Y,H,P]);const re=e=>{const{frequentContacts:t,chats:a,contacts:n}=z;let r;if(t.length)r=t[0];else if(a.length)r=a[0];else{if(!n.length)return;r=n[0]}const i=!h.isSelected(r);ae(r,i,e)};return(0,u.useImperativeHandle)(t,(()=>({toggleFirst:re}))),(0,A.jsx)(T.default,{active:e.active,onLeave:e.onLeaveList,ref:$,onIndexChange:e=>{var t;null===(t=Q.current)||void 0===t||t.scrollIntoViewIfNeeded(e)},children:(0,A.jsx)(B,{flatList:(0,A.jsx)(S.FlatList,{ref:Q,flatListController:V,direction:"vertical",forceConsistentRenderCount:!1,data:(()=>{const e=[],{frequentContacts:t,chats:a,contacts:n}=z;return t.length&&(e.push({itemKey:j,type:j}),e.push(...t.map((e=>({itemKey:e.id.toString(),type:N,data:e}))))),a.length&&(e.push({itemKey:I,type:I}),e.push(...a.map((e=>({itemKey:e.id.toString(),type:R,data:e}))))),n.length&&(e.push({itemKey:O,type:O}),e.push(...n.map((e=>({itemKey:e.id.toString(),type:D,data:e}))))),e})(),renderItem:e=>(0,A.jsx)(L,{data:e,active:a,selections:h,hasFrequentlyForwarded:_,ephemeralIcon:x,onChatClick:ne,isMaxChatsSelected:J,isMaxGroupsSelected:ee,isDisabled:W})}),searchText:P,isEmpty:(()=>{const{frequentContacts:e,chats:t,contacts:a}=z;return!e.length&&!t.length&&!a.length})()})})}var G=(0,u.forwardRef)(F);t.default=G},97473:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(52013)),i=n(a(97039)),s=a(94816),o=a(48360),l=a(67294),u=n(a(90233)),d=a(19380),c=a(85600),f=a(47915),h=n(a(14296)),p=n(a(62425)),m=n(a(11497)),g=a(50452),_=n(a(14421)),v=a(85893);const b="SEC_CONTACTS",y="ROW_CONTACTS";class C extends l.Component{constructor(e){super(e),this.setList=e=>{this.list=e},this._handleIndexChange=e=>{var t;null===(t=this.list)||void 0===t||t.scrollIntoViewIfNeeded(e)},this._handleRef=e=>{this._refHotKey=e},this._handleSelect=(e,t,a)=>{const{selections:n,maxContacts:r,active:i,onSelectionChanged:o}=this.props;t&&"number"==typeof r&&n.getSelected().length>=r?s.ToastManager.open((0,v.jsx)(g.Toast,{id:(0,g.genId)(),msg:this.props.maxContactsExceedErrorMsg?this.props.maxContactsExceedErrorMsg:h.default.t(537,{count:r,_plural:r})})):(n.setVal(e,t,a),i.setVal(e,a),o&&o(e,t))},this._renderItem=e=>{switch(e.type){case b:return(0,v.jsx)(m.default,{header:o.fbt._("Contacts",null,{hk:"2jWpt9"})});case y:const{data:t}=e,{isDisabled:a,customSecondaryText:n}=this.props;return(0,v.jsx)(u.default,{model:t,selections:this.props.selections,checked:!!this.props.isSelected&&this.props.isSelected(t),a8nKey:`multi-select-contact-list-item-${t.id.toString()}`,children:(0,v.jsx)(_.default,{contact:t,disabled:null==a?void 0:a(t),onSelect:()=>this._handleContactClick(t),customSecondaryText:null==n?void 0:n(t.id),active:this.props.active,allowBlockedContacts:this.props.allowBlockedContacts})},t.id.toString());default:throw new f.UnknownDataError(e)}},this.state={filteredData:C.calculateFilteredData(e)},this.props.active.init(this._flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach((e=>this.props.selections.setVal(e,!0)))}static getDerivedStateFromProps(e){return{filteredData:C.calculateFilteredData(e)}}static calculateFilteredData(e){return{contacts:C.calculateFilteredContacts(e)}}static calculateFilteredContacts(e){let{filter:t,useAllContacts:a,searchText:n}=e;const r=C.calculateContacts({filter:t,useAllContacts:a});if(!n)return r;const s=h.default.accentFold(n),o=(0,i.default)(s);return r.filter((e=>e.searchMatch(s,o)))}static calculateContacts(e){let{filter:t,useAllContacts:a}=e;const n=a?d.ContactCollection.toArray():d.ContactCollection.getFilteredContacts();return t?n.filter(t):n}_flattenData(e){return e.contacts}focus(){this._refHotKey&&r.default.focus(this._refHotKey)}_handleContactClick(e){const{isDisabled:t}=this.props;if(null==t?void 0:t(e))return;const a=this.props.selections.isSelected(e);this._handleSelect(e,!a,!1)}_clearActive(){this.props.active.unset()}selectAll(){const e=C.calculateContacts({filter:this.props.filter,useAllContacts:this.props.useAllContacts});this.props.selections.getSelected().length===e.length?this.props.selections.unsetAll():e.forEach((e=>{this.props.selections.setVal(e,!0,!1)}))}toggleFirst(e){if(this.state.filteredData.contacts.length){const t=this.state.filteredData.contacts[0],a=!this.props.selections.isSelected(t);this._handleSelect(t,a,e)}}_getData(){const e=[],{contacts:t}=this.state.filteredData;return t.length&&(e.push({itemKey:b,type:b}),e.push(...t.map((e=>({itemKey:e.id.toString(),type:y,data:e}))))),e}_isEmpty(){return!this.state.filteredData.contacts.length}_renderList(){return this._isEmpty()?this.props.searchText?(0,v.jsx)(c.Search,{}):(0,v.jsx)(c.ListChats,{}):(0,v.jsx)(f.FlatList,{ref:this.setList,flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this._getData(),renderItem:this._renderItem})}componentDidUpdate(e){this.props.searchText!==e.searchText&&this.props.active.init(this._flattenData(this.state.filteredData))}render(){return(0,v.jsx)(p.default,{active:this.props.active,onLeave:this.props.onLeaveList,ref:this._handleRef,onIndexChange:this._handleIndexChange,children:this._renderList()})}}t.default=C,C.displayName="MultiSelectContactList"},88183:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(48926)),i=a(14597),s=a(48360),o=a(67294),l=(n(a(56720)),a(23817)),u=a(63183),d=a(70923),c=a(56728),f=a(18963),h=a(13923),p=a(85893);const m={bulkEditHeaderContent:{paddingTop:"byg5ndfj",paddingEnd:"kvbanpuc",paddingBottom:"p9a4hubg",paddingStart:"qquthbrt",textTransform:"ofejerhi",fontSize:"enbbiyaj",backgroundColor:"g6kkip0l",color:"jq3rn4u7"}};function g(e){switch(e){case d.ONE_DAY:return s.fbt._("Set 24 hour message timer",null,{hk:"1OzSZz"});case d.SEVEN_DAYS:return s.fbt._("Set 7 day message timer",null,{hk:"au4ok"});case d.NINETY_DAYS:return s.fbt._("Set 90 day message timer",null,{hk:"rRKcU"})}}function _(e){let{duration:t}=e;const a=(0,p.jsx)(h.TextParagraph,{xstyle:m.bulkEditHeaderContent,children:g(t)}),n=function(){var e=(0,r.default)((function*(e){i.ModalManager.close(),yield(0,l.bulkChangeEphemeralDuration)(e,t)}));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(c.SelectModal,{title:"Select chats",customHeader:a,onConfirm:n,listType:c.ListType.CHAT_SELECT_MODAL,singleSelectionFooterType:f.FooterType.CONFIRM,multipleSelectionFooterType:f.FooterType.CONFIRM,ephemeralIcon:"conversation-header",isDisabled:e=>e instanceof u.Chat&&!e.shouldShowEphemeralSetting(),getSelectionSummary:e=>s.fbt._({"*":"{number} chats selected",_1:"1 chat selected"},[s.fbt._plural(e.length,"number")],{hk:"2Ev3nm"})})}var v=(0,o.forwardRef)(_);t.default=v},62425:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(67294),r=a(29424),i=a(85893);function s(e,t){const{active:a,onIndexChange:n,onLeave:s,onEnter:o}=e,l=e=>{null==o||o(e)},u=e=>{const t=e.relatedTarget;return t instanceof HTMLElement&&e.currentTarget instanceof HTMLElement&&!e.currentTarget.contains(t)};return(0,i.jsx)(r.HotKeys,{handlers:{down:e=>{e.preventDefault(),e.stopPropagation(),a.setNext(!0),null==n||n(a.index)},up:e=>{e.stopPropagation(),e.preventDefault();a.prev()>-1?(a.setPrev(!0),null==n||n(a.index)):s&&(s(e),a.unset())},enter:l,space:l},ref:t,onFocus:e=>{u(e)&&a.setFirst(!0)},onBlur:e=>{u(e)&&a.unset()},tabIndex:0,children:e.children})}var o=(0,n.forwardRef)(s);t.default=o},69238:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{vcards:t}=e;return(0,p.jsx)(c.Modal,{type:c.ModalTheme.Box,children:(0,p.jsxs)(s.default,{children:[(0,p.jsx)(l.DrawerHeader,{title:d.default.t(536,{count:t.length,_plural:t.length}),type:l.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>r.ModalManager.close()}),(0,p.jsx)(o.default,{children:(0,p.jsx)(u.HotKeys,{children:(0,p.jsx)("div",{className:f.default.body,children:t.map(((e,t)=>e?(0,p.jsx)("div",{className:f.default.vcardWrapper,children:(0,p.jsx)(h.default,{parsedVcard:e,thumbnail:(0,i.vcardThumbnail)(e)})},t):null))})})})]})})};var r=a(14597),i=a(93778),s=n(a(60453)),o=n(a(69637)),l=a(94790),u=a(29424),d=n(a(14296)),c=a(57224),f=n(a(35664)),h=n(a(11976)),p=a(85893)},21398:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onMute:t}=e,a=(0,l.useModelValues)(e.mute,["id","expiration","callExpiration"]),[n,m]=(0,o.useState)(null),g=e=>{let{target:t}=e;t instanceof HTMLInputElement&&m(parseFloat(t.value))},_=()=>null!=n&&0!==n?n:(0,i.getLastChatMuteDuration)()||(0,c.getDefaultMuteDuration)();(0,o.useEffect)((()=>{null!=a.expiration&&0!==a.expiration&&null!=a.callExpiration&&0!==a.callExpiration&&p()}),[a.callExpiration,a.expiration,e]);const v=e.onCancel||p,b=_(),y=(0,c.getAllMuteDurations)().map((e=>{let{label:t,duration:a}=e;const n=`duration-${a}`;return(0,h.jsxs)("li",{children:[(0,h.jsx)("input",{id:n,type:"radio",name:"duration",className:f.default.input,value:a,checked:b===a,onChange:g}),(0,h.jsx)("label",{htmlFor:n,className:f.default.label,children:t})]},"mute-"+a)}));return(0,h.jsx)(u.default,{title:(0,h.jsx)(d.EmojiText,{text:e.title}),okText:s.fbt._("Mute notifications",null,{hk:"2Fm15X"}),onOK:()=>{r.ModalManager.close();const e=_();(0,i.setLastChatMuteDuration)(e),t((0,c.calculateMuteExpiration)(e),e)},onCancel:v,children:(0,h.jsx)("form",{children:(0,h.jsx)("ol",{children:y})})})};var r=a(14597),i=a(55452),s=a(48360),o=a(67294),l=a(35461),u=n(a(52665)),d=a(65417),c=a(22476),f=n(a(37388)),h=a(85893);function p(){r.ModalManager.close()}},66032:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{groupCode:t}=e,[a,n]=(0,c.useState)(M.Loading),[k,w]=(0,c.useState)(void 0),[P,A]=(0,c.useState)(void 0),[j,I]=(0,c.useState)(void 0),O=(0,f.default)(),N=e=>{let t;e?t=e:P&&(t=P.id),t&&l.Cmd.openChatFromUnread(h.ChatCollection.assertGet(t)),u.ModalManager.close()};(0,c.useEffect)((()=>{(0,s.default)((0,E.queryGroupInviteInfo)(t),O).then((e=>{const{inGroup:t}=e;t?N(e.groupMetadata.id):(w(e.status),A(e.groupMetadata),I(e.subject),n(M.Success))})).catch((0,i.filteredCatch)(o.ServerStatusCodeError,(e=>{w(e.status),n(M.Error)}))).catch((0,r.catchAbort)((()=>{})))}),[]);const R=()=>{u.ModalManager.close()},D=d.fbt._("Cancel",null,{hk:"2oWWgu"}),L=null!=k&&k>=400?(0,T.getGroupInviteAcceptErrorStr)(k):null;if(a!==M.Success||!P){let e;return e=a===M.Loading?(0,x.jsx)(g.LoadingWithText,{text:y.default.t(385)}):(0,x.jsx)("div",{children:L}),(0,x.jsx)(p.default,{type:C.ModalTheme.Flex,onCancel:R,children:e})}if(436===k)return(0,x.jsx)(v.GrowthLockedModal,{});const{groupType:B,displayedDesc:F,numSubgroups:G}=P,U=(0,T.getGroupInviteSubtitle)(B,G),V=B===b.GroupType.DEFAULT_ANNOUNCEMENT_GROUP;let W;V||(W=P.participants.filter((e=>{var t;return!!(null===(t=m.ContactCollection.get(e.id))||void 0===t?void 0:t.isMyContact)})));const H=h.ChatCollection.get(P.id),q=null!=H&&!H.isReadOnly,Y=q?N:()=>{(0,s.default)((0,_.joinGroupViaInvite)(t),O).then((e=>{l.Cmd.openChatFromUnread(e).then((t=>{t&&l.Cmd.focusChatTextInput(e)})),u.ModalManager.close()})).catch((0,r.catchAbort)((()=>{}))).catch((0,i.filteredCatch)(o.ServerStatusCodeError,(e=>{n(M.Error),w(e.status)})))},z=(0,T.getGroupInviteActionText)(q,B);return(0,x.jsx)(S.default,{image:{src:`https://web.whatsapp.com/invite/icon/${t}`,isAnnouncementGroup:V},title:j,subtitle:U,contacts:W,description:F,actionText:z,onAction:Y,onCancel:R,cancelText:D,finePrint:{text:null!=L?L:(0,T.getFinePrint)(B),isError:null!=L}})};var r=a(89385),i=a(50796),s=n(a(47259)),o=a(92574),l=a(81572),u=a(14597),d=a(48360),c=a(67294),f=n(a(3409)),h=a(69951),p=n(a(52665)),m=a(19380),g=a(85600),_=a(73058),v=a(55800),b=a(55981),y=n(a(14296)),C=a(57224),S=n(a(69408)),E=a(96269),T=a(5646),x=a(85893);const M=a(76672).Mirrored(["Loading","Success","Error"])},69408:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onAction:t,actionText:a,onCancel:n,cancelText:r,contacts:i,image:o,description:l,title:u,subtitle:c,communityInfo:f,finePrint:h,loading:g}=e;return(0,p.jsx)(s.default,{btnContainer:m.btnContainer,onOK:t,okText:!0===g?"":a,cancelText:r,onCancel:n,type:d.ModalTheme.Flex,okSpinner:g,okDisabled:g,children:(0,p.jsx)(y,{contacts:i,image:o,description:l,title:u,subtitle:c,communityInfo:f,finePrint:h})})};var r=a(48360),i=n(a(56720)),s=n(a(52665)),o=a(88984),l=a(65417),u=a(50981),d=a(57224),c=n(a(52711)),f=n(a(23217)),h=a(13923),p=a(85893);const m={metadataContainer:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",paddingTop:"a4bywxmn",paddingEnd:"q38uq5eg",paddingBottom:"lzi2pvmc",paddingStart:"ytgkg581",backgroundColor:"ihvf49ua",width:"dzfggzj0"},communityInfo:{backgroundColor:"eijk9neo",borderTopStartRadius:"bbr44loe",borderTopEndRadius:"ooj5yc5b",borderBottomEndRadius:"m8i16etx",borderBottomStartRadius:"cw0ivh8j",fontSize:"f8jlpxt4",width:"ln8gz9je",alignItems:"gndfcl4n",height:"q1n4p668",display:"p357zi0d",paddingTop:"fbgy3m38",paddingEnd:"l9g3jx6n",paddingBottom:"oq31bsqd",paddingStart:"lyvj5e2u"},communityInfoHeaders:{display:"p357zi0d",flexDirection:"f8m0rgwh",marginStart:"nzcjdldu"},metadataText:{display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",paddingTop:"tvsr5v2h",paddingEnd:"f9ovudaz",paddingBottom:"pjbr9b9i",paddingStart:"gx1rr48f"},metadataTitle:{fontSize:"iqrewfee",color:"tviruh8d",letterSpacing:"d53dy967"},metadataSecondaryText:{marginTop:"hymafltn",fontSize:"f8jlpxt4",fontWeight:"bcr6az0x",color:"pm5hny62"},metadataDesc:{maxWidth:"pqjqtz9p",marginTop:"eg3lofc5",overflowX:"gfz4du6o",overflowY:"ag5g9lrv",fontSize:"f8jlpxt4",color:"tviruh8d",textAlign:"qfejxiq4"},avatars:{display:"i86elurf",flexDirection:"sap93d0t"},avatar:{position:"g0rxnol2",width:"ln8gz9je",overflowX:"gfz4du6o",overflowY:"r7fjleex",borderTop:"omlynucm",borderEnd:"a0tvyxpe",borderBottom:"se50n2qd",borderStart:"o8ek0a1j",borderTopStartRadius:"g9p5wyxn",borderTopEndRadius:"i0tg5vk9",borderBottomEndRadius:"aoogvgrq",borderBottomStartRadius:"o2zu3hjb"},avatarLastChild:{marginStart:"mykz8fp3"},finePrint:{textAlign:"qfejxiq4",marginTop:"opp68qpq"},avatarCount:{display:"p357zi0d",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",paddingTop:"i5tg98hk",paddingEnd:"atp9n7ve",paddingBottom:"przvwfww",paddingStart:"k4wy2cgb",fontSize:"ovllcyds",backgroundColor:"cy3deui7",borderTopStartRadius:"jv1ikj1l",borderTopEndRadius:"ohzpzhf7",borderBottomEndRadius:"jyk8994j",borderBottomStartRadius:"bj4p3wqc",color:"hu66m3pv"},roundIcon:{height:"sdtr5tj1",width:"bpanfbxe",overflowX:"gfz4du6o",overflowY:"r7fjleex"},announcementIcon:{backgroundColor:"se52eggw"},announcementSpeaker:{color:"q3u0wlip"},btnContainer:{display:"btb1m7bk",gridTemplateColumns:"m7nrg3ns",width:"ln8gz9je"}};function g(e,t){return Number(t.isAdmin)-Number(e.isAdmin)}function _(e){let{contacts:t}=e;const a=[];let n=[];t.map((e=>{null!=e.contact.getProfilePicThumb().imgFull?a.push(e):n.push(e)})),a.sort(g),n.sort(g);let r=0;n.length>2&&(n=n.slice(0,2),r+=n.length-2),t=a.concat(n),r+=Math.max(0,t.length-5);const s=t.slice(0,5);return(0,p.jsxs)("div",{className:(0,i.default)(m.avatars),children:[s.map(((e,a)=>(0,p.jsx)("span",{id:e.id,className:(0,i.default)(m.avatar,t.length>1&&m.avatarLastChild),children:(0,p.jsx)(o.DetailImage,{size:32,id:e.id})},`${a}-${e.id.toString()}`))),r>0?(0,p.jsx)("span",{className:(0,i.default)(m.avatar,m.avatarLastChild,m.avatarCount),children:(0,p.jsxs)("span",{children:["+",r]})}):null]})}function v(e){let{communityInfo:t}=e;return(0,p.jsxs)("div",{className:(0,i.default)(m.communityInfo),children:[(0,p.jsx)(o.DetailImage,{size:o.DetailImageSize.ExtraSmall,id:t.metadata.id,shape:o.DetailImageShape.Squircle}),(0,p.jsxs)("div",{className:(0,i.default)(m.communityInfoHeaders),children:[(0,p.jsx)("span",{children:r.fbt._('Group in "{community-name}"',[r.fbt._param("community-name",t.subject)],{hk:"3UqhDQ"})}),(0,p.jsx)("span",{children:r.fbt._({"*":"Community •   {number} groups",_1:"Community •   1 group"},[r.fbt._plural(t.metadata.getSubgroupsMetadata().length,"number")],{hk:"3Ggvcb"})})]})]})}function b(e){const{isAnnouncementGroup:t,src:a,groupId:n}=e;return t?(0,p.jsx)(c.default,{xstyle:[m.roundIcon,m.announcementIcon],theme:"transparent",children:(0,p.jsx)(f.default,{name:"announcement-speaker",directional:!0,height:70,width:70,iconXstyle:m.announcementSpeaker})}):n?(0,p.jsx)(o.DetailImage,{size:104,id:n}):null!=a?(0,p.jsx)(u.ImgWithFallback,{fallbackSVG:"default-group",size:104,imgProps:{src:a}}):void 0}function y(e){var t;const{contacts:a,description:n,title:r,subtitle:s,image:o,communityInfo:u,finePrint:d}=e,c=a&&(null!==(t=a.length)&&void 0!==t?t:0)>=1?(0,p.jsx)(_,{contacts:a}):null,f=u?(0,p.jsx)(v,{communityInfo:u}):null,g=null!=n?(0,p.jsx)("div",{className:(0,i.default)(m.metadataDesc),children:(0,p.jsx)(l.EmojiText,{text:n})}):null,y=(0,p.jsx)(b,{isAnnouncementGroup:o.isAnnouncementGroup,src:o.src,groupId:o.groupId}),C=null!=(null==d?void 0:d.text)?(0,p.jsx)(h.TextParagraph,{color:d.isError?"danger":"secondary",size:"13",xstyle:m.finePrint,children:d.text}):null;return(0,p.jsxs)("div",{className:(0,i.default)(m.metadataContainer),children:[y,(0,p.jsxs)("div",{className:(0,i.default)(m.metadataText),children:[(0,p.jsx)(l.EmojiText,{className:(0,i.default)(m.metadataTitle),text:r}),(0,p.jsx)("div",{className:(0,i.default)(m.metadataSecondaryText),children:s})]}),c,f,g,C]})}},74361:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,p.useState)(N.Loading),[n,O]=(0,p.useState)(void 0),[R,D]=(0,p.useState)(void 0),[L,B]=(0,p.useState)(void 0),F=(0,m.useModelValues)(e.msg,["id","to","inviteCode","inviteCodeExp","inviteGrp","isGroupsV4InviteExpired","from","chat","isSentByMe"]),{inviteGrp:G,inviteCodeExp:U,inviteCode:V,isGroupsV4InviteExpired:W,from:H,isSentByMe:q}=F;(0,p.useEffect)((()=>{if(q){const e=g.ChatCollection.assertGet((0,f.createWid)(G));e.groupMetadata&&E.default.find(e.id).catch((0,s.filteredCatch)([o.WebdDrop,u.ProtoVersionUndefined],(()=>{}))).finally((()=>{D(e.groupMetadata),B(e.formattedTitle||e.name),a(N.Success)}))}else(0,w.queryGroupInviteV4Info)(V,U.toString(),G,F.from.toString()).then((e=>{const{status:t}=e,n=(0,i.default)(e,I);if(null!=t&&t>=400)a(N.Error),O((0,A.getGroupInviteAcceptErrorStr)(t));else if(e.id){const t=new S.default((0,r.default)({},n));D(t),B(e.subject),a(N.Success)}else a(N.Error),O((0,A.getGroupInviteAcceptErrorStr)(t))})).catch((0,s.filteredCatch)(u.Unmount,(()=>{})))}),[]);const Y=e=>{let t=e;e?t=e:R&&(t=R.id),t&&l.Cmd.openChatFromUnread(g.ChatCollection.assertGet(t)),d.ModalManager.close()},z=()=>{const e=g.ChatCollection.assertGet((0,f.createWid)(G)).groupMetadata;d.ModalManager.open((0,j.jsx)(_.default,{onOK:()=>{d.ModalManager.close(),null==e||e.revokeGroupV4AddInvite([F.to.toString()]).then((e=>{c.ToastManager.open((0,j.jsx)(P.Toast,{msg:null!=e&&e>=400?(0,A.getGroupInviteRevokeErrorStr)(e):h.fbt._("Invite reset",null,{hk:"MgErr"}),id:(0,P.genId)()}))}))},okText:h.fbt._("Reset link",null,{hk:"2Zb3R4"}),onCancel:()=>d.ModalManager.close(),cancelText:h.fbt._("Cancel",null,{hk:"H0gNq"}),children:(0,j.jsx)(b.EmojiText,{text:x.default.t(413,{participant:F.chat.contact.formattedName})})}))},K=()=>{(0,w.joinGroupViaInviteV4)(V,U.toString(),G,H.toString()).then((e=>{if(200===e.status)return(0,C.findChat)((0,f.createWid)(G));throw e.status})).then((e=>{l.Cmd.openChatFromUnread(e).then((t=>{t&&l.Cmd.focusChatTextInput(e)})),d.ModalManager.close()})).catch((0,s.filteredCatch)(u.Unmount,(()=>{}))).catch((e=>{a(N.Error),O((0,A.getGroupInviteAcceptErrorStr)(e))}))},$=()=>{d.ModalManager.close()},Q=h.fbt._("Cancel",null,{hk:"2oWWgu"});if(t!==N.Success||!R){let e;return e=t===N.Loading?(0,j.jsx)(y.Loading,{}):(0,j.jsx)("div",{children:n}),(0,j.jsx)(_.default,{type:M.ModalTheme.Flex,cancelText:Q,onCancel:$,children:e})}const{groupType:X}=R,J=(0,A.getGroupInviteSubtitle)(X),Z=(0,A.getGroupInviteMessageIconSrc)(G,V,U,H),ee=X===T.GroupType.DEFAULT_ANNOUNCEMENT_GROUP;let te;q||ee||(te=R.participants.filter((e=>{var t;return!!(null===(t=v.ContactCollection.get(e.id))||void 0===t?void 0:t.isMyContact)})));const ae=g.ChatCollection.get(R.id),ne=null!=ae&&!ae.isReadOnly;let re;q&&(re=z);ne&&(re=Y);W||(re=K);const ie=W?"":(0,A.getGroupInviteActionText)(ne,X,q);return(0,j.jsx)(k.default,{image:{src:Z,isAnnouncementGroup:ee},title:L,subtitle:J,contacts:te,description:R.displayedDesc,actionText:ie,onAction:re,onCancel:$,cancelText:Q,finePrint:{text:null!=n?n:(0,A.getFinePrint)(X),isError:null!=n}})};var r=n(a(81109)),i=n(a(6479)),s=a(50796),o=a(92574),l=a(81572),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(35232)),d=a(14597),c=a(94816),f=a(45454),h=a(48360),p=a(67294),m=a(35461),g=a(69951),_=n(a(52665)),v=a(19380),b=a(65417),y=a(85600),C=a(50101),S=n(a(14423)),E=n(a(63928)),T=a(55981),x=n(a(14296)),M=a(57224),k=n(a(69408)),w=a(48537),P=a(50452),A=a(5646),j=a(85893);const I=["status"];function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}const N=a(76672).Mirrored(["Loading","Success","Error"])},37756:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{subgroupMetadata:t}=e;const[a,n]=(0,l.useState)(null),[b,y]=(0,l.useState)(null),[C,S]=(0,l.useState)(null),E=(0,l.useCallback)((0,r.default)((function*(){try{const e=yield(0,m.querySubgroupInfo)(t.id,t.parentGroupId);S(e)}catch(e){y((0,g.getErrorStr)(e.status)),n(v.Error)}})),[t]);if((0,l.useEffect)((()=>{E()}),[E]),a===v.Error)return(0,_.jsx)(u.default,{onOK:()=>{s.ModalManager.close()},children:b});if(!C)return null;const{groupType:T,id:x,participants:M,subject:k,displayedDesc:w}=C,P=T===f.GroupType.DEFAULT_ANNOUNCEMENT_GROUP,A=o.fbt._("Join Group",null,{hk:"3zpLYL"}),j=o.fbt._("Cancel",null,{hk:"2oWWgu"});let I;P||(I=M.filter((e=>{var t;return!!(null===(t=d.ContactCollection.get(e.id))||void 0===t?void 0:t.isMyContact)})));const O=function(){var e=(0,r.default)((function*(){n(v.Loading),y(null);try{P&&(yield(0,h.sendJoinAnnouncementGroup)(t.parentGroupId,t.id)),t.groupType===f.GroupType.SUBGROUP&&(yield(0,h.sendJoinSubgroup)(t.parentGroupId,t.id));const e=yield(0,c.findChat)(t.id);(yield i.Cmd.openChatFromUnread(e))&&(n(v.Success),i.Cmd.focusChatTextInput(e),s.ModalManager.close())}catch(e){y((0,g.getErrorStr)(e.status)),n(v.Complete)}}));return function(){return e.apply(this,arguments)}}();return(0,_.jsx)(p.default,{image:{isAnnouncementGroup:P,groupId:x},title:k,subtitle:(0,g.getGroupInviteSubtitle)(T),contacts:I,actionText:A,onAction:O,onCancel:()=>{s.ModalManager.close()},description:w,cancelText:j,finePrint:{text:null!=b?b:(0,g.getFinePrint)(T),isError:null!=b},loading:a===v.Loading})};var r=n(a(48926)),i=a(81572),s=a(14597),o=a(48360),l=a(67294),u=n(a(52665)),d=a(19380),c=a(50101),f=a(55981),h=a(47990),p=n(a(69408)),m=a(42906),g=a(5646),_=a(85893);const v=a(76672).Mirrored(["Loading","Success","Error","Complete"])},5646:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorStr=function(e){switch(e){case 403:return r.fbt._("",null,{hk:"30gPg6"});case 404:return r.fbt._("",null,{hk:"3Mit45"});case 405:return r.fbt._("",null,{hk:"2n1c77"});default:return r.fbt._("",null,{hk:"47wokW"})}},t.getFinePrint=function(e){switch(e){case i.GroupType.COMMUNITY:return r.fbt._("",null,{hk:"40STcs"});case i.GroupType.SUBGROUP:return r.fbt._("",null,{hk:"3CLVEC"});default:return null}},t.getGroupInviteAcceptErrorStr=function(e){switch(e){case 400:return r.fbt._("Can't Join.",null,{hk:"1vIJiX"});case 401:return r.fbt._("You can't join this group because you were removed.",null,{hk:"3PHNXf"});case 404:return r.fbt._("You can't join this group because it has ended.",null,{hk:"38SN9a"});case 409:return r.fbt._("You can't join this group because you are already a member of it.",null,{hk:"3sUUND"});case 410:return r.fbt._("You can't join this group because this invite link was reset.",null,{hk:"1zEGh5"});case 419:return r.fbt._("You can't join this group because it is full.",null,{hk:"1D8JSO"});default:return r.fbt._("Couldn't join this group. Please try again.",null,{hk:"10viZM"})}},t.getGroupInviteActionText=function(e,t,a){if(!0===a)return r.fbt._("",null,{hk:"1ic5gi"});if(e)return t===i.GroupType.COMMUNITY?r.fbt._("",null,{hk:"MRBZk"}):r.fbt._("",null,{hk:"5ip8"});if(t===i.GroupType.COMMUNITY)return r.fbt._("",null,{hk:"2TTmbU"});return r.fbt._("",null,{hk:"4hPZUL"})},t.getGroupInviteMessageIconSrc=function(e,t,a,r){return`https://web.whatsapp.com/invite/v4/icon/?w=${encodeURIComponent((0,n.getMaybeMeUser)().toString())}&g=${encodeURIComponent(e)}&c=${encodeURIComponent(t)}&e=${encodeURIComponent(String(a))}&a=${encodeURIComponent(r.toString())}`},t.getGroupInviteRevokeErrorStr=function(e){switch(e){case 400:return r.fbt._("Failed to revoke this invite.",null,{hk:"1DzSUz"});case 401:return r.fbt._("You can't revoke this group invite because you are not an admin of this group.",null,{hk:"3sfM8v"});case 403:return r.fbt._("You can't revoke this group invite because you are not a participant of this group.",null,{hk:"4DU6Va"});case 404:return r.fbt._("You can't revoke this group invite because this group has ended.",null,{hk:"3KFLBE"});default:return r.fbt._("Can't revoke invite. Please try again.",null,{hk:"1Lf1a8"})}},t.getGroupInviteSubtitle=function(e){switch(e){case i.GroupType.DEFAULT_ANNOUNCEMENT_GROUP:return r.fbt._("",null,{hk:"3LGewC"});case i.GroupType.SUBGROUP:return r.fbt._("",null,{hk:"3AOuS9"});case i.GroupType.COMMUNITY:return r.fbt._("",null,{hk:"1NQcb9"});default:return r.fbt._("",null,{hk:"2yphLg"})}};var n=a(78820),r=a(48360),i=a(55981)},13043:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PollDetailsDrawer=void 0;var r=a(14597),i=a(48360),s=a(67294),o=n(a(56720)),l=a(35461),u=n(a(39770)),d=n(a(52665)),c=a(88984),f=n(a(60453)),h=n(a(69637)),p=a(94790),m=n(a(33308)),g=a(12176),_=a(81409),v=a(85893);const b={display:"p357zi0d",marginBottom:"e51q1eje",lineHeight:"erpdyial",alignItems:"gndfcl4n"},y={fontWeight:"nbipi2bn"},C={color:"gmz9snc8",lineHeight:"erpdyial"},S={marginStart:"isfiuinm",fontSize:"ovllcyds",lineHeight:"r5qsrrlp"};function E(e){const{msg:t,onClose:a}=e,[n]=(0,_.usePollResults)(t),{pollName:r,pollVotes:u}=(0,l.useModelValues)(t,["pollName","pollVotes"]),d=(0,s.useMemo)((()=>[...n].sort(((e,t)=>t.votes.length-e.votes.length))),[n]);return(0,v.jsxs)(f.default,{theme:"striped",testid:"poll-details-drawer",children:[(0,v.jsx)(p.DrawerHeader,{title:i.fbt._("Poll Results",null,{hk:"49h1Kj"}),type:p.DRAWER_HEADER_TYPE.SMALL,onCancel:a,rtlFixIfOnDarwin:!0}),(0,v.jsxs)(h.default,{children:[(0,v.jsxs)(m.default,{theme:"padding-small",children:[(0,v.jsxs)("div",{className:(0,o.default)(b),children:[(0,v.jsx)("span",{className:(0,o.default)(y),children:i.fbt._("Question",null,{hk:"2z9JIr"})}),(0,v.jsx)("span",{className:(0,o.default)(S),children:i.fbt._({"*":"{vote} votes",_1:"1 vote"},[i.fbt._plural(u.length,"vote")],{hk:"26V0Gq"})})]}),(0,v.jsx)("span",{className:(0,o.default)(C),children:r})]}),d.map(((e,t)=>(0,v.jsx)(x,{result:e,showMostVotedLabel:0===t},e.name)))]})]},"poll-details-drawer")}const T={mostVoted:{color:"akc9yq82",fontWeight:"hnx8ox4h",lineHeight:"pvbam5uh",letterSpacing:"hscjuerc",marginBottom:"e51q1eje"},optionSection:{display:"p357zi0d",marginBottom:"du8bjn1j",alignItems:"gndfcl4n"},option:{color:"hzhi8rsn",fontWeight:"sy6s5v3r",lineHeight:"erpdyial"},votes:{marginStart:"isfiuinm",fontSize:"ovllcyds",lineHeight:"r5qsrrlp"},voterRow:{display:"p357zi0d",alignItems:"gndfcl4n",marginBottom:"gdaqao4w"},voter:{marginStart:"g9zvcdbd"},viewAllContainer:{display:"p357zi0d"},viewAll:{width:"ln8gz9je",marginBottom:"mpdn4nr2"}};function x(e){const{result:t,showMostVotedLabel:a}=e;return(0,v.jsxs)(m.default,{theme:"padding-poll",children:[!0===a&&(0,v.jsx)("h2",{className:(0,o.default)(T.mostVoted),children:"Most voted option"}),(0,v.jsxs)("div",{className:(0,o.default)(T.optionSection),children:[(0,v.jsx)("span",{className:(0,o.default)(T.option),children:`${t.name} - ${Math.round(100*t.ratioOfAll)}%`}),(0,v.jsx)("span",{className:(0,o.default)(T.votes),children:i.fbt._({"*":"{vote} votes",_1:"1 vote"},[i.fbt._plural(t.votes.length,"vote")],{hk:"26V0Gq"})})]}),t.votes.length>0&&(0,v.jsxs)(v.Fragment,{children:[t.votes.slice(0,5).map((e=>(0,v.jsxs)("div",{className:(0,o.default)(T.voterRow),children:[(0,v.jsx)(c.DetailImage,{id:e.senderObj.id,size:20}),(0,v.jsx)(g.Name,{contact:e.senderObj,you:!0,xstyle:T.voter})]},e.id.toString()))),(0,v.jsx)("div",{className:(0,o.default)(T.viewAllContainer),children:(0,v.jsx)(u.default,{type:"secondary",xstyle:T.viewAll,onClick:e=>{r.ModalManager.open((0,v.jsx)(d.default,{title:"Unimplemented",onOK:()=>{r.ModalManager.close()}})),e.preventDefault()},children:i.fbt._("View all votes",null,{hk:"1qOFYM"})})})]})]})}const M=(0,s.forwardRef)(E);t.PollDetailsDrawer=M},30934:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onReport:t}=e,[a,n]=(0,u.useState)(!0),m=()=>{a?e.isGroupChat?e.onReportExitClear():e.onReportBlockClear():t()};let g,_,v,b;e.isGroupChat?(g=l.fbt._("Report this group to WhatsApp?",null,{hk:"MXJ3v"}),_=l.fbt._("Exit group and clear chat",null,{hk:"2LhHeg"}),b=l.fbt._("No one in this group will be notified.",null,{hk:"RPFkd"}),v=(0,i.isMDBackend)()?(0,s.clearOrDeleteChatSyncEnabled)()?l.fbt._("The last 5 messages in this group will be forwarded to WhatsApp. If you exit the group and clear the chat, messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"3IsXz9"}):l.fbt._("The last 5 messages in this group will be forwarded to WhatsApp. If you exit the group and clear the chat, it will be deleted from this device only.",null,{hk:"Da33A"}):l.fbt._("The last 5 messages in this group will be forwarded to WhatsApp.",null,{hk:"YEm4m"})):e.isBusiness?(g=l.fbt._("Report this business to WhatsApp?",null,{hk:"3x593t"}),_=l.fbt._("Block business and clear chat",null,{hk:"4poOty"}),b=l.fbt._("This business will not be notified.",null,{hk:"2pSufL"}),v=(0,i.isMDBackend)()?(0,s.clearOrDeleteChatSyncEnabled)()?l.fbt._("The last 5 messages from this business will be forwarded to WhatsApp. If you block this business and clear the chat, messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"3uO8yw"}):l.fbt._("The last 5 messages from this business will be forwarded to WhatsApp. If you block this business and clear the chat, it will be deleted from this device only.",null,{hk:"1EOBk0"}):l.fbt._("The last 5 messages from this business will be forwarded to WhatsApp.",null,{hk:"2r0sZN"})):(g=l.fbt._("Report this contact to WhatsApp?",null,{hk:"hp09m"}),_=l.fbt._("Block contact and clear chat",null,{hk:"2HlBBz"}),b=l.fbt._("This contact will not be notified.",null,{hk:"TjRdG"}),v=(0,i.isMDBackend)()?(0,s.clearOrDeleteChatSyncEnabled)()?l.fbt._("The last 5 messages from this contact will be forwarded to WhatsApp. If you block this contact and clear the chat, messages will only be removed from this device and your devices on the newer versions of WhatsApp.",null,{hk:"2D3IuM"}):l.fbt._("The last 5 messages from this contact will be forwarded to WhatsApp. If you block this contact and clear the chat, it will be deleted from this device only.",null,{hk:"21wiIm"}):l.fbt._("The last 5 messages from this user will be forwarded to WhatsApp.",null,{hk:"4Fe5xk"}));const y=(0,p.jsx)("div",{"data-a8n":r.default.key("menu-icon-report-spam"),className:f.default.control,children:(0,p.jsx)(d.CheckBox,{onChange:()=>{n(!a)},checked:a,id:"menu-icon-report-spam"})}),C=(0,p.jsx)("label",{htmlFor:"menu-icon-report-spam",className:f.default.label,children:_});if((0,i.isMDBackend)())return(0,p.jsxs)(c.default,{title:g,onOK:m,okText:l.fbt._("Report",null,{hk:"18ssTb"}),onCancel:e.onCancel,children:[(0,p.jsxs)("div",{className:(0,o.default)(f.default.section,f.default.border),children:[y,C]}),(0,p.jsx)(h.TextParagraph,{className:f.default.mdMetaText,theme:"muted",children:v}),(0,p.jsx)(h.TextParagraph,{className:f.default.mdMetaText,theme:"muted",children:b})]});return(0,p.jsxs)(c.default,{onOK:m,okText:l.fbt._("Report",null,{hk:"18ssTb"}),onCancel:e.onCancel,children:[g,(0,p.jsx)(h.TextDiv,{className:f.default.metaText,theme:"muted",children:v}),(0,p.jsx)(h.TextDiv,{className:f.default.metaText,theme:"muted",children:b}),(0,p.jsxs)("div",{className:f.default.section,children:[y,C]})]})};var r=n(a(99964)),i=a(88555),s=a(8139),o=n(a(94184)),l=a(48360),u=a(67294),d=a(16593),c=n(a(52665)),f=n(a(8863)),h=a(13923),p=a(85893)},16844:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{onClick:t}=e;return(0,o.jsx)(i.MenuBarItem,{a8nText:"menu-bar-select-all",icon:(0,o.jsx)(s.default,{name:"select-all"}),title:r.fbt._("Select All Toggle",null,{hk:"1SdEZP"}),onClick:t})};var r=a(48360),i=a(46346),s=n(a(23217)),o=a(85893)},56728:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.SelectModal=t.ListType=void 0;var r=n(a(45120)),i=n(a(52013)),s=a(14597),o=n(a(78931)),l=a(67294),u=n(a(16223)),d=n(a(121)),c=n(a(35375)),f=n(a(60453)),h=n(a(69637)),p=a(94790),m=a(50101),g=n(a(30855)),_=a(57224),v=n(a(77864)),b=n(a(97473)),y=n(a(91468)),C=n(a(16844)),S=a(18963),E=n(a(32127)),T=n(a(88406)),x=a(85893);const M={CHAT_SELECT_MODAL:"CHAT_SELECT_MODAL",CONTACT_SELECT_MODAL:"CONTACT_SELECT_MODAL",PARTICIPANT_MANAGE_MODAL:"PARTICIPANT_MANAGE_MODAL",PRODUCT_SELECT_MODAL:"PRODUCT_SELECT_MODAL"};t.ListType=M;const k=(0,l.forwardRef)(((e,t)=>{const{listType:a,useShortName:n,singleSelectionFooterType:k,multipleSelectionFooterType:w,onConfirm:P,onSelectionChanged:A,getInitialItems:j,msgType:I,excludeChat:O,excludeBroadcast:N,maxItems:R,hasFrequentlyForwarded:D,hasForwarded:L,useAllContacts:B,maxItemsExceedErrorMsg:F,isDisabled:G,isSelected:U,customSecondaryText:V,filter:W,allowBlockedContacts:H,onDataLoaded:q,getSelectionSummary:Y,shouldShowSelectionSummary:z,activeWithoutSelection:K,enableSelectAll:$,ephemeralIcon:Q}=e,X=(0,l.useRef)(null),J=(0,l.useRef)(null),Z=(0,u.default)((()=>new T.default([],(e=>e.id.toString())))),ee=(0,u.default)((()=>new o.default([],(e=>e.id.toString())))),te=(0,u.default)((()=>new g.default)),[ae,ne]=(0,l.useState)("");(0,l.useEffect)((()=>{i.default.focus(X.current)}),[]);const re=!!e.getInitialItems&&0!==e.getInitialItems().length,ie=e=>{e&&(e.preventDefault(),e.stopPropagation())};(0,l.useImperativeHandle)(t,(()=>({handleFocusList:ie})));const se=()=>{r.default.shouldIndicateFocus(),i.default.focus(X.current)},oe=(e,t)=>{var a;if(null===(a=X.current)||void 0===a||a.select(),null!=A){const a=ee.current.getSelected();A(e,t,a)}},le=a===M.PARTICIPANT_MANAGE_MODAL?(0,x.jsx)(c.default,{selections:ee.current,useShortName:n,onDelete:(e,t)=>{ee.current.setVal(t,!1)},isDisabled:e.isDisabled}):null;return(0,x.jsx)(_.Modal,{type:_.ModalTheme.Tower,children:(0,x.jsxs)(f.default,{testid:"chat-modal",children:[(0,x.jsx)(p.DrawerHeader,{menu:(()=>{if(!0!==$||a!==M.CONTACT_SELECT_MODAL)return!1;const{length:e}=b.default.calculateContacts({filter:W,useAllContacts:B});return null==R||e<=R})()?(0,x.jsx)(C.default,{onClick:()=>{J.current instanceof b.default&&J.current.selectAll()}}):null,title:e.title,type:p.DRAWER_HEADER_TYPE.POPUP,onCancel:e.onCancel?e.onCancel:()=>s.ModalManager.close()}),(0,x.jsx)(E.default,{searchRef:e=>{X.current=e},setSearchText:ne,onDown:()=>{Z.current.setFirst(!0)},onEnter:()=>{var e;null===(e=J.current)||void 0===e||e.toggleFirst(!1)},onFocus:()=>{var e;Z.current.unset(),null===(e=X.current)||void 0===e||e.indicateFocus()},enabled:e.enableSearchBox}),e.customHeader,le,(0,x.jsx)(h.default,{flatListControllers:[te.current],onScroll:e=>{var t;(null===(t=J.current)||void 0===t?void 0:t.updateForScrollEvent)&&J.current.updateForScrollEvent(e)},children:(()=>{switch(a){case M.CHAT_SELECT_MODAL:{const e=ee.current;return(0,x.jsx)(v.default,{ref:J,msgType:I,excludeChat:O,excludeBroadcast:N,getInitialItems:j,searchText:ae,active:Z.current,selections:e,maxChats:R,onLeaveList:se,onSelectionChanged:oe,hasFrequentlyForwarded:D,hasForwarded:L,flatListController:te.current,isDisabled:G,ephemeralIcon:Q})}case M.PARTICIPANT_MANAGE_MODAL:case M.CONTACT_SELECT_MODAL:{const e=ee.current;return(0,x.jsx)(b.default,{ref:J,useAllContacts:B,getInitialItems:j,searchText:ae,active:Z.current,selections:e,maxContacts:R,maxContactsExceedErrorMsg:F,onLeaveList:se,onSelectionChanged:oe,isDisabled:G,isSelected:U,customSecondaryText:V,filter:W,allowBlockedContacts:H,flatListController:te.current})}case M.PRODUCT_SELECT_MODAL:{const e=ee.current;return(0,x.jsx)(y.default,{ref:J,flatListController:te.current,active:Z.current,selections:e,onSelectionChanged:oe,onProductsLoaded:q})}default:throw new Error(`Invalid list type: ${a}`)}})()}),(0,x.jsx)(S.SelectModalFooter,{singleSelectionType:k,multipleSelectionType:w,selections:ee.current,onForward:()=>{const e=ee.current.getSelected();a===M.CONTACT_SELECT_MODAL||a===M.PARTICIPANT_MANAGE_MODAL||a===M.PRODUCT_SELECT_MODAL?P(e):Promise.all(e.map((e=>e instanceof d.default?(0,m.findChat)(e.id):e))).then((e=>{P(e)}))},startActive:re,getSelectionSummary:Y,shouldShowSelectionSummary:z,activeWithoutSelection:K})]},"chat-modal")})}));t.SelectModal=k,k.displayName="SelectModal"},18963:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.FooterType=void 0,t.SelectModalFooter=y;var r=n(a(35161)),i=n(a(25325)),s=n(a(91966)),o=n(a(40436)),l=n(a(94184)),u=a(67294),d=a(87550),c=a(63183),f=a(65417),h=n(a(14296)),p=a(9468),m=a(82857),g=n(a(28708)),_=n(a(23217)),v=a(85893);const b={CONFIRM:"CONFIRM",NEXT:"NEXT",SEND:"SEND",VOICE_CALL:"VOICE_CALL",VIDEO_CALL:"VIDEO_CALL"};function y(e){const{getSelectionSummary:t,shouldShowSelectionSummary:a,selections:n,activeWithoutSelection:r,onForward:i,startActive:s}=e,c=(0,u.useRef)(!0===r||!0===s),f=(0,u.useRef)(!0),[h,p]=(0,u.useState)([]);(0,d.useListener)(n,"all",(()=>{p(n.getSelected())})),(0,u.useEffect)((()=>{const e=n.getSelected();p(e)}),[]);const y=()=>{f.current&&(f.current=!1,i())},S=(0,u.useMemo)((()=>!0===r||h.length>0),[r,h]);let E;if((0,u.useEffect)((()=>{S||(c.current=!1)}),[S]),S){let n;switch(1===h.length?e.singleSelectionType:e.multipleSelectionType){case b.CONFIRM:n=(0,v.jsx)(_.default,{name:"checkmark-medium"});break;case b.NEXT:n=(0,v.jsx)(_.default,{name:"arrow-forward"});break;case b.VOICE_CALL:n=(0,v.jsx)(_.default,{name:"voice-call"});break;case b.VIDEO_CALL:n=(0,v.jsx)(_.default,{name:"video-call"});break;case b.SEND:default:n=(0,v.jsx)(_.default,{directional:!0,name:"send"})}const r=a?(0,v.jsx)(C,{items:h,getSelectionSummary:t}):null;E=(0,v.jsxs)("div",{className:(0,l.default)(g.default.controlsSummary,{[g.default.noSummary]:!a}),children:[r,(0,v.jsx)("div",{"data-animate-btn":!0,className:c.current?g.default.btnActive:g.default.btnAction,children:(0,v.jsx)(m.Round,{large:!0,onClick:y,children:n})})]})}return(0,v.jsx)(o.default,{transitionName:"slide-up-down-footer",className:g.default.container,children:E})}t.FooterType=b,y.defaultProps={singleSelectionType:b.SEND,multipleSelectionType:b.SEND,shouldShowSelectionSummary:!0};class C extends u.Component{constructor(e){super(e),this.state={items:this.props.items}}static getDerivedStateFromProps(e,t){let a=t.items;const n=e.items;return a=n&&n.length>a.length?a.concat((0,s.default)(n,a)):(0,i.default)(a,n),{items:a}}render(){const e=(0,r.default)(this.state.items,(e=>e instanceof c.Chat?e.formattedTitle:e instanceof p.Product?e.name:e.formattedShortNameWithNonBreakingSpaces)),t=[];for(let a=e.length-1;a>=0;a--)t.push((0,v.jsx)(f.EmojiText,{className:g.default.item,text:e[a]},a)),a>0&&t.push((0,v.jsx)("span",{children:h.default.t(307)},`comma-${a}`));const{getSelectionSummary:a}=this.props,n=null==a?t:(0,v.jsx)("span",{children:a(this.state.items)});return(0,v.jsx)(o.default,{transitionName:"pop",className:g.default.summaryText,children:n})}}C.displayName="SelectionSummary"},32127:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{enabled:t=!0,setSearchText:a,searchRef:n,onEnter:u}=e,d=(0,r.default)((e=>{a(e)}),100);return t?(0,l.jsx)(i.HotKeys,{handlers:{down:e.onDown},onFocus:e.onFocus,children:(0,l.jsx)(o.default,{ref:n,onSearch:d,onEnter:u,placeholder:s.default.t(624)})}):null};var r=n(a(51799)),i=a(29424),s=n(a(14296)),o=n(a(48837)),l=a(85893)},74943:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const{onCancel:a,supportTag:n,onSend:v}=e,[S,E]=(0,f.useState)(""),[T,x]=(0,f.useState)(void 0),[M,k]=(0,f.useState)(""),[j,I]=(0,f.useState)(void 0),[O,N]=(0,f.useState)(function(){if(m.Conn.isSMB)return c.fbt._("Question about WhatsApp Business for Web",null,{hk:"zJ0HI"});return c.fbt._("Question about WhatsApp for Web",null,{hk:"131jg2"})}().toString()),[R,D]=(0,f.useState)(void 0),[L,B]=(0,f.useState)(null!==(t=e.description)&&void 0!==t?t:""),[F,G]=(0,f.useState)(void 0),[U,V]=(0,f.useState)([]),[W,H]=(0,f.useState)(!1),q=(0,f.useRef)(null),Y=(0,f.useRef)(null);(0,f.useEffect)((()=>{var e;return null===(e=q.current)||void 0===e||e.restoreFocus(),()=>{U.map((e=>{let{url:t}=e;return t&&URL.revokeObjectURL(t)}))}}),[]);const z=e=>e.length>10,K=e=>o.validateEmail(e),$=e=>S===e,Q=()=>U.length>=3,X=e=>{e.stopPropagation()},J=e=>{e.preventDefault(),e.stopPropagation(),Q()||(0,s.getFiles)(e,"image/*").then((e=>{Y.current&&(Y.current.value="");const t=e.filter((e=>e.size<=10485760));t.length<e.length&&u.ToastManager.open((0,C.jsx)(y.Toast,{msg:c.fbt._("Please upload images 10 MB or smaller",null,{hk:"18OENQ"}),id:(0,y.genId)()}));const a=U.concat(t).slice(0,3);a.map((e=>{e.url||(e.url=URL.createObjectURL(e))})),V(a)}))},Z=(0,C.jsxs)("div",{children:[(0,C.jsx)(P,{screenshots:U,onDeleteScreenshot:e=>{const t=U.slice(),[a]=t.splice(e,1);a.url&&URL.revokeObjectURL(a.url),V(t)}}),(0,C.jsx)(A,{reachedMaxScreenshots:Q(),isDragging:W,onAttachClick:()=>{var e;Q()||(null===(e=Y.current)||void 0===e||e.click())}}),(0,C.jsx)("input",{className:(0,h.default)(w),accept:"image/*",type:"file",multiple:!0,onClick:X,onChange:J,ref:Y,disabled:Q()})]});return(0,C.jsx)(p.default,{title:_.default.t(654),okText:_.default.t(645),onOK:()=>{let e=0;const t=S.trim(),a=M.trim();if(E(t),k(a),K(t)||(x(_.default.t(649)),e+=1),$(a)||(I(_.default.t(650)),e+=1),z(L)||(G(_.default.t(656)),e+=1),0===e){x(void 0),I(void 0),D(void 0),G(void 0),U.map((e=>{e.url&&(URL.revokeObjectURL(e.url),delete e.url)}));const e=(0,d.getMaybeMeUser)(),a=e?(0,r.formatPhone)(e.user):null,s=O.trim()||_.default.t(646);(0,i.uploadUserReport)(a,t,s,L,U,n),v&&v({subject:s,description:L,numScreenshots:U.length}),l.ModalManager.close(),u.ToastManager.open((0,C.jsx)(y.Toast,{msg:_.default.t(652),id:(0,y.genId)()}))}},onCancel:()=>{a&&a(),l.ModalManager.close()},onDrop:J,onDragChange:e=>{H(e)},children:(0,C.jsxs)(g.HotKeys,{handlers:{enter:X},children:[(0,C.jsx)(b.TextInput,{ref:q,value:S,error:T,maxLength:320,onChange:e=>{K(e)&&x(void 0),E(e)},onBlur:()=>{const e=S.trim();S&&!K(e)&&x(_.default.t(649)),E(e)},placeholder:_.default.t(647)}),(0,C.jsx)(b.TextInput,{editable:!0,value:M,error:j,maxLength:320,onChange:e=>{k(e),$(e)&&I(void 0)},onBlur:()=>{const e=M.trim();M&&!$(e)&&I(_.default.t(650)),k(e)},placeholder:_.default.t(648)}),(0,C.jsx)(b.TextInput,{value:O,error:R,maxLength:50,onChange:e=>{N(e),D(void 0)},onBlur:()=>{0},placeholder:_.default.t(651)}),(0,C.jsx)(b.TextInput,{value:L,error:F,maxLength:500,onChange:e=>{B(e),z(e)&&G(void 0)},onBlur:()=>{L&&!z(L)&&G(_.default.t(656))},placeholder:_.default.t(279),multiline:!0}),Z]})})};var r=a(40277),i=a(86374),s=a(72312),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(95726)),l=a(14597),u=a(94816),d=a(78820),c=a(48360),f=a(67294),h=n(a(56720)),p=n(a(52665)),m=a(17239),g=a(29424),_=n(a(14296)),v=n(a(23217)),b=a(90011),y=a(50452),C=a(85893);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}const E={color:"aoclmdzt",cursor:"bx7g2weo"},T={boxSizing:"cm280p3y",display:"p357zi0d",flexDirection:"f8m0rgwh",alignItems:"gndfcl4n",justifyContent:"ac2vgrno",width:"ln8gz9je",height:"ilf8vifs",paddingTop:"i5tg98hk",paddingEnd:"f9ovudaz",paddingBottom:"przvwfww",paddingStart:"gx1rr48f",marginTop:"fgtikrv0",fontSize:"dsh4tgtl",color:"o2v2jkg7",textAlign:"qfejxiq4",textTransform:"ofejerhi",cursor:"ajgl1lbb",backgroundColor:"losjomng"},x={display:"p357zi0d",paddingTop:"eujn52yf",paddingEnd:"jfqm35v0",paddingBottom:"ckm995li",paddingStart:"bdbt56hn",backgroundColor:"qqs366u4"},M={position:"g0rxnol2",float:"kpdgp91a",width:"b6vz4lkg",height:"kgc6pkg6",marginTop:"qt60bha0",marginEnd:"mw4yctpw",marginBottom:"inww9tbj",marginStart:"qnz2jpws",backgroundPositionX:"kc4t2p4u",backgroundPositionY:"c8nijwnu",backgroundSize:"qnwaluaf",boxShadow:"d1nvxjvo"},k={position:"lhggkp7q",top:"hd6b059k",end:"e6ezto3k",color:"k17s6i4e"},w={display:"qibyn6m3"};function P(e){let{screenshots:t,onDeleteScreenshot:a}=e;const n=t.map(((e,t)=>{if(null==e.url)return null;const n=`url(${e.url})`,r=`${e.url}-${t}`;return(0,C.jsx)("div",{className:(0,h.default)(M),style:{backgroundImage:n},children:(0,C.jsx)("button",{className:(0,h.default)(k),onClick:()=>{a(t)},children:(0,C.jsx)(v.default,{name:"x-alt"})})},r)})).filter(Boolean);return 0!==n.length?(0,C.jsx)("div",{className:(0,h.default)(x),children:n}):null}function A(e){let{reachedMaxScreenshots:t,isDragging:a,onAttachClick:n}=e;if(t){const e=3;return(0,C.jsx)("div",{className:(0,h.default)(T,E),children:_.default.t(655,{count:e,_plural:e})})}return a?(0,C.jsx)("div",{className:(0,h.default)(T),children:c.fbt._("Release to add...",null,{hk:"TzQ08"})}):(0,C.jsx)("div",{className:(0,h.default)(T),onClick:n,children:c.fbt._("Add Screenshots",null,{hk:"2kJYoR"})})}},82791:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{link:t}=e,{suspiciousCharacters:a,domain:n,href:p}=t,m=n.split("."),g=m.map(((e,t)=>{let n=!1;const r=e.split("").map(((e,r)=>{const i=a&&a.has(e);n=i||n;const s=i?c.default.suspiciousCharacter:void 0;return(0,f.jsx)("span",{className:s,children:e},`${t}-${r}-${e}`)})),i=n?c.default.suspiciousHostname:void 0;return(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)("span",{className:i,children:r}),t+1!==m.length?(0,f.jsx)("span",{children:"."}):null]},`${t}-${e}`)})),[_,v]=p.split(n);return(0,f.jsxs)(l.default,{title:s.fbt._("Suspicious link",null,{hk:"J2Yam"}),okText:s.fbt._("Cancel",null,{hk:"H0gNq"}),cancelText:s.fbt._("Open link",null,{hk:"1yYoWm"}),onOK:h,onCancel:()=>{const{href:e}=t;(0,u.openExternalLink)(e),i.ModalManager.close()},children:[(0,f.jsxs)("div",{className:c.default.explanation,children:[s.fbt._("This link contains unusual characters. It may be trying to appear as another site.",null,{hk:"4ybh1b"})," ",(0,f.jsx)(u.ExternalLink,{href:(0,r.getSuspiciousLinkFaqUrl)(),children:d.default.t(447)})]}),(0,f.jsxs)("div",{className:c.default.url,children:[_,g,v]})]})};var r=a(21310),i=a(14597),s=a(48360),o=a(67294),l=n(a(52665)),u=a(12591),d=n(a(14296)),c=n(a(43047)),f=a(85893);const h=()=>{i.ModalManager.close()}},88858:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contact:t,isB2C:a}=e;const n=()=>{(0,d.shouldBlockByTos)(t)||r.ModalManager.close()};(0,s.useListener)(t,"change:privacyMode",n),(0,s.useListener)(u.TosManager,"change",n);const f=a?i.fbt._("This update provides more information about how you can securely chat with businesses. Open this chat on your phone to review and learn more about the WhatsApp update.",null,{hk:"ZFoS0"}):i.fbt._("WhatsApp recently updated its terms and privacy policy. This business uses a secure service from the Facebook company to manage chats. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.",null,{hk:"1YQKBn"});return(0,c.jsx)(o.default,{onOK:()=>r.ModalManager.close(),okText:l.default.t(582),title:i.fbt._("WhatsApp’s terms and privacy policy update",null,{hk:"4Eh7HY"}),children:f})};var r=a(14597),i=a(48360),s=a(87550),o=n(a(52665)),l=n(a(14296)),u=a(70768),d=a(37894),c=a(85893)},29811:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e,t,a;switch((0,s.useListener)(l.Conn,"change:tos",f),l.Conn.tos){default:case 1:e=i.fbt._("WhatsApp is updating our Terms and Privacy Policy to reflect new features and comply with the new European Union data protection laws. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.",null,{hk:"3LsIm"}),t=u.default.t(582),a=()=>r.ModalManager.close();break;case 2:e=i.fbt._("WhatsApp is updating our Terms and Privacy Policy to reflect new features and comply with the new European Union data protection laws. Open WhatsApp on your phone to read our Terms and Privacy Policy and learn more about the choices you have.",null,{hk:"3DBzW"}),t=u.default.t(496),a=h}return(0,c.jsx)(o.default,{onOK:a,okText:t,children:e})};var r=a(14597),i=a(48360),s=a(87550),o=n(a(52665)),l=a(17239),u=n(a(14296)),d=a(65044),c=a(85893);function f(){0===l.Conn.tos&&r.ModalManager.close()}function h(){r.ModalManager.close(),d.Socket.logout()}},26132:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.useModelValues)(e.notice,["noticeId","blocking","blockingModal"]),a=(0,i.useContext)(v.ThemeContext),{blockingModal:n}=t,[l,T]=(0,i.useState)(!1);(0,s.useListener)(p.default,"change:blocking",(()=>{p.default.blocking||r.ModalManager.close()}));const x=()=>null!=p.default.noticeId&&null!=p.default.blockingModal&&!0===p.default.blocking,M=()=>{if(x()&&!l){new f.default.UserNotice({userNoticeId:p.default.noticeId,userNoticeContentVersion:p.default.policyVersion,userNoticeEvent:f.default.USER_NOTICE_EVENT.BLOCKING_MODAL_APPEAR}).commit(),T(!0)}};(0,s.useListener)(p.default,"change:noticeId",(()=>{T(!1)})),(0,s.useListener)(p.default,"change:blockingModal change:blocking",M),(0,i.useEffect)((()=>{M()}),[]);const k=()=>{__LOG__(2)`user notice modal, user clicked logout`,r.ModalManager.close(),y.Socket.logout()},w=()=>{location.reload()},P=e=>{if(e){if("logout"===e.action)return k;if("refresh"===e.action)return w}return S};if(!n||!x())return null;const{iconSvg:A,iconDescription:j="",title:I,body:O,primaryButton:N,secondaryButton:R}=n;let D;A&&(D="light"===a.theme?A.light:A.dark);const L=(0,C.jsx)(g.default,{name:"alert-notice","aria-label":j}),B=D&&(0,m.sanitizeNoticeSVG)(D),F=B?(0,C.jsx)("span",{"aria-label":j,dangerouslySetInnerHTML:{__html:B}}):L,G=(0,C.jsx)(E,{btn:R,onClick:P(R)}),U=(0,C.jsx)(E,{btn:N,primary:!0,onClick:P(N)}),V={enter:P(N)},W=I?(0,m.sanitizeNoticeText)(I):null,H=O?(0,m.sanitizeNoticeText)(O):null;return(0,C.jsx)(c.HotKeys,{handlers:V,children:(0,C.jsx)("div",{className:u.Conn.isSMB?b.default.noticeSmbContainer:b.default.noticeContainer,children:(0,C.jsx)(h.Modal,{actions:[G,U],type:h.ModalTheme.Flex,children:(0,C.jsxs)("div",{className:b.default.noticeModalContentWrapper,children:[(0,C.jsx)(d.FlexRow,{className:b.default.noticeSvgWrapper,align:"center",justify:"center",children:F}),(0,C.jsx)(_.TextDiv,{theme:"popup-title",className:b.default.headerText,children:(0,C.jsx)("div",{dangerouslySetInnerHTML:{__html:W}})}),(0,C.jsx)(_.TextDiv,{theme:"plain",className:b.default.bodyText,children:(0,C.jsx)("div",{dangerouslySetInnerHTML:{__html:H}})})]})})})})};var r=a(14597),i=a(67294),s=a(87550),o=a(35461),l=n(a(39770)),u=a(17239),d=a(29623),c=a(29424),f=n(a(11339)),h=a(57224),p=n(a(51783)),m=a(90995),g=n(a(23217)),_=a(13923),v=a(97628),b=n(a(91377)),y=a(65044),C=a(85893);const S=()=>{};function E(e){let{btn:t,primary:a=!1,onClick:n}=e;if(null==t)return null;const r=`UserNoticeModalPopup-${t.action}Btn`,i=`popup-controls-${t.action}`;return(0,C.jsx)(l.default,{a8nText:i,type:a?"primary":"secondary",onClick:n,children:t.label},r)}},11976:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{parsedVcard:t,thumbnail:a}=e,n=e.parsedVcard,h=(0,r.default)(n.TEL,(e=>e.properties.waid)),p=(0,r.default)(n.TEL,(e=>!e.properties.waid)),g=(0,i.default)(h,(e=>{const t=e.properties.waid[0],a=(0,M.jsx)(T.default,{onClick:()=>(e=>{o.ModalManager.close(),(0,v.findChat)((0,u.createUserWid)(e)).then((e=>{s.Cmd.openChatFromUnread(e).then((t=>{t&&s.Cmd.focusChatTextInput(e)}))}))})(t),children:(0,M.jsx)(E.default,{name:"chat",className:x.default.icon})}),n=(0,M.jsx)(S.SelectableSpan,{selectable:!0,children:(0,d.widToFormattedUser)(t)});return(0,M.jsx)(m.default,{title:n,icon:a,children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`)})),y=(0,i.default)(n.EMAIL,(e=>(0,M.jsx)(m.default,{title:b.default.forceLTR(e.value),onClick:()=>{return t=e.value,void(0,_.openExternalLink)(`mailto:${t}`);var t},children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`))),C=(0,i.default)(n.ADR,(e=>{const t=e.value.join(" ");return(0,M.jsx)(m.default,{title:t,onClick:()=>(e=>{const t=`https://maps.google.com/maps/search/${(0,i.default)((0,r.default)(e),encodeURIComponent).join(", ")}?hl=${b.default.getLocale()}`;(0,_.openExternalLink)(t)})(e.value),children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`)})),w=(0,i.default)(p,(e=>(0,M.jsx)(m.default,{title:b.default.forceLTR(e.value),children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`))),P=(0,i.default)(n.SERVICE,(e=>(0,M.jsx)(m.default,{title:e.value,children:(0,l.vcardGetType)(e)},`vCard-${String(e.index)}`))),A=(0,i.default)(n.BDAY,(e=>(0,M.jsx)(m.default,{title:(0,l.vcardGetDate)(e.value),children:c.fbt._("Birthday",null,{hk:"ULBWf"})},`vCard-${String(e.index)}`))),j=(0,i.default)(n.NICKNAME,(e=>(0,M.jsx)(m.default,{title:e.value,children:c.fbt._("Nickname",null,{hk:"1dSiK9"})},`vCard-${String(e.index)}`))),I=(0,M.jsx)(k,{parsedVcard:t,thumbnail:a}),O=[...g,...y,...C,...w,...A,...j,...P],N=O[O.length-1];null!=N&&(O[O.length-1]=(0,f.cloneElement)(N,{isLastItem:!0}));return(0,M.jsxs)("div",{children:[I,(0,M.jsx)("div",{className:x.default.content,children:O})]})};var r=n(a(63105)),i=n(a(35161)),s=a(81572),o=a(14597),l=a(93778),u=a(45454),d=a(62054),c=a(48360),f=a(67294),h=n(a(44356)),p=a(88984),m=n(a(70835)),g=a(65417),_=a(12591),v=a(50101),b=n(a(14296)),y=n(a(87543)),C=a(82039),S=a(52596),E=n(a(23217)),T=n(a(1784)),x=n(a(637)),M=a(85893);function k(e){let{parsedVcard:t,thumbnail:a}=e;const n=(0,l.vcardWids)(t),r=(0,M.jsx)(g.EmojiText,{text:(0,l.vcardGetNameFromParsed)(t),direction:"auto",titlify:!0,ellipsify:!0,selectable:!0}),i=(0,l.vcardGetOrganizationString)(t),s=(0,M.jsx)(y.default,{thumb:a,size:p.DetailImageSize.Small,wid:C.ProfilePicThumbCollection.findThumbnailWid(n)});return(0,M.jsx)(h.default,{image:s,theme:"plain",primary:r,secondary:i})}},21915:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onSelect:t,vcard:a}=e,n=(0,u.useMemo)((()=>{const n=e=>{t(e)};return(0,r.default)(a.TEL,(e=>e.properties.waid)).map((t=>{const a=(0,s.createUserWid)(t.properties.waid[0]);let r=e.icon;return r&&(r=(0,_.jsx)(m.default,{onClick:e=>{((e,t)=>{e.stopPropagation(),n(t)})(e,a)},children:r})),(0,_.jsx)("div",{className:g.default.container,children:(0,_.jsx)(h.default,{title:(0,o.widToFormattedUser)(a),onClick:()=>n(a),isLastItem:!0,icon:r,children:(0,i.vcardGetType)(t)})},`vCard-${t.value}`)}))}),[a.TEL,t,e.icon]);return(0,_.jsx)(p.Modal,{type:p.ModalTheme.Box,children:(0,_.jsxs)(d.default,{children:[(0,_.jsx)(f.DrawerHeader,{onCancel:e.onCancel,type:f.DRAWER_HEADER_TYPE.POPUP,title:l.fbt._("Choose a phone number",null,{hk:"2Mbr64"})}),(0,_.jsx)(c.default,{children:n})]})})};var r=n(a(63105)),i=a(93778),s=a(45454),o=a(62054),l=a(48360),u=a(67294),d=n(a(60453)),c=n(a(69637)),f=a(94790),h=n(a(70835)),p=a(57224),m=n(a(1784)),g=n(a(11927)),_=a(85893)},29535:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,d.jsx)(l.SelectModal,{title:e.isVideo?s.fbt._("Group video call",null,{hk:"4rrIQR"}):s.fbt._("Group voice call",null,{hk:"gRekC"}),filter:t=>!e.groupParticipants||!!e.groupParticipants.find((e=>e.equals(t.id)))&&!t.isMe,onCancel:()=>i.ModalManager.close(),onConfirm:t=>{e.onStartGroupCall(t.map((e=>e.id))),i.ModalManager.close()},listType:l.ListType.PARTICIPANT_MANAGE_MODAL,useAllContacts:null!=e.groupParticipants,maxItems:r.default.VOIP_MAX_GROUP_CALL_PARTICIPANTS-1,maxItemsExceedErrorMsg:o.default.t(728,{count:r.default.VOIP_MAX_GROUP_CALL_PARTICIPANTS-1,_plural:r.default.VOIP_MAX_GROUP_CALL_PARTICIPANTS-1}),singleSelectionFooterType:e.isVideo?u.FooterType.VIDEO_CALL:u.FooterType.VOICE_CALL,multipleSelectionFooterType:e.isVideo?u.FooterType.VIDEO_CALL:u.FooterType.VOICE_CALL,allowBlockedContacts:!1})};var r=n(a(64369)),i=a(14597),s=a(48360),o=n(a(14296)),l=a(56728),u=a(18963),d=a(85893)},25033:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{messageText:t}=e,a=()=>{i.ModalManager.close()};if(!s.default.online)return(0,h.jsx)(u.default,{okText:l.fbt._("OK",null,{hk:"2KEeHb"}),onOK:a,children:l.fbt._("Couldn't search the web. Check your computer's internet connection and try again.",null,{hk:"1OAOT8"})});return(0,h.jsx)(u.default,{cancelText:l.fbt._("Cancel",null,{hk:"H0gNq"}),onCancel:a,okText:l.fbt._("Search Web",null,{hk:"3SErVr"}),onOK:()=>{const e=(0,r.firstNEncodedBytes)(t,2e3),a=5===f.ServerProps.frequentlyForwardedThreshold?"wa":`wa${f.ServerProps.frequentlyForwardedThreshold}`,n=o.default.build("https://www.google.com/search",{ctx:a,q:e});(0,d.openExternalLink)(n),(new c.default.HfmTextSearchComplete).commit(),i.ModalManager.close()},children:l.fbt._("Would you like to search this on the web? This will upload the message to Google.",null,{hk:"3auzZo"})})};var r=a(64331),i=a(14597),s=n(a(81602)),o=n(a(76139)),l=a(48360),u=n(a(52665)),d=a(12591),c=n(a(11339)),f=a(64551),h=a(85893)},84819:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=i.ServerProps.webPipRedesign,a=t?16:void 0,n=e.isFullscreenMode?34:a;return(0,l.jsx)(o.default,{xstyle:[u.closeBtn,e.isFullscreenMode&&u.fullscreen,t&&u.closeBtnNew,e.isStatic&&u.static],onClick:e.onClick,children:(0,l.jsx)(s.default,{"aria-label":r.fbt._("Close",null,{hk:"19Jpec"}),name:"video-x",height:n,width:n})})};var r=a(48360),i=(n(a(56720)),a(64551)),s=n(a(23217)),o=n(a(1784)),l=a(85893);const u={closeBtn:{position:"lhggkp7q",top:"r8dd7jr1",end:"ohq8n1fk",zIndex:"mb8var44",cursor:"ajgl1lbb"},closeBtnNew:{top:"jgz0asyo",end:"b4u6kxhc"},static:{position:"gire0wgi"},fullscreen:{top:"a70a3vn1",end:"h223g3sc"}}},74852:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)("div",{className:(0,r.default)(i.default.button,{[i.default.fullscreen]:e.isFullscreenMode}),onClick:e.onClick,children:(0,o.jsx)(s.default,{name:e.isInstagram?"logo-instagram":"logo-facebook"})})};var r=n(a(94184)),i=n(a(34984)),s=n(a(23217)),o=a(85893)},51582:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)(s.default,{xstyle:[l.button,e.isFullscreenMode&&l.fullscreen,e.isStatic&&l.static],onClick:e.onClick,children:e.isFullscreenMode?(0,o.jsx)(i.default,{"aria-label":r.fbt._("Exit full screen",null,{hk:"45Doy3"}),name:"video-exit-fullscreen"}):(0,o.jsx)(i.default,{"aria-label":r.fbt._("Full screen",null,{hk:"38YTtz"}),name:"video-fullscreen"})})};var r=a(48360),i=(n(a(56720)),n(a(23217))),s=n(a(1784)),o=a(85893);const l={button:{position:"lhggkp7q",top:"r8dd7jr1",start:"sxdjimme",zIndex:"mb8var44",cursor:"ajgl1lbb"},static:{position:"gire0wgi"},fullscreen:{top:"ba95y10t",start:"guo0zu0m"}}},19656:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PIP_BUTTON_THEME=void 0,t.PiPButton=function(e){return(0,o.jsx)("button",{className:(0,r.default)(i.default.pipBtn,{[i.default.player]:e.theme===l.PLAYER,[i.default.preview]:e.theme===l.PREVIEW}),onClick:e.onClick,children:(0,o.jsx)(s.default,{name:"video-pip"})})};var r=n(a(94184)),i=n(a(31062)),s=n(a(23217)),o=a(85893);const l={PLAYER:"PLAYER",PREVIEW:"PREVIEW"};t.PIP_BUTTON_THEME=l},27557:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.icon?(0,i.jsx)("div",{className:r.default.icon,children:e.icon}):null;return(0,i.jsxs)("div",{className:r.default.note,children:[t,(0,i.jsx)("div",{className:r.default.noteBody,children:e.children})]})};var r=n(a(64374)),i=a(85893)},22433:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=null;switch(e.theme){case"upper":t=(0,s.jsx)("div",{className:(0,r.default)(i.default.fullWidthShade,i.default.stripHeightShade,i.default.upperShade)},"upper-shade");break;case"lower":t=(0,s.jsx)("div",{className:(0,r.default)(i.default.fullWidthShade,i.default.stripHeightShade,i.default.lowerShade)},"lower-shade");break;case"full-rounded":t=(0,s.jsx)("div",{className:(0,r.default)(i.default.fullWidthShade,i.default.fullHeightShade,i.default.roundedCorners)},"full-rounded-shade");break;case"full-sharp":t=(0,s.jsx)("div",{className:(0,r.default)(i.default.fullWidthShade,i.default.fullHeightShade)},"full-sharp-shade")}return t};var r=n(a(94184)),i=n(a(46944)),s=a(85893)},40875:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=t.YOUTUBE_URL_TIME_PARAM_PATTERN=t.YOUTUBE_URL_TIME_PARAM_NAME=t.URL_PATTERNS=t.PiPVideoType=t.PLAYER_TYPE=t.HOSTNAME=t.ATTRIBUTION_ICONS=void 0;const n={YOUTUBE:"youtube.com",YOUTUBE_MOBILE:"m.youtube.com",YOUTUBE_SHORTENED:"youtu.be",INSTAGRAM:"instagram.com",STREAMABLE:"streamable.com",FACEBOOK:"facebook.com",FBWATCH:"fbwat.ch",FBWATCH_ALT:"fb.watch",LASSOVIDEOS:"lassovideos.com",LASSO_SHORTENED:"las.so",SHARECHAT:"sharechat.com"};t.HOSTNAME=n;const r=a(76672).Mirrored(["FLOATER","OG_FLOATER","MEDIA_VIEWER"]);t.PLAYER_TYPE=r;const i=a(76672).Mirrored(["OG","YOUTUBE","MSG"]);t.PiPVideoType=i;t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=16/9;t.URL_PATTERNS={ONLINE_VIDEO_URL:{YOUTUBE:[/^https?:\/\/youtu\.be\/(.{11})/,/^https?:\/\/(m\.)?youtube\.com\/watch\?v=(.{11})/,/^https?:\/\/(m\.)?youtube\.com\/shorts\/(.{11})/]}};const s={[n.YOUTUBE]:"logo-youtube",[n.YOUTUBE_MOBILE]:"logo-youtube",[n.YOUTUBE_SHORTENED]:"logo-youtube",[n.INSTAGRAM]:"logo-instagram",[n.FACEBOOK]:"logo-facebook",[n.LASSOVIDEOS]:"logo-lasso"};t.ATTRIBUTION_ICONS=s;t.YOUTUBE_URL_TIME_PARAM_NAME="t";t.YOUTUBE_URL_TIME_PARAM_PATTERN=/^(\d+h)?(\d+m)?(\d+s)?(\d+)?$/},32808:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,r.useModelValues)(e.mediaData,["preview","aspectRatio"]),a=t.preview instanceof l.default?`url(${t.preview.url()})`:void 0;return(0,u.jsx)(s.FloatingVideoPlayer,{aspectRatio:t.aspectRatio,previewUrl:a,animationStartStyle:e.animationStartStyle,bottomContent:e.bottomContent,topContent:e.topContent,enableDragBar:e.enableDragBar,children:(0,u.jsx)(o.WrappedMsgVideoPlayer,{msg:e.msg,mediaData:t,startTime:e.startTime,onClose:e.onClose,onError:e.onError,onOpenMediaViewer:e.onOpenMediaViewer,onMissingMedia:e.onMissingMedia,onUnsupportedMedia:e.onUnsupportedMedia,autoPlay:e.autoPlay,type:i.PLAYER_TYPE.FLOATER,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})})};var r=a(35461),i=a(40875),s=a(4522),o=a(99875),l=n(a(34949)),u=a(85893)},84321:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const[t,a]=(0,i.useState)((()=>function(e){const{width:t,height:a}=(0,o.default)(e);return(0,r.isNonZeroNumber)(t)&&(0,r.isNonZeroNumber)(a)?t/a:void 0}(e.ogVideoInfo.previewUrl)));return(0,u.jsx)(s.FloatingVideoPlayer,{aspectRatio:t,previewUrl:e.ogVideoInfo.previewUrl,animationStartStyle:e.animationStartStyle,bottomContent:e.bottomContent,topContent:e.topContent,enableDragBar:e.enableDragBar,children:(0,u.jsx)(l.default,{ogVideoInfo:e.ogVideoInfo,startTime:e.startTime,onClose:e.onClose,onError:e.onError,onAspectRatio:e=>{e&&(null==t||0===t||Math.abs(e-t)>.01)&&a(e)},autoPlay:!0,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})})};var r=a(29984),i=a(67294),s=a(4522),o=n(a(79806)),l=n(a(5399)),u=a(85893)},4522:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingVideoPlayer=function(e){var t;const[a,n]=(0,s.useState)(!1),v=(0,s.useRef)(null);(0,s.useEffect)((()=>()=>clearTimeout(v.current)),[v]);const b=(0,o.default)((()=>{clearTimeout(v.current),n(!0)}),50),y=(0,o.default)((()=>{v.current=setTimeout((()=>{n(!1)}),3e3)}),50),C=null!=e.bottomContent||null!=e.topContent||e.enableDragBar,S=function(e){if(null==e)return 1;switch(!0){case e<p:return p;case e>m:return m;default:return e}}(e.aspectRatio),E=null!==(t=e.initialPiPStyle)&&void 0!==t?t:function(e){const{initialWidth:t,initialHeight:a}=function(e){if(e>1)return{initialWidth:f,initialHeight:f/e};return{initialHeight:f,initialWidth:f*e}}(e),n=function(){var e;let t;return r.Cmd.getConversationHeaderOffset((e=>{t=e})),null!==(e=t)&&void 0!==e?e:{right:window.innerWidth,bottom:0}}(),i=n.right<window.innerWidth?n.right-t-c:window.innerWidth-t-c,s=window.innerHeight-10-a-n.bottom;return{width:t,left:i,bottom:s}}(S),T=145*S,x=h<T?T:h;return(0,d.jsxs)(u.default,{aspectRatio:S,margin:_,minWidth:x,className:(0,i.default)(l.default.videoFloater,{[l.default.redesign]:C}),initialStyle:E,animationStartStyle:e.animationStartStyle,escapeConversationHeader:!0,topContent:e.topContent,bottomContent:e.bottomContent,onMouseEnter:C?b:void 0,onMouseLeave:C?y:void 0,extraContentVisible:a,enableDragBar:e.enableDragBar,children:[(0,d.jsx)(g,{aspectRatio:S,originalAspectRatio:e.aspectRatio,backgroundImage:e.previewUrl}),e.children]})},t.MIN_WIDTH=t.MIN_HEIGHT=t.MIN_ASPECT_RATIO=t.MAX_ASPECT_RATIO=t.MARGIN_Y=t.MARGIN_X=t.LONGER_SIDE_DEFAULT_LENGTH=void 0;var r=a(81572),i=n(a(94184)),s=a(67294),o=n(a(51799)),l=n(a(86182)),u=n(a(92218)),d=a(85893);const c=10;t.MARGIN_X=c;t.MARGIN_Y=10;const f=330;t.LONGER_SIDE_DEFAULT_LENGTH=f;t.MIN_HEIGHT=145;const h=145;t.MIN_WIDTH=h;const p=.4393939393939394;t.MIN_ASPECT_RATIO=p;const m=2.2758620689655173;function g(e){let{aspectRatio:t,originalAspectRatio:a,backgroundImage:n}=e;if(null==a||0===a)return null;if(!(t===p&&t>a||t===m&&t<a))return null;const r=n?(0,d.jsx)("div",{className:l.default.bgImg,style:{backgroundImage:n}}):null;return(0,d.jsx)("div",{className:l.default.bottomLayer,children:r})}t.MAX_ASPECT_RATIO=m;const _={x:c,y:10}},79806:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=document.createElement("img");return t.src=e,{width:t.naturalWidth,height:t.naturalHeight}}},20427:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.isParsableOnlineVideoURL=function(e,t,a){if(null==t||""===t)return!1;if(!0===a)return!1;if(e===s.Message$ExtendedTextMessagePreviewType.VIDEO){const e=r.default.withoutWww(r.default.hostname(t));if(o.has(e))return!0}const n=r.default.withoutWww(t);return Object.keys(i.URL_PATTERNS.ONLINE_VIDEO_URL).some((e=>{var t;return(null!==(t=i.URL_PATTERNS.ONLINE_VIDEO_URL[e])&&void 0!==t?t:[]).some((e=>e.test(n)))}))},t.isParsableYouTubeVideoUrl=function(e,t,a){if(null==t||""===t)return!1;if(!0===a)return!1;const n=i.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE,s=r.default.withoutWww(t);return n.some((e=>e.test(s)))};var r=n(a(76139)),i=a(40875),s=a(24808);const o=new Set([i.HOSTNAME.INSTAGRAM,i.HOSTNAME.STREAMABLE,i.HOSTNAME.FACEBOOK,i.HOSTNAME.FBWATCH,i.HOSTNAME.FBWATCH_ALT,i.HOSTNAME.LASSOVIDEOS,i.HOSTNAME.LASSO_SHORTENED,i.HOSTNAME.SHARECHAT])},99875:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedMsgVideoPlayer=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=a(81572),i=a(14597),s=a(67294),o=a(35461),l=n(a(89113)),u=n(a(20668)),d=n(a(97157)),c=a(58668),f=n(a(19451)),h=n(a(77912)),p=a(55389),m=a(18146),g=a(85893);function _(e,t){const{onOpenMediaViewer:a,onOpenVideoFloater:n,onMissingMedia:_,onClose:v,onUnsupportedMedia:b,onNeedPokeMedia:y,onLoadedMetadata:C}=e,S=(0,s.useRef)(null),E=(0,o.useModelValues)(e.msg,["id"]),T=(0,o.useModelValues)(e.mediaData,["mediaStage","preview","streamable"]),x=()=>S.current?S.current.getCurrentTimeFromVideo():0,M=(0,l.default)((()=>{_&&_(),i.ModalManager.open((0,g.jsx)(u.default,{msg:E})),v()})),k=(0,l.default)((()=>{b&&b(),i.ModalManager.open((0,g.jsx)(f.default,{msg:E})),v()})),w=(0,l.default)((()=>{y&&y(),i.ModalManager.open((0,g.jsx)(d.default,{msg:E})),v()})),P=()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.getContainerElement()};return(0,s.useImperativeHandle)(t,(()=>({getContainerElement:P}))),(0,s.useEffect)((()=>{switch(T.mediaStage){case c.MEDIA_DATA_STAGE.ERROR_MISSING:M();break;case c.MEDIA_DATA_STAGE.ERROR_UNSUPPORTED:k();break;case c.MEDIA_DATA_STAGE.NEED_POKE:w()}}),[M,w,k,T.mediaStage]),(0,g.jsx)(p.WrappedSharedVideoPlayer,{ref:S,type:e.type,msgVideoInfo:{msg:E,mediaData:T},startTime:e.startTime,onClose:e.onClose,onVideoEnded:e.onVideoEnded,onError:e.onError,onOpenMediaViewer:()=>{a&&a(),r.Cmd.mediaViewerModal({msg:(0,m.unproxy)(E),currentTime:x()})},onOpenVideoFloater:()=>{n&&n(),h.default.openPiP((0,m.unproxy)(E),x(),null)},onMissingMedia:M,onUnsupportedMedia:k,onLoadedMetadata:e=>{C&&C(e)},onLoadedData:e.onLoadedData,onFullscreenToggle:e.onFullscreenToggle,autoPlay:e.autoPlay,overlays:e.overlays,noPip:e.noPip,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})}t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;const v=(0,s.forwardRef)(_);t.WrappedMsgVideoPlayer=v},54987:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(55452),i=a(67294),s=a(35461),o=n(a(34949)),l=n(a(81375)),u=a(70437),d=a(85893);function c(e,t){const{onLoadedMetadata:a}=e,n=(0,s.useModelValues)(e.msg,["id"]),c=(0,s.useModelValues)(e.mediaData,["mediaBlob","streamable","aspectRatio"]),f=(0,i.useRef)(null),h=(0,i.useRef)(Boolean(c.mediaBlob)),p=(0,i.useCallback)((e=>{if(f.current!==e&&(f.current=e,e)){const t=(0,r.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}}),[]),m=(0,i.useCallback)(((e,t)=>{const n=c.aspectRatio,r=0!==e.videoWidth&&0!==e.videoHeight?e.videoWidth/e.videoHeight:void 0;(!n&&null!=r&&0!==r||n&&null!=r&&0!==r&&Math.abs(r-n)>.01)&&c.set({aspectRatio:r}),a(e,t)}),[c,a]),g=(0,i.useCallback)((()=>{const e=f.current;e&&e.getPaused()&&e.play()}),[]),_=(0,i.useCallback)((()=>{const e=f.current;e&&(e.getPaused()||e.pause())}),[]),v=(0,i.useCallback)((()=>!f.current||f.current.getPaused()),[]),b=(0,i.useCallback)((()=>f.current?f.current.getCurrentTime():0),[]),y=(0,i.useCallback)((e=>{f.current&&f.current.setCurrentTime(e)}),[]),C=(0,i.useCallback)((()=>f.current?f.current.getDuration():0),[]),S=(0,i.useCallback)((()=>f.current?f.current.getVolume():0),[]),E=(0,i.useCallback)((e=>{f.current&&f.current.setVolume(e)}),[]),T=(0,i.useCallback)((()=>!!f.current&&f.current.getMuted()),[]),x=(0,i.useCallback)((e=>{f.current&&f.current.setMuted(e)}),[]);(0,i.useImperativeHandle)(t,(()=>({play:g,pause:_,getPaused:v,getCurrentTime:b,setCurrentTime:y,getDuration:C,getVolume:S,setVolume:E,getMuted:T,setMuted:x})),[b,C,T,v,S,_,g,y,x,E]);const M=c.mediaBlob;let k;const w=c.streamable&&c.isStreamable();return k=(h.current||!w)&&M instanceof o.default?M.url():c.streamable&&c.isStreamable()?`${u.VIDEO_STREAM_URL}?key=${n.id.toString()}`:void 0,(0,d.jsx)(l.default,{ref:p,url:k,startTime:e.startTime,poster:e.poster,className:e.className,onVolumeChange:e.onVolumeChange,onEnded:e.onEnded,onError:e.onError,onPause:e.onPause,onPlaying:e.onPlaying,onProgress:e.onProgress,onTimeUpdate:e.onTimeUpdate,onLoadedMetadata:m,autoPlay:e.autoPlay,onLoadedData:e.onLoadedData,children:e.children})}var f=(0,i.forwardRef)(c);t.default=f},5399:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)(r.WrappedSharedVideoPlayer,{type:n.PLAYER_TYPE.OG_FLOATER,ogVideoInfo:e.ogVideoInfo,startTime:e.startTime,onClose:e.onClose,onVideoEnded:e.onVideoEnded,onError:e.onError,onAspectRatio:e.onAspectRatio,autoPlay:e.autoPlay,disablePiPControls:e.disablePiPControls,onRefSet:e.onRefSet,onVideoMetadataChange:e.onVideoMetadataChange,onSetFullscreenToggleCallback:e.onSetFullscreenToggleCallback})};var n=a(40875),r=a(55389),i=a(85893)},77912:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(76521)),i=a(40875);class s extends r.default{constructor(){super(...arguments),this.openPiP=(e,t,a)=>{var n;null===(n=this.manager)||void 0===n||n.openPiP(i.PiPVideoType.MSG,{msg:e,startTime:t,zoomRect:a,videoSrc:null,preview:null})},this.closePiP=()=>{this.manager&&this.manager.closePiP()},this._pausePiP=()=>{this.manager&&this.manager.pausePiP()},this.openYoutubePiP=(e,t,a,n)=>{var r;null===(r=this.manager)||void 0===r||r.openPiP(i.PiPVideoType.YOUTUBE,{msg:t,startTime:a,zoomRect:n,videoSrc:e,preview:null})},this.openOgVideoPiP=(e,t,a,n,r)=>{var s;null===(s=this.manager)||void 0===s||s.openPiP(i.PiPVideoType.OG,{videoSrc:e,preview:t,msg:a,startTime:n,zoomRect:r})},this.isOpened=e=>{var t,a;return null!==(t=null===(a=this.manager)||void 0===a?void 0:a.isOpened(e))&&void 0!==t&&t}}register(e){this.manager=e}unregister(){this.manager=null}didOpen(e){this.trigger(`${e.id.toString()}_pip_did_open`)}didClose(e){this.trigger(`${e.id.toString()}_pip_did_close`)}didError(e){this.trigger(`${e.id.toString()}_pip_did_error`)}}var o=new s;t.default=o},92298:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PiPManager=void 0;var r=n(a(81109)),i=a(81572),s=a(94816),o=n(a(40436)),l=a(48360),u=a(67294),d=a(87550),c=n(a(84819)),f=a(40875),h=n(a(36022)),p=n(a(88266)),m=n(a(11339)),g=a(59871),_=n(a(77912)),v=n(a(59280)),b=a(64551),y=a(50452),C=a(80010),S=n(a(98397)),E=a(85893);const T={msg:null,startTime:null,zoomRect:null,videoMetadata:null,videoRef:null,isVideoPlaying:!1,videoType:f.PiPVideoType.MSG,previewUrl:null,videoSrc:null},x=new Map;function M(e,t){var a;const[n,h]=(0,u.useState)(T.msg),[p,S]=(0,u.useState)(T.startTime),[M,k]=(0,u.useState)(T.zoomRect),[w,P]=(0,u.useState)(T.videoMetadata),[A,j]=(0,u.useState)(T.videoRef),[I,O]=(0,u.useState)(T.isVideoPlaying),[N,R]=(0,u.useState)(T.videoType),[D,L]=(0,u.useState)(T.previewUrl),[B,F]=(0,u.useState)(T.videoSrc),[G,U]=(0,u.useState)(null),V=e=>{U((()=>e))},W=(e,t)=>{P(e),O(t)},H=()=>{n&&_.default.didClose(n),h(T.msg),S(T.startTime),k(T.zoomRect),P(T.videoMetadata),j(T.videoRef),O(T.isVideoPlaying),R(T.videoType),L(T.previewUrl),F(T.videoSrc)},q=e=>{e.id.equals(null==n?void 0:n.id)&&H()};(0,u.useEffect)((()=>()=>{n&&_.default.didClose(n)}),[n]);const Y=()=>{n&&_.default.didError(n)};(0,d.useListener)(i.Cmd,["media_viewer_modal"],(()=>{n&&q(n)})),(0,d.useListener)(g.MsgCollection,["remove"],(e=>{q(e)})),(0,d.useListener)(null!==(a=null==n?void 0:n.chat.msgs)&&void 0!==a?a:g.MsgCollection,"remove_msgs",(e=>{e.forEach(q)})),(0,d.useListener)(g.MsgCollection,["change:asRevoked"],(e=>{e.asRevoked&&(!e.isSentByMe&&(null==n?void 0:n.id.equals(e.id))&&s.ToastManager.open((0,E.jsx)(y.Toast,{id:(0,y.genId)(),msg:l.fbt._("Currently playing video was revoked.",null,{hk:"2Dumwc"})})),q(e))}));const z={isOpened:e=>{var t;return null!==(t=null==n?void 0:n.id.equals(e.id))&&void 0!==t&&t},pausePiP:()=>{},openPiP:(e,t)=>{_.default.didOpen(t.msg),e===f.PiPVideoType.MSG&&t.msg.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:m.default.WEBC_RMR_REASON_CODE.PIP,isUserInitiated:!0}),h(t.msg),S(t.startTime),k(t.zoomRect),P(T.videoMetadata),j(T.videoRef),O(T.isVideoPlaying),R(e),L(null!=t.preview?`data:image/jpeg;base64,${t.preview}`:null),F(t.videoSrc)},closePiP:H};(0,u.useImperativeHandle)(t,(()=>z)),(0,u.useEffect)((()=>(_.default.register(z),()=>{_.default.unregister()})),[]);const K=x.get(N);return(0,E.jsx)(o.default,{transitionName:"pip",className:v.default.playerWrapper,component:"div",children:null!=K?(0,E.jsx)(K,(0,r.default)({},(0,r.default)((0,r.default)({msg:n,startTime:p,zoomRect:M,videoMetadata:w,videoRef:A,isVideoPlaying:I,videoType:N,previewUrl:D,videoSrc:B},(()=>{const e=b.ServerProps.webPipRedesign;return e?{enableDragBar:e,bottomContent:null!=w&&null!=A?(0,E.jsx)(C.VideoRefControls,{refVideo:A,videoMetadata:w,isFullscreenMode:!1,isVideoPlaying:I,newPiPStyle:!0,onFullscreenToggle:null!=G?G:void 0}):null,topContent:(0,E.jsx)(c.default,{isFullscreenMode:!1,onClick:H})}:Object.freeze({})})()),{},{animationStartStyle:M?{height:M.bottom-M.top,width:M.right-M.left,left:M.left,bottom:window.innerHeight-M.bottom}:null,onClose:H,onError:Y,autoPlay:!0,onRefSet:j,onVideoMetadataChange:W,onSetFullscreenToggleCallback:V}))):null})}x.set(f.PiPVideoType.MSG,h.default),x.set(f.PiPVideoType.YOUTUBE,S.default),x.set(f.PiPVideoType.OG,p.default);const k=(0,u.forwardRef)(M);t.PiPManager=k},36022:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t}=e,a=(0,r.default)(e,o);if(null==t)return null;return(0,s.jsx)(i.default,{msg:t,mediaData:t.mediaData,animationStartStyle:a.animationStartStyle,startTime:a.startTime,onClose:a.onClose,onError:a.onError,onOpenMediaViewer:a.onClose,onMissingMedia:a.onClose,onUnsupportedMedia:a.onClose,autoPlay:a.autoPlay,enableDragBar:a.enableDragBar,topContent:a.topContent,bottomContent:a.bottomContent,disablePiPControls:a.enableDragBar,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback})};var r=n(a(6479)),i=n(a(32808)),s=a(85893);const o=["msg"]},88266:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,videoSrc:a,previewUrl:n}=e,l=(0,r.default)(e,o);if(null==t||null==a||null==n)return null;return(0,s.jsx)(i.default,{ogVideoInfo:{videoMsg:t,videoUrl:a,previewUrl:n},startTime:l.startTime,onClose:l.onClose,onError:l.onError,animationStartStyle:l.animationStartStyle,autoPlay:l.autoPlay,enableDragBar:l.enableDragBar,topContent:l.topContent,bottomContent:l.bottomContent,disablePiPControls:l.enableDragBar,onRefSet:l.onRefSet,onVideoMetadataChange:l.onVideoMetadataChange,onSetFullscreenToggleCallback:l.onSetFullscreenToggleCallback})};var r=n(a(6479)),i=n(a(84321)),s=a(85893);const o=["msg","videoSrc","previewUrl"]},98397:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{videoSrc:t}=e,a=(0,r.default)(e,u);if(null==t)return null;return(0,l.jsx)(s.FloatingVideoPlayer,{aspectRatio:i.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:a.animationStartStyle,enableDragBar:a.enableDragBar,topContent:a.topContent,bottomContent:a.bottomContent,children:(0,l.jsx)(o.default,{youtubeVideoId:t,startTime:a.startTime,onClose:a.onClose,disablePiPControls:a.enableDragBar,onRefSet:a.onRefSet,onVideoMetadataChange:a.onVideoMetadataChange,autoPlay:a.autoPlay,onSetFullscreenToggleCallback:a.onSetFullscreenToggleCallback,exposeIframeInPiP:a.enableDragBar},t)},t)};var r=n(a(6479)),i=a(40875),s=a(4522),o=n(a(48560)),l=a(85893);const u=["videoSrc"]},55389:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedSharedVideoPlayer=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=n(a(81109)),i=n(a(18446)),s=a(26741),o=n(a(40436)),l=n(a(94184)),u=a(48360),d=a(67294),c=n(a(51799)),f=a(87550),h=n(a(37453)),p=n(a(89113)),m=n(a(84819)),g=a(40875),_=a(12591),v=n(a(50315)),b=n(a(51582)),y=n(a(14296)),C=n(a(81136)),S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(41124)),E=a(58668),T=n(a(54987)),x=n(a(34949)),M=a(19656),k=n(a(27557)),w=a(64551),P=n(a(22433)),A=n(a(33896)),j=n(a(23217)),I=n(a(81375)),O=a(80010),N=a(85893);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function D(e){let{children:t}=e;return(0,N.jsxs)(k.default,{children:[(0,N.jsx)(j.default,{directional:!0,className:A.default.errorLinkChevron,display:"inline",name:"alert"})," ",u.fbt._("The video can't be played.",null,{hk:"4Es7E8"}),t]})}function L(e){var t,a;let{type:n,ogVideoInfo:r}=e;if(n!==g.PLAYER_TYPE.OG_FLOATER)return null;if(!r)return null;const i=null!==(t=null===(a=r.videoMsg.ctwaContext)||void 0===a?void 0:a.sourceUrl)&&void 0!==t?t:r.videoMsg.matchedText;return(0,N.jsxs)(_.ExternalLink,{className:A.default.errorLink,href:i,children:[(0,N.jsx)("span",{children:u.fbt._("Open the link",null,{hk:"2xiq6A"})}),(0,N.jsx)(j.default,{directional:!0,display:"inline",name:"chevron-right-text",className:A.default.errorLinkChevron})]})}function B(e,t){const{onFullscreenToggle:a,onSetFullscreenToggleCallback:n,onRefSet:u,startTime:_,onAspectRatio:k,onLoadedMetadata:j,onVideoEnded:R,onError:B,onVideoMetadataChange:F,type:G,ogVideoInfo:U,autoPlay:V,msgVideoInfo:W,onClose:H,onLoadedData:q,noPip:Y=!1,disablePiPControls:z=!1}=e,K=(0,d.useRef)(null),$=(0,d.useRef)(null),Q=(0,d.useRef)([]),[X,J]=(0,d.useState)(null),[Z,ee]=(0,d.useState)(!1),[te,ae]=(0,d.useState)(!1),[ne,re]=(0,d.useState)(!1),[ie,se]=(0,d.useState)(!1),[oe,le]=(0,d.useState)(v.default.isFullscreenMode),ue=(0,h.default)(X),de=(0,h.default)(Z),ce=(0,p.default)((e=>{null==a||a(e)}));(0,d.useEffect)((()=>{ce(oe)}),[oe,ce]),(0,f.useListener)(v.default,"fullscreen_change",(()=>{v.default.isFullscreenMode&&v.default.fullscreenElement===$.current?le(!0):v.default.isFullscreenMode||le(!1)}));const fe=(0,c.default)((()=>{se(!1)}),3e3),he=e=>{oe?(e=>{e.stopPropagation(),v.default.exitFullscreen()})(e):(e=>{e.stopPropagation(),v.default.requestFullscreen($.current)})(e)};(0,d.useEffect)((()=>{null==n||n(he)}),[]);const pe=(0,p.default)((e=>{K.current=e,null!=e&&(null==u||u(e))})),me=(e,t)=>{const a=null!=_?_:0;e.videoWidth||ae(!0),J({duration:e.duration,currentTime:a,volume:e.volume,muted:e.muted,bufferedTime:0}),k&&e.videoWidth&&e.videoHeight&&k(e.videoWidth/e.videoHeight),j&&j(t)},ge=(e,t)=>{let a=0;for(let n=0;n<e.length;n++)if(t>=e[n][0]&&t<e[n][1]){a=e[n][1];break}return a},_e=e=>{let t=null;if(X){const a=ge(Q.current,e);t=(0,r.default)((0,r.default)({},X),{},{currentTime:e,bufferedTime:a})}J(t)},ve=e=>{let t=null;X&&(t=(0,r.default)((0,r.default)({},X),{},{volume:e.volume,muted:e.muted})),J(t)},be=()=>{R&&R(),ee(!1)},ye=e=>{20!==e?(ae(!0),B&&B()):ee(!1)},Ce=()=>{ee(!1)},Se=()=>{ee(!0)},Ee=e=>{if(!X)return;const t=X.currentTime,a=ge(e,t),n=(0,r.default)((0,r.default)({},X),{},{bufferedTime:a});J(n)},Te=()=>w.ServerProps.webPipRedesign&&oe,xe=()=>$.current;(0,d.useEffect)((()=>{de===Z&&(0,i.default)(ue,X)||null==F||F(X,Z)}),[Z,F,de,ue,X]);const Me=()=>K.current?K.current.getCurrentTime():0,ke=()=>{switch(G){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:if(!W)return!1;const e=W.mediaData;return e.mediaStage===E.MEDIA_DATA_STAGE.RESOLVED||e.streamable&&e.isStreamable();case g.PLAYER_TYPE.OG_FLOATER:return!0}return!0};let we,Pe,Ae;(0,d.useImperativeHandle)(t,(()=>({getContainerElement:xe,getCurrentTimeFromVideo:Me})));const je=ke(),Ie=Te();je&&!Ie&&(Pe=(0,N.jsx)(b.default,{isFullscreenMode:oe,onClick:he}));const Oe=Ie?null:(0,N.jsx)(m.default,{isFullscreenMode:oe,onClick:t=>{t.stopPropagation(),e.onClose()}});switch(e.type){case g.PLAYER_TYPE.OG_FLOATER:case g.PLAYER_TYPE.FLOATER:we=(0,N.jsxs)(N.Fragment,{children:[s.UA.isSafari?null:Pe,Oe]});break;case g.PLAYER_TYPE.MEDIA_VIEWER:let t;t=oe?Oe:!Y&&je?(0,N.jsx)(M.PiPButton,{onClick:t=>{t.stopPropagation(),e.onClose&&e.onClose(),e.onOpenVideoFloater&&e.onOpenVideoFloater()},theme:M.PIP_BUTTON_THEME.PLAYER}):null,we=(0,N.jsxs)(N.Fragment,{children:[Pe,t]}),Ae=e=>{e.stopPropagation(),K.current&&(Z?K.current.pause():K.current.play())}}let Ne;Ne=oe?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(P.default,{theme:"upper"}),(0,N.jsx)(P.default,{theme:"lower"})]}):e.type===g.PLAYER_TYPE.MEDIA_VIEWER?(0,N.jsx)(P.default,{theme:"full-sharp"}):(0,N.jsx)(P.default,{theme:"full-rounded"});const Re=te?(0,N.jsx)(D,{children:(0,N.jsx)(L,{type:G,ogVideoInfo:U})}):null;return(0,N.jsxs)("div",{ref:$,className:(0,l.default)(A.default.container,{[A.default.fullscreen]:oe}),onMouseEnter:()=>{re(!0)},onMouseLeave:()=>{re(!1)},onMouseDown:e=>{oe&&e.stopPropagation()},onMouseMove:()=>{ne||re(!0),ie||se(!0),fe()},onClick:Ae,children:[(0,N.jsx)("div",{className:(0,l.default)(A.default.videoFloaterMedia,{[A.default.fullScreenRedesign]:Ie}),children:(()=>{switch(G){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:return(()=>{if(!W)return null;const{preview:e}=W.mediaData;if(ke()){const t=e instanceof x.default?{backgroundImage:`url(${e.url()})`}:void 0;return(0,N.jsxs)(N.Fragment,{children:[oe?null:(0,N.jsx)("div",{className:A.default.preview,style:t}),te?null:(0,N.jsx)(T.default,{ref:pe,msg:W.msg,mediaData:W.mediaData,className:A.default.videoTag,startTime:_,onEnded:be,onError:ye,onLoadedMetadata:me,onPause:Ce,onPlaying:Se,onProgress:Ee,onTimeUpdate:_e,onVolumeChange:ve,autoPlay:V,onLoadedData:q,children:y.default.t(708)},"floating-media")]})}return e instanceof x.default?(0,N.jsx)("img",{alt:y.default.t(879),src:e.url(),draggable:"false"},"floating-media"):null})();case g.PLAYER_TYPE.OG_FLOATER:return(()=>{if(!U)return null;const e={backgroundImage:`url(${U.previewUrl})`};return(0,N.jsxs)(N.Fragment,{children:[oe?null:(0,N.jsx)("div",{className:A.default.preview,style:e}),""!==U.videoUrl?(0,N.jsx)(I.default,{ref:pe,url:U.videoUrl,startTime:_,onEnded:be,onError:ye,onLoadedMetadata:me,onPause:Ce,onPlaying:Se,onProgress:Ee,onTimeUpdate:_e,onVolumeChange:ve,autoPlay:V,onLoadedData:q,children:y.default.t(708)},"floating-media"):null]})})()}return null})()}),(()=>{switch(G){case g.PLAYER_TYPE.FLOATER:case g.PLAYER_TYPE.MEDIA_VIEWER:return W?(0,N.jsx)("div",{className:A.default.mediaStageWrapper,children:(0,N.jsx)(C.default,{msg:W.msg,mediaData:W.mediaData})}):null;case g.PLAYER_TYPE.OG_FLOATER:return U&&""===U.videoUrl?(0,N.jsx)("div",{className:A.default.mediaStageWrapper,children:(0,N.jsx)(S.Pending,{})}):null}return null})(),Re,e.overlays,(0,N.jsx)(o.default,{transitionName:"fade-fast",children:ne&&ie&&!0!==(z&&!oe)&&!te?(0,N.jsxs)(N.Fragment,{children:[Ne,(()=>{var e;if(!ke())return null;if(!X)return null;const t=Te();return(0,N.jsx)(O.VideoRefControls,{refVideo:K.current,videoMetadata:X,isFullscreenMode:oe,isVideoPlaying:Z,ctwaSourceUrl:null==U||null===(e=U.videoMsg.ctwaContext)||void 0===e?void 0:e.sourceUrl,newPiPStyle:t,onFullscreenToggle:t?he:void 0,onClose:t?H:void 0})})(),we]}):null})]},"elementsWrapped")}t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;const F=(0,d.forwardRef)(B);t.WrappedSharedVideoPlayer=F},81375:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(78718)),i=n(a(23279)),s=a(55452),o=a(67294),l=n(a(55010)),u=n(a(89113)),d=n(a(96021)),c=a(85893);const f=(0,i.default)(((e,t)=>{(0,s.setVideoVolumeSettings)(e,t)}),500);var h=(0,o.forwardRef)(((e,t)=>{const{onVolumeChange:a,onPlaying:n,startTime:i,onLoadedMetadata:h,onProgress:p,onTimeUpdate:m,onError:g}=e,_=(0,o.useRef)(null);(0,l.default)((()=>{f.flush()}));const v=(0,u.default)((()=>{const e=_.current;e&&e.getPaused()&&e.play()})),b=(0,u.default)((()=>{const e=_.current;e&&(e.getPaused()||e.pause())})),y=(0,u.default)((()=>!_.current||_.current.getPaused())),C=(0,u.default)((()=>_.current?_.current.getCurrentTime():0)),S=(0,u.default)((e=>{_.current&&_.current.setCurrentTime(e)})),E=(0,u.default)((()=>_.current?_.current.getDuration():0)),T=(0,u.default)((()=>_.current?_.current.getVolume():0)),x=(0,u.default)((e=>{_.current&&_.current.setVolume(e)})),M=(0,u.default)((()=>!!_.current&&_.current.getMuted())),k=(0,u.default)((e=>{_.current&&_.current.setMuted(e)})),w=(0,u.default)((()=>{const e=_.current;if(e){const t=e.getVolume(),n=e.getMuted();f(t,n),a({volume:t,muted:n})}})),P=(0,u.default)((()=>{n()})),A=(0,u.default)((()=>{_.current&&"number"==typeof i&&_.current.setCurrentTime(i)})),j=(0,u.default)((e=>{null!=i&&A();const t=(0,r.default)(e.target,["duration","volume","muted","videoWidth","videoHeight"]);h(t,e)}));return(0,o.useEffect)((()=>{A()}),[i,A]),(0,o.useEffect)((()=>{const e=_.current;if(e){const t=(0,s.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}}),[]),(0,o.useImperativeHandle)(t,(()=>({play:v,pause:b,getPaused:y,getCurrentTime:C,setCurrentTime:S,getDuration:E,getVolume:T,setVolume:x,getMuted:M,setMuted:k})),[v,b,y,C,S,E,T,x,M,k]),(0,c.jsx)(d.default,{ref:_,src:e.url,poster:e.poster,className:e.className,onVolumeChange:w,onEnded:e.onEnded,onError:e=>{var t,a;const n=(null===(t=_.current)||void 0===t||null===(a=t.refVideo)||void 0===a?void 0:a.error)?_.current.refVideo.error.code:null;null!=n||null==e.code?g(n):g(e.code)},onPause:e.onPause,onPlaying:P,onProgress:()=>{if(!_.current)return;const e=_.current.getBuffered(),t=[];if(e)for(let a=0;a<e.length;a++)t.push([e.start(a),e.end(a)]);p(t)},onTimeUpdate:e=>{const t=e.target.currentTime;m(t)},onLoadedMetadata:j,autoPlay:e.autoPlay,onLoadedData:e.onLoadedData,children:e.children})}));t.default=h},75538:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_RADIUS_WINDOW=t.THUMB_RADIUS_FULLSCREEN=void 0,t.VideoControls=function(e){const{isFullscreenMode:t,ctwaSourceUrl:a,onClose:n,onFullscreenToggle:r,onVolumeValueChange:s,duration:b,className:y,isVideoPlaying:C,onPause:S,onPlay:k,newPiPStyle:w=!1,onMutedValueChange:P,onProgressChange:A}=e,j=(0,d.useRef)(null),[I,O]=(0,d.useState)(!1),[N,R]=(0,d.useState)(!1),[D,L]=(0,d.useState)(!1),[B,F]=(0,d.useState)(void 0),[G,U]=M(e.muted),[V,W]=M(e.volume),[H,q]=M(e.bufferedTime),[Y,z]=M(e.progress,N),K=t?(0,v.jsx)("div",{className:(0,l.default)(_.default.timeText,_.default.currentTime),onClick:E,children:i.Clock.durationStr(Y)}):null,$=t?(0,v.jsx)("div",{className:(0,l.default)(_.default.timeText,_.default.duration),onClick:E,children:i.Clock.durationStr(b)}):null,Q=null!=y?y:_.default.controls,X=w&&Math.ceil(Y)>=b,J=X?"refresh":"video-play",Z=X?u.fbt._("Replay",null,{hk:"3rMdow"}):u.fbt._("Play",null,{hk:"4CjEWt"});return(0,v.jsxs)("div",{className:(0,l.default)(Q,{[_.default.fullscreen]:t,[_.default.pipContainer]:w}),children:[(0,v.jsx)("div",{className:_.default.playpauseBtnContainer,onClick:E,onMouseDown:E,onMouseUp:E,children:(0,v.jsx)(g.default,{"aria-label":C?u.fbt._("Pause",null,{hk:"1kvbzt"}):Z,name:C?"video-pause":J,display:"inline",onClick:C?S:k})}),(0,v.jsx)(T,{progress:e.progress,duration:b,bufferedTime:H,isFullscreenMode:t,isMouseOverProgressBar:D,mouseOverProgressRatio:B,onChange:e=>{const t=parseFloat(e.target.value);A(t);const a=Math.abs(H-b)<.1?H:0;z(t),q(a)},onMouseDown:()=>{R(!0),j.current=C,C&&S()},onMouseUp:()=>{R(!1),!0===j.current&&k(),j.current=null},onMouseEnter:()=>{L(!0)},onMouseLeave:()=>{L(!1)},onMouseOverProgressRatioChange:F}),(0,v.jsx)(x,{muted:G,volume:V,defaultValume:e.volume,onUnmute:()=>{P(!1),U(!1)},onMute:()=>{P(!0),U(!0)},onVolumeValueChange:e=>{W(e),s(e)},isMouseOverVolumeControl:I,onMouseEnter:()=>{O(!0)},onMouseLeave:()=>{O(!1)}}),K,$,null!=r?(0,v.jsx)("div",{className:(0,l.default)(_.default.fullscreenBtn),children:(0,v.jsx)(m.default,{isFullscreenMode:t,onClick:r,isStatic:!0})}):null,null!=n?(0,v.jsx)("div",{className:(0,l.default)(_.default.closeBtn),children:(0,v.jsx)(c.default,{isFullscreenMode:t,onClick:n,isStatic:!0})}):null,I&&!G||null==a?null:(0,v.jsx)(h.default,{isFullscreenMode:t,onClick:e=>{e.preventDefault(),e.stopPropagation(),null!=a&&(0,p.openExternalLink)(a)},isInstagram:(ee=a,o.default.withoutWww(o.default.hostname(ee))===f.HOSTNAME.INSTAGRAM)})]});var ee};var r=n(a(23104)),i=a(40234),s=a(26741),o=n(a(76139)),l=n(a(94184)),u=a(48360),d=a(67294),c=n(a(84819)),f=a(40875),h=n(a(74852)),p=a(12591),m=n(a(51582)),g=n(a(38932)),_=n(a(2425)),v=a(85893);const b=parseFloat(_.default["-thumb-radius-window"].replace(/px$/,""));t.THUMB_RADIUS_WINDOW=b;const y=parseFloat(_.default["-thumb-radius-fullscreen"].replace(/px$/,""));t.THUMB_RADIUS_FULLSCREEN=y;function C(e,t){switch(!0){case t:return"video-volume-muted";case e<.5:return"video-volume-1";case e>=1:return"video-volume"}return"video-volume-2"}function S(e){let{mouseOverProgressRatio:t,duration:a}=e;if(void 0===t)return(0,v.jsx)("div",{className:_.default.tooltipWrapper});const n=i.Clock.durationStr(t*a);return(0,v.jsx)("div",{className:_.default.tooltipWrapper,style:{left:100*t+"%"},children:(0,v.jsx)("div",{className:(0,l.default)(_.default.tooltipTextBoxGeneral,_.default.tooltipTextBoxPosAndSize),children:n})})}function E(e){e.stopPropagation()}function T(e){let{progress:t,duration:a,bufferedTime:n,isFullscreenMode:i,isMouseOverProgressBar:s,mouseOverProgressRatio:o,onChange:u,onMouseDown:d,onMouseUp:c,onMouseEnter:f,onMouseLeave:h,onMouseOverProgressRatioChange:p}=e,m=t/a;m>1&&(m=1);const g=100*m+"%";let C=n/a;C>1&&(C=1);const T=100*C+"%";return(0,v.jsxs)("div",{className:(0,l.default)(_.default.progressBarContainer),onClick:E,onMouseDown:E,onMouseEnter:f,onMouseLeave:e=>{h(e),p(void 0)},onMouseMove:e=>{const n=i?y:b,r=e.currentTarget.getBoundingClientRect().left,s=e.pageX,o=e.currentTarget.offsetWidth-2*n;let l=(s-r-n)/o;const u=Math.abs(s-r-n-o*(t/a))<=n;l<0?l=u?0:void 0:l>1&&(l=u?1:void 0),p(l)},children:[(0,v.jsx)("input",{"data-testid":"progress",className:_.default.hiddenProgressBar,dir:"ltr",onChange:u,onMouseDown:d,onMouseUp:c,type:"range",min:"0",max:(0,r.default)(a,2),step:"any",value:t}),(0,v.jsxs)("div",{className:_.default.displayedProgressBar,children:[(0,v.jsx)("div",{className:(0,l.default)(_.default.progressItem,_.default.displayedTrack)}),(0,v.jsx)("div",{className:(0,l.default)(_.default.progressItem,_.default.displayedBuffer,{[_.default.lowerTrackLongest]:1===C}),style:{width:T}}),(0,v.jsx)("div",{className:(0,l.default)(_.default.progressItem,_.default.displayedProgress,{[_.default.lowerTrackLongest]:1===m}),style:{width:g}}),(0,v.jsx)("div",{className:(0,l.default)(_.default.thumb,{[_.default.hideThumb]:!s}),style:{left:g}}),(0,v.jsx)(S,{mouseOverProgressRatio:o,duration:a})]})]})}function x(e){let{muted:t,volume:a,defaultValume:n,onUnmute:r,isMouseOverVolumeControl:i,onMute:o,onVolumeValueChange:d,onMouseEnter:c,onMouseLeave:f}=e;const h=t||0===a,p=(0,v.jsx)(g.default,{"aria-label":h?u.fbt._("Unmute",null,{hk:"aQpZx"}):u.fbt._("Mute",null,{hk:"1C7Sjw"}),name:C(a,h),display:"inline",onClick:()=>{h?r():o(),0===n&&d(.25)}}),m=(0,v.jsxs)("div",{className:(0,l.default)(_.default.volumeBarContainer,{[_.default.visible]:i&&!t}),children:[(0,v.jsx)("div",{className:(0,l.default)(_.default.volumeLowerTrack,{[_.default.lowerTrackLongest]:1===a,[_.default.firefoxFix]:s.UA.isGecko}),style:{width:100*a+"%"}}),(0,v.jsx)("input",{className:_.default.volumeBar,dir:"ltr",onChange:e=>{d(parseFloat(e.target.value))},type:"range",min:"0",max:1,step:"any",value:a})]});return(0,v.jsxs)("div",{className:(0,l.default)(_.default.volumeContainer),onClick:E,onMouseEnter:c,onMouseLeave:f,onMouseDown:E,children:[p,m]})}function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[a,n]=(0,d.useState)(e),[r,i]=(0,d.useState)(e);return r===e||t||(n(e),i(e)),[a,n]}},80010:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoRefControls=function(e){const{refVideo:t}=e;if(!e.refVideo)return null;const a=e.videoMetadata;if(!a)return null;return(0,r.jsx)(n.VideoControls,{duration:a.duration,progress:a.currentTime,volume:a.volume,muted:a.muted,bufferedTime:a.bufferedTime,onPlay:()=>{null==t||t.play()},onPause:()=>{null==t||t.pause()},onProgressChange:e.handleSetCurrentTimeByControls?e.handleSetCurrentTimeByControls:e=>{null==t||t.setCurrentTime(e)},onVolumeValueChange:e=>{null==t||t.setVolume(e)},onMutedValueChange:e=>{null==t||t.setMuted(e)},isVideoPlaying:e.isVideoPlaying,isFullscreenMode:e.isFullscreenMode,className:e.controlsClassName,ctwaSourceUrl:e.ctwaSourceUrl,newPiPStyle:e.newPiPStyle,onFullscreenToggle:e.onFullscreenToggle,onClose:e.onClose})};var n=a(75538),r=a(85893)},70437:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_STREAM_URL=void 0,t.handleVideoStreamingRequest=function(e){let{action:t,message:r}=e;switch(t){case o.default.REQUEST_STREAMING_INFO:return function(e){const t=d.MsgCollection.get(e);return t?(0,l.videoStreamingInfo)(t):null}(r.key);case o.default.EXP_BACKOFF:return a(47272).expDelaySec(r.generation,60).then((()=>s.default.waitIfOffline({signal:(new n).signal})));case o.default.REQUEST_RMR:return function(){return f.apply(this,arguments)}(r);case o.default.SEND_STREAMING_CHUNK:const e=r.msgKey,t=d.MsgCollection.get(e);if(!t)return void delete h[e.toString()];let i;h.hasOwnProperty(e)?i=h[e.toString()]:h[e.toString()]=i=new c(t.size),i.push(r.data),i.isComplete()&&((0,l.manuallySetMedia)({msg:t,media:i.serialize(),rmrReason:u.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING}),delete h[e.toString()]);break;default:return Promise.reject(new Error("Invalid Video Streaming Action"))}};var i=r(a(48926)),s=r(a(81602)),o=r(a(64237)),l=a(78986),u=r(a(11339)),d=a(59871);t.VIDEO_STREAM_URL="/stream/video";class c{constructor(e){this.ranges=[],this.buffer=[],this.size=e,e||__LOG__(3)`video buffer falsy size: ${e}`}push(e){this.buffer.push(e),this.add(e.start,e.end)}add(e,t){let a=e;const n=this.ranges;for(let e=0;e<n.length;e++){let[r,i]=n[e];if(!(a>i+1)){if(t+1<r)return n.splice(e,0,[a,t]);for(;e+1<n.length;){const[s,o]=n[e+1];if(t+1<s)break;a=Math.min(a,r),n.splice(e,1),r=s,i=o}return void(n[e]=[Math.min(a,r),Math.max(t,i)])}}return n.push([a,t])}isComplete(){const e=this.ranges,t=this.size;return!!t&&(1===e.length&&0===e[0][0]&&e[0][1]===t-1)}serialize(){const e=new Uint8Array(this.size),t=this.buffer;for(let a=0;a<t.length;a++){const{start:n,buffer:r}=t[a];e.set(new Uint8Array(r),n)}return e}}function f(){return(f=(0,i.default)((function*(e){const t=d.MsgCollection.get(e.key);if(!t)return null;throw yield t.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:u.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING,isUserInitiated:!0}),new Error("downloaded media instead of streaming")}))).apply(this,arguments)}const h={}},48560:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{onSetFullscreenToggleCallback:t,onRefSet:a,onVideoEnded:n,onError:y,startTime:x,onVideoMetadataChange:M,onClose:k}=e,w=(0,u.useRef)(null),P=(0,u.useRef)(null),A=(0,u.useRef)(null),j=(0,u.useRef)(_.ServerProps.webPipRedesign),I=(0,u.useRef)(null),[O,N]=(0,u.useState)(void 0),[R,D]=(0,u.useState)(!1),[L,B]=(0,u.useState)(!1),[F,G]=(0,u.useState)(!1),[U,V]=(0,u.useState)(!1),[W,H]=(0,u.useState)(!1),q=(0,f.default)(R),Y=(0,f.default)(O);(0,c.useListener)(m.default,"fullscreen_change",(()=>{m.default.isFullscreenMode&&m.default.fullscreenElement===w.current?V(!0):m.default.isFullscreenMode||V(!1)}));const z=e=>{e.stopPropagation(),U?m.default.exitFullscreen():m.default.requestFullscreen(w.current)},K=(0,d.default)((()=>{G(!1)}),b.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT);(0,u.useEffect)((()=>{null==t||t(z)}),[]);const $=(0,h.default)((e=>{P.current=e,null!=e&&(null==a||a(e))}));(0,u.useEffect)((()=>{q===R&&(0,i.default)(Y,O)||null==M||M(O,R)}),[R,q,M,O,Y]);const Q=e.exposeIframeInPiP||W||U?null:(0,E.jsx)("div",{className:C.default.blockYoutube}),X=(0,E.jsxs)("div",{className:(0,l.default)(C.default.youtubeContainer,{[C.default.fullscreen]:U}),children:[Q,(0,E.jsx)(S.default,{ref:$,youtubeVideoId:e.youtubeVideoId,startTime:e.startTime,onEnded:()=>{n&&n();const e=P.current;e&&!_.ServerProps.webPipRedesign&&(e.play(),e.pause()),D(!1)},onError:()=>{y&&y()},onLoadedMetadata:e=>{const t=null!=x?x:0;N({duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0})},onPause:()=>{const e=P.current?P.current.getCurrentTime():null;let t=null;O&&null!=e&&(t=(0,r.default)((0,r.default)({},O),{},{currentTime:e})),N(t),D(!1),A.current=!0},onPlaying:()=>{const e=P.current?P.current.getCurrentTime():null;let t=null;O&&null!=e&&(t=(0,r.default)((0,r.default)({},O),{},{currentTime:e})),N(t),D(!0),A.current=!0},onProgress:e=>{const t=e[0][1];let a=null;O&&(a=(0,r.default)((0,r.default)({},O),{},{bufferedTime:t})),N(a)},onTimeUpdate:e=>{if(A.current)return void(A.current=!1);let t=null;O&&(t=(0,r.default)((0,r.default)({},O),{},{currentTime:e})),N(t)},onVolumeChange:e=>{let t=null;O&&(t=(0,r.default)((0,r.default)({},O),{},{volume:e.volume,muted:e.muted})),N(t)},autoPlay:e.autoPlay})]}),J=!e.disablePiPControls||U?(0,E.jsx)(T,{videoMetadata:O,newStyleActive:j.current,videoRef:P,mouseDownCoorRef:I,mouseMoveRecently:F,isVideoPlaying:R,isFullscreenMode:U,onFullScreenToggle:z,onClose:k,onExposeIframeInPiP:H}):null;let Z;s.UA.isSafari||(Z=(0,E.jsx)(g.default,{isFullscreenMode:U,onClick:z}));const ee=(0,E.jsx)(v.default,{theme:"full-rounded"}),te=U?(0,E.jsxs)(E.Fragment,{children:[X,J,j.current?null:(0,E.jsxs)("div",{className:(0,l.default)(C.default.widgetsWrapper,C.default.opacityTransition,{[C.default.dimmed]:!F}),children:[Z,(0,E.jsx)(p.default,{isFullscreenMode:U,onClick:t=>{t.stopPropagation(),e.onClose()}})]})]}):(0,E.jsxs)(E.Fragment,{children:[X,(0,E.jsx)(o.default,{transitionName:"fade-fast",children:L&&F&&!W&&!e.disablePiPControls?(0,E.jsxs)(E.Fragment,{children:[ee,J,Z,(0,E.jsx)(p.default,{isFullscreenMode:U,onClick:t=>{t.stopPropagation(),e.onClose()}})]}):null})]});return(0,E.jsx)("div",{ref:w,className:(0,l.default)(C.default.container,{[C.default.fullscreen]:U,[C.default.redesign]:j.current}),onMouseEnter:()=>{if(W){if(s.UA.isGecko&&L)return;H(!1)}B(!0)},onMouseLeave:()=>{B(!1)},onMouseDown:e=>{U&&e.stopPropagation()},onMouseMove:()=>{L||B(!0),F||G(!0),K()},children:te},"elementsWrapped")};var r=n(a(81109)),i=n(a(18446)),s=a(26741),o=n(a(40436)),l=n(a(94184)),u=a(67294),d=n(a(51799)),c=a(87550),f=n(a(37453)),h=n(a(89113)),p=n(a(84819)),m=n(a(50315)),g=n(a(51582)),_=a(64551),v=n(a(22433)),b=a(55389),y=a(80010),C=n(a(10250)),S=n(a(42425)),E=a(85893);function T(e){let{videoMetadata:t,newStyleActive:a,videoRef:n,mouseMoveRecently:r,isVideoPlaying:i,isFullscreenMode:s,onFullScreenToggle:o,onClose:u,onExposeIframeInPiP:d,mouseDownCoorRef:c}=e;const f=e=>{if(n.current){let a=e;t&&e>=t.duration-1&&t.duration>1&&(a=t.duration-1),n.current.setCurrentTime(a)}};let h=null;if(t){const e=(0,l.default)(C.default.strippedVideoControls,C.default.opacityTransition,{[C.default.dimmed]:!r});h=(0,E.jsx)(y.VideoRefControls,{refVideo:n.current,videoMetadata:t,isFullscreenMode:s,isVideoPlaying:i,handleSetCurrentTimeByControls:f,controlsClassName:s?e:void 0,onFullscreenToggle:a?o:void 0,onClose:a?u:void 0,newPiPStyle:a}),s||(h=(0,E.jsx)("div",{className:C.default.videoControlsWrapper,onMouseDown:e=>{c.current={x:e.clientX,y:e.clientY}},onMouseUp:e=>{const t=e.clientX,a=e.clientY,n=c.current,r=n?n.x:void 0,i=n?n.y:void 0;null!=r&&null!=i&&Math.abs(t-r)+Math.abs(a-i)<4&&d(!0)},children:h}))}return h}},42425:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=n(a(82492)),s=n(a(23279)),o=a(22712),l=a(55452),u=a(67294),d=a(84387),c=a(64551),f=a(38090),h=a(85893);const p=(0,s.default)((e=>{(0,l.setVideoVolumeSetting)(e)}),500),m=(0,s.default)((e=>{(0,l.setVideoMutedSetting)(e)}),500),g=1,_={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}};class v extends u.PureComponent{constructor(){super(...arguments),this.videoLoadedFraction=0,this.currentTime=0,this._handleStateChange=e=>{e.target.getPlayerState()!==g&&this.props.onPause()},this._handleError=()=>{this.props.onError()},this._handlePause=()=>{var e;null===(e=this._releaseAudioChannelClaim)||void 0===e||e.call(this),this.props.onPause()},this.player=null,this.updateInterval=null,this.setMuted=e=>{const t=this.player;t&&(e?t.mute():t.unMute(),m(e))},this.getMuted=()=>!!this.player&&this.player.isMuted(),this.setVolume=e=>{this.player&&(this.player.setVolume(100*e),p(e))},this.getVolume=()=>this.player?.01*this.player.getVolume():0,this.getDuration=()=>this.player?this.player.getDuration():0,this.setCurrentTime=e=>{this.player&&this.player.seekTo(e,!0)},this.getCurrentTime=()=>this.player?this.player.getCurrentTime():0,this.pause=()=>{this.player&&this.player.pauseVideo()},this._handlePlay=()=>{this._releaseAudioChannelClaim=o.MainAudioChannel.claim(this,(()=>{this.pause()})),this.props.onPlaying()},this.play=()=>{this.player&&this.player.playVideo()},this._handleEnd=()=>{this.props.onEnded();const e=this.player;e&&!c.ServerProps.webPipRedesign&&(e.playVideo(),e.pauseVideo())},this.update=()=>{const e=this.player;if(e){const t=e.getCurrentTime();t!==this.currentTime&&(this.currentTime=t,this.props.onTimeUpdate(t));const a=e.getVideoLoadedFraction();if(a!==this.videoLoadedFraction){this.videoLoadedFraction=a;const e=this.videoTagMetadata?this.videoTagMetadata.duration*a:0;this.props.onProgress([[0,e]])}const n=this.videoTagMetadata;if(n){const t=.01*e.getVolume(),a=e.isMuted();t===n.volume&&a===n.muted||(this.videoTagMetadata=(0,r.default)((0,r.default)({},n),{},{volume:t,muted:a}),this.props.onVolumeChange({volume:t,muted:a}))}}},this._handleOtherPlaying=e=>{e!==this&&this.player&&this.player.pauseVideo()},this.setStartTime=()=>{this.player&&"number"==typeof this.props.startTime&&this.player.seekTo(this.props.startTime,!0)},this._handleReady=e=>{this.player=e.target;const t=this.player,a=(0,l.getVideoVolumeSettings)();let n,r;a&&("number"==typeof a.volume&&(n=a.volume),"boolean"==typeof a.muted&&(r=a.muted));const i=t.getDuration(),s=null!=n?n:.01*t.getVolume(),o=null!=r?r:t.isMuted(),u=t.getIframe().getBoundingClientRect(),d=u.width,c=u.height;this.videoTagMetadata={duration:i,volume:s,muted:o,videoWidth:d,videoHeight:c},this.props.onLoadedMetadata(this.videoTagMetadata),this.currentTime=t.getCurrentTime(),this.updateInterval=setInterval(this.update,250),null!=this.props.startTime&&this.setStartTime(),null!=n&&this.setVolume(n),null!=r&&this.setMuted(r)},this.getPlayerState=()=>{if(this.player)return this.player.getPlayerState()},this.getPaused=()=>!this.player||this.getPlayerState()!==g}componentDidUpdate(e){e.startTime!==this.props.startTime&&this.setStartTime()}componentWillUnmount(){var e;this.player=null,null===(e=this._releaseAudioChannelClaim)||void 0===e||e.call(this),this.updateInterval&&clearInterval(this.updateInterval)}render(){const e=(0,i.default)({},_,{playerVars:{autoplay:this.props.autoPlay?1:0,widget_referrer:"https://whatsapp.com",origin:window.location.origin}});return(0,h.jsx)(f.YouTube,{videoId:this.props.youtubeVideoId,opts:e,onReady:this._handleReady,onPlay:this._handlePlay,onPause:this._handlePause,onEnd:this._handleEnd,onError:this._handleError,onStateChange:this._handleStateChange})}}v.displayName="YoutubeVideoTag";const b=(0,d.ListenerHOC)(v);t.default=class extends b{constructor(){super(...arguments),this.play=()=>{this.getComponent().play()},this.pause=()=>{this.getComponent().pause()},this.getPaused=()=>this.getComponent().getPaused(),this.getCurrentTime=()=>this.getComponent().getCurrentTime(),this.setCurrentTime=e=>{this.getComponent().setCurrentTime(e)},this.getDuration=()=>this.getComponent().getDuration(),this.getVolume=()=>this.getComponent().getVolume(),this.setVolume=e=>{this.getComponent().setVolume(e)},this.getMuted=()=>this.getComponent().getMuted(),this.setMuted=e=>{this.getComponent().setMuted(e)}}}},24141:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{contactId:t}=e;const[a,l]=(0,n.useState)((()=>i.StatusV3Collection.get(t))),[u,d]=(0,n.useState)(t);t!==u&&(l(i.StatusV3Collection.get(t)),d(t));return(0,r.useListener)(i.StatusV3Collection,["change:msgsChanged"],(()=>{l(i.StatusV3Collection.get(t))})),a?(0,o.jsx)(s.StatusV3ImageRing,{statusV3:a,size:57,stroke:4,theme:s.RingTheme.ChatList,breakRing:!0}):null};var n=a(67294),r=a(87550),i=a(59387),s=a(24391),o=a(85893)},24391:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.RingTheme=void 0,t.StatusV3ImageRing=p;var r=n(a(81109)),i=n(a(56720)),s=a(35461),o=a(85893);const l={businessContactInfoRing:{marginTop:"dj1c3cmq",position:"lhggkp7q"},read:{stroke:"i2tfkqu4"},statusV3PanelRing:{marginStart:"nxn8agaf",marginTop:"kv6wexeh",position:"lhggkp7q"},chatListRing:{marginStart:"nxn8agaf",position:"lhggkp7q"},unread:{stroke:"j9ny8kmf"}},u=a(76672).Mirrored(["StatusV3Panel","BusinessContactInfo","ChatList"]);t.RingTheme=u;const d=new Map([[u.StatusV3Panel,l.statusV3PanelRing],[u.BusinessContactInfo,l.businessContactInfoRing],[u.ChatList,l.chatListRing]]);function c(e){const t=(100+e.strokeWidth)/2;return(0,o.jsx)("circle",(0,r.default)({cx:t,cy:t,r:50,fill:"none",strokeLinecap:"round"},e))}function f(e){let{className:t,totalDashes:a,dashesToDraw:n,dashesToOffsetBy:r,stroke:i}=e,s=10;const l=50*Math.PI*2;l-10*a<1&&(s=l/a/1.2);const u=(l-s*a)/a,d=((e,t,a,n)=>e+t*(a+n))(l/4-s/2,r,s,u),f=1!==a?((e,t,a,n)=>new Array(e).fill(void 0).map(((r,i)=>`${t} ${i===e-1?a-e*(n+t)+n:n}`)).join(" "))(n,u,l,s):void 0;return(0,o.jsx)(c,{className:t,strokeDashoffset:d,strokeDasharray:f,strokeWidth:i})}function h(e){let{totalCount:t,unreadCount:a,stroke:n}=e;const r=t-a,s=a>0?(0,o.jsx)(f,{className:(0,i.default)(l.unread),totalDashes:t,dashesToDraw:a,dashesToOffsetBy:t,stroke:n}):null,u=r>0?(0,o.jsx)(f,{className:(0,i.default)(l.read),totalDashes:t,dashesToDraw:r,dashesToOffsetBy:r,stroke:n}):null;return(0,o.jsxs)(o.Fragment,{children:[s,u]})}function p(e){const{stroke:t,size:a,breakRing:n}=e,r=(0,s.useModelValues)(e.statusV3,["unreadCount","totalCount","contact"]),u=100+t,f=r.totalCount,p=r.contact.isMe?0:r.unreadCount,m=n&&1!==f?(0,o.jsx)(h,{totalCount:f,unreadCount:p,stroke:t}):(0,o.jsx)(c,{className:(0,i.default)(p>0?l.unread:l.read),strokeWidth:t});return(0,o.jsx)("svg",{className:(0,i.default)(d.get(e.theme)),width:a,height:a,viewBox:`0 0 ${u} ${u}`,children:m})}p.defaultProps={size:48,stroke:4,theme:u.StatusV3Panel,breakRing:!0}},36190:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const[e,t]=(0,o.useState)((()=>c.StatusV3Collection.getUnexpired(!0).some((e=>e.unreadCount>0&&!e.contact.statusMute)))),a=(0,o.useRef)({}),n=()=>{const n=c.StatusV3Collection.getUnexpired(!0).some((e=>{const t=a.current[e.id.toString()],n=!t||e.t>t;return!e.contact.statusMute&&e.unreadCount>0&&n}));n!==e&&t(n)};(0,l.useListener)(u.ContactCollection,r.COLLECTION_HAS_SYNCED,n),(0,l.useListener)(c.StatusV3Collection,"add remove change:unreadCount change:t",n);const m=()=>{c.StatusV3Collection.getUnexpired(!0).forEach((e=>{a.current[e.id.toString()]=e.t})),t(!1)},g=e?(0,p.jsx)(h.default,{name:"status-v3-unread",directional:!0}):(0,p.jsx)(h.default,{name:"status-v3"});return(0,p.jsx)(d.MenuBarItem,{a8nText:"menu-bar-status",icon:g,title:s.fbt._("Status",null,{hk:"My6TT"}),onClick:e=>{e.preventDefault(),i.ModalManager.openMedia((0,p.jsx)(f.StatusV3FlowLoadable,{onFlowEnd:m,removeTopDrawer:!1}),{transition:"status-v3-modal"})}})};var r=a(13042),i=a(14597),s=a(48360),o=a(67294),l=a(87550),u=a(19380),d=a(46346),c=a(59387),f=a(78781),h=n(a(23217)),p=a(85893)},38224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=new class{init(){return Promise.resolve()}get(){return{textsize:0}}set(){}};t.default=a},15022:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyImageToClipboard=function(e){if(!r())throw new Error("Clipboard API not supported");if("image/png"===e.type){const t=new window.ClipboardItem({"image/png":e});navigator.clipboard.write([t])}else{const t=new Image;t.onload=e=>{let{target:t}=e;const a=document.createElement("canvas"),n=a.getContext("2d");a.width=t.naturalWidth,a.height=t.naturalHeight,n.drawImage(t,0,0),a.toBlob((e=>{const t=new window.ClipboardItem({[e.type]:e});try{navigator.clipboard.write([t])}catch(e){__LOG__(2,void 0,void 0,!0)`Write image to clipboard failed`,SEND_LOGS(e)}}),"image/png",1)},t.src=URL.createObjectURL(e)}},t.supportsCopyImageToClipboard=r;var n=a(26741);function r(){return"clipboard"in navigator&&"ClipboardItem"in window&&n.UA.browser!==n.BROWSER_TYPE.SAFARI}},88755:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=document.createElement("textarea");t.value=e,document.body&&document.body.appendChild(t);t.focus(),t.select(),document.execCommand("copy"),document.body&&document.body.removeChild(t)}},72312:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=function(e,t){var a;const s=e.target.files||(null===(a=e.dataTransfer)||void 0===a?void 0:a.files);let o=s?Array.from(s):[];if(t){const e=("string"==typeof t?[t]:t).map((e=>new RegExp(e)));o=o.filter((t=>e.some((e=>t.type.match(e)))))}if(o.length)return Promise.resolve(o);const l=e.dataTransfer;if(l&&l.getData("text/uri-list"))return i.urlToFile(l.getData("text/uri-list")).then((e=>[(0,r.createFile)([e],"",{type:e.type})]));if(l&&l.getData("text/html")){const e=(new DOMParser).parseFromString(l.getData("text/html"),"text/html");if(e.createNodeIterator(e.childNodes[0],NodeFilter.SHOW_TEXT).nextNode()){if(l.getData("text/plain"))return Promise.reject(new n.MediaDragDropError("dropped html has text nodes"))}else{const t=e.getElementsByTagName("img");if(t.length)return i.urlToFile(t[0].src).then((e=>[(0,r.createFile)([e],"",{type:e.type})]))}}return Promise.resolve([])};var n=o(a(35232)),r=a(65885),i=o(a(51428));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}},78931:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(2525)),i=n(a(41609)),s=n(a(76521));const o=a(76672).Mirrored(["Boolean","Number"]);class l extends s.default{constructor(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Boolean;super(),this.list=e,this.selected=e.reduce(((e,t,n)=>(e[n]=a===o.Number&&0,e)),{}),this.getter=t,this.selectedDataType=a}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,i.default)(this.selected)||((0,i.default)(e)?this.unsetAll():(this.selected=e.reduce(((e,t,a)=>{const n=this.list.indexOf(t);return e[a]=n>-1&&this.selected[n],e}),{}),this.list=e))}unsetAll(){(0,r.default)(this.selected,((e,t)=>{e&&this.set(t,this.selectedDataType===o.Number&&0)}))}reset(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.selected,((t,a)=>{t&&(this.trigger(this.getter(this.list[a]),!0,!0,e),this.trigger("all",!0,!0,e))}))}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.list.length)return;const n=Math.min(Math.max(e,-1),this.list.length-1),r=n>-1?this.list[n]:void 0;r&&this.selected[n]!==t&&(this.selected[n]=t,this.trigger(this.getter(r),t,a),this.trigger("all",t,a))}setVal(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.list.indexOf(e);-1===n&&(n=this.list.length,this.list.push(e),this.selected[n]="number"==typeof t&&0),this.set(n,t,a)}getVal(e){return this.selected[this.list.indexOf(e)]}setFirst(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,i.default)(this.list)||this.set(0,this.selectedDataType!==o.Number||1,e)}setLast(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,i.default)(this.list)||this.set(this.list.length-1,this.selectedDataType!==o.Number||1,e)}getSelected(){return this.list.reduce(((e,t,a)=>(this.selected[a]&&e.push(t),e)),[])}isSelected(e){return!!this.getVal(e)}isInList(e){return this.list.includes(e)}}t.default=l},97039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a.test(e)?e.replace(/[^0-9]/g,""):null};const a=/^[0-9+()\- ]+$/},73540:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{delay:a=0}=null!=t?t:{};let n,r,i;const s=t=>{(null==i||t-i>=a)&&(e(t),i=t),r||(n=requestAnimationFrame(s))};return n=requestAnimationFrame(s),()=>{r=!0,cancelAnimationFrame(n)}}},8248:(e,t)=>{"use strict";function a(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.getFloatFromStylesProp=function(e,t){return parseFloat(a(e,t))},t.getIntFromStylesProp=function(e,t){return parseInt(a(e,t),10)},t.getValueFromStylesProp=a},55715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TAB_ORDER=void 0;t.TAB_ORDER={CHAT_STARRED_DRAWER:3,CHAT_LIST_SEARCH:3,ARCHIVED_ENTRY_POINT:4,CHAT_LIST:4,CHAT_CONTACT_LIST:4,CHAT_IMAGE_GALLERY:4,CHAT_SEARCH_MSG_LIST:4,PANEL_SEARCH_INPUT:5,CHAT_HEADER_BUTTON:6,MESSAGE_LIST_SCROLL_BUTTON:7,MESSAGE_LIST:8,PTT_OOC_BUTTON:9,COMPOSE_BOX_MENU_BUTTON:10,COMPOSE_BOX_INPUT:10,COMPOSE_BOX_ATTACH_BUTTON:10,PTT_BUTTON:11}},28752:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlaybackController=void 0;var r=n(a(48926)),i=a(13959),s=a(22712),o=n(a(79622)),l=a(86678),u=a(76571),d=a(30734),c=a(98113),f=a(56989);const h="playing",p="timeupdate",m="ended";t.AudioPlaybackController=class{constructor(e){var t=this;this._isSequentialPlayback=!1,this._handleMarkPlayed=()=>{(0,d.canMarkPlayed)(this._msg.unsafe())&&(0,d.markPlayed)(this._msg.unsafe())},this._handlePlaybackProgress=()=>{this._msg.updateLastPlaybackProgress((0,o.default)(this.audio,this._msg.mediaData))},this._handlePlayingMessage=()=>{this._clearPlayingMessage=f.PttPrefs.setPlayingMessage(this._msg)},this._handleEnded=()=>{var e,t;(null===(e=this._clearPlayingMessage)||void 0===e||e.call(this),this._clearPlayingMessage=null,this.audio.currentTime=0,this._msg.updateLastPlaybackProgress(0),this._maybePlayNext(),this._isSequentialPlayback)&&(null===(t=this._disposeAudio)||void 0===t||t.call(this),this._disposeAudio=null)},this._maybePlayNext=(0,r.default)((function*(){const e=(0,l.findSequentialMsg)(t._msg);let n=!1;const r=s.MainAudioChannel.claim(t,(()=>{n=!0}));if(yield(0,i.delayMs)(400),r(),!n)if(e){(0,c.playMidPttTone)();const t=a(64310).default.acquireAudio(e);t.controller.playAsSequential(),t.dispose()}else t._isSequentialPlayback&&((0,c.playEndPttTone)(),t._isSequentialPlayback=!1,t.pttPlaybackLogger.isSequentialPlayback=!1)})),this.audio=e.audio,this.pttPlaybackLogger=new u.PttPlaybackLogger(e.msg,e.audio),this._msg=e.msg,this.audio.addEventListener(h,this._handlePlayingMessage),this.audio.addEventListener(m,this._handleEnded),"ptt"===this._msg.type&&this.audio.addEventListener(h,this._handleMarkPlayed),this.audio.addEventListener(p,this._handlePlaybackProgress)}playAsSequential(){f.PttPrefs.outOfChatPlayerMessage=this._msg,this._disposeAudio=a(64310).default.acquireAudio(this._msg).dispose,this._isSequentialPlayback=!0,this.pttPlaybackLogger.isSequentialPlayback=!0;const e=null==this._msg.asPttLike?1:f.PttPrefs.playbackRate;this.audio.playbackRate=e,this.audio.defaultPlaybackRate=e,this.audio.currentTime=0,this.audio.play()}dispose(){var e;"ptt"===this._msg.type&&this.audio.removeEventListener(h,this._handleMarkPlayed),this.audio.removeEventListener(p,this._handlePlaybackProgress),this.audio.removeEventListener(h,this._handlePlayingMessage),this.audio.removeEventListener(m,this._handleEnded),this.pttPlaybackLogger.dispose(),null===(e=this._clearPlayingMessage)||void 0===e||e.call(this)}}},79622:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{currentTime:a}=e,n=t?(0,i.getDurationFromAudioOrProtobuf)(e,t):(0,s.default)(e);return null==n||0===n?0:(0,r.default)(a/n,0,1)};var r=n(a(74691)),i=a(81739),s=n(a(92053))},86678:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findSequentialMsg=function(e){const t=e.id,a=(0,r.default)(e.chat.msgs.toArray(),(e=>t.equals(e.id)));if(!a)return null;const n=a.asAudio||a.asPtt;return n&&(0,s.default)({currentMsg:e,nextMsg:n,playedBefore:e.ack===i.ACK.PLAYED})?n:null};var r=n(a(33693)),i=a(35470),s=n(a(27112))},81739:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDurationFromAudioOrProtobuf=function(e,t){var a;return null!==(a=(0,r.default)(e))&&void 0!==a?a:i(t)},t.getDurationFromProto=i;var r=n(a(92053));function i(e){const t=parseFloat(e.duration);return Number.isFinite(t)?t:0}},92053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.duration;return Number.isFinite(t)?t:null}},27112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{currentMsg:t,nextMsg:a,playedBefore:n}=e;return null!=a.asPttLike&&(!a.isSentByMe||(!!t.isSentByMe||Boolean(n)))}},64310:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=a(22712),s=a(72541),o=a(28752),l=a(81739),u=(a(76571),n(a(41143))),d=a(84866),c=a(64551);function f(e){let t=!1;return()=>{(0,u.default)(!t,"Dispose cannot be called more than once for the same audio"),t=!0,e()}}var h=new class{constructor(){this._msgIdToAudioEntry=new Map}_createResource(e,t){const{mediaData:a}=e,n=s.AudioManager.createAudioProxy(),u=i.MainAudioChannel.registerMedia(n),f=function(e){let{filehash:t}=e;if(!d.MediaBlobCache.has(t))return null;const a=d.MediaBlobCache.getOrCreateURL(t);return d.MediaBlobCache.increaseUsageCount(t),{url:a,dispose:()=>d.MediaBlobCache.decreaseUsageCount(t)}}(a);if(f){n.src=f.url;const t=(0,l.getDurationFromAudioOrProtobuf)(n,e.mediaData);c.ServerProps.pttRememberPlayPosition&&null!=e.lastPlaybackProgress&&null!=t&&(n.currentTime=t*e.lastPlaybackProgress)}const h=new o.AudioPlaybackController({msg:e,audio:n});return{playbackController:h,refCount:1,dispose:()=>{const e=(0,r.default)(this._msgIdToAudioEntry.get(t),"this._msgIdToAudioEntry.get(key)");e.refCount--,0===e.refCount&&(u(),this._msgIdToAudioEntry.delete(t),null==f||f.dispose(),h.dispose())}}}acquireAudio(e){const t=function(e){return e.id.toString()}(e);let a=this._msgIdToAudioEntry.get(t);a?a.refCount++:(a=this._createResource(e,t),this._msgIdToAudioEntry.set(t,a));const{playbackController:n,dispose:r}=a;return{audio:n.audio,pttPlaybackLogger:n.pttPlaybackLogger,controller:n,dispose:f(r)}}};t.default=h},76571:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttPlaybackLogger=void 0;var r=n(a(79622)),i=a(81739),s=n(a(11339)),o=a(59871),l=a(67880),u=a(56989);t.PttPlaybackLogger=class{constructor(e,t){this.isSequentialPlayback=!1,this._pttPlaybackSpeedCnt=0,this._pttSeekCnt=0,this._pttPlayedPct=0,this._hasStartedPlayback=!1,this._pttPlayedOutOfChat=!1,this._pttMiniPlayerPauseCnt=0,this._pttMiniPlayerClose=!1,this._pttMiniPlayerClick=0,this._handlePlaying=()=>{this._hasStartedPlayback=!0},this._handleRateChange=()=>{this._audio.playbackRate!==this._currentPlaybackRate&&(this._currentPlaybackRate=this._audio.playbackRate,this._pttPlaybackSpeedCnt+=1)},this._handleTimeupdate=()=>{const e=(0,r.default)(this._audio);this._pttPlayedPct=Math.max(e,this._pttPlayedPct)},this._handleEnded=()=>{this.commit(!0)},this._handleError=()=>{this.commit(!1)},this._msg=e,this._audio=t,this._currentPlaybackRate=this._audio.playbackRate,this._audio.addEventListener("playing",this._handlePlaying),this._audio.addEventListener("ratechange",this._handleRateChange),this._audio.addEventListener("timeupdate",this._handleTimeupdate),this._audio.addEventListener("ended",this._handleEnded),this._audio.addEventListener("error",this._handleError)}dispose(){this._audio.removeEventListener("playing",this._handlePlaying),this._audio.removeEventListener("ratechange",this._handleRateChange),this._audio.removeEventListener("timeupdate",this._handleTimeupdate),this._audio.removeEventListener("ended",this._handleEnded),this._audio.removeEventListener("error",this._handleEnded)}_reset(){this._pttPlaybackSpeedCnt=0,this._pttSeekCnt=0,this._pttPlayedPct=0,this._hasStartedPlayback=!1,this._pttPlayedOutOfChat=!1,this._pttMiniPlayerPauseCnt=0,this._pttMiniPlayerClose=!1,this._pttMiniPlayerClick=0}commit(e){var t;if(!this._hasStartedPlayback)return;if("ptt"!==this._msg.type)return;const{playbackRate:a}=u.PttPrefs,{mediaData:n}=this._msg,r=new s.default.PttPlayback({pttSeekCnt:0,pttPlaybackSpeedCnt:0,pttTrigger:this.isSequentialPlayback?s.default.PTT_TRIGGER_TYPE.SEQUENTIAL:s.default.PTT_TRIGGER_TYPE.MANUAL});r.pttPlaybackFailed=!e,r.pttType=function(e){switch(null==e?void 0:e.split(";")[0]){case"audio/ogg":return s.default.PTT_STREAM_TYPE.OPUS;case"audio/aac":return s.default.PTT_STREAM_TYPE.AAC;case"audio/mpeg":return s.default.PTT_STREAM_TYPE.MP3;case"audio/amr-wb":return s.default.PTT_STREAM_TYPE.AMR_WB;case"audio/amr":case"audio/3gpp2":return s.default.PTT_STREAM_TYPE.AMR_NB;case"audio/3gpp":default:return s.default.PTT_STREAM_TYPE.UNKNOWN}}(n.mimetype),r.pttPlaybackSpeed=function(e){switch(e){case 1:return s.default.PTT_PLAYBACK_SPEED_TYPE.SPEED_1;case 1.5:return s.default.PTT_PLAYBACK_SPEED_TYPE.SPEED_1_5;case 2:return s.default.PTT_PLAYBACK_SPEED_TYPE.SPEED_2;default:throw new Error(`Invalid playback rate: ${e}`)}}(a);const d=(0,i.getDurationFromAudioOrProtobuf)(this._audio,n);r.pttDuration=1e3*Math.round(d),r.pttPlaybackSpeedCnt=this._pttPlaybackSpeedCnt,r.pttSeekCnt=this._pttSeekCnt,r.pttPlayedPct=this._pttPlayedPct,r.pttPlayedOutOfChat=this._pttPlayedOutOfChat,r.pttMiniPlayerPauseCnt=this._pttMiniPlayerPauseCnt,r.pttMiniPlayerClose=this._pttMiniPlayerClose,r.pttMiniPlayerClick=this._pttMiniPlayerClick,r.commit(),this._reset();const c=this._msg.id,f=null==c?null:null===(t=o.MsgCollection.get(c))||void 0===t?void 0:t.chat.kind;null!=f&&((0,l.incrementPttDailyCount)(l.PttDailyCountKind.PLAYBACK,f),a>1&&(0,l.incrementPttDailyCount)(l.PttDailyCountKind.FAST_PLAYBACK,f))}increasePttSeekCount(){this._pttSeekCnt+=1}markAsPlayedInOoc(){this._pttPlayedOutOfChat=!0}increaseOocPauseCount(){this._pttMiniPlayerPauseCnt+=1}markAsOocClosedByUser(){this._pttMiniPlayerClose=!0}increaseOocClickToChatCount(){this._pttMiniPlayerClick+=1}}},53395:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useMsgAudioPlaybackController=function(e){const t=()=>null==e?null:r.default.acquireAudio(e),[a,n]=(0,i.useState)(t),[o,l]=(0,i.useState)(e);o!==e&&(l(e),null==a||a.dispose(),n(t()));return(0,s.default)((()=>{null==a||a.dispose()})),a};var r=n(a(64310)),i=a(67294),s=n(a(55010))},72541:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioManagerImpl=t.AudioManager=void 0;var r=n(a(12957));class i{constructor(e){var t;this._listeners=new Map,this._activeAudios=new Map,this._inactiveAudios=new Map,this._releaseTimeouts=new Map,this.__TEST_ONLY__={getActiveAudio:e=>this._activeAudios.get(e),getAllAudios:()=>[...Array.from(this._activeAudios.values()),...Array.from(this._inactiveAudios.values())]},this._minPoolSize=null!==(t=null==e?void 0:e.minPoolSize)&&void 0!==t?t:1}addAudioListener(e,t,a){var n,r;null===(n=this._activeAudios.get(e))||void 0===n||n.addEventListener(t,a),null===(r=this._inactiveAudios.get(e))||void 0===r||r.addEventListener(t,a);let i=this._listeners.get(e);null==i&&(i=new Set,this._listeners.set(e,i)),i.add({type:t,listener:a})}removeAudioListener(e,t,a){var n,r;null===(n=this._activeAudios.get(e))||void 0===n||n.removeEventListener(t,a),null===(r=this._inactiveAudios.get(e))||void 0===r||r.removeEventListener(t,a);const i=this._listeners.get(e);if(null!=i){for(const e of i)if(e.type===t&&e.listener===a){i.delete(e);break}0===i.size&&this._listeners.delete(e)}}createAudioProxy(){return new r.default(this)}_getAudio(e){var t;const a=this._activeAudios.get(e);if(null!=a)return clearTimeout(this._releaseTimeouts.get(a)),this._releaseTimeouts.delete(a),a;const n=this._inactiveAudios.get(e);if(null!=n)return this._inactiveAudios.delete(e),this._activeAudios.set(e,n),n;if(this._activeAudios.size+this._inactiveAudios.size>=this._minPoolSize)for(const[t,a]of this._inactiveAudios){var r,i;return this._inactiveAudios.delete(t),this._activeAudios.set(e,a),null===(r=this._listeners.get(t))||void 0===r||r.forEach((e=>{let{type:t,listener:n}=e;a.removeEventListener(t,n)})),null===(i=this._listeners.get(e))||void 0===i||i.forEach((e=>{let{type:t,listener:n}=e;a.addEventListener(t,n)})),a}const s=new Audio;this._activeAudios.set(e,s),null===(t=this._listeners.get(e))||void 0===t||t.forEach((e=>{let{type:t,listener:a}=e;s.addEventListener(t,a)}));const o=()=>{for(const[e,t]of this._activeAudios)if(t===s){this._activeAudios.delete(e),this._inactiveAudios.set(e,s);break}};return s.addEventListener("pause",(()=>{this._releaseTimeouts.set(s,setTimeout(o,1e3))})),s}play(e,t){const a=this._getAudio(e);return a.src=e.src,a.currentTime=t.currentTime,a.playbackRate=t.playbackRate,a.defaultPlaybackRate=t.defaultPlaybackRate,a.play()}pause(e){var t;null===(t=this._activeAudios.get(e))||void 0===t||t.pause()}load(e){var t;null===(t=this._activeAudios.get(e))||void 0===t||t.load()}setDefaultPlaybackRate(e,t){const a=this._activeAudios.get(e);null!=a&&(a.defaultPlaybackRate=t)}setPlaybackRate(e,t){const a=this._activeAudios.get(e);null!=a&&(a.playbackRate=t)}getCurrentTime(e){var t,a;return null!==(t=null===(a=this._activeAudios.get(e))||void 0===a?void 0:a.currentTime)&&void 0!==t?t:null}setCurrentTime(e,t){const a=this._activeAudios.get(e);var n;null!=a?a.currentTime=t:null===(n=this._listeners.get(e))||void 0===n||n.forEach((e=>{let{type:t,listener:a}=e;"timeupdate"===t&&a()}))}getDuration(e){var t,a;return null!==(t=null===(a=this._activeAudios.get(e))||void 0===a?void 0:a.duration)&&void 0!==t?t:null}getPaused(e){var t,a;return null===(t=null===(a=this._activeAudios.get(e))||void 0===a?void 0:a.paused)||void 0===t||t}}t.AudioManagerImpl=i;const s=new i;t.AudioManager=s},12957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){this._src="",this._currentTime=0,this._defaultPlaybackRate=1,this._playbackRate=1,this._audioManager=e}addEventListener(e,t){this._audioManager.addAudioListener(this,e,t)}removeEventListener(e,t){this._audioManager.removeAudioListener(this,e,t)}play(){return this._audioManager.play(this,{currentTime:this._currentTime,playbackRate:this._playbackRate,defaultPlaybackRate:this._defaultPlaybackRate})}pause(){this._audioManager.pause(this)}load(){this._audioManager.load(this)}set src(e){this._src=e}get src(){return this._src}get defaultPlaybackRate(){return this._defaultPlaybackRate}set defaultPlaybackRate(e){this._defaultPlaybackRate=e,this._audioManager.setDefaultPlaybackRate(this,e)}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._audioManager.setPlaybackRate(this,e)}get currentTime(){const e=this._audioManager.getCurrentTime(this);return null!=e&&(this._currentTime=e),this._currentTime}set currentTime(e){this._currentTime=e,this._audioManager.setCurrentTime(this,e)}get duration(){const e=this._audioManager.getDuration(this);return null!=e&&(this._duration=e),this._duration}get paused(){return this._audioManager.getPaused(this)}}},21634:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.FileSaver=void 0;var r=a(13959),i=a(45060),s=n(a(79264)),o=a(14597),l=a(48360),u=n(a(52665)),d=a(21535),c=a(20723),f=n(a(47011)),h=a(85893);const p=new class{downloadData(e,t,a){const n=window.URL.createObjectURL(e),i=(0,d.createDataLink)(n);return i.style.display="none",i.download=`${t}${a}`,document.body&&document.body.appendChild(i),i.click(),document.body&&document.body.removeChild(i),(0,r.delayMs)(100).then((()=>{window.URL.revokeObjectURL(i.href)})),Promise.resolve()}initDownload(e){let t=e;if(!window.Modernizr.adownload)return o.ModalManager.open((0,h.jsx)(u.default,{onOK:()=>o.ModalManager.close(),okText:l.fbt._("OK",null,{hk:"2KEeHb"}),children:(0,h.jsx)(c.SafariLimitedText,{})})),__LOG__(4,void 0,new Error,!0)`Assertion failed!`,void SEND_LOGS("safari, adownload is false in download mgr");s.default.startDownloading(),(0,i.getMultiMsgDownloadData)(t).then((e=>{e.url||e.blob||(__LOG__(4,void 0,new Error,!0)`Assertion failed! ${Array.isArray(t)?"download a zip file":`download ${t.id.toString()} type ${t.type} with state ${t.mediaData&&t.mediaData.mediaStage}`}`,SEND_LOGS("download-url-creation-error"));const a=e.url||window.URL.createObjectURL(e.blob);[].concat(t).forEach((e=>{var t;(0,f.default)(e)&&(null===(t=e.mediaObject)||void 0===t||t.clearBlob({reset:!0}))}));const n=(0,d.createDataLink)(a);n.download=e.name,n.style.display="none",Array.isArray(t)&&1===t.length&&(t=t[0]),n.href||(__LOG__(4,void 0,new Error,!0)`Assertion failed! ${Array.isArray(t)?"download a zip file":`download ${t.id.toString()} type ${t.type} with state ${t.mediaData&&t.mediaData.mediaStage}`}`,SEND_LOGS("no-download-url")),document.body&&document.body.appendChild(n),n.click(),document.body&&document.body.removeChild(n),e.url||(0,r.delayMs)(100).then((()=>{window.URL.revokeObjectURL(n.href)}))})).catch((e=>{__LOG__(3)`Download failed, error: ${String(e)}`}))}};t.FileSaver=p},45060:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getMsgDownloadData=f,t.getMultiMsgDownloadData=function(){return c.apply(this,arguments)};var r=n(a(48926)),i=a(82518),s=a(15461),o=a(52678),l=a(84866),u=n(a(11339)),d=n(a(34949));function c(){return(c=(0,r.default)((function*(e){const t=Array.isArray(e)?e:[e];try{const e=yield Promise.all(t.map((e=>f(e))));if(e.length>1){return{blob:yield(0,o.zipFiles)(e),name:(0,i.getDefaultName)({t:Math.round(Date.now()/1e3),type:"unknown",mimetype:"application/zip",isVcardOverMmsDocument:!1,filename:"",vcardList:[]})}}return e[0]}catch(e){throw __LOG__(4,void 0,new Error,!0)`Failed to get msg download data: ${e.message}`,SEND_LOGS("msg-download-data-failed"),e}}))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return(h=(0,r.default)((function*(e){const t="text/vcard";if(e.type===s.MSG_TYPE.VCARD)return{name:(0,i.getDefaultName)(e),blob:new Blob([e.body],{type:t})};if(e.type===s.MSG_TYPE.MULTI_VCARD)return{name:(0,i.getDefaultName)(e),blob:new Blob([e.vcardList.map((e=>e.vcard)).join("\n")],{type:t})};const a=p(e);if(a)return a;yield e.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:u.default.WEBC_RMR_REASON_CODE.DOCUMENT_DOWNLOAD,isUserInitiated:!0});const n=p(e);if(n)return n;throw new Error("Unable to download because blob cannot be found")}))).apply(this,arguments)}function p(e){const{filehash:t,mediaBlob:a,renderableUrl:n}=e.mediaData;if(a instanceof d.default)return{name:(0,i.getDefaultName)(e),url:n,blob:a.forceToBlob()};const r=l.MediaBlobCache.get(t);return r?{blob:r,name:(0,i.getDefaultName)(e),url:l.MediaBlobCache.getOrCreateURL(t)}:null}},82518:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultName=function(e){let t;if(e.type===s.MSG_TYPE.DOCUMENT){const a=(e.filename||"").trim();t=a||(e.caption||"").trim()||u.default.t(694),a&&function(e){return/[\.].{1,4}$/.test(e)}(a)||(t=c(t,e))}else e.type===s.MSG_TYPE.VCARD?(t=(e.vcardFormattedName||"").trim()||f(e),t=c(t,e)):e.type===s.MSG_TYPE.MULTI_VCARD?(t=e.vcardList?(0,o.getNameString)(e.vcardList).toString():f(e),t=c(t,e)):(t=f(e),t=c(t,e));return t};var r=n(a(48403)),i=a(40234),s=a(15461),o=a(93778),l=n(a(30381)),u=n(a(14296)),d=a(43257);function c(e,t){let a=e;const n=t.type===s.MSG_TYPE.VCARD||t.type===s.MSG_TYPE.MULTI_VCARD?"text/vcard":t.mimetype,r=(0,d.getExtension)(n);return a.endsWith(r)||(a+=r),a}function f(e){const t=l.default.unix(e.t).locale("en"),a=`${t.format("YYYY-MM-DD")} at ${t.format(i.Clock.getIs24Hour()?"HH.mm.ss":"h.mm.ss A")}`;return`WhatsApp ${(0,r.default)(e.type)} ${a}`}},55228:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{initialStyle:t,children:a}=e,n=(0,i.useMemo)((()=>{if(t)return t;let e;r.Cmd.getConversationHeaderOffset((t=>{e=t}));const a=330*.67;e||(e={right:window.innerWidth,bottom:0});return{width:a,left:e.right<window.innerWidth?e.right-a-10:window.innerWidth-a-10,bottom:window.innerHeight-10-330-e.bottom}}),[t]);return(0,l.jsx)(o.default,{aspectRatio:.67,margin:{x:10,y:10},minWidth:145,className:s.default.voipFloater,initialStyle:n,escapeConversationHeader:!0,children:a})};var r=a(81572),i=a(67294),s=n(a(57734)),o=n(a(92218)),l=a(85893)},54937:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(10206),i=n(a(40436)),s=a(67294),o=a(60868),l=n(a(55228)),u=a(84387),d=n(a(89345)),c=n(a(64333)),f=n(a(11220)),h=a(85893);class p extends s.Component{constructor(){super(...arguments),this.state={isOpen:!1},this.openVoipWindow=()=>{(0,r.isFeatureEnabled)("web_voip_voice_call")&&this.setState({isOpen:!0})},this.closeVoipWindow=()=>{this.setState({isOpen:!1})},this._handleCallAccept=()=>{},this._handleCallReject=()=>{this.setState({isOpen:!1})},this._handleCallEnd=()=>{this.setState({isOpen:!1})}}componentDidMount(){d.default.register(this),this.props.listeners.add(o.CallCollection,"change:activeCall",(()=>{this.forceUpdate()}))}componentWillUnmount(){d.default.unregister()}render(){const{activeCall:e}=o.CallCollection;return this.state.isOpen&&null!=e?(0,h.jsx)(i.default,{transitionName:"voip",className:c.default.wrapper,component:"div",children:(0,h.jsx)(l.default,{children:(0,h.jsx)(f.default,{call:e,onCallAccept:this._handleCallAccept,onCallReject:this._handleCallReject,onCallEnd:this._handleCallEnd})})}):null}}p.displayName="VoipModalManager";var m=(0,u.ListenerHOC)(p);t.default=m},11220:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(45095)),i=a(10206),s=a(48360),o=a(67294),l=a(19380),u=a(88984),d=n(a(50315)),c=n(a(51582)),f=a(84387),h=a(12176),p=n(a(65932)),m=a(84356),g=n(a(87052)),_=a(49835),v=a(85893);class b extends o.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,isFullscreenMode:d.default.isFullscreenMode},this.setRefContainer=e=>{this.refContainer=e},this._toggleMute=()=>{const{callInfo:e}=this.props.call,t=(0,r.default)(null==e?void 0:e.participants.find((e=>e.isSelf)),"callInfo?.participants.find(participant => participant.isSelf)");m.Voip.mute(t.isMuted)},this._handleEnterFullscreen=e=>{e.stopPropagation(),d.default.requestFullscreen(this.refContainer)},this._handleExitFullscreen=e=>{e.stopPropagation(),d.default.exitFullscreen()},this._handleFullscreenToggleButtonClick=e=>{this.state.isFullscreenMode?this._handleExitFullscreen(e):this._handleEnterFullscreen(e)},this._handleWebrtcStop=()=>{m.Voip.endCall(),this.props.onCallEnd()},this._handleWebrtcStart=()=>{m.Voip.acceptCall()}}componentDidMount(){this.props.listeners.add(d.default,"fullscreen_change",(()=>{d.default.isFullscreenMode&&d.default.fullscreenElement===this.refContainer?this.setState({isFullscreenMode:!0}):d.default.isFullscreenMode||this.setState({isFullscreenMode:!1})})),m.Voip.registerWebRTCCallback((e=>{const t=e.type,a=e.data,{isVideo:n}=this.props.call;switch(t){case _.WEB_CALL_EVENTS.AUDIO_TRACK_RECEIVED:this._refAudioElement&&(this._refAudioElement.srcObject=a);break;case _.WEB_CALL_EVENTS.VIDEO_TRACK_RECEIVED:this._refVideoElement&&n&&(this._refVideoElement.srcObject=a);break;case _.WEB_CALL_EVENTS.MEDIA_READY:n&&this._refVideoPreviewElement&&(this._refVideoPreviewElement.srcObject=a);break;default:throw new Error(`VoipWindow:registerWebRTCCallback unsupported webrtc event type: ${t}`)}}))}render(){const{call:e,onCallAccept:t,onCallReject:a,onCallEnd:n}=this.props,{isVideo:r,peerJid:o}=e,d=e.getState();let f;o&&(f=l.ContactCollection.get(o));const p=null!=f?(0,v.jsx)("div",{className:g.default.participantName,children:(0,v.jsx)(h.Name,{contact:f,titlify:!0,ellipsify:!0})}):null,m=f?(0,v.jsx)(u.DetailImage,{id:f.id,size:82,quality:u.DetailImageQuality.High}):null,b=(0,v.jsx)("div",{className:g.default.actionRow,children:(0,v.jsxs)("div",{className:g.default.btnGroup,children:[(0,v.jsx)("button",{className:g.default.btnReject,onClick:a}),(0,v.jsx)("button",{className:g.default.btnAccept,onClick:t})]})}),y=(0,v.jsx)("div",{className:g.default.actionRow,children:(0,v.jsxs)("div",{className:g.default.btnGroup,children:[(0,v.jsx)("button",{className:g.default.btnMute,onClick:this._toggleMute}),(0,v.jsx)("button",{className:g.default.btnEnd,onClick:n})]})});let C,S,E=(0,v.jsx)("div",{className:g.default.actionRow,children:(0,v.jsx)("div",{className:g.default.btnGroup,children:(0,v.jsx)("button",{className:g.default.btnEnd,onClick:n})})});if((0,i.isFeatureEnabled)("web_voip_voice_call")||(0,i.isFeatureEnabled)("web_voip_video_call")){E=(0,v.jsx)("div",{className:g.default.actionRow,children:(0,v.jsxs)("div",{className:g.default.btnGroup,children:[(0,v.jsx)("button",{className:g.default.btnEnd,onClick:this._handleWebrtcStop}),(0,v.jsx)("button",{className:g.default.btnAccept,onClick:this._handleWebrtcStart})]})});const e=(0,i.isFeatureEnabled)("web_voip_video_call")&&r?(0,v.jsx)("video",{className:g.default.webrtcVideo,id:"webRtcVideo",autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>{this._refVideoElement=e}))}):null,t=(0,i.isFeatureEnabled)("web_voip_video_call")&&r?(0,v.jsx)("video",{className:g.default.webrtcVideoPreview,id:"webRtcVideoPreview",autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>{this._refVideoPreviewElement=e}))}):null;C=(0,v.jsxs)("div",{className:g.default.webrtcCanvas,children:[e,t,(0,v.jsx)("audio",{className:g.default.webrtcAudio,id:"webRtcAudio",controls:!0,autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>{this._refAudioElement=e}))})]})}switch(d){case _.CALL_STATES.INCOMING_RING:S=b;break;case _.CALL_STATES.ACTIVE:S=y;break;default:S=E}const T=(0,v.jsx)("div",{className:g.default.callTitle,children:r?s.fbt._("WHATSAPP VIDEO CALL",null,{hk:"3gv0i2"}):s.fbt._("WHATSAPP VOICE CALL",null,{hk:"24NpLI"})}),x=(0,v.jsx)(c.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this._handleFullscreenToggleButtonClick});return(0,v.jsxs)("div",{className:g.default.body,ref:this.setRefContainer,onMouseEnter:()=>{this.setState({isMouseOver:!0})},onMouseLeave:()=>{this.setState({isMouseOver:!1})},children:[T,p,m,C,this.state.isMouseOver&&x,S]})}}b.CONCERNS={call:["outgoing","isVideo","callInfo","peerJid"]},b.displayName="VoipWindowWeb";var y=(0,f.ListenerHOC)((0,p.default)(b,b.CONCERNS));t.default=y},86761:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(81109)),i=a(11290),s=n(a(52822)),o=a(23412);class l extends i.BaseModel{constructor(){super(...arguments),this.id=(0,i.prop)(),this.products=(0,i.prop)(),this.itemCount=(0,i.prop)(),this.subtotal=(0,i.prop)(),this.tax=(0,i.prop)(),this.total=(0,i.prop)(),this.currency=(0,i.prop)(),this.createdAt=(0,i.prop)(),this.sellerJid=(0,i.prop)(),this.totalItemCount=(0,i.derived)((function(){return this.products.reduce(((e,t)=>e+t.quantity),0)}),["products"])}initialize(){super.initialize(),this.orderItemCollection=new o.OrderItemCollection,this.listenTo(this,"change:cartItemCollection",this.triggerItemCollectionUpdate),this.triggerItemCollectionUpdate()}triggerItemCollectionUpdate(){this.orderItemCollection.set(this.products.map((e=>new s.default((0,r.default)({},e)))),{merge:!0})}getCollection(){return a(84312).OrderCollection}}l.Proxy="order";var u=(0,i.defineModel)(l);t.default=u},84312:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderCollectionImpl=t.OrderCollection=void 0;var r=n(a(81109)),i=n(a(48926)),s=a(78820),o=a(45454),l=a(1255),u=a(92059),d=a(39519),c=a(6565),f=n(a(48456)),h=n(a(86761)),p=a(9538);class m extends l.BaseCollection{constructor(e,t){super(),this.width=80,this.height=80,null!=e&&(this.width=e),null!=t&&(this.height=t)}addOrder(){const e=(0,f.default)(),t=(0,s.getMeUser)();return super.add({id:e,fetchedFromServer:!1,sellerJid:(0,c.encodeJid)(t),createdAt:Math.round((new Date).getTime()/1e3),currency:(0,d.currencyForCountryShortcode)((0,u.getCountryShortcodeByPhone)(t.user)),products:[],tax:null,subtotal:null,total:null}),this.assertGet(e)}findOrder(e,t,a){const n=this.get(e);return null!=n?Promise.resolve(n):this._queryOrder(e,t,a)}_queryOrder(e,t,a){var n=()=>super.add,s=this;return(0,i.default)((function*(){const i=yield(0,p.queryOrder)((0,o.createWid)(t),e,s.width,s.height,a);n().call(s,(0,r.default)({id:e,fetchedFromServer:!0,sellerJid:t},i));const l=s.get(e);if(null!=l)return Promise.resolve(l)}))()}}t.OrderCollectionImpl=m,m.model=h.default,m.staleCollection=!0;const g=new m;t.OrderCollection=g},52822:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(11290),i=n(a(2320)),s=a(58668);class o extends r.BaseModel{constructor(){super(...arguments),this.id=(0,r.prop)(),this.price=(0,r.prop)(),this.currency=(0,r.prop)(),this.name=(0,r.prop)(),this.quantity=(0,r.prop)(),this.thumbnailId=(0,r.prop)(),this.thumbnailUrl=(0,r.prop)(),this.isCustomItem=(0,r.prop)(),this.isQuantitySet=(0,r.prop)(),this.mediaData=(0,r.derived)((function(){return new i.default({mediaStage:null!=this.thumbnailUrl?s.MEDIA_DATA_STAGE.RESOLVED:s.MEDIA_DATA_STAGE.PREPARING,renderableUrl:null!=this.thumbnailUrl?`${this.thumbnailUrl}`:null})}),["thumbnailUrl"])}getCollection(){return a(84312).OrderCollection}}o.Proxy="order-item";var l=(0,r.defineModel)(o);t.default=l},23412:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.OrderItemCollection=void 0;var r=a(1255),i=n(a(52822));class s extends r.BaseCollection{}t.OrderItemCollection=s,s.model=i.default},80744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(55981);var r=(e,t)=>{var a,r;if((null===(a=e.groupMetadata)||void 0===a?void 0:a.groupType)===n.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)return-1;if((null===(r=t.groupMetadata)||void 0===r?void 0:r.groupType)===n.GroupType.DEFAULT_ANNOUNCEMENT_GROUP)return 1;const i=e.t||0,s=t.t||0;return i!==s?i>s?-1:1:e.id.toString()<t.id.toString()?-1:1};t.default=r},4641:(e,t,a)=>{"use strict";var n=a(95318);t.Z=function(){(0,s.isLegacyWebdBackend)()&&c.Conn.protoVersion&&E.default.clearBPQueue().catch((()=>{}));(0,r.clearAllMemoizeCache)(),(0,m.clearChatIdCorrectionCache)(),(0,l.clearGetMaybeMeUserCache)(),c.Conn.delete(),p.default.delete(),b.default.delete(),v.ServerProps.delete(),g.PrimaryFeatures.delete(),(0,s.isMDBackend)()&&_.PrimaryForceUpgrade.delete();S.Stream.delete(),T.default.delete(),E.default.delete(),x(u.ChatCollection),x(y.StatusV3Collection),C.StickerPackCollection.forEach((e=>{x(e.stickers)})),x(C.StickerPackCollection);const e=["Chat","StatusV3","StickerPack","Sticker"];Object.keys(d.default).forEach((t=>{e.includes(t)||x(d.default[t])})),(0,h.delistAndDeleteAllMedia)(),(0,o.clearAllTemporaryStorageData)(),f.MediaBlobCache.clear(),c.Conn.blockStoreAdds=!0};var r=a(14950),i=a(51737),s=a(88555),o=a(80863),l=a(78820),u=a(69951),d=n(a(97335)),c=a(17239),f=a(84866),h=a(88297),p=n(a(51783)),m=a(61585),g=a(34771),_=a(48694),v=a(64551),b=n(a(68132)),y=a(59387),C=a(66299),S=a(8080),E=n(a(56891)),T=n(a(19037));function x(e){const t=[...e.models];e.reset(),t.forEach((e=>{(0,i.isFunction)(e.delete)&&e.delete()})),e.delete()}},97335:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(72894),i=a(32826),s=a(3754),o=a(93581),l=a(60868),u=a(99989),d=a(69951),c=n(a(66034)),f=a(19380),h=n(a(35667)),p=a(66423),m=a(13185),g=n(a(70723)),_=n(a(63928)),v=a(16770),b=a(85865),y=a(59871),C=a(17972),S=a(72472),E=a(84312),T=a(90585),x=a(68315),M=a(82039),k=a(99662),w=a(57162),P=a(92671),A=a(91692),j=a(49264),I=n(a(11810)),O=a(19011),N=a(16774),R=a(46133),D=a(59387),L=a(67963),B=a(44333),F=a(45068),G=a(3027),U=a(39976),V=n(a(73213)),W={Blocklist:i.BlocklistCollection,BusinessCategoryResult:s.BusinessCategoriesResultCollection,BusinessProfile:o.BusinessProfileCollection,Call:l.CallCollection,Catalog:u.CatalogCollection,Chat:d.ChatCollection,ChatPreference:c.default,Contact:f.ContactCollection,ConversionTuple:h.default,DailyAggregatedStats:p.DailyAggregatedStatsCollection,EmojiVariant:m.EmojiVariantCollection,GroupMetadata:_.default,Label:v.LabelCollection,LiveLocation:b.LiveLocationCollection,Msg:y.MsgCollection,MsgInfo:C.MsgInfoCollection,Mute:S.MuteCollection,Order:E.OrderCollection,PollVote:T.PollVoteCollection,Presence:x.PresenceCollection,ProfilePicThumb:M.ProfilePicThumbCollection,QuickReply:k.QuickReplyCollection,RecentEmoji:P.RecentEmojiCollection,RecentSticker:A.RecentStickerCollection,StarredGifMsg:I.default,StarredMsg:O.AllStarredMsgsCollection,StarredSticker:N.StarredStickerCollection,Status:R.StatusCollection,StatusV3:D.StatusV3Collection,Sticker:L.StickerCollection,StickerSearch:F.StickerSearchCollection,RecentStickerMD:j.RecentStickerCollectionMd,StickerPackCollectionMD:B.StickerPackCollectionMd,FavoriteSticker:g.default,Reactions:w.ReactionsCollection,UnjoinedSubgroupMetadataCollection:V.default,AgentCollection:r.AgentCollection,SubscriptionCollection:G.SubscriptionCollection,UnattributedMessageCollection:U.UnattributedMessageCollection};t.default=W},89265:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32594)),i=a(78820),s=a(1255),o=a(63183),l=a(69951),u=n(a(63928)),d=a(62583),c=a(65044);class f extends s.BaseCollection{constructor(e,t){super(),this.stale=!1,this.add(e,{silent:!0}),this.contact=t,this.listenTo(u.default,`group_participant_change_${(0,i.getMaybeMeUser)().toString()}`,this.updateCommonGroups),this.listenTo(u.default,`group_participant_change_${this.contact.toString()}`,this.updateCommonGroups),this.listenTo(c.Socket,"change:stream",(()=>{c.Socket.stream===d.SOCKET_STREAM.DISCONNECTED&&(this.stale=!0)}))}updateCommonGroups(e){const t=u.default.assertGet(e).participants,a=(0,i.getMaybeMeUser)();this.get(e)?t.get(this.contact)&&t.get(a)||this.remove(e):t.get(this.contact)&&t.get(a)&&this.add(l.ChatCollection.assertGet(e))}}t.default=f,f.model=o.Chat,f.comparator=r.default},62632:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getMaybeBizPlatformForLogging=function(e){if(null==e)return s.default.BIZ_PLATFORM.UNKNOWN;const t=i.ContactCollection.get((0,r.createWid)(e));if(null==t||!t.isBusiness)return s.default.BIZ_PLATFORM.UNKNOWN;return t.isEnterprise?s.default.BIZ_PLATFORM.ENT:s.default.BIZ_PLATFORM.SMB};var r=a(45454),i=a(19380),s=n(a(11339))},67880:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PttDailyCountKind=void 0,t.incrementPttDailyCount=function(e,t){const a=n.DailyAggregatedStatsCollection.gaddForToday();switch(t){case"chat":if(e===r.CANCEL)a.pttCancelIndividual++;else if(e===r.SEND)a.pttSendIndividual++;else if(e===r.RECORD)a.pttRecordIndividual++;else if(e===r.DRAFT_REVIEW)a.pttDraftReviewIndividual++;else if(e===r.PLAYBACK)a.pttPlaybackIndividual++;else if(e===r.FAST_PLAYBACK)a.pttFastplaybackIndividual++;else if(e===r.PAUSED_RECORD)a.pttPausedRecordIndividual++;else if(e===r.STOP_TAP)a.pttStopTapIndividual++;else{if(e!==r.OOC_PLAYBACK)throw new Error(`Invalid count kind ${e}`);a.pttOutOfChatIndividual++}break;case"group":if(e===r.CANCEL)a.pttCancelGroup++;else if(e===r.SEND)a.pttSendGroup++;else if(e===r.RECORD)a.pttRecordGroup++;else if(e===r.DRAFT_REVIEW)a.pttDraftReviewGroup++;else if(e===r.PLAYBACK)a.pttPlaybackGroup++;else if(e===r.FAST_PLAYBACK)a.pttFastplaybackGroup++;else if(e===r.PAUSED_RECORD)a.pttPausedRecordGroup++;else if(e===r.STOP_TAP)a.pttStopTapGroup++;else{if(e!==r.OOC_PLAYBACK)throw new Error(`Invalid count kind ${e}`);a.pttOutOfChatGroup++}break;case"broadcast":if(e===r.CANCEL)a.pttCancelBroadcast++;else if(e===r.SEND)a.pttSendBroadcast++;else if(e===r.RECORD)a.pttRecordBroadcast++;else if(e===r.DRAFT_REVIEW)a.pttDraftReviewBroadcast++;else if(e===r.PLAYBACK)a.pttPlaybackBroadcast++;else if(e===r.FAST_PLAYBACK)a.pttFastplaybackBroadcast++;else if(e===r.PAUSED_RECORD)a.pttPausedRecordBroadcast++;else if(e===r.STOP_TAP)a.pttStopTapBroadcast++;else{if(e!==r.OOC_PLAYBACK)throw new Error(`Invalid count kind ${e}`);a.pttOutOfChatBroadcast++}break;default:throw new Error(`Invalid chat kind ${t}`)}};var n=a(66423);const r=a(76672).Mirrored(["CANCEL","SEND","RECORD","DRAFT_REVIEW","PLAYBACK","FAST_PLAYBACK","PAUSED_RECORD","STOP_TAP","OOC_PLAYBACK"]);t.PttDailyCountKind=r},20472:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(11290);class r extends n.BaseModel{constructor(){super(...arguments),this.id=(0,n.prop)(),this.variant=(0,n.prop)()}}r.Proxy="emojiVariant";var i=(0,n.defineModel)(r);t.default=i},13185:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiVariantCollectionImpl=t.EmojiVariantCollection=void 0;var r=a(46718),i=a(14648),s=a(1255),o=a(67247),l=n(a(20472));class u extends s.BaseCollection{setVariant(e,t){const a=o.EmojiUtil.getSkinToneBase(e);if(!a)throw new Error("attempt to store variantless emoji");this.gadd({id:a,variant:t})}getVariant(e){if(o.EmojiUtil.getSkinToneBase(e)){const t=this.get(e);return t?o.EmojiUtil.normalizeEmoji(t.variant):null}throw new Error("attempt to get variantless emoji")}getVariantIfExists(e){if(o.EmojiUtil.getSkinToneBase(e)){const t=this.get(e);return t?o.EmojiUtil.normalizeEmoji(t.variant):null}return null}}t.EmojiVariantCollectionImpl=u,u.model=l.default,u.cachePolicy={id:r.KEYS.EMOJI_VARIANT_COLLECTION,policy:i.CACHE_POLICY.LOAD,delay:1e3};const d=new u;t.EmojiVariantCollection=d},84937:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(89385),s=a(50796),o=r(a(47259)),l=a(92574),u=a(1255),d=a(69951),c=r(a(11339)),f=a(17304),h=a(59871),p=a(7595);class m extends u.BaseCollection{constructor(e){super(),this.hasMoreMsgs=!0,this.resultPage=0,this.searchPromise=null,this.searchAbortController=null,this.searchTerm=null,this.searchLabel=null,this.updateFtsAfterMsgLabelUpdate=()=>{if(!this.currentLabelSearch)return;const e=this.filter((e=>!e.labels||!e.labels.includes(this.currentLabelSearch)));this.remove(e,{silent:!0})};const t=e?e.msgs:h.MsgCollection;this.listenTo(t,"remove_msgs",(e=>{this.remove(e,{silent:!0}).filter((e=>!!e)).length&&this.trigger("bulk_remove")})),this.listenTo(d.ChatCollection,"remove",(e=>{const t=[];this.forEach((a=>{a.chat===e&&t.push(a)}));this.remove(t,{silent:!0}).filter((e=>!!e)).length&&this.trigger("bulk_remove")}))}delete(e){e&&this.stopListening(),super.delete()}resetSearch(){var e;this.hasMoreMsgs=!0,this.resultPage=0,this.searchTerm=null,null===(e=this.searchAbortController)||void 0===e||e.abort()}search(e){let{chat:t,count:a,filter:r={},searchTerm:u}=e;const d=`${u}__${r.label||r.kind||""}`;this.currentLabelSearch=r.label;let f=!1;this.searchTerm!==d?(this.searchTerm&&0===u.indexOf(this.searchTerm)?f=!0:(this.searchTerm=d,this.delete()),this.resultPage=0,this.hasMoreMsgs=!0):f=!0;const m=new c.default.UiAction({uiActionType:c.default.UI_ACTION_TYPE.FIRST_FTS_RESULT,uiActionPreloaded:f});if(this.searchPromise){var g;if(this.searchTerm===d)return this.searchPromise;null===(g=this.searchAbortController)||void 0===g||g.abort()}this.searchAbortController=new n;const _=this.searchAbortController.signal;let v;return v=t?t.fts(u,++this.resultPage,a):h.MsgCollection.search(u,++this.resultPage,a,void 0,r),this.searchPromise=(0,o.default)(v,_).then((e=>(e.eof&&(this.hasMoreMsgs=!1),this.searchTerm!==d&&this.delete(),this.searchTerm=d,e.messages&&("contact"!==r.kind&&"non_contact"!==r.kind&&"unread"!==r.kind||(e.messages=e.messages.filter((e=>e.chat&&e.chat.matchFilter(r)))),this.add(e.messages.filter((e=>!e.asRevoked)))),m.markUiActionT(),m.commit(),(0,p.logUiActionShadowPrivateStatsTestEvents)(),e))).catch((0,s.filteredCatch)(l.WebdDrop,(()=>{}))).catch((0,i.catchAbort)((()=>{}))).finally((()=>{this.searchPromise=null,this.searchAbortController=null,this.trigger("searchPromise_update")})),this.trigger("searchPromise_update"),this.searchPromise}}t.default=m,m.model=f.Msg},45152:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a(67294).createContext)(null);t.default=n},19331:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(55981);var r=(e,t)=>e.groupType===n.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?-1:t.groupType===n.GroupType.DEFAULT_ANNOUNCEMENT_GROUP?1:e.subject.localeCompare(t.subject);t.default=r},88258:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PollVote=void 0;var r=n(a(45095)),i=n(a(65212)),s=a(11290),o=a(19380);class l extends s.BaseModel{constructor(){super(...arguments),this.id=(0,s.prop)(),this.pollCreationMsgKey=(0,s.prop)(),this.selectedOptionIds=(0,s.prop)(),this.senderTimestampMs=(0,s.prop)(),this.from=(0,s.prop)(),this.pollCreationMsg=(0,s.derived)((function(){var e;return(0,r.default)(null===(e=a(59871).MsgCollection.get(this.pollCreationMsgKey))||void 0===e?void 0:e.asPollCreation,"getMsgCollection().get(this.pollCreationMsgKey)?.asPollCreation")})),this.senderObj=(0,s.derived)((function(){return o.ContactCollection.gadd(this.from)}))}}l.Proxy="poll_vote",l.idClass=i.default;const u=(0,s.defineModel)(l);t.PollVote=u},90585:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PollVoteCollectionImpl=t.PollVoteCollection=void 0;var r=n(a(45095)),i=a(1255),s=a(88258);class o extends i.BaseCollection{constructor(){super(),this.on("add remove reset",this._updateCreationMsgVotes)}_updateCreationMsgVotes(){const e=new Map;this.forEach((t=>{const a=t.pollCreationMsg;e.has(a)||e.set(a,[]),(0,r.default)(e.get(a),"votesByParentMsg.get(creationMsg)").push(t)}));for(const[t,a]of e.entries())t.pollVotes.length!==a.length&&(t.pollVotes=a)}}t.PollVoteCollectionImpl=o,o.model=s.PollVote;const l=new o;t.PollVoteCollection=l},56989:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PttPrefsImpl=t.PttPrefs=void 0;var r=n(a(74691)),i=a(57319),s=a(55452),o=a(11290),l=a(64551);const u=[1,1.5,2];class d extends o.BaseModel{constructor(){super(...arguments),this.id=(0,o.prop)(),this.playbackRate=(0,o.prop)(1),this.outOfChatPlayerMessage=(0,o.prop)(null),this.playbackControlMessageId=(0,o.prop)(null),this.isOocPlayerClosedByUser=(0,o.prop)(!1)}closeOocPlayer(){this.isOocPlayerClosedByUser=!0}initialize(){o.BaseModel.prototype.initialize.call(this),this._restorePlaybackRate(),this.listenTo(l.ServerProps,"change:pttPlaybackSpeedEnabled",(()=>{this._restorePlaybackRate()})),this.on("change:playbackRate",((e,t)=>{(0,s.setPttPlaybackRate)(t)}))}setPlayingMessage(e){this._setPlayingMessage(e);let t=()=>{this._playingMessage===e&&this._setPlayingMessage(null)};return()=>{var e;null===(e=t)||void 0===e||e(),t=null}}_setPlayingMessage(e){var t;this._playingMessage=null!=e?e:null,e&&(this.outOfChatPlayerMessage=e,this.isOocPlayerClosedByUser=!1),null!=this._playingMessage?(c.cancel(),this.playbackControlMessageId=null===(t=this._playingMessage)||void 0===t?void 0:t.id.toString()):this._scheduleClearPlaybackRateControl()}_restorePlaybackRate(){this.playbackRate=l.ServerProps.pttPlaybackSpeedEnabled?(0,s.getPttPlaybackRate)():1}advancePlaybackRateFor(e){this._changePlaybackRateFor(e,1,!0)}increasePlaybackRateFor(e){this._changePlaybackRateFor(e,1,!1)}decreasePlaybackRateFor(e){this._changePlaybackRateFor(e,-1,!1)}_changePlaybackRateFor(e,t,a){const n=u.indexOf(this.playbackRate),i=a?(n+t+u.length)%u.length:(0,r.default)(n+t,0,u.length-1);this.playbackRate=u[i],null==this._playingMessage&&(this.playbackControlMessageId=e.toString(),this._scheduleClearPlaybackRateControl())}_scheduleClearPlaybackRateControl(){const{playbackControlMessageId:e}=this;null!=e&&c.onOrAfter(l.ServerProps.pttPlaybackSpeedHideDelay,e)}delayClearPlaybackRateControl(){if(!c.isScheduled())return;const{playbackControlMessageId:e}=this;null!=e&&c.onOrAfter(l.ServerProps.pttPlaybackSpeedHideDelay,e)}clearOutOfChatMessage(e){null!=e&&this.outOfChatPlayerMessage!==e||(this.outOfChatPlayerMessage=null)}}t.PttPrefsImpl=d,d.Proxy="pttPrefs";const c=new i.ShiftTimer((e=>{e===f.playbackControlMessageId&&(f.playbackControlMessageId=null)})),f=new((0,o.defineModel)(d))({id:"1"});t.PttPrefs=f},17830:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{msg:t,uimContext:a}=e;const{interactiveType:n,interactivePayload:d,nativeFlowName:c}=t;if(!d)return null;const f=[];switch(n){case i.default.SHOPS_STOREFRONT:f.push(function(e){let{id:t}=e;return{label:r.fbt._("View Shop",null,{hk:"KjKGP"}),onClick(){null!=t?(0,l.openShopStorefront)(t):(0,u.default)()}}}(d));break;case i.default.NATIVE_FLOW:c===s.default.ORDER_DETAILS?f.push(function(e,t){return{label:e.isSentByMe?r.fbt._("View details",null,{hk:"2Eyl3i"}):r.fbt._("Review and Pay",null,{hk:"aJwEg"}),onClick(){e.isSentByMe?(0,o.openOrderDetailDrawer)(e,t):(0,u.default)({title:r.fbt._("Orders can’t be viewed on WhatsApp Web",null,{hk:"2qI8YI"}),body:r.fbt._("Use WhatsApp on your mobile device to view this order.",null,{hk:"2lA6Ep"})})}}}(t,a)):d.buttons&&c!==s.default.ORDER_STATUS&&f.push(...d.buttons.map((e=>{var t;return{label:null!==(t=e.name)&&void 0!==t?t:"",onClick:()=>(0,u.default)()}})))}return f};var r=a(48360),i=n(a(84064)),s=n(a(5165)),o=a(96866),l=a(50218),u=n(a(56635))},62352:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;switch(e.msg.interactiveType){case i.default.SHOPS_STOREFRONT:return null===(t=(0,r.default)(e))||void 0===t?void 0:t[0];default:return null}};var r=n(a(17830)),i=n(a(84064))},63132:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showForwarded=function(e){const t=(0,n.unproxy)(e);return t.numTimesForwarded>0&&!t.asRevoked};var n=a(18146)},44333:(e,t,a)=>{"use strict";var n=a(59182).default,r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPackCollectionMd=t.StickerPackCollection=t.FETCH_STATE=void 0;var i=r(a(48926)),s=a(89385),o=a(40234),l=a(1255),u=a(79991),d=r(a(14296)),c=a(90669),f=a(32873);const h=a(76672).Mirrored(["INITIAL","PENDING","SUCCESS","ERROR"]);t.FETCH_STATE=h;class p extends l.BaseCollection{constructor(){super(),this.fetchState=h.INITIAL,this.packFetchState=new Map,this._fetchTimestamp=null,this._packFetchTimestamp=new Map,this._abortController=null,this._packAbortController=new Map,this.listenTo(d.default,"locale_change",(()=>this._resetState()))}_resetState(){this._resetStickerPacksFetchState(),this.reset()}_resetStickerPacksFetchState(){var e;null===(e=this._abortController)||void 0===e||e.abort(),this._abortController=null,this._packAbortController.forEach((e=>e.abort())),this._packAbortController.clear(),this._resetFetchState(),this._resetPackFetchState(),this._fetchTimestamp=null,this._packFetchTimestamp.clear()}_setFetchState(e){e!==this.fetchState&&(this.fetchState=e,this.trigger("change:fetchState",e))}_resetFetchState(){this._setFetchState(h.INITIAL)}_setPackFetchState(e,t){t!==this.packFetchState.get(e)&&(this.packFetchState.set(e,t),this.trigger("change:packFetchState",e,t))}_resetPackFetchState(){this.packFetchState.clear(),this.trigger("change:packFetchState")}_resetRange(e,t,a){this._forEachInRange(e,t,((t,n)=>{const r=a[n-e];if(t)if(r)t.id!==r.id||t.imageDataHash===r.imageDataHash&&t.index===r.index?(this.remove(t),this.add(r)):(this.remove(t,{silent:!0}),this.add(r));else{let e=t;for(;e;)this.remove(e),e=this.at(n)}else r&&this.add(r)})),this._resetPackFetchState(),this._packFetchTimestamp.clear()}_forEachInRange(e,t,a){for(let n=e;n<t;n++){a(this.at(n),n)}}fetch(){var e=this;return(0,i.default)((function*(){var t;if(!(e.fetchState===h.PENDING||e.fetchState===h.SUCCESS&&o.Clock.globalUnixTime()-(null!==(t=e._fetchTimestamp)&&void 0!==t?t:0)<c.STICKER_PACK_FETCH_TIMEOUT)){e._setFetchState(h.PENDING),e._fetchTimestamp=o.Clock.globalUnixTime(),e._abortController=new n;try{const t=yield(0,u.fetchFirstPartyStickerPacks)({signal:e._abortController.signal}),a=Math.max(e.length,t.length);e._resetRange(0,a,t),e._setFetchState(h.SUCCESS)}catch(t){if(e._setFetchState(h.ERROR),t.name===s.ABORT_ERROR)return void __LOG__(2)`First party sticker packs request cancelled`;__LOG__(3,void 0,void 0,!0)`First party sticker packs request failed: error: ${t}`,SEND_LOGS("sticker-packs-fetch-request-failed")}}}))()}fetchStickerPack(e){var t=this;return(0,i.default)((function*(){var a;if(!e)return;if(t.get(e))return;const r=t.packFetchState.get(e),i=null!==(a=t._packFetchTimestamp.get(e))&&void 0!==a?a:0;if(r===h.PENDING||r===h.SUCCESS&&o.Clock.globalUnixTime()-i<c.STICKER_PACK_FETCH_TIMEOUT)return;t._setPackFetchState(e,h.PENDING),t._packFetchTimestamp.set(e,o.Clock.globalUnixTime());const l=new n;t._packAbortController.set(e,l);try{const a=yield(0,u.fetchFirstPartyStickerPack)({id:e,signal:l.signal});t._setPackFetchState(e,h.SUCCESS),t.add(a)}catch(a){if(t._setPackFetchState(e,h.ERROR),a.name===s.ABORT_ERROR)return void __LOG__(2)`First party sticker pack request cancelled`;__LOG__(3,void 0,void 0,!0)`First party sticker pack request failed: error: ${a}`,SEND_LOGS("sticker-packs-fetch-request-failed")}}))()}delete(){super.delete(),this.stopListening(),this._resetStickerPacksFetchState()}}t.StickerPackCollection=p,p.model=f.StickerPackModel,p.comparator=(e,t)=>e.index<t.index?-1:e.index>t.index?1:0;const m=new p;t.StickerPackCollectionMd=m},32873:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPackModel=t.StickerPack=void 0;var r=a(11290),i=n(a(63488));class s extends r.BaseModel{constructor(){super(...arguments),this.index=(0,r.prop)(),this.id=(0,r.prop)(),this.name=(0,r.prop)(),this.publisher=(0,r.prop)(),this.description=(0,r.prop)(),this.fileSize=(0,r.prop)(),this.imageDataHash=(0,r.prop)(),this.animated=(0,r.prop)(),this.previewImageIds=(0,r.prop)(),this.trayImageId=(0,r.prop)(),this.trayImagePreview=(0,r.prop)(),this.stickers=(0,r.derived)((function(){const e=this.id;return this._stickers=this._stickers||new i.default(e,!0),this._stickers}),["id"])}}t.StickerPack=s,s.Proxy="stickerPackMd";const o=(0,r.defineModel)(s);t.StickerPackModel=o},45068:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.StickerSearchCollectionImpl=t.StickerSearchCollection=void 0;var r=n(a(48926)),i=a(1255),s=(a(57297),a(67247)),o=n(a(17136)),l=a(88577),u=a(99718);const d={HAPPY:["😂","🤣","😀","😁","😆","🙂","😇","☺️","😄","😃"],LOVE:["😍","😘","❤️","💕","🥰","😗","😙","😻","👩‍❤️‍👩","💐","💌","💛","💚","💙","💜","💓","💘","💏","💑","🌹","🤟","🏩"],GREETINGS:["👋","😂","🤣","🙏","✋","🧕","🚶‍♀️","🚶","👠","🥾","🙈","🦛","🌺","⚡","🎯","🚄","🚅","💒","🛕","🛣️","🕉️","🔊"],SAD:["😭","😔","😢","😞","😟","😕","🙁","☹️","😖","😫","😩","🥺","😥","😓","😪","😿","💧","💔"],ANGRY:["😠","😡","😤","👺","💢","🗯️","👿"],CELEBRATE:["🥳","🥂","🎈","🎊","🎉"]};class c extends i.BaseCollection{constructor(){super(...arguments),this._cache=new Map,this._hasFetched=!1,this._isFetching=!0}isFetchingData(){return this._isFetching}hasFetchedData(){return this._hasFetched}setStartFetching(){this._isFetching=!0,this.trigger("start_fetching")}setStopFetching(){this._isFetching=!1,this.trigger("stop_fetching")}search(e){var t=()=>super.delete,a=this;return(0,r.default)((function*(){a._lastQuery!==e&&a._hasFetched&&t().call(a);const n=e.trim().toUpperCase();if(a._cache.has(e)){const t=a._cache.get(e);if(null!=t)return a.add(t),void(a._lastQuery=e);__LOG__(2)`StickerMoodCollection cache was invalid, re-searching.`}const r=[];if(d.hasOwnProperty(n))r.push(...d[n]);else{const i=s.EmojiUtil.containsOnlyEmoji(n)?s.EmojiUtil.splitEmojis(n):(0,o.default)(n);if(null==i||0===i.length)return a._lastQuery=e,a.setStopFetching(),void t().call(a);r.push(...i)}a.setStartFetching();let i=[];try{i=yield(0,l.searchFirstPartyStickers)(r)}catch(e){return __LOG__(3,void 0,void 0,!0)`Sticker search request failed: error: ${e}`,SEND_LOGS("sticker-search-request-failed"),void a.setStopFetching()}a._cache.set(e,i),a._hasFetched=!0,a._lastQuery=e,a.add(i),a.setStopFetching()}))()}searchMood(e){return this.search(e)}delete(){super.delete(),this._cache=new Map,this._hasFetched=!1,this._isFetching=!1}}t.StickerSearchCollectionImpl=c,c.model=u.StickerModel;const f=new c;t.StickerSearchCollection=f},95433:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvDevices=void 0;var n=a(42874),r=a(19065),i=a(11290);class s extends i.BaseModel{constructor(){super(...arguments),this.isMicrophoneAvailable=(0,i.prop)(!1),this.isSpeakerAvailable=(0,i.prop)(!1),this.isVideoAvailable=(0,i.prop)(!1)}initialize(){super.initialize()}refreshDeviceList(e){this._deviceList=e,this.isVideoAvailable=(0,r.getAvailableDevices)(e,n.AVDeviceType.Video).length>0,this.isMicrophoneAvailable=(0,r.getAvailableDevices)(e,n.AVDeviceType.AudioInput).length>0,this.isSpeakerAvailable=(0,r.getAvailableDevices)(e,n.AVDeviceType.AudioOutput).length>0}}const o=new((0,i.defineModel)(s));t.AvDevices=o},20625:(e,t,a)=>{"use strict";var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.addPaymentBackground=function(e){return o.add(e.id,e.imageBuffer),(0,i.getTable)().createOrReplace(e)},t.getPaymentBackgroundImageBuffer=function(e){return o.get(e)};var r=n(a(48926)),i=a(41803);let s=new Map;const o={reset:()=>{s=new Map},add:(e,t)=>{s.set(e,t)},get:e=>(0,r.default)((function*(){if(!s.has(e)){const t=yield(0,i.getTable)().get(e),a=null==t?void 0:t.imageBuffer;null!=a&&s.set(e,a)}return s.get(e)}))()}},6258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const a=[];let n=0;for(;e.length>n;)a.push(e.slice(n,n+t)),n+=t;return a}},85260:(e,t,a)=>{e.exports=a.p+"img/ddm-banner_3366b2917468dd7a8fcd062fdbaadda8.png"},91672:(e,t,a)=>{e.exports=a.p+"img/icon-group-default_92b8a80d57227e2f342bd57ccf6382d8.png"},10795:(e,t,a)=>{e.exports=a.p+"img/icon-user-default_bfb4ec026499f5b2d80e673a1a3a5bd7.png"},1388:(e,t,a)=>{e.exports=a.p+"img/sticker-empty_9d7feb47a66ef5b59cc731acafd02266.png"},37211:(e,t,a)=>{e.exports=a.p+"notification_2a485d84012c106acef03b527bb54635.mp3"},91720:(e,t,a)=>{e.exports=a.p+"sequential-ptt-end_62ed28be622237546fd39f9468a76a49.mp3"},39181:(e,t,a)=>{e.exports=a.p+"sequential-ptt-middle_7fa161964e93db72b8d00ae22189d75f.mp3"},68991:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={editPencil:"_3zzj0",section:"_1CtGf",smallMargin:"_2kdzY",noMargin:"_4qzs-",sectionPrimaryIcon:"_1um9l",noMarginSmallGutter:"_3PzU9",fieldPrimaryIcon:"_1PxZK",sectionMain:"_35MnE",sectionContainerMain:"_2K7Vn",sectionEmptyText:"_2-kkk"}},65027:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={addToCartIcon:"qjoMT"}},51340:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"Zu0md",containerFull:"_2wJ6P",icon:"_2FjqD",containerCircleIconFull:"_1jy-1",name:"_3gkyZ",labelFilter:"E_3Ky",iconContainer:"yHoVW",drawerTitle:"_1xeSZ",circleIcon:"l_tuI"}},66250:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={description:"_3tH91",price:"_1Hmzo",shareButton:"blTBG",detailContainer:"_3XGJS",catalogListItem:"_3DpBF"}},66223:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={thumbsContainer:"_1SQLC",scrollContainer:"_2Pvh-",viewerThumbs:"_2sa0m",thumbPadding:"_1F2ck"}},81316:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaPanelHeader:"_2G-71",info:"_3Pus2",productNameIcon:"_1K1Tj",productName:"_3Qr5g",mediaPanelTools:"LrQrj",infoName:"_1xr5Z"}},1256:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaViewerAnimate:"_10kVl","media-viewer-animate":"_10kVl",cursorZoomOut:"_3UVmf",mediaViewer:"i93sZ",mediaContent:"_12Vwz",btnMediaNext:"_3AcYv",btnMediaPrev:"_23jn_",media:"_7JDGB",mediaWithCaption:"_2GyNb",mediaCaption:"_30vHf",captionHidden:"_10alZ"}},83395:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaCanvas:"_39mHA",mediaCanvasClickable:"O7PYw",canvasBody:"_2qgkN",list:"_2FQIP",listWrapper:"eps5j",canvasComponent:"_3CwTq",canvasComponentLarge:"_1paeH",canvasSecondRow:"-z5j7",canvasComponentLargeGallerySpacing:"_17gTu",viewerFlow:"_3tci9",active:"_24-j7",overlay:"_1otWK",placeholder:"_3cAxP",squareThumb:"_11pnn",orderSquareThumb:"Iabk3",gradient:"UHL6h"}},19266:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={archivedIcon:"_3u7yy",unreadCountWrapper:"hlFup",wrapper:"_3hD9c",iconMentions:"TPCLW"}},95754:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3z9_h"}},56642:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={action:"_1-SiY",wrapper:"_2XcXo",butterbar:"_22XJC",icon:"_384go",body:"_1Yy79",controls:"_3UDm1",controlsIcon:"_1K1wg",title:"_2z7gr",text:"_2BxMU",notification:"_2C_7j",update:"xx0PQ",computer:"f2_qc",phone:"_3C1U5",battery:"_1sNMG",notice:"_3izPF",noticeSmb:"_1d_P-",noticeSvgWrapper:"_2JUqz",fatalSvgWrapper:"afTH_",fatal:"cwVT9",nuxGreenSvgWrapper:"_3aqmZ",nuxGreen:"_3Olve",nuxBlueSvgWrapper:"_2Abc7",nuxBlue:"_3tjOE",mdOptInAwareness:"_3EMDj",mdOptInLink:"_1OdW7",mdOptInCountdown:"ZklOu"}},48491:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={chatstateTyping:"_16h0X",loadingIndicate:"_32N7I"}},13506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={markerAdmin:"_3bTNW",markerInvited:"_3Vyb8",chatControls:"_2NICU",screenName:"_1ux8Y",contactSmall:"_2cL8h"}},17613:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={icon:"_1pJ9J",iconPinned:"_2XH9R",archived:"_3f7yK",iconMentions:"_2ky6D",iconSmallUnread:"_1P9vF"}},32376:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={italic:"_1ZqY2",product:"JZX9V",last:"Hy9nV"}},74558:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={ack:"_2qo4q",ackBlue:"_3NIfV"}},57305:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={symbol:"_2tHs0",margin:"_3Bn0t",miss:"_3HpRC",pttBlue:"_1ujr9",pttGreen:"_3ryBz"}},40670:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={statusLoading:"_1E3Vj"}},8702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={listUser:"YtmXM",listUserBeta:"_1X8rk",betaIcon:"_2BYrr",betaIconText:"_3hcUV",commerceIconContainer:"_1e4Bn",withCommerceIcon:"_1atcO",header:"_1G3Wr",listControls:"_3yZPA",shopsIcon:"_2sN2H"}},96633:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={chatListPanel:"_1KDb8",panelBody:"_20c87",panelSearch:"uwk68",spinner:"t7NWw",unreadContainer:"_2Pcmr",unread:"_2ZNpT",unreadBody:"_1tQ8u",unreadIcon:"_1SNuR"}},29439:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={checkboxChatWrapper:"_1Oe6M",checkboxChatControl:"_1-gER",labelSelection:"_2OHxv"}},37058:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={selectedListContainer:"iH7Ic",bottomDiv:"_1WEqd"}},64968:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={iconSpinner:"_1A60C",iconCloseSearch:"_3GYfN",iconLabelSelect:"iy1jQ",iconMorph:"_1KJ7A",inputPlaceholder:"_3Qnsr",labelSearchPlaceholder:"_2S-ZM",listSearch:"_3yWey",contInputSearch:"_1Jn3C",active:"XKmj6",iconSearchMorph:"_28-cz",iconMorphSearch:"bHvlO",iconMorphBack:"_2nifA",kind:"_3mVPR",labels:"_1YvFX",kindName:"_26c7g",filterTitle:"_3lIPP"}},95258:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={badge:"_3zy8i",icon:"_3cYWo",pending:"_2UImM",warning:"_2Jofj"}},43153:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={border:"bSwEu"}},26150:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={chat:"_2nY6U",chatInteractive:"vq6sj",chatAvatar:"HONz8",image:"_2EU3r",chatBody:"_3OvU8",chatDetails:"_1BgCC",chatMain:"_3vPI2",noDelete:"_3k68H",chatSecondary:"_37FrU",chatTitle:"zoWT4",chatStatus:"_1qB8f",chatMeta:"_1i_wG",active:"_2_TVt",unread:"_3C4Vf",chatDrag:"_2Oquw",idle:"_1ws0F",themeReaction:"_3knDg",isMuted:"_3Xgye",themeMessage:"_7qwtH",themeSearch:"_3VUnw",themeDrawerList:"_3A-iD",themeChatInfo:"_37S5u",themeSubgroup:"_2Hugv",themeCommunityHome:"_2Tgkv",themeRadioButtonRow:"_16zEN",themeStatus:"_1q2v5",themeCheckbox:"_2OR6D",themeIdentity:"BdOK7",themePlain:"_2gbXd",themeAddOrderItem:"_1KY0h",themeAddItem:"_3xRmF",themeAddItemPlaceholder:"_2ildA",themeListNames:"_3Y0ff",member:"_1Bc31",disabled:"_2bypq",themeLabel:"CujId",groupV4Invite:"_1p-UT",cartProduct:"V-2Ax",orderProduct:"_1SM19",product:"_16m7g",stickerPack:"_1dQJ1",media:"_1IYWo",listButton:"_3zMLK",productOfCollection:"_2nU2J",collectionEdit:"_2KLau",collectionHeader:"_17-Rm",productOutOfStock:"_3NZY0",listMsg:"_2eixh",archivePanel:"_1frFQ",linkedAccount:"_1XaSD",linkedAccountConsumer:"_24eOI",themeCheckboxDisabled:"_2h7ja",themeNoBorder:"_2j20k",themeCommunityTabHome:"_2vS7M",themeCommunityTabSubgroup:"_1KTOZ",themeCommunityTabSeeAll:"SSIQ5"}},65006:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={chatSubtitle:"zzgSd",chatSubtitleHeader:"_3e6xi",chatSubtitleText:"_2YPr_"}},66310:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={btn:"_23JDg",overMedia:"_3HNBm",btnMediaPrev:"_3jb3a",btnMediaNext:"_3x1a0",disabledBtn:"_2_1tu"}},49739:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2XifE",defaultWallpaper:"_31Spn",icon:"fxStU",body:"pJIFJ",main:"m9hHr",secondary:"_3oWGj",inConversation:"_3yL8P",inList:"_1WKb_",mdChatSearchList:"_2YGcU",themeChatInfo:"_234dm"}},26306:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={avatar:"_3GlyB",avatarDefault:"_1lPgH",avatarImage:"_8hzr9",isLoaded:"M0JmA",avatarSquare:"_3eYBS",avatarSquircle:"_18q5X",avatarBorder:"_32GIw",avatarDefaultAnnouncementGroup:"_2zzR9",status_v3:"_1DSb6",statusV3:"_1DSb6",wrapper:"_36VU6",badge:"JUffF",chatList:"Vu6GJ",conversationHeader:"_1FnbI",badgeIcon:"_1D5Hn"}},41323:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={separator:"Wt3HP",block:"_11V85"}},19328:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={item:"_2qR8G",text:"_18oo2",hover:"_19zgN",action:"dJxPU",compact:"_3gcnK",icon:"_26nDl",emoji:"_17jhh",emojiGrid:"_34jUG",ellipsify:"_2oldI",disabled:"_3BFHH",shortcut:"_1wMaz"}},62248:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={tooltip:"_1y99G","tooltip-left-ltr":"YpTYF",tooltipLeftLtr:"YpTYF","tooltip-left-rtl":"_31yGq",tooltipLeftRtl:"_31yGq",notFromMe:"_37ZQ3"}},25045:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={read_more:"_208p2",readMore:"_208p2"}},25562:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={avatar:"_2ji7x",roundBorder:"_2QeZT",avatarWrapper:"_2urgy",avatarSvgWrapper:"srmST",avatarImageWrapper:"Pipu6",transition:"Ao5N0",isLoaded:"_15kIa",centerChild:"_3yoVb",avatarImage:"zlBZO",transparent:"ez3ry"}},64917:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={key:"_3XnBm"}},28662:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={viewport:"_3uIPm",verticalListViewport:"WYyr1",horizontalListViewport:"_1iA0_"}},93318:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={loadingSpinner:"_1L0jz"}},60322:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={item:"_3m_Xw"}},81696:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={hidden:"_3BWgW",container:"_2RbXT"}},44893:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={controls:"_2Afm5","progress-container":"_3j4HD",progressContainer:"_3j4HD",spinner:"_3o4t-",btnMeta:"_1ZhO6",button:"_1Op2_",icon:"_1Id0W",cancel:"MVKjw",disabled:"SBvMI",cursorPointer:"e1p1w",play:"_3t4l4",iconMeta:"_3sdHY"}},30800:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"iC94K",child:"_3JKxw"}},3183:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={menu:"_1QVfy",menuDefault:"_3UaCz",menuStrong:"_2aN_u",menuInverse:"_1s6XL",menuBarItemForceSize:"_1l5K0",button:"_26lC3",item:"_2cNrC",active:"_1CTfw",selected:"_2V9Ss",disabled:"_2YC8z",itemText:"_2eqEq",menuMediaEditor:"_2rY6b",itemFocused:"M43gW"}},85407:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={multiControls:"_37jUe",chatListPanel:"_3pRIl",drawerHeader:"_1ok6W",multiselectIcon:"Pd4jb",multiCount:"_3sYvo",mediaGalleryTheme:"hFRPE"}},617:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={"-move-resize-component-border-radius":"12px",moveResizeComponentBorderRadius:"12px","-move-resize-component-correction":"59px",moveResizeComponentCorrection:"59px",moveResizeComponentContainer:"_5h2Mi",moveResizeComponentInnerContainer:"_32d1N",overlay:"_3WOen",resizer:"_3Ikyy",topResizer:"_1tDOX",bottomResizer:"_3ErRI",leftResizer:"sDbQK",rightResizer:"_2HQO5",topRightResizer:"_3BmU0",topLeftResizer:"Hzoas",bottomRightResizer:"_3F8SQ",bottomLeftResizer:"_1auhr",moveable:"Bjqxx",defaultCursor:"_2OoF8",extraContent:"_3VQEm",extraContentVisible:"_3FNw6",blurryBackground:"_3GVtj",bottomContent:"_1BIBj",topContent:"_2A-Ve",dragBar:"_1XQxk"}},8629:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={multiControls:"OVz7E",multiselectIcon:"_1fimr",multiCount:"_2k8WS",mediaGalleryTheme:"wdgqh"}},65301:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={verified:"_3vLho",psa:"_2A4wP",icon:"_1M6Ay",hasLabels:"_3q9s6",labels:"_3dulN"}},26055:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={fit:"_1Lu8G",fitRelative:"Rwf_x",fitScaledown:"_1p0Ic",fitZoomin:"_3n6Y4",nativeCover:"_2rdv3",nativeScaleDown:"_3pDwe"}},40134:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3yg5l",body:"_1TGpC",clickable:"_3qxms",squircleBackground:"_2i2D1",imageContainer:"_2VMR2",defaultIcon:"_1Jya3",defaultAnnouncementGroupIcon:"_1ADVy"}},17512:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={clipFix:"_1Yqrp"}},96153:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3Bc7H"}},37349:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={gridContainer:"_2aoOW",baseEmoji:"yz0X-",options:"watw2"}},80359:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={button:"ynx4l",buttonIcon:"_17WeP",nextButton:"RMIjM",prevButton:"_27Ool",resizeContainer:"_1MNGY"}},30240:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={"-emoji-width":"44px",emojiWidth:"44px","-emoji-height":"44px",emojiHeight:"44px","-side-margin":"12px",sideMargin:"12px",panel:"_2Wd6U",section:"_27GWS"}},98483:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bodyContainer:"_2bgh7",list:"_3Cc11",search:"_1Kk5B",hidden:"VaOo_"}},80325:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={"-total-search-height":"62px",totalSearchHeight:"62px","-scrollbar-width":"6px",scrollbarWidth:"6px","-windows-scrollbar-width":"8px",windowsScrollbarWidth:"8px","-section-bottom-margin":"12px",sectionBottomMargin:"12px","-title-height":"27px",titleHeight:"27px",container:"_1rtUb",title:"xfDtH"}},78666:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={"-emoji-width":"44px",emojiWidth:"44px",panel:"_2ikL3"}},51460:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={emojiPanel:"_1DP8V",panelBody:"_2Gmvm",panelDropdown:"_30SX6"}},45243:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={text:"_1YMR5"}},83037:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={body:"VNeTl",icon:"_38Dyo",wrapper:"_137vP",container:"_1VzGk",focusBorder:"_7-H4u",preview:"_1iDDZ"}},1659:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={searchContainer:"_2uZmp",section:"_10r3b",blank:"_1EQNa",row:"_1ISLd",noResults:"_1YG-A"}},91258:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bodyContainer:"_1TdPb",gifPanel:"_4_8s1",panelBody:"Jcl24",panelBodyError:"_1Z21u"}},26276:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2eA1Q",wrapper:"_1feSF",innerWrapper:"_1jisR",starIcon:"_3Wz0y",thumb:"_2RmLM",blur:"_32XHJ"}},59110:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={pager:"_29Hr8",pagerLeft:"_1ZIOd",pagerRight:"AczAh",pagerDisabled:"_3f1Qz",body:"dA_JN",section:"_21CMd",searchRow:"_3YSFd"}},50320:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={barContainer:"_2i-wM",movingBar1:"_13HVn",movingBar2:"rgmWD","indeterminate1-ltr":"_2nkMC",indeterminate1Ltr:"_2nkMC","indeterminate1-rtl":"_1R6n4",indeterminate1Rtl:"_1R6n4","indeterminate2-ltr":"KjuiJ",indeterminate2Ltr:"KjuiJ","indeterminate2-rtl":"_3bSf2",indeterminate2Rtl:"_3bSf2"}},64827:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_16kef",reaction:"dKzIw"}},30462:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={tab:"_1zlQ1",highlightOnFocus:"JRJYO",menu:"_-2oTK",carousel:"_3hl6E",carouselEnd:"_3GM_s",selected:"_1v2yz"}},71414:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={menuTabsMarker:"NCirl",animate:"_1PHGw",animateWithTransform:"_2TG0r",hide:"_3gVEQ"}},97802:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={cancelIcon:"_3pgom",inputContainer:"M1or0",inputEmojiSearch:"_3K9QW",searchRow:"_10mnt",ffFix:"_3KMMv",rowShadow:"_3wgrR",rowInput:"_2VSMU"}},45189:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={panelContainer:"_3x7O3",panelDropdown:"_1m0Ug"}},16074:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={tabIconOrText:"vwr6Y"}},86537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1rX68",containerSearch:"_2-e_h",panelHeight:"_3i8Zn",contentContainer:"_2XY3B",contentContainerSearch:"_3ijFX",bodyContainer:"_1NPzg",emptyContainer:"_2YslO",emptySticker:"_1xgRn",emptyText:"_255pA"}},3903:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2elZc",stickerPanel:"_1wurn",border:"_1QpHK"}},99026:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1u3Az",retryButton:"ek3q4"}},7056:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={emptyContainer:"tX668",emptySticker:"_3eX8j",emptyText:"_1ENK0"}},33906:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_268Mf",resizeContainer:"_2HfVy",unscrollable:"nnnSk"}},64750:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={shadow:"_1qMTr"}},26590:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2yXP9",stickerPackContainer:"ez5TU",stickerPackIconWrapper:"_1qoGD"}},56051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={input:"_1UWac",placeholder:"_2vbn4",mediaEditorTextInputPlaceholder:"_2it_2",body:"_13NKt",default:"Z2O8p",compose:"_1LbR4",large:"czcZD",status:"_23wR2",richStatusReply:"_3fdtK",media:"oHEu9",invite:"y2xeH",mediaEditorTextInput:"_3pH28",small:"_9SNTl","list-search":"_3hKpJ",listSearch:"_3hKpJ",textInput:"_1aweH","size-16":"R4ZCx",size16:"R4ZCx","size-24":"_2-Uy3",size24:"_2-Uy3","line-height-16":"i1BGy",lineHeight16:"i1BGy","line-height-24":"_1beSb",lineHeight24:"_1beSb"}},75886:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={emojiSearch:"yY6AE",searchBody:"dVelf",positioningContainer:"_57r8B",overlayContainer:"_3gMHK",resultsContainer:"ECdkZ",mediaCaption:"_1TBzR",emojiInput:"_30wt2"}},33179:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mentionsResult:"_12x9I",selected:"xVUcj",mediaCaption:"aspBo",textContact:"_1IiiX",textPushname:"_2nhlG",resultImage:"KWld3"}},54794:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={positioningContainer:"_3lPuS",resultsContainer:"_3I-Ax",overlayContainer:"_2ERUw",mediaCaption:"_356RS"}},73248:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={result:"_5oJyH",selected:"e800t",slash:"_2uNxr",shortcutPrefix:"_3G7pN",shortcutSuffix:"_1hpAY",message:"K_laH"}},99544:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={positioningContainer:"_1fzlS",resultsContainer:"_3Jarj",overlayContainer:"_3zovQ"}},12095:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1Y6d8"}},59373:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={btn:"_165_h",disabled:"_20QIU",large:"_2HL9j",medium:"_52Vcd",small:"_3KkV3",inverted:"p0cPs",reactionsEntryPoint:"GvRI8",noShadow:"TSMOr",svgGrayButton:"_1yFc-",hideBackground:"_2B5gg"}},95919:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={clickable:"Hme-t",body:"_2l7bQ",main:"_25m4C",mainEllipsify:"_3weqn",side:"qqWrX"}},22268:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"YGe90",uppercase:"MCwxg"}},54776:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={conversation:"_3mPXD",placeholder:"_28a19",large:"_1V-dP",composeBoxQuoted:"_3QSK-",quoted:"_2xrJ4",stickerDetails:"_2uvSJ",stickerPanel:"PD3sk",stickerStore:"_2Bqm9",clickable:"_9QB_N",container:"_35qAh",showSticker:"_2afZN",fadeIn:"_37JBw"}},65690:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={textInput:"_10Mbz",labelText:"_2Pq6r",hideFloatingLabel:"_1RVBL",float:"_3zbxJ",spacer:"X2s7w",noPlaceholder:"q_gDO",wrapper:"_3mpG7",inputWrapper:"_3ZVCn",locked:"_1M8UY",errorText:"_1SeZ5",textError:"_1PQrR",textActive:"_23KyQ",iconMainContainer:"hS9Jh",iconsEditContainer:"_27Wz_",icon:"_27Yui",invite:"_1misX",charCounter:"_17PfY",iconSpinner:"_2NNpn",noErrorInfo:"_1JgEV",infoStrip:"_37xeC",inputLarge:"_1pGaf",active:"_2fOd_",emptyValPlaceholder:"_12vlY",more:"_2mPox",emojiText:"_3-H1x",groupInfoName:"_2KoKm",small:"_3skxK",iconMain:"_8o4MO",desaturated:"bIGyp",visiblyHidden:"_2Ny8c",editOnHover:"_2LpLk",editing:"_1Fvon",highlightOnHover:"_1UtFD",editable:"_1spDM",chatInfoDefaultText:"_2dant",chatInfoLargeText:"EJWGh",disabledLabel:"_3w74u",constrainedWidth:"_2-B71"}},60299:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={wrapper:"_3DzYC",icon:"bElHk",verifiedText:"_2N5II",divider:"rFHB8"}},82796:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={video:"LHFBt"}},99041:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={adminBtn:"_3J8YW"}},10593:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={preview:"_2I8Lo",media:"_3Dfal",bubbleIn:"_2mjlL",bubbleOut:"_2rKdO",title:"_2oKnO",description:"_1RcAo",body:"_5Pbpr",descriptionIcon:"_2r9Jm",titleIcon:"_2Mpzy",quoted:"_2Xvp0"}},59431:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={preview:"pUwVJ",bubbleOut:"_3qhzU",media:"_3-IEF",title:"_1WfUi",description:"_294vA",body:"_270IN"}},70744:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"D7_Sl",text:"_2bjNw",messageNewNumberButton:"_1SKXZ"}},78227:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={"-overlay-border-right":"1px",overlayBorderRight:"1px","-overlay-border-left":"1px",overlayBorderLeft:"1px",footer:"_2cYbV",positioningContainer:"_3A_K1",overlayContainer:"_33f6r",blockCompose:"_2BU3P",inputContainer:"p3_M1",boxPanelWrapper:"_1un-p",pttComposerActive:"_18OWa",attachButtonContainer:"_2jitM",mainContentContainer:"_1SEwr",textMessageComposerContainer:"_6h3Ps",textMessageComposerInputContainer:"_2lMWa",pttComposerContainer:"_2tiyZ",childPadding:"_3HQNh",sendButtonContainer:"_1Ae7k",disabled:"_1g8Im",btnSend:"_4sWnG",focusAnimation:"_1YbbN",focusAnimationKeyframes:"_3RoZE"}},84015:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={panel:"a-HbF",body:"_1IN0t",cancelButton:"_1Hccy"}},8546:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={tile:"_1PzAL"}},31951:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={pane:"_33LGR",selectable:"_1HzbD",empty:"_2AL2u",atMentions:"_1cQWN",incoming:"_1GLVO",buttonGap:"_37rpp",buttonGapRemove:"_1YWBB",iconDown:"_3K42l",iconMentions:"_1ec6v",ffFix:"EnLWz",unread:"_38VQ8",incomingContainer:"_27Uai"}},78438:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={subheader:"_1GHsB",main:"ee09o",closeBtn:"_1_fE7"}},89576:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={body:"_1v2iU",text:"QoGDK",hidden:"_1JfIG",desc:"_26wVQ",more:"_2SaOr"}},60008:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={attachMenuContainer:"_3iTtj",iconsItem:"_2t8DP",iconImage:"_2QbRL"}},97095:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={chatControls:"_1yNrt",chatAvatar:"_2YnE3",divider:"qR2GF",chatHeader:"_23P3O",chatBody:"_24-Ff",chatMain:"_2rlF7",chatTitle:"_21nHd"}},14570:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={wrapper:"_3M3aq",historySyncStatusWrapper:"_3KRR6",historySyncSystemMsg:"_314Zr",historySyncLoadingIndicator:"_1LCeI",button:"PWkc7",historySyncStateContainer:"i_Uj-",historySyncStateContainerBody:"_3Nclq",historySyncSpinner:"_3Gd6U",historySyncStatusText:"_3AJEj"}},96302:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={author:"hooVq",name:"a71At",number:"_1BUvv",screenName:"_1u3M2",verifiedIcon:"_1_7Ir",hoverable:"_1B9Rc"}},11515:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={preview:"_34dK8",bubbleIn:"_3YWPm",bubbleOut:"_3YuXJ",isCompose:"_3YX4K",noThumbContainer:"fYgLf",noThumbIcon:"_2L4U9",media:"_2nY62",title:"_1UzBI",description:"_1PT2L",source:"TVNwj",body:"X0ZBt"}},92946:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={clickable:"_2Bemp"}},59931:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={orderPreview:"_2_hNe",meta:"_36Lxo",messageText:"_2_CxJ"}},40300:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_22ELr",isLinkMsg:"spIPR",icon:"_12BYL",text:"_2xo7P",ctwaContainer:"_1LxYk"}},66158:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={actionButton:"_2q8R8",actionText:"_23N3x",disabled:"_1R-AA",buttonContainer:"_1tvcI",firstButton:"_3J1L3",quickReply:"_1mj_T",callUrl:"_2C7Hy",icon:"_25Ljw"}},91941:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={footer:"uahP3",isMedia:"_2maqW",dirMismatch:"XMOWB"}},27660:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={buttonContainer:"rn1U_",withLargeButtonsSpace:"_3bcUY",buttonWrapper:"_31pvq",disabled:"_2BLmN",stacked:"_3R6jb",buttonLabel:"_1U18t",sentByMe:"tLcVC"}},75140:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2UGGA",notFromMe:"e8Gcc",error:"_9CNbN",compact:"eKlTB"}},67713:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2tsYl",icon:"_2suca",iconHighlyForwarded:"_1sxwa",text:"_25ont"}},14583:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={msg:"_36BuW",hover:"_2ZoZ2",current:"_3dZYx",active:"_1GjPw",focusAnimation:"_2AQt_",focusAnimationKeyframes:"-fZFX"}},1565:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={"-width-picture-bubble-inner":"330px",widthPictureBubbleInner:"330px","-padding-picture-bubble":"3px",paddingPictureBubble:"3px",bubble:"_1FpDI",vendor:"Z3Htq",meta:"zE8pI",hasCaption:"_2_tMn",author:"_1E1x2",forwarded:"_1niOx",forwardedIndicator:"_1CzZV",hasAuthor:"qS_dv",quote:"_2cHQo",thumb:"_1HqS9",caption:"_3mTJL",isPSA:"_366kD",isPsa:"_366kD",thumbVideo:"_2ugLp",thumbImage:"-tfJt",isGallery:"CGrlN",isInfo:"_3AcU2",ctwaContext:"_1-1zI"}},36437:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={notification:"_2ad1k",icon:"zjSQ_",iconMegaphone:"_1e6_g",iconDisappearing:"wF4tz"}},66480:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={stickerItem:"_1EoEw",stickerMenu:"_38YQn",entryPointColor:"_1WVVO",entryPointCont:"_1ZCe3"}},21690:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={outerContainer:"_3cBW5",innerContainer:"bcn_I"}},38410:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3wB0E",status:"_3DThG",caption:"FvmtX",linkPreview:"_3ccZe",expired:"fW561",noCaption:"_3Dr0h",meta:"_1crxl"}},57312:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={highRes:"_2UdhN",wrapper:"_3R6rC",large:"_3zyju",lowRes:"_2LodA",medium:"_3Ci02",xlarge:"_1xeoG",animation:"KPHJD",invisible:"_1gSQr",heartbeat:"_1jJBG"}},28982:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bubble:"_34_Xq",title:"_2kYWh",meta:"_2R4Kk",footer:"_2o9mS",productListPreview:"_2rvnm",productListPreviewForwarded:"_2qh_q"}},68437:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1O7Qw",link:"_2NMzP",title:"a5x1L",address:"_16GEO",hasURL:"_1uGHA",hasUrl:"_1uGHA",text:"_10e3n",author:"_38kO0",forwarded:"_2F595",forwardedIndicator:"_1Ui2Y",hasAuthor:"_3xqkd",meta:"PWnOL",thumb:"_2dClC",thumbBody:"_1cPOs",quote:"mZtXF",hasCaption:"_1cDYl",caption:"_1Kl0h",ctwaContext:"s6NhA",ctwaContainerWidth:"_21LuH"}},25435:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={icon:"_296q_"}},7987:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bubble:"_3EZ_R",hasAuthor:"Tf_TY",forwardedIndicator:"_5dQv2",hasQuote:"_3C47v",author:"_3hIEb",isForwarded:"_1g2ik",quote:"_2uK7i",isGallery:"PQyDX",ctwaContext:"YIN_l",meta:"_3IkMh",bubbleLeftAvatar:"_3Jitl",bubbleRightAvatar:"_3ojyC",body:"_2Lwe3",player:"_2h6Ot",avatarContainer:"_201K0",playbackRateButtonContainer:"_3Ki9D",playbackRateButtonContainerVisible:"_2CTcc",avatar:"_3j52x",avatarVisible:"_2U7HB",status:"_1TDZ6"}},28891:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={audio:"Y-J7e",controls:"XcEdc",body:"etT8r",scrollPositionDetector:"_34O9x",button:"_1cZGZ",conversationWaveformEnabled:"_3qpRg",incoming:"_1pKnn",outgoing:"_1CpyA",spinner:"LhELL",metadata:"buoZm",isGallery:"_5nQq"}},14199:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bubble:"M_gdf",templateBubble:"_1OakK",isPreview:"_3j7_t",isGallery:"_3lPPG",docMeta:"_2MC4u",metaValue:"eJAcX",ctwaContext:"_2MVQU"}},46534:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={preview:"CHSLU",fullPreview:"kLeWm",highQualityLayout:"_3YMqT",bubbleIn:"_2E-ai",bubbleOut:"sIvFa",status:"_1SKTg",title:"_15Qyv",description:"_3xo87",source:"_4-vbh",body:"_2mAiW",media:"_23xzQ",extended:"_1m-Rn",thumbnailContainer:"_2Z0B3",noThumbContainer:"_1jc8q",galleryContainer:"Wq-cT",noThumbIcon:"_1qAsV",blurred:"_3-eMt",withoutDescription:"_4LkCX",iconStar:"_33ddF",isInvite:"_3SyGZ",isCompose:"_193H_"}},74411:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bubble:"Vwbn7",hasCaption:"_1cAZT",meta:"_2DfCi",isPSA:"_2oilq",isPsa:"_2oilq",author:"WrWNg",forwarded:"R5aCU",forwardedIndicator:"_1QK9M",hasAuthor:"_3seQo",quote:"_2eRTf"}},22404:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={preview:"_1RPCB"}},45458:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bubble:"qkl8S",portrait:"gZn4L",nonAlbumBubble:"_2HVTy",author:"_20vwF",forwarded:"GFf0v",forwardedIndicator:"_1unVB",hasAuthor:"_12l1S",meta:"_19jKW",hasCaption:"_37jeB",caption:"_3k89y",isPSA:"_3x3JW",isPsa:"_3x3JW",quote:"Slllz",overlayAlbumText:"_2JLqr",ctwaContext:"uL0UX",ctwaContainerWidth:"_1dkib"}},72836:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={preview:"_3eN_4",bubbleIn:"_2bnwv",bubbleOut:"_1MXop",title:"_18Fco",description:"_2WawW",source:"sSoEC",body:"_2rFNH",noThumb:"_2ZfWa",thumbnailWrapper:"_1EO9-",thumbnail:"_2sNsc",noBlur:"_1Tab5",thumbnailPlaceholder:"_2UiKF",youtubeThumbnail:"_32nNg",mediaStateControlsWrapper:"_1nUWH",attribution:"_202q-"}},35353:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={thumb:"_3vRLq",inAlbum:"_2Hm2q",cursorPointer:"_2wwif",thumbBody:"_22dVC",thumbBodyLowQuality:"_1Ifkz",duration:"_21bgy",icon:"_3VJSq",pipBtn:"AL7nc",isHover:"_3kKPC",overlay:"_3C9j-",ctwaThumbWidth:"_1KzRH"}},30532:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={context:"_18oGY",contextIn:"_2copG",contextOut:"_1UyGr",contextIcon:"_3e9My",contextSpecial:"_3U8t1",contextInverse:"MAFpw",contextMedia:"_3I4pa",contextMediaLtr:"_3snhK",contextMediaRtl:"u5x7Z",contextMediaDocument:"fsbrQ",contextIconMedia:"_3sryO",contextDoc:"_2t2UT",contextPtt:"_1SfBg",contextPttFix:"_1qLtS",contextMultiVcard:"_3Zf7E",contextStickerAuthor:"_3QvcT",contextStickerTransparent:"fL8od",badge:"_3Vg32",contextStickerInverse:"sXuJ5"}},25410:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={author:"_1aJWo",hasForwarded:"_12iIz",caption:"_1WihM",forwardedIndicator:"_1bT9q",hasAuthor:"uStkE",meta:"_1a1gY",hasCaption:"_2L1FC",quote:"_26Orz"}},5511:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={text:"_1Gy50",template:"_36bJ3",placeholder:"_3TjU1",spacer:"_20bHr",icons1:"_2ui2p",icons2:"_2k1_e",icons3:"_2c6ge",icons4:"_29c8S"}},47297:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={metaOverrides:"_1WSmF"}},22981:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3BK98",isChecked:"_3vy-1",gallery:"_3b_q4"}},70813:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1x75M",icon:"_3TQyU",text:"fGkSE",containerSmallIcon:"_2GaDw"}},92957:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={wrapper:"JwMbj"}},65450:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={amount:"_2sFh6",amountCurrency:"_2v-Oh",amountInteger:"dnINe",amountDecimal:"_15T9I",isQuoted:"vmShS"}},70955:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2BaFO",thumb:"_1WBof",isQuoted:"_2adWC",isQuotedInComposeBox:"_1j5KI",rgbaCanvas:"_2se2p",foregroundData:"V2w4_",backgroundContainer:"_2yvIk"}},74789:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={icon:"_2N4Gy",success:"_3aNyY",failed:"_1VIdA",pending:"_1SRza",iconSymbol:"_2xEyu",compact:"_156-W"}},91215:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={body:"_2oQsk",bubbleIn:"_25qjo",bubbleOut:"_1nlBk",bodyIcon:"_2F85q",bodyIconMultiline:"_31jNG",bodyText:"_11BDX"}},66802:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_14JTW",isQuoted:"_2C1pR",name:"_32Z_R"}},59417:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={body:"_gF4S",bodyText:"_2YIWi",caption:"_2QlpF",inviteBackground:"nIV2o",bubbleIn:"_1FTrp",bubbleOut:"_2Riu-",inviteImage:"_2GAPD"}},13651:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={hasText:"_1SeXE",noText:"UF5lM",quote:"_3Q47_",forwarded:"_2Qbk-",hasAuthor:"_3ERBM"}},23766:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={image:"_3mSTX",default:"LacDz",icon:"_3TcVw",container:"_1JhMF",hasBorder:"_374fh",dimmed:"Qrclb",hasInnerBorder:"_1HLgI",hasLargeInnerBorder:"_2OuQU",square:"_1avFe",col:"_3UWjv",row:"_3nYfM"}},4947:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={icon:"_2sFz4",incoming:"_3NyWk",outgoing:"_1TKVr",blue:"_1_lrh",gray:"_1k-_q",green:"_2PvBP",outOfChat:"_2wjh8",forwardedOutOfChat:"_3Zcta",wrapper:"i87tO"}},66076:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={imageWrapper:"_3yqEq",msgImage:"_2W5Qi",composeBox:"NdQ5u",statusV3:"_2CyOs",isPayment:"_3RjjZ",image:"_1HKX6"}},777:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3hPBO",quotedMsg:"_3o5fT",statusV3QuotedMsg:"_2stdY",composeBoxQuotedMsg:"_3XUNQ",hover:"O_MMl",colorBar:"_3jrlM",msgBody:"-gKwI",msgText:"E_Te0"}},15149:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={messageText:"eWQsx",composeBoxQuotedMsg:"_2fkyH"}},58821:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={hover:"_2Kajt",quotedMsg:"_1apSG",msg:"_3hnu6",colorBar:"_37TOd",msgBody:"_2saPi",composeBoxQuotedMsg:"_3e9sI"}},63459:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={caption:"kbh9x",meta:"L-lId"}},6455:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3kxQ0",track:"_1tYaO",containerIncomingPlayed:"_3AEe_",containerIncomingUnplayed:"_2Dnx-",containerOutgoingPlayed:"_3-AGg",containerOutgoingUnplayed:"_1tsJt",thumbTravelContainer:"_2ujFr",thumbContainer:"_2Ni3Y",thumb:"_2yqJw",containerDisabled:"_3P77p",progress:"_9Zdab"}},61948:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={title:"_2g2jh",titleMain:"_2PElp",meta:"Ow8Il",chat:"_2NNvx",divider:"_7VvVk",chevron:"_2conS",avatar:"_2BgQo",author:"_19E70"}},61871:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={light:"N4ItZ",ackBlue:"_3l4_3"}},92269:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={hasAuthor:"_1u9qp",quote:"O2yv0",bubble:"_26F99",meta:"_3Lby7",isTransparent:"_2JUrU",body:"_3BGWx",author:"_3OC33",isFirst:"_2ecOY",ctwaContext:"_1BMHI",reactionBubbleContainer:"_2HiQn"}},5138:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_263uA"}},47336:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={sticky:"_3Iosq"}},52246:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={quote:"_2Fo6S",forwarded:"_3HH9A",hasAuthor:"_2jGOb",hasSuspiciousLinks:"_2bdeW",linkPreview:"GAiYx",meta:"_3GEz5",title:"to3eh"}},20562:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bubble:"_22Msk",portrait:"_24PSW",landscape:"_2T1i2",fixedWidth:"_3CZBR",meta:"_1beEj",isPSA:"_2kk7U",isPsa:"_2kk7U"}},45613:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={shade:"_23IDz"}},38537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={msgUnread:"_5ML0C",msgUnreadBody:"_3cOAM"}},18082:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={bubble:"_1tfap",isGallery:"_2WYy8",isPreview:"_2GU93",quote:"_35w8x",hasAuthor:"_3QaM3",vcard:"_2GhDW",author:"_1tStr",hasQuote:"_2iCgE",body:"_26nhK",avatar:"_1DYXt",meta:"_2YJfd",name:"Wx25u",ctwaContext:"_3sss8",placeholder:"_1eaPn",placeholderAnimation:"_2dH4k","gradient-ltr":"_3Ghom",gradientLtr:"_3Ghom","gradient-rtl":"_1r4eb",gradientRtl:"_1r4eb",placeholderImage:"_1gIrs",placeholderText:"_1RBL5",vcardDownloadStageIcon:"_3Us45",icon:"_37K6A"}},20699:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_9RSth",inactive:"Uo1hc",icon:"lwwpK",spinner:"bjI3o"}},1961:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={msg:"_2wUmf",msgContinuation:"_21bY5",msgSystem:"V-zSs",sticky:"_1bp3Q",message:"cvjcv",hasTail:"_8YVHI",messageBackground:"Nm1g1",tail:"_3nrYb",tailHighlight:"_33ElR",messageTransparent:"_1S-gg",tailOverrideHide:"fe1wa",messageSystem:"EtBAv",messageChat:"_1Ilru",messageCode:"NuMBJ",messageDebugNotification:"b9OGT",messageE2ENotification:"_1p8Qv",messageBizNotification:"EkgRd",messageNonE2ENotification:"tokhT",messagePlaceholder:"_2i2ot",msgGallery:"_1JOu_",messageAudio:"_2G-o1",messageDocument:"_1CJ4I",messageList:"IdKDv",messageMultiVcard:"_1BUp2",messageProduct:"TV0H8",messagePTT:"JZd-w",messagePtt:"JZd-w",messageSticker:"XWVkh",messageVcard:"_3Q9cR",messageGif:"_29jDW",messageImage:"_3QK-g",messageLiveLocation:"_3zfPb",messageLocation:"_3Y4UU",messageVideo:"_3bxPY",msgInfo:"_1fwLN",msgWithQuickAction:"_1q25n",messageHidden:"_2o1bS",msgContainer:"_16Lhn",quickActionButton:"_3JXTQ",reactionButtonColor:"oO3fQ",reactionButton:"_2GK55",reactionButtonWithQuickActions:"_3W4WO",messageButtonsReactionContainerOffset:"_3o4He",msgPSA:"mwr1_",msgPsa:"mwr1_",messageVideoLinkPreview:"R5FJb",placeholder:"_1r2Rq",gridContainer:"_1LCu0",author:"_3Hxe_",forwarded:"_18j3q",albumBubbleContainer:"_3dSQU",forwardedIndicator:"_3Ldzf",hasAuthor:"_3muY2",authorForward:"_3Pc1A",groupStickerContainer:"_1p8l-",singleGroupedStickerContainer:"_3tRFQ",groupStickerAuthor:"_1xswm",transparent:"_14jRh",hasBorderBox:"_22AX6",hasUrlCallButtons:"_3Bwen",stickerWrapperContainer:"_3fAhg",menuAnchor:"_2-W5H",highlightAnimation:"_2Mxoz",highlightAnimationDarkIn:"_24_ZS",highlightAnimationDark:"oT5bl",highlightMentionAnimation:"jvg4k"}},16331:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={messageList:"_3K4-L",messageListSelectable:"HNGMV"}},64406:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={footer:"_1fLGu",body:"_2gzeB",footerMessage:"_8AbMF",subheader:"_2Um41"}},4139:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={pane:"_3xTHG",previewPane:"_3oSFz",header:"_1SXtX",title:"_3kBCm"}},45086:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={btnPtt:"_30ggS"}},41975:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={spam:"_3ImlL",text:"nyOSn",controls:"_3E-9Z",button:"_12bMD"}},27311:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={vcard:"_1q9Fo",controls:"_1FIfN"}},13702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={spinner:"_3_EXz"}},91545:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={ul:"_1NDS0",inline:"_3JZr1"}},89613:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={inline:"_3toqL"}},42438:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2J8hu"}},25879:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2qwDL",circle:"JHRtT",text:"_1FOpn"}},86690:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1ExdJ"}},69872:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={closeButton:"_3BkBf"}},72681:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={controlsSummary:"_2tvYd",container:"uyolZ",btnActive:"_7Q6yp"}},55334:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={app:"_1XkO3","app-enter":"_2xtgz",appEnter:"_2xtgz",noAnimation:"_22rDB",drawerManager:"_3ArsE",pane:"ldL67",paneTwo:"_3sh5K",paneThree:"_1bLj8",paneOne:"_2i3T7"}},49291:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={"-color-bg-light":'color("panel-background-lighter")',colorBgLight:'color("panel-background-lighter")',panelBody:"pXnLN",searchSpinner:"_3hEhb",panelSearch:"_3K-bg"}},9340:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={checkboxSelectableWrapper:"_1Ux09",checkboxSelectableControl:"_1f5_O"}},46937:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={section:"_1Y2N1",control:"ovk9m",label:"_1CKaR",note:"_2K2OR"}},36874:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"gyxUD",control:"_2xfkv",label:"_2Xa9G",buttons:"_1zS9w",button:"_311E8"}},68276:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"KPJpj",noscroll:"_2M_x0",centerItem:"_1-EIp",padding:"_3jVZG",centerColumn:"GiGr9"}},44117:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={drawerHeader:"_1PGhQ",drawerTitle:"_1Yy4I",drawerTitleBody:"_1FrBz",side:"_3sr6g",drawerTitleAction:"_2-1k7",multiMediaGallery:"_3ov47",drawerHeaderSmall:"_2mQtw",drawerHeaderOffset:"-bGGW",drawerHeaderPopup:"_1S5wN",btnCloseDrawer:"_18eKe",paneListControls:"_2zjLK",labels:"_1bXem"}},90592:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"vXLk5"}},17764:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_2P1rL",shadow:"ZIBLv","padding-large":"RVTrW",paddingLarge:"RVTrW","padding-small":"_1dqt0",paddingSmall:"_1dqt0","padding-no-margin":"_2FcG4",paddingNoMargin:"_2FcG4",refresh:"BnR7O",title:"_10vh8","refresh-padding-title":"_3sBQd",refreshPaddingTitle:"_3sBQd",padding:"_1zkaQ","padding-no-vertical":"_10t53",paddingNoVertical:"_10t53","group-desc-padding":"mf5g4",groupDescPadding:"mf5g4","no-padding":"_36WbZ",noPadding:"_36WbZ","padding-product":"_2ROcQ",paddingProduct:"_2ROcQ","padding-poll":"_3LhxW",paddingPoll:"_3LhxW","center-column-fixed-width":"_1-HQq",centerColumnFixedWidth:"_1-HQq",animate:"_1is6W","well-animation2":"_1sr9L",wellAnimation2:"_1sr9L","list-section":"_3-Bxb",listSection:"_3-Bxb","title-larger":"_2zE_D",titleLarger:"_2zE_D","sticky-button-section":"_37pL9",stickyButtonSection:"_37pL9"}},77021:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_38VQu",metadataContainer:"_3O8HP",metadataText:"_3eiU-",metadataTitle:"_3OKpI",metadataDesc:"wAuwz",participantList:"_3oWnY",participantsTitle:"_2hhE-",participantsContainer:"_2Zor6",participantWrapper:"_37z8B",emptyContentContainer:"_1Fph2",participantsText:"_3y4nr",contactsText:"_3-5B7",participantText:"_2BVQw"}},30081:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1pCNz",metadataContainer:"_2RLwB",metadataText:"_1gZ2j",metadataTitle:"jFK7j",metadataDesc:"_2TKmy",participantList:"_2_xrj",participantsTitle:"_3Qiwe",participantsContainer:"JB2Ji",participantWrapper:"_7lq1L",emptyContentContainer:"_3RjuD",participantsText:"_2bt52",contactsText:"_2-xR8",participantText:"_3R8Le",inviteExpiration:"_3MbIz",inviteExpirationIcon:"NrpDs"}},97765:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={description:"_2FqEP",containerAllow:"_2BTU8",icon:"_1kXIp",title:"_2hxax",controls:"mtD53",topCenter:"_2ySXX",topLeft:"J0OBZ",bottomCenter:"_361JZ"}},31190:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={intro:"zaKsw",body:"_1RAKT",title:"_1vPMT",text:"_2-IT7",betaTitle:"_1vjYt",betaText:"_1y6Yk",betaIcon:"mDUle",betaIconText:"_3Lm9O",mdTextContainer:"_3q5qB",textContainer:"_35HSa",secondary:"_11TMV",divider:"_1_9wz",image:"_2JIth",mdImageWrapper:"WM0_u",mdBetaImage:"IVxyB",mdImage:"wuLkd",secondaryText:"_3ZJFu",secondaryTextBody:"_3yRMq",secondaryIcon:"_33d9M",upgradeBtn:"_1ReCe",upgradeModalTitle:"_1SMVi",upgradeModalText:"_2PkCn",upgradeModalErrorText:"_2t0jp",encrypted:"_2v0ig"}},95694:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"Ph7CX",list:"_3_bJS",section:"_3FmxE",action:"_1rse8",shortcut:"_1Cbf3"}},57269:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaViewerBlurCrop:"_29V76",mediaViewerBlurImg:"_3lbCb"}},77375:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaPanelHeader:"_1w-Ol",mediaPanelTools:"_2OBzR",info:"_3ii0l",voIcon:"_3DT5C",highlightClose:"_3tWb8","highlight-ltr":"MOdnb",highlightLtr:"MOdnb","highlight-rtl":"U56ii",highlightRtl:"U56ii"}},80674:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mediaViewerAnimate:"_1DmUx","media-viewer-animate":"_1DmUx",cursorZoomOut:"ls2-S",mediaViewer:"_3IBSU",noThumbnails:"_2R5pX",mediaContent:"zMiDB",sticker:"_3c8Xy",btnMediaNext:"_3jdhc",btnMediaPrev:"_1vA6Y",media:"_2E0wf",mediaWithCaption:"_32hvM",captionWrapper:"_2A70N",captionWrapperExpandable:"_1JNVL",mediaCaption:"_2Naut",captionHidden:"EQKPE",expanded:"Y9XL1",mediaCaptionExpanded:"_2p2gD",captionExpanded:"_1aBpn"}},35664:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={body:"_1nYgI",vcardWrapper:"_3loXS"}},37388:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={label:"_1F1Ky",input:"_39gup"}},8863:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={section:"_3BpxF",control:"JS6_m",label:"oZdoE",metaText:"_3Zvr1",border:"_2C05p",mdMetaText:"_3DIQo"}},28708:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_26NER",btnActive:"_2q5ng",btnAction:"oyWr7",controlsSummary:"_235xA",noSummary:"ZhYPx",summaryText:"_3WxsF",item:"_2fNoI"}},26185:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={listPanel:"_2HUCB",listBody:"_3GWRQ",listSectionSep:"kGnIz",listSectionText:"_3wpcn",listSectionAction:"_1BWui",panelHeader:"_3bqa4",headerText:"_2spF9",primaryHeaderText:"yMGDV",secondaryHeaderText:"_2XN6O",headerButtonsPrimary:"_3Pwon",headerButtonsSecondary:"PfNbf"}},18442:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={mainWrapper:"_1iwk6",v3_x:"_1jtVV",v3X:"_1jtVV",v3_x_mac:"_23R7_",v3XMac:"_23R7_",modalBackground:"_3Hudz"}},89683:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={updateWrapper:"_2oCtb",updateTitle:"_1fuU6",uploadButtons:"_1AsnD",buttonContainer:"_1gz1L",buttonIcon:"_2L1Bh",outStatusPanel:"_2v5gS",outDetail:"_3f_JQ",seen:"_1qoMb",timestamp:"fVMYC",placeholderIcon:"_2pKFU",placeholderText:"_1BqjL",viewWrapper:"_13bJQ",viewTitle:"_3Qbfr",viewUpdates:"_2U1fI"}},7497:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={chevronLeftBg:"ap7RN",chevronRightBg:"Yh0e0",chevronLeft:"_3SZ5F",chevronRight:"_10Rlz",playerContainer:"_1v-aX",mediaStateControls:"_1xYIR",viewer:"_3zyLV",v3X:"XNDC5",v3X_mac:"_2akvM",v3XMac:"_2akvM",backIcon:"bmJTq",backIcon_mac:"_3mfFO",backIconMac:"_3mfFO"}},43047:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={suspiciousHostname:"_1xz_9",suspiciousCharacter:"_2x-Eg",explanation:"_3eYuR",url:"_6nRAy"}},91377:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={headerText:"_2T4uY",bodyText:"MClO-",noticeSvgWrapper:"_2xtg4",noticeModalContentWrapper:"gWDq0",noticeSmbContainer:"_3Sqbv",noticeContainer:"_2AgSI"}},637:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={content:"_2x3kE",icon:"_2cPNo"}},11927:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3vLeQ"}},34984:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={button:"_1krwj",fullscreen:"_3kq_J"}},31062:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={pipBtn:"_1lwah",player:"_3SImV",preview:"_2Wc_a"}},64374:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={note:"JnYV-",icon:"_3UuEL",noteBody:"r9R96"}},46944:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={fullWidthShade:"_1jlME",stripHeightShade:"_2hBQZ",lowerShade:"_7fWf0",upperShade:"_2I5Pn",fullHeightShade:"_26m2r",roundedCorners:"_11aOe"}},86182:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={videoFloater:"_1yCOB",redesign:"_3V80e",bgImg:"_3KBRF",bottomLayer:"_3U70F"}},59280:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={playerWrapper:"_3DJrq"}},33896:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_1GTRd",fullscreen:"_2agWE",videoFloaterMedia:"_1L9_f",fullScreenRedesign:"_3Ctk9",mediaStageWrapper:"YEIj6",videoTag:"Nu3Wb",preview:"_1U2GK",errorLink:"_1pC8H",errorLinkChevron:"_1Wl8F"}},2425:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={"-thumb-radius-window":"4.5px",thumbRadiusWindow:"4.5px","-thumb-radius-fullscreen":"5px",thumbRadiusFullscreen:"5px",controls:"JoCWT",fullscreen:"_3xiak",pipContainer:"R3QyF",closeBtn:"_3IFz7",duration:"_16nh8",fullscreenBtn:"_2bdZG",playpauseBtnContainer:"_12yJA",volumeContainer:"_2VCkS",currentTime:"_2_4KF",timeText:"_3uSsO",progressBarContainer:"_3jydI",hiddenProgressBar:"_3pwnf",displayedProgressBar:"_21ku_",progressItem:"_3KsQN",displayedProgress:"_3BMKG",displayedBuffer:"_30H64",displayedTrack:"hSz6i",thumb:"al2Th",hideThumb:"_3F6-u",volumeBarContainer:"_1HuQo",visible:"_3MSTc",volumeLowerTrack:"_1doUo",firefoxFix:"_--MFl",lowerTrackLongest:"_2Ui3v",volumeBar:"R14Al",tooltipWrapper:"_2q2Ao",tooltipTextBoxPosAndSize:"_3QlVv",tooltipTextBoxGeneral:"sbESo"}},10250:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={container:"_3zkWT",fullscreen:"_2vZwf",youtubeContainer:"_1V2K3",blockYoutube:"_1x9uu",videoControlsWrapper:"_1U1Mw",strippedVideoControls:"_2HmZV",redesign:"_2f5jE",opacityTransition:"_1gTDs",widgetsWrapper:"_3gJPS",dimmed:"_1DumA"}},57734:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={voipFloater:"_1O6Us"}},64333:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={wrapper:"_3xKYi"}},87052:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={body:"IHGZG",callTitle:"_3dgg6",participantName:"_3Y4xy",actionRow:"VBnae",btnGroup:"_1UTAJ",btnAccept:"x24Wk",btnReject:"_2OWwK",btnEnd:"_2N43F",btnMute:"_2cngH",webrtcCanvas:"TA3bw",webrtcVideo:"_3eyg5",webrtcVideoPreview:"Nk6pN",webrtcAudio:"_3y1ot"}},39455:(e,t,a)=>{"use strict";function n(){return new Worker(a.p+"webp_to_animation_frames.worker.b4410798dff4f9147e81.worker.js")}a.r(t),a.d(t,{default:()=>n})}}]);
//# sourceMappingURL=https://web.whatsapp.com/bootstrap_main.c195b67ded28e8965831.js.map
